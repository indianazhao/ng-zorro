(self.webpackChunkng_zorro=self.webpackChunkng_zorro||[]).push([[179],{255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=255,t.exports=e},929:(t,e,n)=>{var o,r,i;!function(s){if("object"==typeof t.exports){var a=s(0,e);void 0!==a&&(t.exports=a)}else r=[n,e],void 0===(i="function"==typeof(o=s)?o.apply(e,r):o)||(t.exports=i)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=void 0;e.default=["en",[["a","p"],["AM","PM"],n],[["AM","PM"],n,n],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],n,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],n,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",n,"{1} 'at' {0}",n],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}]})},839:(t,e,n)=>{"use strict";function o(t){return null==t||""===t?null:t}function r(t,e){return void 0===e&&(e=!1),null!=t&&(""!==t||e)}function i(t){return!r(t)}function s(t){return null==t||0===t.length}function a(t){return null!=t&&"function"==typeof t.toString?t.toString():null}function l(t){if(void 0!==t){if(null===t||""===t)return null;if("number"==typeof t)return isNaN(t)?void 0:t;var e=parseInt(t,10);return isNaN(e)?void 0:e}}function c(t){if(void 0!==t)return null!==t&&""!==t&&("boolean"==typeof t?t:/true/i.test(t))}function u(t){if(t instanceof Set||t instanceof Map){var e=[];return t.forEach(function(t){return e.push(t)}),e}return Object.values(t)}n.d(e,{J8Z:()=>vr,nv3:()=>Lp,jkc:()=>Vc,$zI:()=>Up,H1u:()=>Yp,sJC:()=>cd,O_3:()=>rd,wSp:()=>Wp,j_S:()=>Uo,LQq:()=>_p,wGv:()=>Dr,h7_:()=>Mp,nN0:()=>Cp,F$j:()=>kg,Cvn:()=>ma,fsG:()=>K,Nk3:()=>kf,z0n:()=>Cg,WKU:()=>Eg,Vu6:()=>j,AS9:()=>kt,StC:()=>Aa,Dkq:()=>ip,Ilk:()=>Ae,sgG:()=>st,wA2:()=>Jo,plv:()=>fe,gTE:()=>et,fQL:()=>uc,IFn:()=>Dg,jMC:()=>xg,aVm:()=>wg,jUB:()=>Ki,rvo:()=>$i,POd:()=>tt,zW2:()=>Vt,nPL:()=>Ws,rjZ:()=>Ff,YaM:()=>Mg,poj:()=>ji,VDZ:()=>To,D_6:()=>dr,GXE:()=>nt,O3h:()=>ot,at1:()=>Vo,FiY:()=>Y,RXH:()=>Ci,Gxm:()=>Gu,NqP:()=>$,$j7:()=>U,FXL:()=>z,KTm:()=>Ct,AGU:()=>gr,qaB:()=>X,cqo:()=>tr,Fxk:()=>ki,NlK:()=>ap,aCu:()=>Ag,Lm6:()=>Ra,Qk6:()=>rp,BxR:()=>td,WD6:()=>Au,QVL:()=>ei,rwP:()=>ci,vA3:()=>Sd,HO_:()=>zi,CPJ:()=>wd,IUB:()=>Lg,EHG:()=>Ng,_:()=>Wo});var p=Object.freeze({__proto__:null,makeNull:o,exists:r,missing:i,missingOrEmpty:s,toStringOrNull:a,attrToNumber:l,attrToBoolean:c,attrToString:function(t){if(null!=t&&""!==t)return t},referenceCompare:function(t,e){return null==t&&null==e||(null!=t||null==e)&&(null==t||null!=e)&&t===e},jsonEquals:function(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)},defaultComparator:function(t,e,n){void 0===n&&(n=!1);var o=null==t,r=null==e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),o&&r)return 0;if(o)return-1;if(r)return 1;function i(t,e){return t>e?1:t<e?-1:0}if("string"!=typeof t)return i(t,e);if(!n)return i(t,e);try{return t.localeCompare(e)}catch(s){return i(t,e)}},values:u}),d=function(){function t(){this.existingKeys={}}return t.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},t.prototype.getUniqueKey=function(t,e){t=a(t);for(var n=0;;){var o=void 0;if(t?(o=t,0!==n&&(o+="_"+n)):e?(o=e,0!==n&&(o+="_"+n)):o=""+n,!this.existingKeys[o])return this.existingKeys[o]=!0,o;n++}},t}();function h(t,e){null!=t&&(Array.isArray(t)?t.forEach(function(t,n){return e(""+n,t)}):Object.keys(t).forEach(function(n){return e(n,t[n])}))}function f(t){for(var e={},n=Object.keys(t),o=0;o<n.length;o++){var r=n[o];e[r]=t[r]}return e}function g(t,e){if(t){var n=t,o={};return Object.keys(n).forEach(function(t){if(!(e&&e.indexOf(t)>=0)){var r=n[t],i=b(r)&&r.constructor===Object;o[t]=i?g(r):r}}),o}}function m(t,e){return t[e]}function y(t,e,n){t[e]=n}function _(t,e,n,o){var r=m(t,n);void 0!==r&&y(e,n,o?o(r):r)}function v(t){var e={};return t.filter(function(t){return null!=t}).forEach(function(t){Object.keys(t).forEach(function(t){return e[t]=null})}),Object.keys(e)}function C(t){if(!t)return[];var e=Object;if("function"==typeof e.values)return e.values(t);var n=[];for(var o in t)t.hasOwnProperty(o)&&t.propertyIsEnumerable(o)&&n.push(t[o]);return n}function E(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1),r(e)&&h(e,function(e,r){var i=t[e];i!==r&&(o&&null==i&&null!=r&&"object"==typeof r&&r.constructor===Object&&(t[e]=i={}),b(r)&&b(i)&&!Array.isArray(i)?E(i,r,n,o):(n||void 0!==r)&&(t[e]=r))})}function w(t,e,n){if(e&&t){if(!n)return t[e];for(var o=e.split("."),r=t,i=0;i<o.length;i++){if(null==r)return;r=r[o[i]]}return r}}function O(t,e){Object.keys(t).forEach(function(e){"object"==typeof t[e]&&(t[e]=void 0)});var n=Object.getPrototypeOf(t),o={};Object.keys(n).forEach(function(t){"function"==typeof n[t]&&(o[t]={value:function(){console.warn("AG Grid: "+e+" function "+t+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(t,o)}function b(t){return"object"==typeof t&&null!==t}var S=Object.freeze({__proto__:null,iterateObject:h,cloneObject:f,deepCloneObject:function(t){return JSON.parse(JSON.stringify(t))},deepCloneDefinition:g,getProperty:m,setProperty:y,copyPropertiesIfPresent:function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];n.forEach(function(n){return _(t,e,n)})},copyPropertyIfPresent:_,getAllKeysInObjects:v,getAllValuesInObject:C,mergeDeep:E,missingOrEmptyObject:function(t){return i(t)||0===Object.keys(t).length},get:function(t,e,n){if(null==t)return n;for(var o=e.split("."),r=t;o.length>1;)if(null==(r=r[o.shift()]))return n;var i=r[o[0]];return null!=i?i:n},set:function(t,e,n){if(null!=t){for(var o=e.split("."),r=t;o.length>1;)if(null==(r=r[o.shift()]))return;r[o[0]]=n}},deepFreeze:function t(e){return Object.freeze(e),u(e).forEach(function(e){(b(e)||"function"==typeof e)&&t(e)}),e},getValueUsingField:w,removeAllReferences:O,isNonNullObject:b}),P=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,D=/([^\s,]+)/g,T={};function R(t,e){T[e]||(t(),T[e]=!0)}function A(t){if(t.name)return t.name;var e=/function\s+([^\(]+)/.exec(t.toString());return e&&2===e.length?e[1].trim():null}function M(t){return!!(t&&t.constructor&&t.call&&t.apply)}function x(t){N(t,400)}var I=[],L=!1;function F(t){I.push(t),L||(L=!0,window.setTimeout(function(){var t=I.slice();I.length=0,L=!1,t.forEach(function(t){return t()})},0))}function N(t,e){void 0===e&&(e=0),t.length>0&&window.setTimeout(function(){return t.forEach(function(t){return t()})},e)}function k(t,e,n){var o;return void 0===n&&(n=!1),function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=this,a=n&&!o;window.clearTimeout(o),o=window.setTimeout(function(){o=null,n||t.apply(s,r)},e),a&&t.apply(s,r)}}function G(t,e){var n=0;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var i=this,s=(new Date).getTime();s-n<e||(n=s,t.apply(i,o))}}function B(t,e,n,o){void 0===n&&(n=100);var r=(new Date).getTime(),i=null,s=!1,a=function(){var a=(new Date).getTime()-r>n;(t()||a)&&(e(),s=!0,null!=i&&(window.clearInterval(i),i=null),a&&o&&console.warn(o))};a(),s||(i=window.setInterval(a,10))}function W(t){t&&t()}var V=Object.freeze({__proto__:null,doOnce:R,getFunctionName:A,getFunctionParameters:function(t){var e=t.toString().replace(P,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(D)||[]},isFunction:M,executeInAWhile:x,executeNextVMTurn:F,executeAfter:N,debounce:k,throttle:G,waitUntil:B,compose:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce(function(t,e){return e(t)},e)}},callIfPresent:W,noop:function(){}}),H=function(){function t(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return t.prototype.getBeanInstances=function(){return u(this.beanWrappers).map(function(t){return t.beanInstance})},t.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},t.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),r(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},t.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),h(this.beanWrappers,function(e,n){var o;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var r,i,s=t.getBeansForParameters(o,n.bean.name),a=(r=n.bean,i=[null].concat(s),new(r.bind.apply(r,i)));n.beanInstance=a});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},t.prototype.createBeanWrapper=function(t){var e,n=t.__agBeanMetaData;if(!n)return e=t.prototype.constructor?A(t.prototype.constructor):""+t,void console.error("Context item "+e+" is not a bean");this.beanWrappers[n.beanName]={bean:t,beanInstance:null,beanName:n.beanName}},t.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(t){e.forEachMetaDataInHierarchy(t,function(n,o){var r=n.agClassAttributes;r&&r.forEach(function(n){var r=e.lookupBeanInstance(o,n.beanName,n.optional);t[n.attributeName]=r})})})},t.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(t){e.forEachMetaDataInHierarchy(t,function(n,o){h(n.autowireMethods,function(n,r){if("agConstructor"!==n){var i=e.getBeansForParameters(r,o);t[n].apply(t,i)}})})})},t.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);null!=n;){var o=n.constructor;o.hasOwnProperty("__agBeanMetaData")&&e(o.__agBeanMetaData,this.getBeanName(o)),n=Object.getPrototypeOf(n)}},t.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},t.prototype.getBeansForParameters=function(t,e){var n=this,o=[];return t&&h(t,function(t,r){var i=n.lookupBeanInstance(e,r);o[Number(t)]=i}),o},t.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var o=this.beanWrappers[e];return o?o.beanInstance:(n||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},t.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach(function(t){return n.callLifeCycleMethodsOnBean(t,e)})},t.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var o={};this.forEachMetaDataInHierarchy(t,function(t){var r=t[e];r&&r.forEach(function(t){t!=n&&(o[t]=!0)})}),Object.keys(o).forEach(function(e){return t[e]()})},t.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},t.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},t.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},t.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(t){e.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy"),"function"==typeof t.destroy&&t.destroy()}),[]):[]},t}();function U(t,e,n){var o=Z(t.constructor);o.preConstructMethods||(o.preConstructMethods=[]),o.preConstructMethods.push(e)}function $(t,e,n){var o=Z(t.constructor);o.postConstructMethods||(o.postConstructMethods=[]),o.postConstructMethods.push(e)}function z(t,e,n){var o=Z(t.constructor);o.preDestroyMethods||(o.preDestroyMethods=[]),o.preDestroyMethods.push(e)}function j(t){return function(e){Z(e).beanName=t}}function K(t){return function(e,n,o){q(e,t,!1,0,n,null)}}function Y(t){return function(e,n,o){q(e,t,!0,0,n,null)}}function q(t,e,n,o,r,i){if(null!==e)if("number"!=typeof i){var s=Z(t.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:r,beanName:e,optional:n})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function X(t){return function(e,n,o){var r,i="function"==typeof e?e:e.constructor;if("number"==typeof o){var s=void 0;n?(r=Z(i),s=n):(r=Z(i),s="agConstructor"),r.autowireMethods||(r.autowireMethods={}),r.autowireMethods[s]||(r.autowireMethods[s]={}),r.autowireMethods[s][o]=t}}}function Z(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var Q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},J=function(t,e){return function(n,o){e(n,o,t)}},tt=function(){function t(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return t.prototype.setBeans=function(t,e,n,o){if(void 0===o&&(o=null),this.frameworkOverrides=n,o){var r=e.useAsyncEvents();this.addGlobalListener(o,r)}},t.prototype.getListeners=function(t,e,n){var o=e?this.allAsyncListeners:this.allSyncListeners,r=o.get(t);return!r&&n&&(r=new Set,o.set(t,r)),r},t.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n,!0).add(e)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!1);var o=this.getListeners(t,n,!1);o&&(o.delete(e),0===o.size&&(n?this.allAsyncListeners:this.allSyncListeners).delete(t))},t.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},t.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},t.prototype.dispatchEvent=function(t){this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},t.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},t.prototype.dispatchToListeners=function(t,e){var n=this,o=t.type,r=this.getListeners(o,e,!1);r&&function(o){o.forEach(function(o){e?n.dispatchAsync(function(){return o(t)}):o(t)})}(r),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(r){e?n.dispatchAsync(function(){return n.frameworkOverrides.dispatchEvent(o,function(){return r(o,t)},!0)}):n.frameworkOverrides.dispatchEvent(o,function(){return r(o,t)},!0)})},t.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},t.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(t){return t()})},Q([J(0,X("loggerFactory")),J(1,X("gridOptionsWrapper")),J(2,X("frameworkOverrides")),J(3,X("globalEventListener"))],t.prototype,"setBeans",null),Q([j("eventService")],t)}(),et=function(){function t(){}return t.ROW_BUFFER_SIZE=10,t.LAYOUT_INTERVAL=500,t.BATCH_WAIT_MILLIS=50,t.EXPORT_TYPE_DRAG_COPY="dragCopy",t.EXPORT_TYPE_CLIPBOARD="clipboard",t.EXPORT_TYPE_EXCEL="excel",t.EXPORT_TYPE_CSV="csv",t.ROW_MODEL_TYPE_INFINITE="infinite",t.ROW_MODEL_TYPE_VIEWPORT="viewport",t.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",t.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",t.ALWAYS="always",t.ONLY_WHEN_GROUPING="onlyWhenGrouping",t.PINNED_TOP="top",t.PINNED_BOTTOM="bottom",t.DOM_LAYOUT_NORMAL="normal",t.DOM_LAYOUT_PRINT="print",t.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",t.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",t.SOURCE_PASTE="paste",t.PINNED_RIGHT="right",t.PINNED_LEFT="left",t.SORT_ASC="asc",t.SORT_DESC="desc",t.INPUT_SELECTOR="input, select, button, textarea",t.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",t.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",t}(),nt=(()=>(function(t){t.CommunityCoreModule="@ag-grid-community/core",t.CommunityAllModules="@ag-grid-community/all",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.EnterpriseAllModules="@ag-grid-enterprise/all",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t.PolymerModule="@ag-grid-community/polymer"}(nt||(nt={})),nt))(),ot=function(){function t(){}return t.register=function(e,n){void 0===n&&(n=!0),t.modulesMap[e.moduleName]=e,void 0===t.moduleBased?t.moduleBased=n:t.moduleBased!==n&&R(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},t.registerModules=function(e,n){void 0===n&&(n=!0),e&&e.forEach(function(e){return t.register(e,n)})},t.assertRegistered=function(e,n){return!!this.isRegistered(e)||(o=t.moduleBased?"AG Grid: unable to use "+n+" as module "+e+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+n+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",R(function(){console.warn(o)},n+e),!1);var o},t.isRegistered=function(e){return!!t.modulesMap[e]},t.getRegisteredModules=function(){return u(t.modulesMap)},t.isPackageBased=function(){return!t.moduleBased},t.modulesMap={},t}(),rt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},it=0,st=function(){function t(t,e,n,o){this.instanceId=it++,this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new tt,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=o,this.setState(t)}return t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setState=function(t){void 0!==t.sort?t.sort!==et.SORT_ASC&&t.sort!==et.SORT_DESC||(this.sort=t.sort):t.initialSort!==et.SORT_ASC&&t.initialSort!==et.SORT_DESC||(this.sort=t.initialSort);var e=l(t.sortIndex),n=l(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==n&&(this.sortIndex=n);var o=c(t.hide),r=c(t.initialHide);this.visible=void 0!==o?!o:!r,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var i=l(t.flex),s=l(t.initialFlex);void 0!==i?this.flex=i:void 0!==s&&(this.flex=s)},t.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation()},t.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},t.prototype.initDotNotation=function(){var t=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=r(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=r(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},t.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},t.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},t.prototype.isEmptyGroup=function(){return!1},t.prototype.isRowGroupDisplayed=function(t){return!(i(this.colDef)||i(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},t.prototype.isPrimary=function(){return this.primary},t.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},t.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},t.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},t.prototype.validate=function(){var t=this.colDef;function e(t,e,n){R(function(){n?console.warn(t,n):R(function(){return console.warn(t)},e)},e)}this.gridOptionsWrapper.isRowModelDefault()&&!ot.isRegistered(nt.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(n){r(t[n])&&(ot.isPackageBased()?e("AG Grid: "+n+" is only valid in ag-grid-enterprise, your column definition should not have "+n,"ColumnRowGroupingMissing"+n):e("AG Grid: "+n+" is only valid with AG Grid Enterprise Module "+nt.RowGroupingModule+" - your column definition should not have "+n,"ColumnRowGroupingMissing"+n))}),ot.isRegistered(nt.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||(ot.isPackageBased()?e("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):e("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+nt.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(n){r(t[n])&&e("AG Grid: "+n+" is not possible when doing tree data, your column definition should not have "+n,"TreeDataCannotRowGroup")}),r(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),t.pinnedRowCellRenderer&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowCellRendererParams&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowCellRendererFramework&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowValueGetter&&e("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},t.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},t.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(t,this.colDef.editable)},t.prototype.isSuppressFillHandle=function(){return!!c(this.colDef.suppressFillHandle)},t.prototype.isAutoHeight=function(){return!!c(this.colDef.autoHeight)},t.prototype.isAutoHeaderHeight=function(){return!!c(this.colDef.autoHeaderHeight)},t.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},t.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},t.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},t.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},t.prototype.isResizable=function(){return!!c(this.colDef.resizable)},t.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},t.prototype.setMoving=function(e,n){void 0===n&&(n="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_MOVING_CHANGED,n))},t.prototype.createColumnEvent=function(t,e){return{api:this.gridApi,columnApi:this.columnApi,type:t,column:this,columns:[this],source:e}},t.prototype.isMoving=function(){return this.moving},t.prototype.getSort=function(){return this.sort},t.prototype.setSort=function(e,n){void 0===n&&(n="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_SORT_CHANGED,n)))},t.prototype.setMenuVisible=function(e,n){void 0===n&&(n="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_MENU_VISIBLE_CHANGED,n)))},t.prototype.isMenuVisible=function(){return this.menuVisible},t.prototype.isSortAscending=function(){return this.sort===et.SORT_ASC},t.prototype.isSortDescending=function(){return this.sort===et.SORT_DESC},t.prototype.isSortNone=function(){return i(this.sort)},t.prototype.isSorting=function(){return r(this.sort)},t.prototype.getSortIndex=function(){return this.sortIndex},t.prototype.setSortIndex=function(t){this.sortIndex=t},t.prototype.setAggFunc=function(t){this.aggFunc=t},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.getRight=function(){return this.left+this.actualWidth},t.prototype.setLeft=function(e,n){void 0===n&&(n="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_LEFT_CHANGED,n)))},t.prototype.isFilterActive=function(){return this.filterActive},t.prototype.setFilterActive=function(e,n,o){void 0===n&&(n="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_FILTER_ACTIVE_CHANGED,n)));var r=this.createColumnEvent(t.EVENT_FILTER_CHANGED,n);o&&E(r,o),this.eventService.dispatchEvent(r)},t.prototype.setPinned=function(t){this.pinned=!0===t||t===et.PINNED_LEFT?et.PINNED_LEFT:t===et.PINNED_RIGHT?et.PINNED_RIGHT:null},t.prototype.setFirstRightPinned=function(e,n){void 0===n&&(n="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_FIRST_RIGHT_PINNED_CHANGED,n)))},t.prototype.setLastLeftPinned=function(e,n){void 0===n&&(n="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_LAST_LEFT_PINNED_CHANGED,n)))},t.prototype.isFirstRightPinned=function(){return this.firstRightPinned},t.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},t.prototype.isPinned=function(){return this.pinned===et.PINNED_LEFT||this.pinned===et.PINNED_RIGHT},t.prototype.isPinnedLeft=function(){return this.pinned===et.PINNED_LEFT},t.prototype.isPinnedRight=function(){return this.pinned===et.PINNED_RIGHT},t.prototype.getPinned=function(){return this.pinned},t.prototype.setVisible=function(e,n){void 0===n&&(n="api");var o=!0===e;this.visible!==o&&(this.visible=o,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_VISIBLE_CHANGED,n)))},t.prototype.isVisible=function(){return this.visible},t.prototype.getColDef=function(){return this.colDef},t.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},t.prototype.getColId=function(){return this.colId},t.prototype.getId=function(){return this.getColId()},t.prototype.getUniqueId=function(){return this.getId()},t.prototype.getDefinition=function(){return this.colDef},t.prototype.getActualWidth=function(){return this.actualWidth},t.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},t.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},t.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},t.prototype.getColSpan=function(t){if(i(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},t.prototype.getRowSpan=function(t){if(i(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},t.prototype.setActualWidth=function(t,e,n){void 0===e&&(e="api"),void 0===n&&(n=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e))},t.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_WIDTH_CHANGED,e))},t.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},t.prototype.getMinWidth=function(){return this.minWidth},t.prototype.getMaxWidth=function(){return this.maxWidth},t.prototype.getFlex=function(){return this.flex||0},t.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},t.prototype.setMinimum=function(t){void 0===t&&(t="api"),r(this.minWidth)&&this.setActualWidth(this.minWidth,t)},t.prototype.setRowGroupActive=function(e,n){void 0===n&&(n="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_ROW_GROUP_CHANGED,n)))},t.prototype.isRowGroupActive=function(){return this.rowGroupActive},t.prototype.setPivotActive=function(e,n){void 0===n&&(n="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_PIVOT_CHANGED,n)))},t.prototype.isPivotActive=function(){return this.pivotActive},t.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},t.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},t.prototype.setValueActive=function(e,n){void 0===n&&(n="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_VALUE_CHANGED,n)))},t.prototype.isValueActive=function(){return this.aggregationActive},t.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},t.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},t.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},t.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},t.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},t.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},t.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},t.EVENT_MOVING_CHANGED="movingChanged",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_WIDTH_CHANGED="widthChanged",t.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",t.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",t.EVENT_VISIBLE_CHANGED="visibleChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",t.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_PIVOT_CHANGED="columnPivotChanged",t.EVENT_VALUE_CHANGED="columnValueChanged",rt([K("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),rt([K("columnUtils")],t.prototype,"columnUtils",void 0),rt([K("columnApi")],t.prototype,"columnApi",void 0),rt([K("gridApi")],t.prototype,"gridApi",void 0),rt([K("context")],t.prototype,"context",void 0),rt([$],t.prototype,"initialise",null),t}();function at(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++){var o=t[n];if(r(o))return o}return null}function lt(t){if(t&&t.length)return t[t.length-1]}function ct(t,e,n){return null==t&&null==e||null!=t&&null!=e&&t.length===e.length&&t.every(function(t,o){return n?n(t,e[o]):e[o]===t})}function ut(t){return t.sort(function(t,e){return t-e})}function pt(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function dt(t,e){e.forEach(function(e){return pt(t,e)})}function ht(t,e,n){t.splice(n,0,e)}function ft(t,e,n){dt(t,e),e.slice().reverse().forEach(function(e){return ht(t,e,n)})}function gt(t,e){return t.indexOf(e)>-1}function mt(t){return[].concat.apply([],t)}function yt(t,e){null!=e&&null!=t&&e.forEach(function(e){return t.push(e)})}var _t=Object.freeze({__proto__:null,firstExistingValue:at,existsAndNotEmpty:function(t){return null!=t&&t.length>0},last:lt,areEqual:ct,compareArrays:function(t,e){return ct(t,e)},shallowCompare:function(t,e){return ct(t,e)},sortNumerically:ut,removeRepeatsFromArray:function(t,e){if(t)for(var n=t.length-2;n>=0;n--)t[n]===e&&t[n+1]===e&&t.splice(n+1,1)},removeFromArray:pt,removeAllFromArray:dt,insertIntoArray:ht,insertArrayIntoArray:function(t,e,n){if(null!=t&&null!=e)for(var o=e.length-1;o>=0;o--)ht(t,e[o],n)},moveInArray:ft,includes:gt,flatten:mt,pushAll:yt,toStrings:function(t){return t.map(a)},forEachReverse:function(t,e){if(null!=t)for(var n=t.length-1;n>=0;n--)e(t[n],n)}}),vt=function(){function t(t,e,n,o){this.displayedChildren=[],this.localEventService=new tt,this.groupId=e,this.instanceId=n,this.providedColumnGroup=t,this.pinned=o}return t.createUniqueId=function(t,e){return t+"_"+e},t.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){this.parent=t},t.prototype.getUniqueId=function(){return t.createUniqueId(this.groupId,this.instanceId)},t.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},t.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(function(t){return t.isMoving()})},t.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(e){e instanceof t&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var e=lt(this.displayedChildren).getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_LEFT_CHANGED)))},t.prototype.getPinned=function(){return this.pinned},t.prototype.createAgEvent=function(t){return{type:t}},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.isChildInThisGroupDeepSearch=function(e){var n=!1;return this.children.forEach(function(o){e===o&&(n=!0),o instanceof t&&o.isChildInThisGroupDeepSearch(e)&&(n=!0)}),n},t.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},t.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},t.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},t.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.getDisplayedChildren=function(){return this.displayedChildren},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},t.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},t.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},t.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},t.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},t.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},t.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},t.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach(function(n){n instanceof st?e.push(n):n instanceof t&&n.addDisplayedLeafColumns(e)})},t.prototype.addLeafColumns=function(e){this.children.forEach(function(n){n instanceof st?e.push(n):n instanceof t&&n.addLeafColumns(e)})},t.prototype.getChildren=function(){return this.children},t.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},t.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},t.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},t.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},t.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var n=this;null!=n&&n.isPadding();)n=n.getParent();if(!n||!n.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(o){if(!(o instanceof t)||o.displayedChildren&&o.displayedChildren.length)switch(o.getColumnGroupShow()){case t.HEADER_GROUP_SHOW_OPEN:n.providedColumnGroup.isExpanded()&&e.displayedChildren.push(o);break;case t.HEADER_GROUP_SHOW_CLOSED:n.providedColumnGroup.isExpanded()||e.displayedChildren.push(o);break;default:e.displayedChildren.push(o)}}),this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED))},t.HEADER_GROUP_SHOW_OPEN="open",t.HEADER_GROUP_SHOW_CLOSED="closed",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([K("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(),Ct=function(){function t(t,e,n,o){this.localEventService=new tt,this.expandable=!1,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=o}return t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.getLevel=function(){return this.level},t.prototype.isVisible=function(){return!!this.children&&this.children.some(function(t){return t.isVisible()})},t.prototype.isPadding=function(){return this.padding},t.prototype.setExpanded=function(e){this.expanded=void 0!==e&&e,this.localEventService.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED})},t.prototype.isExpandable=function(){return this.expandable},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getId=function(){return this.getGroupId()},t.prototype.setChildren=function(t){this.children=t},t.prototype.getChildren=function(){return this.children},t.prototype.getColGroupDef=function(){return this.colGroupDef},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.addLeafColumns=function(e){this.children&&this.children.forEach(function(n){n instanceof st?e.push(n):n instanceof t&&n.addLeafColumns(e)})},t.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},t.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.getLeafColumns().forEach(function(e){return e.addEventListener(st.EVENT_VISIBLE_CHANGED,t.onColumnVisibilityChanged.bind(t))})},t.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,n=!1,o=!1,r=this.findChildrenRemovingPadding(),i=0,s=r.length;i<s;i++){var a=r[i];if(a.isVisible()){var l=a.getColumnGroupShow();l===vt.HEADER_GROUP_SHOW_OPEN?(e=!0,o=!0):l===vt.HEADER_GROUP_SHOW_CLOSED?(n=!0,o=!0):(e=!0,n=!0)}}var c=e&&n&&o;this.expandable!==c&&(this.expandable=c,this.localEventService.dispatchEvent({type:t.EVENT_EXPANDABLE_CHANGED}))}},t.prototype.findChildrenRemovingPadding=function(){var e=[],n=function(o){o.forEach(function(o){o instanceof t&&o.isPadding()?n(o.children):e.push(o)})};return n(this.children),e},t.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_EXPANDABLE_CHANGED="expandableChanged",t}(),Et={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},wt="__ag_Grid_Stop_Propagation",Ot=["touchstart","touchend","touchmove","touchcancel"],bt={};function St(t){t[wt]=!0}function Pt(t){return!0===t[wt]}var Dt,Tt=(Dt={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(t){if("boolean"==typeof bt[t])return bt[t];var e=document.createElement(Dt[t]||"div");return bt[t="on"+t]=t in e});function Rt(t,e,n){for(var o=e.target;o;){var r=t.getDomData(o,n);if(r)return r;o=o.parentElement}return null}function At(t,e){return!(!e||!t)&&xt(e).indexOf(t)>=0}function Mt(t){for(var e=[],n=t.target;n;)e.push(n),n=n.parentElement;return e}function xt(t){var e=t;return e.path?e.path:e.composedPath?e.composedPath():e.__agGridEventPath?e.__agGridEventPath:Mt(t)}function It(t,e,n,o){var r=gt(Ot,n);t&&t.addEventListener&&t.addEventListener(e,n,o,r?{passive:!0}:void 0)}var Lt,Ft=Object.freeze({__proto__:null,stopPropagationForAgGrid:St,isStopPropagationForAgGrid:Pt,isEventSupported:Tt,getCtrlForEvent:Rt,addChangeListener:function(t,e){t.addEventListener("changed",e),t.addEventListener("paste",e),t.addEventListener("input",e)},isElementInEventPath:At,createEventPath:Mt,addAgGridEventPath:function(t){t.__agGridEventPath=xt(t)},getEventPath:xt,addSafePassiveEventListener:It}),Nt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kt=function(){function t(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!t.destroyed}}return t.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},t.prototype.getContext=function(){return this.context},t.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:t.EVENT_DESTROYED})},t.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new tt),this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},t.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},t.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},t.prototype.addManagedListener=function(t,e,n){var o=this;if(!this.destroyed){t instanceof HTMLElement?It(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var r=function(){return t.removeEventListener(e,n),o.destroyFunctions=o.destroyFunctions.filter(function(t){return t!==r}),null};return this.destroyFunctions.push(r),r}},t.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},t.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},t.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},t.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},t.prototype.destroyBeans=function(t,e){var n=this;return t&&t.forEach(function(t){return n.destroyBean(t,e)}),[]},t.EVENT_DESTROYED="destroyed",Nt([K("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),Nt([K("context")],t.prototype,"context",void 0),Nt([K("eventService")],t.prototype,"eventService",void 0),Nt([K("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Nt([z],t.prototype,"destroy",null),t}(),Gt=(Lt=function(t,e){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,e,n){var o=new d,r=this.extractExistingTreeData(n),i=r.existingCols,s=r.existingGroups;o.addExistingKeys(r.existingColKeys);var a=this.recursivelyCreateColumns(t,0,e,i,o,s),l=this.findMaxDept(a,0);this.logger.log("Number of levels for grouped columns is "+l);var c=this.balanceColumnTree(a,0,l,o);return this.columnUtils.depthFirstOriginalTreeSearch(null,c,function(t,e){t instanceof Ct&&t.setupExpandable(),t.setOriginalParent(e)}),{columnTree:c,treeDept:l}},e.prototype.extractExistingTreeData=function(t){var e=[],n=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(t){if(t instanceof Ct)n.push(t);else{var r=t;o.push(r.getId()),e.push(r)}}),{existingCols:e,existingGroups:n,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,e){var n=this;return t.map(function(t){return n.createAutoGroupTreeItem(e,t)})},e.prototype.createAutoGroupTreeItem=function(t,e){for(var n=e,o=this.findDepth(t)-1;o>=0;o--){var r=new Ct(null,"FAKE_PATH_"+e.getId()+"}_"+o,!0,o);this.context.createBean(r),r.setChildren([n]),n.setOriginalParent(r),n=r}return n},e.prototype.findDepth=function(t){for(var e=0,n=t;n&&n[0]&&n[0]instanceof Ct;)e++,n=n[0].getChildren();return e},e.prototype.balanceColumnTree=function(t,e,n,o){for(var r=[],i=0;i<t.length;i++){var s=t[i];if(s instanceof Ct){var a=s,l=this.balanceColumnTree(a.getChildren(),e+1,n,o);a.setChildren(l),r.push(a)}else{for(var c=void 0,u=void 0,p=n-1;p>=e;p--){var d=o.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new Ct(h,d,!0,e);this.context.createBean(f),u&&u.setChildren([f]),u=f,c||(c=u)}if(c&&u){if(r.push(c),t.some(function(t){return t instanceof Ct})){u.setChildren([s]);continue}u.setChildren(t);break}r.push(s)}}return r},e.prototype.findMaxDept=function(t,e){for(var n=e,o=0;o<t.length;o++){var r=t[o];if(r instanceof Ct){var i=this.findMaxDept(r.getChildren(),e+1);n<i&&(n=i)}}return n},e.prototype.recursivelyCreateColumns=function(t,e,n,o,r,i){var s=this;return(t||[]).map(function(t){return s.isColumnGroup(t)?s.createColumnGroup(n,t,e,o,r,i):s.createColumn(n,t,o,r)})},e.prototype.createColumnGroup=function(t,e,n,o,r,i){var s=this.createMergedColGroupDef(e),a=r.getUniqueKey(s.groupId||null,null),l=new Ct(s,a,!1,n);this.context.createBean(l);var c=this.findExistingGroup(e,i);c&&pt(i,c),c&&c.isExpanded()&&l.setExpanded(!0);var u=this.recursivelyCreateColumns(s.children,n+1,t,o,r,i);return l.setChildren(u),l},e.prototype.createMergedColGroupDef=function(t){var e={};return Object.assign(e,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(e,t),this.checkForDeprecatedItems(e),e},e.prototype.createColumn=function(t,e,n,o){var r=this.mergeColDefs(e);this.checkForDeprecatedItems(r);var i=this.findExistingColumn(e,n);if(n&&i&&pt(n,i),i)i.setColDef(r,e),this.applyColumnState(i,r);else{var s=o.getUniqueKey(r.colId,r.field);i=new st(r,e,s,t),this.context.createBean(i)}return i},e.prototype.applyColumnState=function(t,e){var n=l(e.flex);if(void 0!==n&&t.setFlex(n),t.getFlex()<=0){var o=l(e.width);if(null!=o)t.setActualWidth(o);else{var r=t.getActualWidth();t.setActualWidth(r)}}void 0!==e.sort&&t.setSort(e.sort==et.SORT_ASC||e.sort==et.SORT_DESC?e.sort:void 0);var i=l(e.sortIndex);void 0!==i&&t.setSortIndex(i);var s=c(e.hide);void 0!==s&&t.setVisible(!s),void 0!==e.pinned&&t.setPinned(e.pinned)},e.prototype.findExistingColumn=function(t,e){return(e||[]).find(function(e){var n=e.getUserProvidedColDef();if(!n)return!1;var o=null!=t.field;return null!=t.colId?e.getId()===t.colId:o?n.field===t.field:n===t})},e.prototype.findExistingGroup=function(t,e){return e.find(function(e){return!(!e.getColGroupDef()||null==t.groupId||e.getId()!==t.groupId)})},e.prototype.mergeColDefs=function(t){var e={},n=this.gridOptionsWrapper.getDefaultColDef();E(e,n,!1,!0);var o=t.type;o||(o=n&&n.type),o&&this.assignColumnTypes(o,e),E(e,t,!1,!0);var r=this.gridOptionsWrapper.getAutoGroupColumnDef(),i=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();return t.rowGroup&&r&&i&&E(e,{sort:r.sort,initialSort:r.initialSort},!1,!0),e},e.prototype.assignColumnTypes=function(t,e){var n=[];if(t instanceof Array)t.some(function(t){return"string"!=typeof t})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=t;else{if("string"!=typeof t)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");n=t.split(",")}var o=Object.assign({},Et);h(this.gridOptionsWrapper.getColumnTypes()||{},function(t,e){t in o?console.warn("AG Grid: the column type '"+t+"' is a default column type and cannot be overridden."):o[t]=e}),n.forEach(function(t){var n=o[t.trim()];n?E(e,n,!1,!0):console.warn("AG Grid: colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")})},e.prototype.checkForDeprecatedItems=function(t){if(t){var e=t;void 0!==e.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==e.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(e.suppressRowGroup||e.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),e.displayName&&(console.warn("AG Grid: Found displayName "+e.displayName+", please use headerName instead, displayName is deprecated."),e.headerName=e.displayName)}},e.prototype.isColumnGroup=function(t){return void 0!==t.children},Bt([K("columnUtils")],e.prototype,"columnUtils",void 0),Bt([(0,n=X("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Bt([j("columnFactory")],e);var n}(kt),Vt=function(){function t(){}return t.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",t.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",t.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",t.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",t.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",t.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",t.EVENT_COLUMN_MOVED="columnMoved",t.EVENT_COLUMN_VISIBLE="columnVisible",t.EVENT_COLUMN_PINNED="columnPinned",t.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",t.EVENT_COLUMN_RESIZED="columnResized",t.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",t.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",t.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",t.EVENT_ROW_GROUP_OPENED="rowGroupOpened",t.EVENT_ROW_DATA_CHANGED="rowDataChanged",t.EVENT_ROW_DATA_UPDATED="rowDataUpdated",t.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",t.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",t.EVENT_CHART_CREATED="chartCreated",t.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",t.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",t.EVENT_CHART_DESTROYED="chartDestroyed",t.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",t.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",t.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",t.EVENT_MODEL_UPDATED="modelUpdated",t.EVENT_PASTE_START="pasteStart",t.EVENT_PASTE_END="pasteEnd",t.EVENT_FILL_START="fillStart",t.EVENT_FILL_END="fillEnd",t.EVENT_CELL_CLICKED="cellClicked",t.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",t.EVENT_CELL_MOUSE_DOWN="cellMouseDown",t.EVENT_CELL_CONTEXT_MENU="cellContextMenu",t.EVENT_CELL_VALUE_CHANGED="cellValueChanged",t.EVENT_CELL_EDIT_REQUEST="cellEditRequest",t.EVENT_ROW_VALUE_CHANGED="rowValueChanged",t.EVENT_CELL_FOCUSED="cellFocused",t.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_CELL_KEY_DOWN="cellKeyDown",t.EVENT_CELL_KEY_PRESS="cellKeyPress",t.EVENT_CELL_MOUSE_OVER="cellMouseOver",t.EVENT_CELL_MOUSE_OUT="cellMouseOut",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_MODIFIED="filterModified",t.EVENT_FILTER_OPENED="filterOpened",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",t.EVENT_ROW_CLICKED="rowClicked",t.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",t.EVENT_GRID_READY="gridReady",t.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.EVENT_VIEWPORT_CHANGED="viewportChanged",t.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",t.EVENT_FIRST_DATA_RENDERED="firstDataRendered",t.EVENT_DRAG_STARTED="dragStarted",t.EVENT_DRAG_STOPPED="dragStopped",t.EVENT_CHECKBOX_CHANGED="checkboxChanged",t.EVENT_ROW_EDITING_STARTED="rowEditingStarted",t.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",t.EVENT_CELL_EDITING_STARTED="cellEditingStarted",t.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",t.EVENT_BODY_SCROLL="bodyScroll",t.EVENT_BODY_SCROLL_END="bodyScrollEnd",t.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",t.EVENT_PAGINATION_CHANGED="paginationChanged",t.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",t.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",t.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",t.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",t.EVENT_FLASH_CELLS="flashCells",t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",t.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",t.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",t.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",t.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",t.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",t.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",t.EVENT_ROW_DRAG_ENTER="rowDragEnter",t.EVENT_ROW_DRAG_MOVE="rowDragMove",t.EVENT_ROW_DRAG_LEAVE="rowDragLeave",t.EVENT_ROW_DRAG_END="rowDragEnd",t.EVENT_POPUP_TO_FRONT="popupToFront",t.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",t.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",t.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",t.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",t.EVENT_KEYBOARD_FOCUS="keyboardFocus",t.EVENT_MOUSE_FOCUS="mouseFocus",t.EVENT_STORE_UPDATED="storeUpdated",t}(),Ht=function(){function t(){this.existingIds={}}return t.prototype.getInstanceIdForKey=function(t){var e,n=this.existingIds[t];return this.existingIds[t]=e="number"!=typeof n?0:n+1,e},t}(),Ut=/[&<>"']/g,$t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function zt(t){return null==t?null:t.replace(/([A-Z])/g,function(t){return"-"+t[0].toLowerCase()})}function jt(t){return null==t?null:t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function Kt(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}function Yt(t){return null==t?null:t.toString().toString().replace(Ut,function(t){return $t[t]})}function qt(t){return t&&null!=t?t.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(t){return t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1,t.length):"")}).join(" "):null}var Xt=Object.freeze({__proto__:null,utf8_encode:function(t){var e=String.fromCharCode;function n(t,n){return e(t>>n&63|128)}function o(t){if(t>=0&&t<=31&&10!==t)return"_x"+t.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&t))return e(t);var o="";return 0==(4294965248&t)?o=e(t>>6&31|192):0==(4294901760&t)?(function(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}(t),o=e(t>>12&15|224),o+=n(t,6)):0==(4292870144&t)&&(o=e(t>>18&7|240),o+=n(t,12),o+=n(t,6)),o+e(63&t|128)}for(var r=function(t){var e=[];if(!t)return[];for(var n,o,r=t.length,i=0;i<r;)(n=t.charCodeAt(i++))>=55296&&n<=56319&&i<r?56320==(64512&(o=t.charCodeAt(i++)))?e.push(((1023&n)<<10)+(1023&o)+65536):(e.push(n),i--):e.push(n);return e}(t),i=r.length,s=-1,a="";++s<i;)a+=o(r[s]);return a},camelCaseToHyphen:zt,hyphenToCamelCase:jt,capitalise:Kt,escapeString:Yt,camelCaseToHumanText:qt});function Zt(t){var e=new Map;return t.forEach(function(t){return e.set(t[0],t[1])}),e}var Qt=Object.freeze({__proto__:null,convertToMap:Zt,mapById:function(t,e){var n=new Map;return t.forEach(function(t){return n.set(e(t),t)}),n},keys:function(t){var e=[];return t.forEach(function(t,n){return e.push(n)}),e}}),Jt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),te=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ee=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ne=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},oe=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ne(arguments[e]));return t},re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.colDefVersion=0,e.flexColsCalculatedAtLestOnce=!1,e}return Jt(e,t),e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var e=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return t.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return t.onDefaultColDefChanged()})},e.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},e.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},e.prototype.getColDefVersion=function(){return this.colDefVersion},e.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api");var n=!!this.columnDefs;this.colDefVersion++,this.columnDefs=t,this.createColumnsFromColumnDefs(n,e)},e.prototype.createColumnsFromColumnDefs=function(t,e){var n=this;void 0===e&&(e="api");var o=t?this.compareColumnStatesAndRaiseEvents(e):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var r=this.primaryColumns,i=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=i.columnTree,this.primaryHeaderRowCount=i.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(t){return n.primaryColumnsMap[t.getId()]=t}),this.extractRowGroupColumns(e,r),this.extractPivotColumns(e,r),this.extractValueColumns(e,r),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),t&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkViewportColumns()),this.dispatchEverythingChanged(e),o&&o(),this.dispatchNewColumnsLoaded()},e.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:Vt.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.dispatchEverythingChanged=function(t){void 0===t&&(t="api"),this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t})},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,e=this.primaryColumns;e&&(this.gridColumns.sort(function(n,o){var r=e.indexOf(n),i=e.indexOf(o),s=r>=0,a=i>=0;return s&&a?r-i:s?1:a?-1:t.gridColumns.indexOf(n)-t.gridColumns.indexOf(o)}),this.gridColumns=this.placeLockedColumns(this.gridColumns))},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var e=t,n=[];null!=e;)n.push(e),e=this.getDisplayedColAfter(e);return n},e.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var t=this.viewportColumns.map(function(t){return t.getId()}).join("#");this.extractViewport(),t!==this.viewportColumns.map(function(t){return t.getId()}).join("#")&&this.eventService.dispatchEvent({type:Vt.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},e.prototype.setViewportPosition=function(t,e){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return!t||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},e.prototype.setPivotMode=function(t,e){void 0===e&&(e="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e),this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.getSecondaryPivotColumn=function(t,e){if(i(this.secondaryColumns))return null;var n=this.getPrimaryColumn(e),o=null;return this.secondaryColumns.forEach(function(e){var r=e.getColDef().pivotKeys,i=e.getColDef().pivotValueColumn;ct(r,t)&&i===n&&(o=e)}),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var e,n;this.gridOptionsWrapper.isEnableRtl()?(e=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?lt(this.displayedColumnsRight):null):(e=this.displayedColumnsLeft?lt(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===e,t),o.setFirstRightPinned(o===n,t)})},e.prototype.autoSizeColumns=function(t){var e=this,n=t.columns,o=t.skipHeader,r=t.skipHeaderGroups,i=t.stopAtGroup,s=t.source,a=void 0===s?"api":s;this.animationFrameService.flushAllFrames();for(var l=[],c=-1,u=null!=o?o:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),p=null!=r?r:u;0!==c;)c=0,this.actionOnGridColumns(n,function(t){if(l.indexOf(t)>=0)return!1;var n=e.autoWidthCalculator.getPreferredWidthForColumn(t,u);if(n>0){var o=e.normaliseColumnWidth(t,n);t.setActualWidth(o,a),l.push(t),c++}return!0},a);p||this.autoSizeColumnGroupsByColumns(n,i),this.fireColumnResizedEvent(l,!0,"autosizeColumns")},e.prototype.fireColumnResizedEvent=function(t,e,n,o){void 0===o&&(o=null),t&&t.length&&this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:o,finished:e,api:this.gridApi,columnApi:this.columnApi,source:n})},e.prototype.autoSizeColumn=function(t,e,n){void 0===n&&(n="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:e,skipHeaderGroups:!0,source:n})},e.prototype.autoSizeColumnGroupsByColumns=function(t,e){var n,o,r,i,s,a=new Set;this.getGridColumns(t).forEach(function(t){for(var n=t.getParent();n&&n!=e;)n.isPadding()||a.add(n),n=n.getParent()});try{for(var l=ee(a),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var p=(r=void 0,ee(this.ctrlsService.getHeaderRowContainerCtrls())),d=p.next();!d.done&&!(s=d.value.getHeaderCtrlForColumn(u));d=p.next());}catch(h){r={error:h}}finally{try{d&&!d.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}s&&s.resizeLeafColumnsToFit()}}catch(f){n={error:f}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return[]},e.prototype.autoSizeAllColumns=function(t,e){void 0===e&&(e="api");var n=this.getAllDisplayedColumns();this.autoSizeColumns({columns:n,skipHeader:t,source:e})},e.prototype.getColumnsFromTree=function(t){var e=[],n=function(t){for(var o=0;o<t.length;o++){var r=t[o];r instanceof st?e.push(r):r instanceof Ct&&n(r.getChildren())}};return n(t),e},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.getDisplayedColumnsForRow=function(t,e,n,o){for(var r,i=[],s=null,a=function(a){var l,c=e[a],u=e.length-a,p=Math.min(c.getColSpan(t),u),d=[c];if(p>1){for(var h=p-1,f=1;f<=h;f++)d.push(e[a+f]);a+=h}n?(l=!1,d.forEach(function(t){n(t)&&(l=!0)})):l=!0,l&&(0===i.length&&s&&o&&o(c)&&i.push(s),i.push(c)),s=c,r=a},l=0;l<e.length;l++)a(l),l=r;return i},e.prototype.getViewportCenterColumnsForRow=function(t){var e=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var n=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,n,function(t){var n=t.getLeft();return r(n)&&n>e.viewportLeft})},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInViewport=function(t){if(t.isAutoHeight())return!0;if(t.isAutoHeaderHeight())return!0;var e=t.getLeft()||0,n=e+t.getActualWidth(),o=this.viewportLeft-200,r=this.viewportRight+200;return!(e<o&&n<o||e>r&&n>r)},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,e,n,o,r,i){var a=this;if(void 0===i&&(i="api"),t&&!s(t)){var l=!1;t.forEach(function(t){var r=a.getPrimaryColumn(t);if(r){if(n){if(e.indexOf(r)>=0)return;e.push(r)}else{if(e.indexOf(r)<0)return;pt(e,r)}o(r),l=!0}}),l&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:r,columns:e,column:1===e.length?e[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i}))}},e.prototype.setRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),e)},e.prototype.setRowGroupActive=function(t,e,n){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,n),t||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||this.setColumnVisible(e,!0,n))},e.prototype.addRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.addRowGroupColumns([t],e)},e.prototype.addRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.removeRowGroupColumns([t],e)},e.prototype.addPivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(t){return t.setPivotActive(!0,e)},Vt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.setPivotColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.pivotColumns,Vt.EVENT_COLUMN_PIVOT_CHANGED,function(t,n){n.setPivotActive(t,e)},e)},e.prototype.addPivotColumn=function(t,e){void 0===e&&(e="api"),this.addPivotColumns([t],e)},e.prototype.removePivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(t){return t.setPivotActive(!1,e)},Vt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.removePivotColumn=function(t,e){void 0===e&&(e="api"),this.removePivotColumns([t],e)},e.prototype.setPrimaryColumnList=function(t,e,n,o,i){var s=this;e.length=0,r(t)&&t.forEach(function(t){var n=s.getPrimaryColumn(t);n&&e.push(n)}),(this.primaryColumns||[]).forEach(function(t){var n=e.indexOf(t)>=0;o(n,t)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i),this.fireColumnEvent(n,e,i)},e.prototype.setValueColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.valueColumns,Vt.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),e)},e.prototype.setValueActive=function(t,e,n){if(t!==e.isValueActive()&&(e.setValueActive(t,n),t&&!e.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(o)}},e.prototype.addValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),Vt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.addValueColumn=function(t,e){void 0===e&&(e="api"),t&&this.addValueColumns([t],e)},e.prototype.removeValueColumn=function(t,e){void 0===e&&(e="api"),this.removeValueColumns([t],e)},e.prototype.removeValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),Vt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.normaliseColumnWidth=function(t,e){var n=t.getMinWidth();r(n)&&e<n&&(e=n);var o=t.getMaxWidth();return r(o)&&t.isGreaterThanMax(e)&&(e=o),e},e.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,e,n,o){var r=this;void 0===o&&(o="api");var i=[];t.forEach(function(t){var n=r.getPrimaryOrGridColumn(t.key);if(n&&(i.push({width:t.newWidth,ratios:[1],columns:[n]}),"shift"===r.gridOptionsWrapper.getColResizeDefault()&&(e=!e),e)){var o=r.getDisplayedColAfter(n);if(!o)return;var s=n.getActualWidth()-t.newWidth,a=o.getActualWidth()+s;i.push({width:a,ratios:[1],columns:[o]})}}),0!==i.length&&this.resizeColumnSets({resizeSets:i,finished:n,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var e=t.width,n=0,o=0,i=!0;return t.columns.forEach(function(t){var e=t.getMinWidth();n+=e||0;var s=t.getMaxWidth();r(s)&&s>0?o+=s:i=!1}),e>=n&&(!i||e<=o)},e.prototype.resizeColumnSets=function(t){var e=this,n=t.resizeSets,o=t.finished,i=t.source;if(!n||n.every(function(t){return e.checkMinAndMaxWidthsForSet(t)})){var s=[],a=[];n.forEach(function(t){var e=t.width,n=t.columns,o=t.ratios,l={},c={};n.forEach(function(t){return a.push(t)});for(var u=!0,p=0,d=function(){if(++p>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";u=!1;var t=[],i=0,s=e;n.forEach(function(e,n){c[e.getId()]?s-=l[e.getId()]:(t.push(e),i+=o[n])});var a=1/i;t.forEach(function(n,i){var p;i===t.length-1?p=s:(p=Math.round(o[i]*e*a),s-=p);var d=n.getMinWidth(),h=n.getMaxWidth();r(d)&&p<d?(p=d,c[n.getId()]=!0,u=!0):r(h)&&h>0&&p>h&&(p=h,c[n.getId()]=!0,u=!0),l[n.getId()]=p})};u&&"break"!==d(););n.forEach(function(t){var e=l[t.getId()];t.getActualWidth()!==e&&(t.setActualWidth(e,i),s.push(t))})});var l=s.length>0,c=[];l&&(c=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(i),this.updateBodyWidths(),this.checkViewportColumns());var u=a.concat(c);(l||o)&&this.fireColumnResizedEvent(u,o,i,c)}else o&&this.fireColumnResizedEvent(n&&n.length>0?n[0].columns:null,o,i)},e.prototype.setColumnAggFunc=function(t,e,n){if(void 0===n&&(n="api"),t){var o=this.getPrimaryColumn(t);o&&(o.setAggFunc(e),this.fireColumnEvent(Vt.EVENT_COLUMN_VALUE_CHANGED,[o],n))}},e.prototype.fireColumnEvent=function(t,e,n){this.eventService.dispatchEvent({type:t,columns:e,column:e&&1==e.length?e[0]:null,api:this.gridApi,columnApi:this.columnApi,source:n})},e.prototype.moveRowGroupColumn=function(t,e,n){void 0===n&&(n="api");var o=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,o),this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:n})},e.prototype.moveColumns=function(t,e,n){if(void 0===n&&(n="api"),this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var o=this.getGridColumns(t);!this.doesMovePassRules(o,e)||(ft(this.gridColumns,o,e),this.updateDisplayedColumns(n),this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_MOVED,columns:o,column:1===o.length?o[0]:null,toIndex:e,api:this.gridApi,columnApi:this.columnApi,source:n}),this.columnAnimationService.finish())},e.prototype.doesMovePassRules=function(t,e){var n=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(n)},e.prototype.doesOrderPassRules=function(t){return!!this.doesMovePassMarryChildren(t)&&!!this.doesMovePassLockedPositions(t)},e.prototype.getProposedColumnOrder=function(t,e){var n=this.gridColumns.slice();return ft(n,t,e),n},e.prototype.sortColumnsLikeGridColumns=function(t){var e=this;!t||t.length<=1||t.filter(function(t){return e.gridColumns.indexOf(t)<0}).length>0||t.sort(function(t,n){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(n)})},e.prototype.doesMovePassLockedPositions=function(t){var e=0,n=!0;return t.forEach(function(t){var o,r=(o=t.getColDef().lockPosition)?!0===o||"left"===o?0:2:1;r<e&&(n=!1),e=r}),n},e.prototype.doesMovePassMarryChildren=function(t){var e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){if(n instanceof Ct){var o=n,r=o.getColGroupDef();if(r&&r.marryChildren){var i=[];o.getLeafColumns().forEach(function(e){var n=t.indexOf(e);i.push(n)}),Math.max.apply(Math,i)-Math.min.apply(Math,i)>o.getLeafColumns().length-1&&(e=!1)}}}),e},e.prototype.moveColumn=function(t,e,n){void 0===n&&(n="api"),this.moveColumns([t],e,n)},e.prototype.moveColumnByIndex=function(t,e,n){void 0===n&&(n="api"),this.moveColumn(this.gridColumns[t],e,n)},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort(function(e,n){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(n)}):this.lastPrimaryOrder&&e.sort(function(e,n){return t.lastPrimaryOrder.indexOf(e)-t.lastPrimaryOrder.indexOf(n)}),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case et.PINNED_LEFT:return this.leftWidth;case et.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),e=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t,(this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==n)&&(this.bodyWidth=t,this.leftWidth=e,this.rightWidth=n,this.eventService.dispatchEvent({type:Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case et.PINNED_LEFT:return this.getDisplayedLeftColumns();case et.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return s(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return s(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,e,n){void 0===n&&(n="api"),this.setColumnsVisible([t],e,n)},e.prototype.setColumnsVisible=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n="api"),this.columnAnimationService.start(),this.actionOnGridColumns(t,function(t){return t.isVisible()!==e&&(t.setVisible(e,n),!0)},n,function(){return{type:Vt.EVENT_COLUMN_VISIBLE,visible:e,column:null,columns:null,api:o.gridApi,columnApi:o.columnApi,source:n}}),this.columnAnimationService.finish()},e.prototype.setColumnPinned=function(t,e,n){void 0===n&&(n="api"),t&&this.setColumnsPinned([t],e,n)},e.prototype.setColumnsPinned=function(t,e,n){var o,r=this;void 0===n&&(n="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),o=!0===e||e===et.PINNED_LEFT?et.PINNED_LEFT:e===et.PINNED_RIGHT?et.PINNED_RIGHT:null,this.actionOnGridColumns(t,function(t){return t.getPinned()!==o&&(t.setPinned(o),!0)},n,function(){return{type:Vt.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,api:r.gridApi,columnApi:r.columnApi,source:n}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},e.prototype.actionOnGridColumns=function(t,e,n,o){var i=this;if(!s(t)){var a=[];if(t.forEach(function(t){var n=i.getGridColumn(t);n&&!1!==e(n)&&a.push(n)}),a.length&&(this.updateDisplayedColumns(n),r(o)&&o)){var l=o();l.columns=a,l.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n>0?e[n-1]:null},e.prototype.getDisplayedColAfter=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,e){for(var n=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),r="After"===e?lt(o):o[0],i="getDisplayedCol"+e;;){var s=this[i](r);if(!s)return null;var a=this.getColumnGroupAtLevel(s,n);if(a!==t)return a}},e.prototype.getColumnGroupAtLevel=function(t,e){for(var n=t.getParent();!(n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel()<=e);)n=n.getParent();return n},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,oe([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},e.prototype.getPrimaryAndAutoGroupCols=function(){var t;return(t=[]).concat.apply(t,oe([this.primaryColumns||[],this.groupAutoColumns||[]]))},e.prototype.getPrimaryAndSecondaryColumns=function(){var t;return(t=[]).concat.apply(t,oe([this.primaryColumns||[],this.secondaryColumns||[]]))},e.prototype.createStateItemFromColumn=function(t){var e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,n=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,r=null!=t.getSort()?t.getSort():null,i=null!=t.getSortIndex()?t.getSortIndex():null,s=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:r,sortIndex:i,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:n,flex:s}},e.prototype.getColumnState=function(){if(i(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t},e.prototype.orderColumnStateList=function(t){var e=Zt(this.gridColumns.map(function(t,e){return[t.getColId(),e]}));t.sort(function(t,n){return(e.has(t.colId)?e.get(t.colId):-1)-(e.has(n.colId)?e.get(n.colId):-1)})},e.prototype.resetColumnState=function(t){void 0===t&&(t="api");var e=this.getColumnsFromTree(this.primaryColumnTree),n=[],o=1e3,r=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),e&&(s=s.concat(e)),s.forEach(function(t){var e=function(t,e){return null!=t?t:null!=e?e:null},s=t.getColDef(),a=e(s.sort,s.initialSort),l=e(s.sortIndex,s.initialSortIndex),c=e(s.hide,s.initialHide),u=e(s.pinned,s.initialPinned),p=e(s.width,s.initialWidth),d=e(s.flex,s.initialFlex),h=e(s.rowGroupIndex,s.initialRowGroupIndex),f=e(s.rowGroup,s.initialRowGroup);null!=h||null!=f&&0!=f||(h=null,f=null);var g=e(s.pivotIndex,s.initialPivotIndex),m=e(s.pivot,s.initialPivot);null!=g||null!=m&&0!=m||(g=null,m=null);var y=e(s.aggFunc,s.initialAggFunc),_={colId:t.getColId(),sort:a,sortIndex:l,hide:c,pinned:u,width:p,flex:d,rowGroup:f,rowGroupIndex:h,pivot:m,pivotIndex:g,aggFunc:y};i(h)&&f&&(_.rowGroupIndex=o++),i(g)&&m&&(_.pivotIndex=r++),n.push(_)}),this.applyColumnState({state:n,applyOrder:!0},t)},e.prototype.applyColumnState=function(t,e){var n=this;if(void 0===e&&(e="api"),s(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(o,r,i){var s=n.compareColumnStatesAndRaiseEvents(e);n.autoGroupsNeedBuilding=!0;var a=r.slice(),l={},c={},u=[],p=[],d=0,h=n.rowGroupColumns.slice(),f=n.pivotColumns.slice();o.forEach(function(o){var r=o.colId||"";if(r.startsWith(et.GROUP_AUTO_COLUMN_ID))return u.push(o),void p.push(o);var s=i(r);s?(n.syncColumnWithStateItem(s,o,t.defaultState,l,c,!1,e),pt(a,s)):(p.push(o),d+=1)});var g=function(o){return n.syncColumnWithStateItem(o,null,t.defaultState,l,c,!1,e)};a.forEach(g);var m=function(t,e,n,o){var r=t[n.getId()],i=t[o.getId()],s=null!=r,a=null!=i;if(s&&a)return r-i;if(s)return-1;if(a)return 1;var l=e.indexOf(n),c=e.indexOf(o),u=l>=0;return u&&c>=0?l-c:u?-1:1};n.rowGroupColumns.sort(m.bind(n,l,h)),n.pivotColumns.sort(m.bind(n,c,f)),n.updateGridColumns();var y=n.groupAutoColumns?n.groupAutoColumns.slice():[];return u.forEach(function(o){var r=n.getAutoColumn(o.colId);pt(y,r),n.syncColumnWithStateItem(r,o,t.defaultState,null,null,!0,e)}),y.forEach(g),n.applyOrderAfterApplyState(t),n.updateDisplayedColumns(e),n.dispatchEverythingChanged(e),s(),{unmatchedAndAutoStates:p,unmatchedCount:d}};this.columnAnimationService.start();var i=o(t.state||[],this.primaryColumns||[],function(t){return n.getPrimaryColumn(t)}),a=i.unmatchedAndAutoStates,l=i.unmatchedCount;return(a.length>0||r(t.defaultState))&&(l=o(a,this.secondaryColumns||[],function(t){return n.getSecondaryColumn(t)}).unmatchedCount),this.columnAnimationService.finish(),0===l},e.prototype.applyOrderAfterApplyState=function(t){var e=this;if(t.applyOrder&&t.state){var n=[],o={};t.state.forEach(function(t){if(t.colId&&!o[t.colId]){var r=e.gridColumnsMap[t.colId];r&&(n.push(r),o[t.colId]=!0)}});var r=0;this.gridColumns.forEach(function(t){var e=t.getColId();null!=o[e]||(e.startsWith(et.GROUP_AUTO_COLUMN_ID)?ht(n,t,r++):n.push(t))}),n=this.placeLockedColumns(n),this.doesMovePassMarryChildren(n)?this.gridColumns=n:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}},e.prototype.compareColumnStatesAndRaiseEvents=function(t){var e=this,n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),r={};return o.forEach(function(t){r[t.colId]=t}),function(){if(!e.gridOptionsWrapper.isSuppressColumnStateEvents()){var i=e.getPrimaryAndSecondaryAndAutoColumns(),s=function(n,o,r,i){ct(o.map(i),r.map(i))||e.eventService.dispatchEvent({type:n,columns:r,column:1===r.length?r[0]:null,api:e.gridApi,columnApi:e.columnApi,source:t})},a=function(t){var e=[];return i.forEach(function(n){var o=r[n.getColId()];o&&t(o,n)&&e.push(n)}),e},l=function(t){return t.getColId()};s(Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,e.rowGroupColumns,l),s(Vt.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,e.pivotColumns,l),a(function(t,e){var n=null!=t.aggFunc,o=n!=e.isValueActive(),r=n&&t.aggFunc!=e.getAggFunc();return o||r}).length>0&&e.fireColumnEvent(Vt.EVENT_COLUMN_VALUE_CHANGED,e.valueColumns,t),e.fireColumnResizedEvent(a(function(t,e){return t.width!=e.getActualWidth()}),!0,t),e.raiseColumnPinnedEvent(a(function(t,e){return t.pinned!=e.getPinned()}),t),e.raiseColumnVisibleEvent(a(function(t,e){return t.hide==e.isVisible()}),t),a(function(t,e){return t.sort!=e.getSort()||t.sortIndex!=e.getSortIndex()}).length>0&&e.sortController.dispatchSortChangedEvents(t),e.raiseColumnMovedEvent(o,t)}}},e.prototype.raiseColumnPinnedEvent=function(t,e){if(t.length){var n=1===t.length?t[0]:null,o=this.getCommonValue(t,function(t){return t.getPinned()});this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_PINNED,pinned:null!=o?o:null,columns:t,column:n,api:this.gridApi,columnApi:this.columnApi,source:e})}},e.prototype.getCommonValue=function(t,e){if(t&&0!=t.length){for(var n=e(t[0]),o=1;o<t.length;o++)if(n!==e(t[o]))return;return n}},e.prototype.raiseColumnVisibleEvent=function(t,e){if(t.length){var n=1===t.length?t[0]:null,o=this.getCommonValue(t,function(t){return t.isVisible()});this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:n,api:this.gridApi,columnApi:this.columnApi,source:e})}},e.prototype.raiseColumnMovedEvent=function(t,e){var n=this,o=this.getColumnState(),r={};o.forEach(function(t){return r[t.colId]=t});var i={};t.forEach(function(t){r[t.colId]&&(i[t.colId]=!0)});var s=t.filter(function(t){return i[t.colId]}),a=o.filter(function(t){return i[t.colId]}),l=[];a.forEach(function(t,e){var o=s&&s[e];if(o&&o.colId!==t.colId){var r=n.getGridColumn(o.colId);r&&l.push(r)}}),l.length&&this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_MOVED,columns:l,column:null,api:this.gridApi,columnApi:this.columnApi,source:e})},e.prototype.syncColumnWithStateItem=function(t,e,n,o,i,s,a){if(t){var l=function(t,o){var i={value1:void 0,value2:void 0},s=!1;return e&&(void 0!==e[t]&&(i.value1=e[t],s=!0),r(o)&&void 0!==e[o]&&(i.value2=e[o],s=!0)),!s&&n&&(void 0!==n[t]&&(i.value1=n[t]),r(o)&&void 0!==n[o]&&(i.value2=n[o])),i},c=l("hide").value1;void 0!==c&&t.setVisible(!c,a);var u=l("pinned").value1;void 0!==u&&t.setPinned(u);var p=this.columnUtils.calculateColMinWidth(t.getColDef()),d=l("flex").value1;if(void 0!==d&&t.setFlex(d),t.getFlex()<=0){var h=l("width").value1;null!=h&&null!=p&&h>=p&&t.setActualWidth(h,a)}var f=l("sort").value1;void 0!==f&&t.setSort(f===et.SORT_DESC||f===et.SORT_ASC?f:void 0,a);var g=l("sortIndex").value1;if(void 0!==g&&t.setSortIndex(g),!s&&t.isPrimary()){var m=l("aggFunc").value1;void 0!==m&&("string"==typeof m?(t.setAggFunc(m),t.isValueActive()||(t.setValueActive(!0,a),this.valueColumns.push(t))):(r(m)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,a),pt(this.valueColumns,t))));var y=l("rowGroup","rowGroupIndex"),_=y.value1,v=y.value2;void 0===_&&void 0===v||("number"==typeof v||_?(t.isRowGroupActive()||(t.setRowGroupActive(!0,a),this.rowGroupColumns.push(t)),o&&"number"==typeof v&&(o[t.getId()]=v)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,a),pt(this.rowGroupColumns,t)));var C=l("pivot","pivotIndex"),E=C.value1,w=C.value2;void 0===E&&void 0===w||("number"==typeof w||E?(t.isPivotActive()||(t.setPivotActive(!0,a),this.pivotColumns.push(t)),i&&"number"==typeof w&&(i[t.getId()]=w)):t.isPivotActive()&&(t.setPivotActive(!1,a),pt(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,e){var n=[];return t&&t.forEach(function(t){var o=e(t);o&&n.push(o)}),n},e.prototype.getColumnWithValidation=function(t){if(null==t)return null;var e=this.getGridColumn(t);return e||console.warn("AG Grid: could not find column "+t),e},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,e,n){if(!t)return null;if("string"==typeof t&&n[t])return n[t];for(var o=0;o<e.length;o++)if(this.columnsMatch(e[o],t))return e[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var e=t.getColDef().showRowGroup;if(!e)return null;if(!0===e)return this.rowGroupColumns.slice(0);var n=this.getPrimaryColumn(e);return n?[n]:null},e.prototype.getAutoColumn=function(t){var e=this;return this.groupAutoColumns&&r(this.groupAutoColumns)&&!i(this.groupAutoColumns)&&this.groupAutoColumns.find(function(n){return e.columnsMatch(n,t)})||null},e.prototype.columnsMatch=function(t,e){var n=t===e,o=t.getColDef()===e,r=t.getColId()==e;return n||o||r},e.prototype.getDisplayNameForColumn=function(t,e,n){if(void 0===n&&(n=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,e);return n?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,e,n){var o=e?e.getColGroupDef():null;return o?this.getHeaderName(o,null,t,e,n):null},e.prototype.getDisplayNameForColumnGroup=function(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)},e.prototype.getHeaderName=function(t,e,n,o,r){var i=t.headerValueGetter;if(i){var s={colDef:t,column:e,columnGroup:n,providedColumnGroup:o,location:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof i?i(s):"string"==typeof i?this.expressionService.evaluate(i,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?qt(t.field):""},e.prototype.wrapHeaderNameWithAggFunc=function(t,e){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return e;var n,o=t.getColDef().pivotValueColumn,i=null;if(r(o)){var s=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&1===this.valueColumns.length,a=void 0!==t.getColDef().pivotTotalColumnIds;if(s&&!a)return e;i=o?o.getAggFunc():null,n=!0}else{var l=t.isValueActive(),c=this.pivotMode||!this.isRowGroupEmpty();l&&c?(i=t.getAggFunc(),n=!0):n=!1}if(n){var u="string"==typeof i?i:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(u,u)+"("+e+")"}return e},e.prototype.getColumnGroup=function(t,e){if(!t)return null;if(t instanceof vt)return t;var n=this.getAllDisplayedTrees(),o="number"==typeof e,r=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,function(n){if(n instanceof vt){var i=n;(o?t===i.getGroupId()&&e===i.getInstanceId():t===i.getGroupId())&&(r=i)}}),r},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,function(e,n){return e.setValueActive(n,t)},function(){},function(){},function(t){var e=t.aggFunc;return null===e||""===e?null:void 0!==e?!!e:void 0},function(t){return null!=t.initialAggFunc&&""!=t.initialAggFunc}),this.valueColumns.forEach(function(t){var e=t.getColDef();null!=e.aggFunc&&""!=e.aggFunc?t.setAggFunc(e.aggFunc):t.getAggFunc()||t.setAggFunc(e.initialAggFunc)})},e.prototype.extractRowGroupColumns=function(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,function(e,n){return e.setRowGroupActive(n,t)},function(t){return t.rowGroupIndex},function(t){return t.initialRowGroupIndex},function(t){return t.rowGroup},function(t){return t.initialRowGroup})},e.prototype.extractColumns=function(t,e,n,o,r,i,s){void 0===t&&(t=[]),void 0===e&&(e=[]);var a=[],u=[];(this.primaryColumns||[]).forEach(function(n){var p=t.indexOf(n)<0,d=n.getColDef(),h=c(i(d)),f=c(s(d)),g=l(o(d)),m=l(r(d));(void 0!==h?h:void 0!==g?null!==g&&g>=0:p?void 0!==f?f:void 0!==m&&null!=m&&m>=0:e.indexOf(n)>=0)&&((p?null!=g||null!=m:null!=g)?a.push(n):u.push(n))});var p=function(t){var e=o(t.getColDef()),n=r(t.getColDef());return null!=e?e:n};a.sort(function(t,e){var n=p(t),o=p(e);return n===o?0:n<o?-1:1});var d=[].concat(a);return e.forEach(function(t){u.indexOf(t)>=0&&d.push(t)}),u.forEach(function(t){d.indexOf(t)<0&&d.push(t)}),e.forEach(function(t){d.indexOf(t)<0&&n(t,!1)}),d.forEach(function(t){e.indexOf(t)<0&&n(t,!0)}),d},e.prototype.extractPivotColumns=function(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,function(e,n){return e.setPivotActive(n,t)},function(t){return t.pivotIndex},function(t){return t.initialPivotIndex},function(t){return t.pivot},function(t){return t.initialPivot})},e.prototype.resetColumnGroupState=function(t){void 0===t&&(t="api");var e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(t){if(t instanceof Ct){var n=t.getColGroupDef(),o={groupId:t.getGroupId(),open:n?n.openByDefault:void 0};e.push(o)}}),this.setColumnGroupState(e,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(e){e instanceof Ct&&t.push({groupId:e.getGroupId(),open:e.isExpanded()})}),t},e.prototype.setColumnGroupState=function(t,e){var n=this;void 0===e&&(e="api"),this.columnAnimationService.start();var o=[];t.forEach(function(t){var e=t.open,r=n.getProvidedColumnGroup(t.groupId);r&&r.isExpanded()!==e&&(n.logger.log("columnGroupOpened("+r.getGroupId()+","+e+")"),r.setExpanded(e),o.push(r))}),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),o.forEach(function(t){n.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_GROUP_OPENED,columnGroup:t,api:n.gridApi,columnApi:n.columnApi})}),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,e,n){var o;void 0===n&&(n="api"),o=t instanceof Ct?t.getId():t||"",this.setColumnGroupState([{groupId:o,open:e}],n)},e.prototype.getProvidedColumnGroup=function(t){"string"!=typeof t&&console.error("AG Grid: group key must be a string");var e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof Ct&&n.getId()===t&&(e=n)}),e},e.prototype.calculateColumnsForDisplay=function(){var t=this;return this.pivotMode&&i(this.secondaryColumns)?this.gridColumns.filter(function(e){var n=t.groupAutoColumns&&gt(t.groupAutoColumns,e),o=t.valueColumns&&gt(t.valueColumns,e);return n||o}):this.gridColumns.filter(function(e){return t.groupAutoColumns&&gt(t.groupAutoColumns,e)||e.isVisible()})},e.prototype.checkColSpanActiveInCols=function(t){var e=!1;return t.forEach(function(t){r(t.getColDef().colSpan)&&(e=!0)}),e},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var e=function(e){var n=e.getColDef(),o=n.showRowGroup;n&&r(o)&&(t.groupDisplayColumns.push(e),"string"==typeof o?t.groupDisplayColumnsMap[o]=e:!0===o&&t.getRowGroupColumns().forEach(function(n){t.groupDisplayColumnsMap[n.getId()]=e}))};this.gridColumns.forEach(e),this.groupAutoColumns&&this.groupAutoColumns.forEach(e)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return r(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,e){var n=this;void 0===e&&(e="api");var o=t&&t.length>0;if(o||!i(this.secondaryColumns)){if(o){this.processSecondaryColumnDefinitions(t);var r=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=r.columnTree,this.secondaryHeaderRowCount=r.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(t){return n.secondaryColumnsMap[t.getId()]=t}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(e)}},e.prototype.processSecondaryColumnDefinitions=function(t){var e=this.gridOptionsWrapper.getProcessPivotResultColDefFunc(),n=this.gridOptionsWrapper.getProcessPivotResultColGroupDefFunc();if(e||n){var o=function(t){t.forEach(function(t){if(r(t.children)){var i=t;n&&n(i),o(i.children)}else e&&e(t)})};t&&o(t)}},e.prototype.updateGridColumns=function(){var t=this;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var e=this.secondaryColumns.every(function(e){return void 0!==t.gridColumnsMap[e.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,e&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(e){return t.gridColumnsMap[e.getId()]=e}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:Vt.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(t){return t.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.rowModel.getType();t!==et.ROW_MODEL_TYPE_CLIENT_SIDE&&t!==et.ROW_MODEL_TYPE_SERVER_SIDE&&R(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},e.prototype.orderGridColsLike=function(t){if(!i(t)){var e=Zt(t.map(function(t,e){return[t,e]})),n=!0;if(this.gridColumns.forEach(function(t){e.has(t)&&(n=!1)}),!n){var o=Zt(this.gridColumns.map(function(t){return[t,!0]})),r=t.filter(function(t){return o.has(t)}),s=Zt(r.map(function(t){return[t,!0]})),a=this.gridColumns.filter(function(t){return!s.has(t)}),l=r.slice();a.forEach(function(t){var e=t.getOriginalParent();if(e){for(var n=[];!n.length&&e;)e.getLeafColumns().forEach(function(t){var e=l.indexOf(t)>=0,o=n.indexOf(t)<0;e&&o&&n.push(t)}),e=e.getOriginalParent();if(n.length){var o=n.map(function(t){return l.indexOf(t)}),r=Math.max.apply(Math,oe(o));ht(l,t,r+1)}else l.push(t)}else l.push(t)}),this.gridColumns=l}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},e.prototype.placeLockedColumns=function(t){var e=[],n=[],o=[];return t.forEach(function(t){var r=t.getColDef().lockPosition;"right"===r?o.push(t):"left"===r||!0===r?e.push(t):n.push(t)}),oe(e,n,o)},e.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!i(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=t.concat(this.gridBalancedTree)}},e.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(t){return t.isAutoHeight()})},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var e=this;if(this.primaryColumns){var n=this.primaryColumns.slice(0),o=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(r){if(o){var i=e.getWidthOfColsInList(r);r.forEach(function(e){i-=e.getActualWidth(),e.setLeft(i,t)})}else{var s=0;r.forEach(function(e){e.setLeft(s,t),s+=e.getActualWidth()})}dt(n,r)}),n.forEach(function(e){e.setLeft(null,t)})}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(t){t instanceof vt&&t.checkLeft()})})},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(t){t instanceof st&&e.push(t)})},e.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,e){var n;switch(t){case et.PINNED_LEFT:n=this.viewportRowLeft[e];break;case et.PINNED_RIGHT:n=this.viewportRowRight[e];break;default:n=this.viewportRowCenter[e]}return i(n)&&(n=[]),n},e.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.viewportColumns.forEach(function(e){return t[e.getId()]=!0});var e=function(n,o,r){for(var i=!1,s=0;s<n.length;s++){var a=n[s],l=!1;if(a instanceof st)l=!0===t[a.getId()];else{var c=a.getDisplayedChildren();c&&(l=e(c,o,r+1))}l&&(i=!0,o[r]||(o[r]=[]),o[r].push(a))}return i};e(this.displayedTreeLeft,this.viewportRowLeft,0),e(this.displayedTreeRight,this.viewportRowRight,0),e(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},e.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},e.prototype.refreshFlexedColumns=function(t){var e=this;void 0===t&&(t={});var n=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;t.resizingCols&&t.resizingCols.forEach(function(t){var n=e.displayedColumnsCenter.indexOf(t);o<n&&(o=n)});var i=function(t){var n=e.displayedColumnsCenter.indexOf(t)>o;return t.getFlex()&&n},s=this.displayedColumnsCenter.filter(function(t){return!i(t)}),a=this.displayedColumnsCenter.filter(function(t){return i(t)}),l=[];if(!a.length)return[];var c,u=[];t:for(;;){var p=a.reduce(function(t,e){return t+e.getFlex()},0);c=this.flexViewportWidth-this.getWidthOfColsInList(s);for(var d=0;d<a.length;d++){var h=a[d],f=c*h.getFlex()/p,g=0,m=h.getMinWidth(),y=h.getMaxWidth();if(r(m)&&f<m?g=m:r(y)&&f>y&&(g=y),g){h.setActualWidth(g,n),pt(a,h),l.push(h),s.push(h);continue t}u[d]=Math.round(f)}break}var _=c;return a.forEach(function(t,e){t.setActualWidth(Math.min(u[e],_),n),l.push(t),_-=u[e]}),t.skipSetLeft||this.setLeftValues(n),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.fireColumnResizedEvent(l,!0,n,a),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),a},e.prototype.sizeColumnsToFit=function(t,e,n){void 0===e&&(e="sizeColumnsToFit");var o=this.getAllDisplayedColumns(),i=t===this.getWidthOfColsInList(o);if(!(t<=0||!o.length||i)){var s=[],a=[];o.forEach(function(t){!0===t.getColDef().suppressSizeToFit?a.push(t):s.push(t)});var l=s.slice(0),c=!1,u=function(t){pt(s,t),a.push(t)};for(s.forEach(function(t){return t.resetActualWidth(e)});!c;){c=!0;var p=t-this.getWidthOfColsInList(a);if(p<=0)s.forEach(function(t){t.setMinimum(e)});else for(var d=p/this.getWidthOfColsInList(s),h=p,f=s.length-1;f>=0;f--){var g=s[f],m=g.getMinWidth(),y=g.getMaxWidth(),_=Math.round(g.getActualWidth()*d);r(m)&&_<m?(_=m,u(g),c=!1):r(y)&&g.isGreaterThanMax(_)?(_=y,u(g),c=!1):0===f&&(_=h),g.setActualWidth(_,e,!0),h-=_}}l.forEach(function(t){t.fireColumnWidthChangedEvent(e)}),this.setLeftValues(e),this.updateBodyWidths(),n||this.fireColumnResizedEvent(l,!0,e)}},e.prototype.buildDisplayedTrees=function(t){var e=[],n=[],o=[];t.forEach(function(t){switch(t.getPinned()){case"left":e.push(t);break;case"right":n.push(t);break;default:o.push(t)}});var r=new Ht;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(e,this.gridBalancedTree,r,et.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,r,et.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,r,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var e=function(e){t.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)},e.prototype.isDisplayed=function(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(t){t instanceof vt&&t.calculateDisplayedColumns()})},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),e=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||e||t)this.groupAutoColumns=null;else{var n=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);(!this.autoColsEqual(n,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=n)}}},e.prototype.autoColsEqual=function(t,e){return ct(t,e,function(t,e){return t.getColId()===e.getColId()})},e.prototype.getWidthOfColsInList=function(t){return t.reduce(function(t,e){return t+e.getActualWidth()},0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(t){return t.getColDef().floatingFilter})},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsWrapper.isEnableRtl(),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(var n=0;n<e.length;n++){var o=this[e[n]]();if(o.length)return t?lt(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,e){t.setAutoHeaderHeight(e)&&this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],api:this.gridApi,columnApi:this.columnApi,source:"autosizeColumnHeaderHeight"})},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.gridOptionsWrapper.getPivotGroupHeaderHeight():this.gridOptionsWrapper.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.gridOptionsWrapper.getPivotHeaderHeight():this.gridOptionsWrapper.getHeaderHeight(),e=this.getAllDisplayedColumns().filter(function(t){return t.isAutoHeaderHeight()}).map(function(t){return t.getAutoHeaderHeight()||0});return Math.max.apply(Math,oe([t],e))},te([K("expressionService")],e.prototype,"expressionService",void 0),te([K("columnFactory")],e.prototype,"columnFactory",void 0),te([K("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),te([K("ctrlsService")],e.prototype,"ctrlsService",void 0),te([K("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),te([K("columnUtils")],e.prototype,"columnUtils",void 0),te([K("columnAnimationService")],e.prototype,"columnAnimationService",void 0),te([K("autoGroupColService")],e.prototype,"autoGroupColService",void 0),te([Y("aggFuncService")],e.prototype,"aggFuncService",void 0),te([Y("valueCache")],e.prototype,"valueCache",void 0),te([Y("animationFrameService")],e.prototype,"animationFrameService",void 0),te([K("rowModel")],e.prototype,"rowModel",void 0),te([K("columnApi")],e.prototype,"columnApi",void 0),te([K("gridApi")],e.prototype,"gridApi",void 0),te([K("sortController")],e.prototype,"sortController",void 0),te([K("columnDefFactory")],e.prototype,"columnDefFactory",void 0),te([$],e.prototype,"init",null),te([(0,n=X("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),te([j("columnModel")],e);var n}(kt),ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ie(e,t),e.prototype.calculateColMinWidth=function(t){return null!=t.minWidth?t.minWidth:this.gridOptionsWrapper.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return null!=t.maxWidth?t.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var e,n=this.calculateColMinWidth(t),o=this.calculateColMaxWidth(t),r=l(t.width),i=l(t.initialWidth);return e=null!=r?r:null!=i?i:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(e,o),n)},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],o=!1,r=function(e,i){for(var s=0;s<e.length;s++){if(o)return;var a=e[s];a instanceof Ct?(r(a.getChildren(),i+1),n[i]=a):a===t&&(o=!0)}};return r(e,0),o?n:null},e.prototype.depthFirstOriginalTreeSearch=function(t,e,n){var o=this;e&&e.forEach(function(e){e instanceof Ct&&o.depthFirstOriginalTreeSearch(e,e.getChildren(),n),n(e,t)})},e.prototype.depthFirstAllColumnTreeSearch=function(t,e){var n=this;t&&t.forEach(function(t){t instanceof vt&&n.depthFirstAllColumnTreeSearch(t.getChildren(),e),e(t)})},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,e){var n=this;t&&t.forEach(function(t){t instanceof vt&&n.depthFirstDisplayedColumnTreeSearch(t.getDisplayedChildren(),e),e(t)})},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([j("columnUtils")],e)}(kt),ae=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ae(e,t),e.prototype.createDisplayedGroups=function(t,e,n,o,r){var i,s,a=this,l=[],c=this.mapOldGroupsById(r);return t.forEach(function(t){for(var r=a.getOriginalPathForColumn(e,t),u=[],p=!s,d=0;d<r.length;d++)if(p||r[d]!==s[d]){var h=a.createColumnGroup(r[d],n,c,o);u[d]=h,0==d?l.push(h):u[d-1].addChild(h)}else u[d]=i[d];0===u.length?l.push(t):lt(u).addChild(t),i=u,s=r}),this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,e,n,o){var i=t.getGroupId(),s=e.getInstanceIdForKey(i),a=n[vt.createUniqueId(i,s)];return a&&a.getProvidedColumnGroup()!==t&&(a=null),r(a)?a.reset():(a=new vt(t,i,s,o),this.context.createBean(a)),a},e.prototype.mapOldGroupsById=function(t){var e={},n=function(t){t.forEach(function(t){if(t instanceof vt){var o=t;e[t.getUniqueId()]=o,n(o.getChildren())}})};return t&&n(t),e},e.prototype.setupParentsIntoColumns=function(t,e){var n=this;t.forEach(function(t){if(t.setParent(e),t instanceof vt){var o=t;n.setupParentsIntoColumns(o.getChildren(),o)}})},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],o=!1,r=function(t,i){for(var s=0;s<t.length;s++){if(o)return;var a=t[s];a instanceof Ct?(r(a.getChildren(),i+1),n[i]=a):a===e&&(o=!0)}};return r(t,0),o?n:(console.warn("AG Grid: could not get path"),null)},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([j("displayedGroupCreator")],e)}(kt),ce=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ue=function(){function t(){}return t.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],t.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],t.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],t.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],t.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","serverSideInfiniteScroll"],t.ALL_PROPERTIES=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ce(arguments[e]));return t}(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),pe=function(){return(pe=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},de=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},he=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(de(arguments[e]));return t},fe=function(){function t(){}return t.getEventCallbacks=function(){return t.EVENT_CALLBACKS||(t.EVENT_CALLBACKS=t.EVENTS.map(function(e){return t.getCallbackForEvent(e)})),t.EVENT_CALLBACKS},t.copyAttributesToGridOptions=function(e,n,o){"object"!=typeof e&&(e={});var r=e,i=function(t){return void 0!==n[t]};return i("groupAggFiltering")&&"function"!=typeof n.groupAggFiltering&&(r.groupAggFiltering=t.toBoolean(n.groupAggFiltering),delete n.groupAggFiltering),he(t.ARRAY_PROPERTIES,t.STRING_PROPERTIES,t.OBJECT_PROPERTIES,t.FUNCTION_PROPERTIES,t.getEventCallbacks()).filter(i).forEach(function(t){return r[t]=n[t]}),t.BOOLEAN_PROPERTIES.filter(i).forEach(function(e){return r[e]=t.toBoolean(n[e])}),t.NUMBER_PROPERTIES.filter(i).forEach(function(e){return r[e]=t.toNumber(n[e])}),e},t.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},t.processOnChange=function(e,n,o,r){if(e){var i=pe({},e),s=n,a=function(t){return i[t]};a("groupAggFiltering")&&(s.groupAggFiltering="function"==typeof i.groupAggFiltering?i.groupAggFiltering:t.toBoolean(i.groupAggFiltering),delete i.groupAggFiltering),i.rowClass&&(o.setRowClass(i.rowClass.currentValue),delete i.rowClass),he(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.getEventCallbacks()).filter(a).forEach(function(t){return s[t]=i[t].currentValue}),t.BOOLEAN_PROPERTIES.filter(a).forEach(function(e){return s[e]=t.toBoolean(i[e].currentValue)}),t.NUMBER_PROPERTIES.filter(a).forEach(function(e){return s[e]=t.toNumber(i[e].currentValue)}),i.enableCellTextSelection&&(o.setEnableCellTextSelection(t.toBoolean(i.enableCellTextSelection.currentValue)),delete i.enableCellTextSelection),i.quickFilterText&&(o.setQuickFilter(i.quickFilterText.currentValue),delete i.quickFilterText),i.autoGroupColumnDef&&(o.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.columnDefs&&(o.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs),i.defaultColDef&&(o.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.paginationPageSize&&(o.paginationSetPageSize(t.toNumber(i.paginationPageSize.currentValue)),delete i.paginationPageSize),i.pivotMode&&(r.setPivotMode(t.toBoolean(i.pivotMode.currentValue)),delete i.pivotMode),i.groupRemoveSingleChildren&&(o.setGroupRemoveSingleChildren(t.toBoolean(i.groupRemoveSingleChildren.currentValue)),delete i.groupRemoveSingleChildren),i.suppressRowDrag&&(o.setSuppressRowDrag(t.toBoolean(i.suppressRowDrag.currentValue)),delete i.suppressRowDrag),i.suppressMoveWhenRowDragging&&(o.setSuppressMoveWhenRowDragging(t.toBoolean(i.suppressMoveWhenRowDragging.currentValue)),delete i.suppressMoveWhenRowDragging),i.suppressRowClickSelection&&(o.setSuppressRowClickSelection(t.toBoolean(i.suppressRowClickSelection.currentValue)),delete i.suppressRowClickSelection),i.suppressClipboardPaste&&(o.setSuppressClipboardPaste(t.toBoolean(i.suppressClipboardPaste.currentValue)),delete i.suppressClipboardPaste),i.headerHeight&&(o.setHeaderHeight(t.toNumber(i.headerHeight.currentValue)),delete i.headerHeight);var l=o;Object.keys(i).forEach(function(t){var n="set"+t.charAt(0).toUpperCase()+t.substring(1);l[n]&&l[n](e[t].currentValue)});var c={type:Vt.EVENT_COMPONENT_STATE_CHANGED,api:n.api,columnApi:n.columnApi};h(e,function(t,e){c[t]=e}),o.dispatchEvent(c)}},t.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},t.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},t.EVENTS=[],t.PUBLIC_EVENTS=[],t.EXCLUDED_INTERNAL_EVENTS=[],t.STRING_PROPERTIES=ue.STRING_PROPERTIES,t.OBJECT_PROPERTIES=ue.OBJECT_PROPERTIES,t.ARRAY_PROPERTIES=ue.ARRAY_PROPERTIES,t.NUMBER_PROPERTIES=ue.NUMBER_PROPERTIES,t.BOOLEAN_PROPERTIES=ue.BOOLEAN_PROPERTIES,t.FUNCTION_PROPERTIES=ue.FUNCTION_PROPERTIES,t.ALL_PROPERTIES=ue.ALL_PROPERTIES,t}();fe.EVENTS=u(Vt),fe.EXCLUDED_INTERNAL_EVENTS=[Vt.EVENT_SCROLLBAR_WIDTH_CHANGED,Vt.EVENT_CHECKBOX_CHANGED,Vt.EVENT_HEIGHT_SCALE_CHANGED,Vt.EVENT_BODY_HEIGHT_CHANGED,Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,Vt.EVENT_SCROLL_VISIBILITY_CHANGED,Vt.EVENT_COLUMN_HOVER_CHANGED,Vt.EVENT_FLASH_CELLS,Vt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,Vt.EVENT_DISPLAYED_ROWS_CHANGED,Vt.EVENT_LEFT_PINNED_WIDTH_CHANGED,Vt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,Vt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,Vt.EVENT_POPUP_TO_FRONT,Vt.EVENT_KEYBOARD_FOCUS,Vt.EVENT_MOUSE_FOCUS,Vt.EVENT_STORE_UPDATED,Vt.EVENT_COLUMN_PANEL_ITEM_DRAG_START,Vt.EVENT_COLUMN_PANEL_ITEM_DRAG_END,Vt.EVENT_FILL_START,Vt.EVENT_FILL_END,Vt.EVENT_FULL_WIDTH_ROW_FOCUSED,Vt.EVENT_HEADER_HEIGHT_CHANGED,Vt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED],fe.PUBLIC_EVENTS=fe.EVENTS.filter(function(t){return!gt(fe.EXCLUDED_INTERNAL_EVENTS,t)});var ge,me,ye,_e,ve,Ce,Ee,we,Oe,be,Se=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentsMappedByName={},e}return Se(e,t),e.prototype.setupComponents=function(t){var e=this;t&&t.forEach(function(t){return e.addComponent(t)})},e.prototype.addComponent=function(t){var e=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[e]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([j("agStackComponentsRegistry")],e)}(kt),De=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Te=function(){function t(){}return t.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],t.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],t.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],t.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],t.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle","wrapHeaderText","autoHeaderHeight"],t.ALL_PROPERTIES=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(De(arguments[e]));return t}(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),Re=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ae=function(){function t(t,e,n,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,o||0))}return t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map(function(t){return parseInt(t,16)}).map(function(t){return t+16*t})}if(e.length>=3&&e.every(function(t){return t>=0}))return 3===e.length&&e.push(255),e},t.fromHexString=function(e){var n=t.parseHex(e);if(n){var o=Re(n,4);return new t(o[0]/255,o[1]/255,o[2]/255,o[3]/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.stringToRgba=function(t){for(var e=Re([NaN,NaN],2),n=e[0],o=e[1],r=0;r<t.length;r++){var i=t[r];if(n||"("!==i){if(")"===i){o=r;break}}else n=r}var s=n&&o&&t.substring(n+1,o);if(s){var a=s.split(","),l=[];for(r=0;r<a.length;r++){var c=a[r],u=parseFloat(c);if(isNaN(u))return;c.indexOf("%")>=0?(u=Math.max(0,Math.min(100,u)),u/=100):3===r?u=Math.max(0,Math.min(1,u)):(u=Math.max(0,Math.min(255,u)),u/=255),l.push(u)}return l}},t.fromRgbaString=function(e){var n=t.stringToRgba(e);if(n){if(3===n.length)return new t(n[0],n[1],n[2]);if(4===n.length)return new t(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,o,r){void 0===r&&(r=1);var i=t.HSBtoRGB(e,n,o);return new t(i[0],i[1],i[2],r)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var o=Math.min(t,e,n),r=Math.max(t,e,n),i=NaN;if(o!==r){var s=r-o,a=(r-t)/s,l=(r-e)/s,c=(r-n)/s;i=t===r?c-l:e===r?2+a-c:4+l-a,(i/=6)<0&&(i+=1)}return[360*i,0!==r?(r-o)/r:0,r]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,r=0,i=0;if(0===e)o=r=i=n;else{var s=6*(t-Math.floor(t)),a=s-Math.floor(s),l=n*(1-e),c=n*(1-e*a),u=n*(1-e*(1-a));switch(s>>0){case 0:o=n,r=u,i=l;break;case 1:o=c,r=n,i=l;break;case 2:o=l,r=n,i=u;break;case 3:o=l,r=c,i=n;break;case 4:o=u,r=l,i=n;break;case 5:o=n,r=l,i=c}}return[o,r,i]},t.prototype.derive=function(e,n,o,r){var i=t.RGBtoHSB(this.r,this.g,this.b),s=i[2];0==s&&o>1&&(s=.05);var a=((i[0]+e)%360+360)%360,l=Math.max(Math.min(i[1]*n,1),0);s=Math.max(Math.min(s*o,1),0);var c=Math.max(Math.min(this.a*r,1),0),u=t.HSBtoRGB(a,l,s);return u.push(c),t.fromArray(u)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}(),Me=Object.freeze({__proto__:null,stringToArray:function(t,e){void 0===e&&(e=",");var n=[],o=function(t){return"\r"===t||"\n"===t},r=!1;if(""===t)return[[""]];for(var i,s,a,l=function(l,c,u){var p=t[u-1],d=t[u],h=t[u+1],f=function(){n[l]||(n[l]=[]),n[l][c]||(n[l][c]="")};if(f(),'"'===d){if(r)return'"'===h?(n[l][c]+='"',u++):r=!1,i=l,s=c,a=u,"continue";if(void 0===p||p===e||o(p))return r=!0,i=l,s=c,a=u,"continue"}if(!r){if(d===e)return c++,f(),i=l,s=c,a=u,"continue";if(o(d))return c=0,l++,f(),"\r"===d&&"\n"===h&&u++,i=l,s=c,a=u,"continue"}n[l][c]+=d,i=l,s=c,a=u},c=0,u=0,p=0;p<t.length;p++)l(c,u,p),c=i,u=s,p=a;return n}});function xe(){if(be)return be;var t,e,n=navigator.userAgent,o=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(o[1]))return{name:"IE",version:e=null!=(t=/\brv[ :]+(\d+)/g.exec(n)||[])[1]?parseFloat(t[1]):0};if("Chrome"===o[1]&&null!=(t=n.match(/\bOPR|Edge\/(\d+)/)))return{name:"Opera",version:e=null!=t[1]?parseFloat(t[1]):0};o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=n.match(/version\/(\d+)/i))&&o.splice(1,1,t[1]);var r=o[0];return e=null!=o[1]?parseFloat(o[1]):0,be={name:r,version:e}}function Ie(){return void 0===ye&&(void 0===me&&(me=!!document.documentMode),ye=!(me||!window.StyleMedia)),ye}function Le(){return void 0===ge&&(ge=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ge}function Fe(){if(void 0===_e){var t=window;_e=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return _e}function Ne(){if(void 0===ve){var t=window;ve=void 0!==t.InstallTrigger}return ve}function ke(){return void 0===Ce&&(Ce=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Ce}function Ge(){return void 0===Ee&&(Ee=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Ee}function Be(){return!Le()||xe().version>=15}function We(t){if(!t)return null;var e=t.tabIndex,n=t.getAttribute("tabIndex");return-1!==e||null!==n&&(""!==n||Ne())?e.toString():null}function Ve(){if(!document.body)return-1;var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var o=2*t;if(n.style.height=o+"px",o>e||n.clientHeight!==o)break;t=o}return document.body.removeChild(n),t}function He(){return null==Oe&&Ue(),Oe}function Ue(){var t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);var n=e.offsetWidth-e.clientWidth;0===n&&0===e.clientWidth&&(n=null),e.parentNode&&e.parentNode.removeChild(e),null!=n&&(Oe=n,we=0===n)}function $e(){return null==we&&Ue(),we}function ze(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function je(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var Ke,Ye=Object.freeze({__proto__:null,getBrowserInfo:xe,isBrowserEdge:Ie,isBrowserSafari:Le,isBrowserChrome:Fe,isBrowserFirefox:Ne,isMacOsUserAgent:ke,isIOSUserAgent:Ge,browserSupportsPreventScroll:Be,getTabIndex:We,getMaxDivHeight:Ve,getScrollbarWidth:He,isInvisibleScrollbar:$e,hasOverflowScrolling:function(){var t,e,n=["webkit","moz","o","ms"],o=document.createElement("div"),r=!1;document.getElementsByTagName("body")[0].appendChild(o),o.setAttribute("style",n.map(function(t){return"-"+t+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var i=window.getComputedStyle(o);if("touch"===i.overflowScrolling&&(r=!0),!r)try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),a=s.next();!a.done;a=s.next())if("touch"===i[a.value+"OverflowScrolling"]){r=!0;break}}catch(l){t={error:l}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return o.parentNode&&o.parentNode.removeChild(o),r},getBodyWidth:ze,getBodyHeight:je});function qe(t){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=e.call(t,et.INPUT_SELECTOR),o=e.call(t,et.FOCUSABLE_EXCLUDE),r=pn(t);return n&&!o&&r}function Xe(t,e){t.classList.toggle("ag-hidden",!e)}function Ze(t,e){t.classList.toggle("ag-invisible",!e)}function Qe(t,e){var n="disabled",o=e?function(t){return t.setAttribute(n,"")}:function(t){return t.removeAttribute(n)};o(t),Mn(t.querySelectorAll("input"),function(t){return o(t)})}function Je(t,e,n){for(var o=0;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,"number"==typeof n){if(++o>n)break}else if(t===n)break}return!1}function tn(t){var e=window.getComputedStyle(t),n=e.width,o=e.paddingTop,r=e.paddingRight,i=e.paddingBottom,s=e.paddingLeft,a=e.marginTop,l=e.marginRight,c=e.marginBottom,u=e.marginLeft,p=e.boxSizing;return{height:parseFloat(e.height),width:parseFloat(n),paddingTop:parseFloat(o),paddingRight:parseFloat(r),paddingBottom:parseFloat(i),paddingLeft:parseFloat(s),marginTop:parseFloat(a),marginRight:parseFloat(l),marginBottom:parseFloat(c),marginLeft:parseFloat(u),boxSizing:p}}function en(t){var e=tn(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function nn(t){var e=tn(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function on(t){var e=tn(t);return Math.ceil(t.offsetHeight+(e.marginBottom+e.marginTop))}function rn(t){var e=tn(t);return Math.ceil(t.offsetWidth+(e.marginLeft+e.marginRight))}function sn(){if("boolean"==typeof Ke)return Ke;var t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(t),t.scrollLeft=1,Ke=0===Math.floor(t.scrollLeft),document.body.removeChild(t),Ke}function an(t,e){var n=t.scrollLeft;return e&&(n=Math.abs(n),Fe()&&!sn()&&(n=t.scrollWidth-t.clientWidth-n)),n}function ln(t,e,n){n&&(sn()?e*=-1:(Le()||Fe())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function cn(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function un(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function pn(t){return null!==t.offsetParent}function dn(t){if(null!==DOMParser)return(new DOMParser).parseFromString(t,"text/html").body.firstChild;var e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function hn(t){return t&&t.clientHeight?t.clientHeight:0}function fn(t){return t&&t.clientWidth?t.clientWidth:0}function gn(t,e,n){n&&n.nextSibling===e||(n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function mn(t,e){for(var n=0;n<e.length;n++){var o=e[n],r=t.children[n];r!==o&&t.insertBefore(o,r)}}function yn(t,e,n){n?n.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function _n(t,e){e&&Object.keys(e).forEach(function(n){var o=jt(n);o&&(t.style[o]=e[n])})}function vn(t){return t.clientWidth<t.scrollWidth}function Cn(t){return t.clientHeight<t.scrollHeight}function En(t,e){"flex"===e?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):wn(t,e)}function wn(t,e){e=bn(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function On(t,e){e=bn(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function bn(t){return"number"==typeof t?t+"px":t}function Sn(t){return"function"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function Pn(t){return"function"==typeof HTMLElement?t instanceof HTMLElement:t&&b(t)&&1===t.nodeType&&"string"==typeof t.nodeName}function Dn(t){return Sn(t)||Pn(t)}function Tn(t){if(null==t)return[];var e=[];return Mn(t,function(t){return e.push(t)}),e}function Rn(t,e){if(t)for(var n=0;n<t.length;n++){var o=t[n];e(o.name,o.value)}}function An(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n.toString())}function Mn(t,e){if(null!=t)for(var n=0;n<t.length;n++)e(t[n])}var xn=Object.freeze({__proto__:null,radioCssClass:function(t,e,n){for(var o=t.parentElement,r=o&&o.firstChild;r;)e&&r.classList.toggle(e,r===t),n&&r.classList.toggle(n,r!==t),r=r.nextSibling},isFocusableFormField:qe,setDisplayed:Xe,setVisible:Ze,setDisabled:Qe,isElementChildOfClass:Je,getElementSize:tn,getInnerHeight:en,getInnerWidth:nn,getAbsoluteHeight:on,getAbsoluteWidth:rn,isRtlNegativeScroll:sn,getScrollLeft:an,setScrollLeft:ln,clearElement:cn,removeElement:function(t,e){un(t.querySelector(e))},removeFromParent:un,isVisible:pn,loadTemplate:dn,appendHtml:function(t,e){t.lastChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e},getElementAttribute:function(t,e){return t.attributes&&t.attributes[e]?t.attributes[e].value:null},offsetHeight:hn,offsetWidth:fn,ensureDomOrder:gn,setDomChildOrder:mn,insertWithDomOrder:yn,prependDC:function(t,e){r(t.firstChild)?t.insertBefore(e,t.firstChild):t.appendChild(e)},addStylesToElement:_n,isHorizontalScrollShowing:vn,isVerticalScrollShowing:Cn,setElementWidth:En,setFixedWidth:wn,setElementHeight:function(t,e){"flex"===e?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):On(t,e)},setFixedHeight:On,formatSize:bn,isNode:Sn,isElement:Pn,isNodeOrElement:Dn,copyNodeList:Tn,iterateNamedNodeMap:Rn,setCheckboxState:function(t,e){"boolean"==typeof e?(t.checked=e,t.indeterminate=!1):t.indeterminate=!0},addOrRemoveAttribute:An,nodeListForEach:Mn}),In=Object.freeze({__proto__:null,getNameOfClass:function(t){var e=t.toString(),n=/function (.{1,})\(/.exec(e);return n&&n.length>1?n[1]:""},findLineByLeastSquares:function(t){var e=t.length,n=0;if(e<=1)return t;for(var o=0;o<t.length;o++){var r=t[o],i=r.toString().split("e-");i.length>1?n=Math.max(n,parseInt(i[1],10)):Math.floor(r)!==r&&(n=Math.max(n,r.toString().split(".")[1].length))}for(var s=0,a=0,l=0,c=0,u=0,p=0;p<e;p++)s+=p,a+=u=t[p],c+=p*p,l+=p*u;var d=(e*l-s*a)/(e*c-s*s),h=a/e-d*s/e,f=[];for(p=0;p<=e;p++)f.push(parseFloat((p*d+h).toFixed(n)));return f},cssStyleObjectToMarkup:function(t){if(!t)return"";var e=[];return h(t,function(t,n){var o=zt(t);e.push(o+": "+n+";")}),e.join(" ")},message:function(t){var e=document.createElement("div"),n=document.querySelector("#__ag__message");e.innerHTML=t,n||(n=dn('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(n)),n.insertBefore(e,n.children[0])},bindCellRendererToHtmlElement:function(t,e){t.then(function(t){var n=t.getGui();null!=n&&("object"==typeof n?e.appendChild(n):e.innerHTML=n)})}});function Ln(t,e,n){t.setAttribute(Nn(e),n.toString())}function Fn(t,e){t.removeAttribute(Nn(e))}function Nn(t){return"aria-"+t}function kn(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function Gn(t){return t.isSortAscending()?"ascending":t.isSortDescending()?"descending":"none"}function Bn(t){return parseInt(t.getAttribute("aria-level"),10)}function Wn(t){return parseInt(t.getAttribute("aria-posinset"),10)}function Vn(t,e){var n="label";e?Ln(t,n,e):Fn(t,n)}function Hn(t,e){var n="labelledby";e?Ln(t,n,e):Fn(t,n)}function Un(t,e){var n="description";e?Ln(t,n,e):Fn(t,n)}function $n(t,e){var n="describedby";e?Ln(t,n,e):Fn(t,n)}function zn(t,e){Ln(t,"level",e)}function jn(t,e){Ln(t,"disabled",e)}function Kn(t,e){Ln(t,"expanded",e)}function Yn(t){Fn(t,"expanded")}function qn(t,e){Ln(t,"setsize",e)}function Xn(t,e){Ln(t,"posinset",e)}function Zn(t,e){Ln(t,"multiselectable",e)}function Qn(t,e){Ln(t,"rowcount",e)}function Jn(t,e){Ln(t,"rowindex",e)}function to(t,e){Ln(t,"colcount",e)}function eo(t,e){Ln(t,"colindex",e)}function no(t,e){Ln(t,"colspan",e)}function oo(t,e){Ln(t,"sort",e)}function ro(t){Fn(t,"sort")}function io(t,e){var n="selected";e?Ln(t,n,e):Fn(t,n)}function so(t,e){Ln(t,"checked",void 0===e?"mixed":e)}var ao=Object.freeze({__proto__:null,setAriaRole:kn,getAriaSortState:Gn,getAriaLevel:Bn,getAriaPosInSet:Wn,getAriaDescribedBy:function(t){return t.getAttribute("aria-describedby")||""},setAriaLabel:Vn,setAriaLabelledBy:Hn,setAriaDescription:Un,setAriaDescribedBy:$n,setAriaLevel:zn,setAriaDisabled:jn,setAriaExpanded:Kn,removeAriaExpanded:Yn,setAriaSetSize:qn,setAriaPosInSet:Xn,setAriaMultiSelectable:Zn,setAriaRowCount:Qn,setAriaRowIndex:Jn,setAriaColCount:to,setAriaColIndex:eo,setAriaColSpan:no,setAriaSort:oo,removeAriaSort:ro,setAriaSelected:io,setAriaChecked:so});function lo(t,e){return t.toString().padStart(e,"0")}function co(t,e){for(var n=[],o=t;o<=e;o++)n.push(o);return n}function uo(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function po(t,e,n){return"number"!=typeof t?"":t.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e)}var ho=Object.freeze({__proto__:null,padStartWidthZeros:lo,createArrayOfNumbers:co,isNumeric:uo,cleanNumber:function(t){return"string"==typeof t&&(t=parseInt(t,10)),"number"==typeof t?Math.floor(t):null},decToHex:function(t,e){for(var n="",o=0;o<e;o++)n+=String.fromCharCode(255&t),t>>>=8;return n},formatNumberTwoDecimalPlacesAndCommas:function(t,e,n){return"number"!=typeof t?"":po(Math.round(100*t)/100,e,n)},formatNumberCommas:po,sum:function(t){return null==t?null:t.reduce(function(t,e){return t+e},0)}}),fo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function go(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n="-"),!t)return null;var o=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(function(t){return lo(t,2)}).join(n);return e&&(o+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map(function(t){return lo(t,2)}).join(":")),o}function mo(t){if(!t)return null;var e=fo(t.split(" "),2),n=e[0],o=e[1];if(!n)return null;var r=n.split("-").map(function(t){return parseInt(t,10)});if(3!==r.filter(function(t){return!isNaN(t)}).length)return null;var i=fo(r,3),s=i[0],a=i[1],l=i[2],c=new Date(s,a-1,l);if(c.getFullYear()!==s||c.getMonth()!==a-1||c.getDate()!==l)return null;if(!o||"00:00:00"===o)return c;var u=fo(o.split(":").map(function(t){return parseInt(t,10)}),3),p=u[0],d=u[1],h=u[2];return p>=0&&p<24&&c.setHours(p),d>=0&&d<60&&c.setMinutes(d),h>=0&&h<60&&c.setSeconds(h),c}var yo=Object.freeze({__proto__:null,serialiseDate:go,parseDateTimeFromString:mo});function _o(t,e,n){var o={},r=t.filter(function(t){return!e.some(function(e){return e===t})});return r.length>0&&r.forEach(function(t){return o[t]=vo(t,n)}),o}function vo(t,e,n,o){var r=o?wo:Eo,i=e.map(function(e){return{value:e,relevance:r(t.toLowerCase(),e.toLocaleLowerCase())}});return i.sort(function(t,e){return e.relevance-t.relevance}),n&&(i=i.filter(function(t){return 0!==t.relevance})),i.map(function(t){return t.value})}function Co(t){var e,n,o,r=t.toLowerCase(),i=new Array(r.length-1);for(e=n=0,o=i.length;n<=o;e=n+=1)i[e]=r.slice(e,e+2);return i}function Eo(t,e){if(0===t.length&&0===e.length)return 0;var n,o,r=Co(t),i=Co(e),s=r.length+i.length,a=0;for(n=0,o=r.length;n<o;n++){var l,c=r[n],u=void 0;for(u=0,l=i.length;u<l;u++)c===i[u]&&a++}return a>0?2*a/s:0}function wo(t,e){for(var n=t.replace(/\s/g,""),o=e.replace(/\s/g,""),r=0,i=0,s=0;s<n.length;s++){var a=o.indexOf(n[s],i);-1!==a&&(r+=100-100*(i=a)/1e4*100)}return r}var Oo=Object.freeze({__proto__:null,fuzzyCheckStrings:_o,fuzzySuggestions:vo,get_bigrams:Co,string_distances:Eo,string_weighted_distances:wo}),bo={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function So(t,e,n){var o=Po(t,e,n);if(o&&o.className.indexOf("ag-icon")>-1)return o;var r=document.createElement("span");return r.appendChild(o),r}function Po(t,e,n,o){var r=null,i=n&&n.getColDef().icons;if(i&&(r=i[t]),e&&!r){var s=e.getIcons();s&&(r=s[t])}if(!r){var a=document.createElement("span"),l=bo[t];return l||(o?l=t:(console.warn("AG Grid: Did not find icon "+t),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),kn(a,"presentation"),a}var c=void 0;if("function"==typeof r)c=r();else{if("string"!=typeof r)throw new Error("icon from grid options needs to be a string or a function");c=r}return"string"==typeof c?dn(c):Dn(c)?c:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Do=Object.freeze({__proto__:null,iconNameClassMap:bo,createIcon:So,createIconNoSpan:Po}),To=function(){function t(){}return t.BACKSPACE="Backspace",t.TAB="Tab",t.ENTER="Enter",t.ESCAPE="Escape",t.SPACE=" ",t.LEFT="ArrowLeft",t.UP="ArrowUp",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.DELETE="Delete",t.F2="F2",t.PAGE_UP="PageUp",t.PAGE_DOWN="PageDown",t.PAGE_HOME="Home",t.PAGE_END="End",t.A="KeyA",t.C="KeyC",t.V="KeyV",t.D="KeyD",t.Z="KeyZ",t.Y="KeyY",t}();function Ro(t){if(t.altKey||t.ctrlKey||t.metaKey)return!1;var e=1===t.key.length,n=function(t){return Ie()&&"Del"===t.key&&46===t.charCode}(t);return e||n}function Ao(t,e,n,o,r){var i=t.getSuppressKeyboardEventFunc(),s=o?o.getColDef().suppressKeyboardEvent:void 0;if(!i&&!s)return!1;var a={event:e,editing:r,column:o,api:t.getApi(),node:n,data:n.data,colDef:o.getColDef(),context:t.getContext(),columnApi:t.getColumnApi()};return!(!s||!s(a))||!!i&&i(a)}function Mo(t,e,n,o){var i=o.getDefinition(),s=i&&i.suppressHeaderKeyboardEvent;return!!r(s)&&!!s({api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext(),colDef:i,column:o,headerRowIndex:n,event:e})}function xo(t){var e;switch(t.keyCode){case 65:e=To.A;break;case 67:e=To.C;break;case 86:e=To.V;break;case 68:e=To.D;break;case 90:e=To.Z;break;case 89:e=To.Y;break;default:e=t.code}return e}var Io=Object.freeze({__proto__:null,isEventFromPrintableCharacter:Ro,isUserSuppressingKeyboardEvent:Ao,isUserSuppressingHeaderKeyboardEvent:Mo,normaliseQwertyAzerty:xo});function Lo(t,e,n){if(0===n)return!1;var o=Math.abs(t.clientX-e.clientX),r=Math.abs(t.clientY-e.clientY);return Math.max(o,r)<=n}var Fo=Object.freeze({__proto__:null,areEventsNear:Lo}),No=Object.freeze({__proto__:null,sortRowNodesByOrder:function(t,e){if(t){for(var n=function(t,n){var o=e[t.id],r=e[n.id],i=void 0!==o,s=void 0!==r;return i&&s?o-r:i||s?i?1:-1:t.__objectId-n.__objectId},o=!1,r=0;r<t.length-1;r++)if(n(t[r],t[r+1])>0){o=!0;break}o&&t.sort(n)}},traverseNodesWithKey:function(t,e){var n=[];!function t(o){o&&o.forEach(function(o){if(o.group||o.hasChildren()){n.push(o.key);var r=n.join("|");e(o,r),t(o.childrenAfterGroup),n.pop()}})}(t)}});function ko(t){var e=new Set;return t.forEach(function(t){return e.add(t)}),e}var Go=Object.freeze({__proto__:null,convertToSet:ko}),Bo=function(){return(Bo=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Wo=Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo({},In),ao),_t),Ye),Me),yo),xn),Ft),V),Oo),p),Do),Io),Qt),Fo),ho),S),No),Go),Xt),Vo=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return t.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},t.prototype.peek=function(){return this.nextValue},t.prototype.skip=function(t){this.nextValue+=t},t}(),Ho=(()=>(function(t){t[t.IN_PROGRESS=0]="IN_PROGRESS",t[t.RESOLVED=1]="RESOLVED"}(Ho||(Ho={})),Ho))(),Uo=function(){function t(t){var e=this;this.status=Ho.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(t){return e.onDone(t)},function(t){return e.onReject(t)})}return t.all=function(e){return new t(function(t){var n=e.length,o=new Array(n);e.forEach(function(e,r){e.then(function(e){o[r]=e,0==--n&&t(o)})})})},t.resolve=function(e){return void 0===e&&(e=null),new t(function(t){return t(e)})},t.prototype.then=function(e){var n=this;return new t(function(t){n.status===Ho.RESOLVED?t(e(n.resolution)):n.waiters.push(function(n){return t(e(n))})})},t.prototype.resolveNow=function(t,e){return this.status===Ho.RESOLVED?e(this.resolution):t},t.prototype.onDone=function(t){this.status=Ho.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},t.prototype.onReject=function(t){console.warn("TBI")},t}(),$o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zo=function(){return(zo=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},jo=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ko=(()=>(function(t){t[t.NOTHING=0]="NOTHING",t[t.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",t[t.SHOWING=2]="SHOWING"}(Ko||(Ko={})),Ko))(),Yo=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,n.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,n.SHOW_QUICK_TOOLTIP_DIFF=1e3,n.FADE_OUT_TOOLTIP_TIMEOUT=1e3,n.state=Ko.NOTHING,n.tooltipInstanceCount=0,n.tooltipMouseTrack=!1,n.parentComp=e,n}return $o(e,t),e.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))},e.prototype.destroy=function(){this.setToDoNothing(),t.prototype.destroy.call(this)},e.prototype.onMouseEnter=function(t){if(!Ge()&&this.state==Ko.NOTHING){var e=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),e),this.lastMouseEvent=t,this.state=Ko.WAITING_TO_SHOW}},e.prototype.onMouseLeave=function(){this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.setToDoNothing=function(){this.state===Ko.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Ko.NOTHING},e.prototype.onMouseMove=function(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===Ko.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime()),this.state=Ko.NOTHING},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var e=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout(function(){e(),t.getContext().destroyBean(n)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-e.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.showTooltip=function(){var t=zo({},this.parentComp.getTooltipParams());if(r(t.value)){this.state=Ko.SHOWING,this.tooltipInstanceCount++;var e=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(e)}else this.setToDoNothing()},e.prototype.newTooltipComponentCallback=function(t,e){if(this.state!==Ko.SHOWING||this.tooltipInstanceCount!==t)this.getContext().destroyBean(e);else{var n=e.getGui();this.tooltipComp=e,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom");var o=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.popupService.addPopup({eChild:n,ariaLabel:o("ariaLabelTooltip","Tooltip")});r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},e.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},e.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},jo([K("popupService")],e.prototype,"popupService",void 0),jo([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),jo([K("columnApi")],e.prototype,"columnApi",void 0),jo([K("gridApi")],e.prototype,"gridApi",void 0),jo([$],e.prototype,"postConstruct",null),e}(kt),qo=function(){function t(t){this.cssClassStates={},this.getGui=t}return t.prototype.addCssClass=function(t){var e=this,n=(t||"").split(" ");n.length>1?n.forEach(function(t){return e.addCssClass(t)}):!0!==this.cssClassStates[t]&&t.length&&(this.getGui().classList.add(t),this.cssClassStates[t]=!0)},t.prototype.removeCssClass=function(t){var e=this,n=(t||"").split(" ");n.length>1?n.forEach(function(t){return e.removeCssClass(t)}):!1!==this.cssClassStates[t]&&t.length&&(this.getGui().classList.remove(t),this.cssClassStates[t]=!1)},t.prototype.containsCssClass=function(t){return this.getGui().classList.contains(t)},t.prototype.addOrRemoveCssClass=function(t,e){var n=this;if(t){if(t.indexOf(" ")>=0){var o=(t||"").split(" ");if(o.length>1)return void o.forEach(function(t){return n.addOrRemoveCssClass(t,e)})}this.cssClassStates[t]!==e&&t.length&&(this.getGui().classList.toggle(t,e),this.cssClassStates[t]=e)}},t}(),Xo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zo=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qo=new Vo,Jo=function(t){function e(e){var n=t.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=Qo.next(),n.cssClassManager=new qo(function(){return n.eGui}),e&&n.setTemplate(e),n}return Xo(e,t),e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t){var e=this;this.tooltipText!=t&&(this.tooltipText&&(e.usingBrowserTooltips?e.getGui().removeAttribute("title"):e.tooltipFeature=e.destroyBean(e.tooltipFeature)),null!=t&&(this.tooltipText=t,this.tooltipText&&(e.usingBrowserTooltips?e.getGui().setAttribute("title",e.tooltipText):e.tooltipFeature=e.createBean(new Yo(e)))))},e.prototype.createChildComponentsFromTags=function(t,e){var n=this;Tn(t.childNodes).forEach(function(o){if(o instanceof HTMLElement){var r=n.createComponentFromElement(o,function(t){t.getGui()&&n.copyAttributesFromNode(o,t.getGui())},e);if(r){if(r.addItems&&o.children.length){n.createChildComponentsFromTags(o,e);var i=Array.prototype.slice.call(o.children);r.addItems(i)}n.swapComponentForNode(r,t,o)}else o.childNodes&&n.createChildComponentsFromTags(o,e)}})},e.prototype.createComponentFromElement=function(t,n,o){var r=t.nodeName,i=o?o[t.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(r);if(s){e.elementGettingCreated=t;var a=new s(i);return a.setParentComponent(this),this.createBean(a,null,n),a}return null},e.prototype.copyAttributesFromNode=function(t,e){Rn(t.attributes,function(t,n){return e.setAttribute(t,n)})},e.prototype.swapComponentForNode=function(t,e,n){var o=t.getGui();e.replaceChild(o,n),e.insertBefore(document.createComment(n.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,n)},e.prototype.swapInComponentForQuerySelectors=function(t,e){var n=this;this.iterateOverQuerySelectors(function(o){n[o.attributeName]===e&&(n[o.attributeName]=t)})},e.prototype.iterateOverQuerySelectors=function(t){for(var e=Object.getPrototypeOf(this);null!=e;){var n=e.__agComponentMetaData,o=A(e.constructor);n&&n[o]&&n[o].querySelectors&&n[o].querySelectors.forEach(function(e){return t(e)}),e=Object.getPrototypeOf(e)}},e.prototype.setTemplate=function(t,e){var n=dn(t);this.setTemplateFromElement(n,e)},e.prototype.setTemplateFromElement=function(t,e){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),e)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var e=this;this.iterateOverQuerySelectors(function(n){var o=function(t){return e[n.attributeName]=t};if(n.refSelector&&t.eGui.getAttribute("ref")===n.refSelector)o(t.eGui);else{var r=t.eGui.querySelector(n.querySelector);r&&o(r.__agComponent||r)}})}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,e){if(e||(e=this.eGui),null!=t)if(Dn(t))e.appendChild(t);else{var n=t;e.appendChild(n.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,n))}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t){t!==this.visible&&(this.visible=t,Ze(this.eGui,t))},e.prototype.setDisplayed=function(t){t!==this.displayed&&(this.displayed=t,Xe(this.eGui,t),this.dispatchEvent({type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),t.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,e){var n=this;this.eGui.addEventListener(t,e),this.addDestroyFunc(function(){return n.eGui.removeEventListener(t,e)})},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,e){this.cssClassManager.addOrRemoveCssClass(t,e)},e.prototype.getAttribute=function(t){var e=this.eGui;return e?e.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",Zo([K("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),Zo([U],e.prototype,"preConstructOnComponent",null),Zo([U],e.prototype,"createChildComponentsPreConstruct",null),e}(kt);function tr(t){return er.bind(this,"[ref="+t+"]",t)}function er(t,e,n,o,r){var i,s,a,l;null!==t?"number"!=typeof r?(s="querySelectors",a={attributeName:o,querySelector:t,refSelector:e},(l=function(t,e){return t.__agComponentMetaData||(t.__agComponentMetaData={}),t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={}),t.__agComponentMetaData[e]}(i=n,A(i.constructor)))[s]||(l[s]=[]),l[s].push(a)):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var nr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),or=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rr=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return nr(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+n("ariaFilterInput","Filter Input"))},e.prototype.onParentModelChanged=function(t){var e=this;t?this.params.parentFilterInstance(function(n){if(n.getModelAsString){var o=n.getModelAsString(t);e.eFloatingFilterText.setValue(o)}}):this.eFloatingFilterText.setValue("")},or([tr("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),or([K("columnModel")],e.prototype,"columnModel",void 0),e}(Jo),ir=function(){function t(t,e,n,o){var r=this;this.alive=!0,this.context=t,this.eParent=o,e.getDateCompDetails(n).newAgStackInstance().then(function(e){r.alive?(r.dateComp=e,e&&(o.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached(),r.tempValue&&e.setDate(r.tempValue),null!=r.disabled&&r.setDateCompDisabled(r.disabled))):t.destroyBean(e)})}return t.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},t.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},t.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},t.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},t.prototype.setDisplayed=function(t){Xe(this.eParent,t)},t.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},t.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},t.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},t.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},t}(),sr=function(){return(sr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ar=function(){function t(){this.customFilterOptions={}}return t.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t),this.checkForDeprecatedParams()},t.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(t){return"string"!=typeof t&&null!=t.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(t){return"string"!=typeof t&&null!=t.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},t.prototype.getFilterOptions=function(){return this.filterOptions},t.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if("string"!=typeof e)if([["displayKey"],["displayName"],["predicate","test"]].every(function(t){return!!t.some(function(t){return null!=e[t]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+t+"'"),!1)})){var n=e.test,o=sr({},e);null!=n&&null==e.predicate&&(o.predicate=function(t,e){return n(t[0],e)},delete o.test),o.hideFilterInput&&null==o.numberOfInputs&&(o.numberOfInputs=0,delete o.hideFilterInput),t.customFilterOptions[e.displayKey]=o}else t.filterOptions=t.filterOptions.filter(function(t){return t===e})||[]})},t.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},t.prototype.getDefaultOption=function(){return this.defaultOption},t.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},t}(),lr={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},cr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ur=function(){return(ur=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},pr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dr=function(t){function e(e,n){void 0===n&&(n={});var o=t.call(this)||this;return o.eFocusableElement=e,o.callbacks=n,o.callbacks=ur({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(t){if(!t.defaultPrevented){var e=o.focusService.findNextFocusableElement(o.eFocusableElement,!1,t.shiftKey);e&&(e.focus(),t.preventDefault())}}},n),o}return cr(e,t),e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var e=this;this.addManagedListener(t,"keydown",function(t){t.defaultPrevented||Pt(t)||(e.callbacks.shouldStopEventPropagation(t)?St(t):t.key===To.TAB?e.callbacks.onTabKeyDown(t):e.callbacks.handleKeyDown&&e.callbacks.handleKeyDown(t))})},e.FOCUS_MANAGED_CLASS="ag-focus-managed",pr([K("focusService")],e.prototype,"focusService",void 0),pr([$],e.prototype,"postConstruct",null),e}(kt),hr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gr=function(t){function e(e){var n=t.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.appliedModel=null,n}return hr(e,t),e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new dr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var e='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(e,t)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var e=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){e.updateUiVisibility(),e.setupOnBtApplyDebounce()})},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,e=this.providedFilterParams.buttons;if(!(!e||e.length<1||this.isReadOnly())){var n=document.createElement("div");n.classList.add("ag-filter-apply-panel"),ko(e).forEach(function(e){return function(e){var o,r;switch(e){case"apply":o=t.translate("applyFilter"),r=function(e){return t.onBtApply(!1,!1,e)};break;case"clear":o=t.translate("clearFilter"),r=function(){return t.onBtClear()};break;case"reset":o=t.translate("resetFilter"),r=function(){return t.onBtReset()};break;case"cancel":o=t.translate("cancelFilter"),r=function(e){t.onBtCancel(e)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var i=dn('<button\n                    type="button"\n                    ref="'+e+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+o+"\n                </button>");n.appendChild(i),t.addManagedListener(i,"click",r)}(e)}),this.getGui().appendChild(n)}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=k(this.onBtApply.bind(this),t)},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var e=this;return(null!=t?this.setModelIntoUi(t):this.resetUiToDefaults()).then(function(){e.updateUiVisibility(),e.applyModel()})},e.prototype.onBtCancel=function(t){var e=this,n=this.getModel(),o=function(){e.onUiChanged(!1,"prevent"),e.providedFilterParams.closeOnApply&&e.close(t)};null!=n?this.setModelIntoUi(n).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(){var t=this.getModelFromUi();if(!this.isModelValid(t))return!1;var e=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(e,t)},e.prototype.isModelValid=function(t){return!0},e.prototype.onBtApply=function(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e}),this.providedFilterParams.closeOnApply&&this.applyActive&&!t&&!e&&this.close(n)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var e,n=t&&t.key;"Enter"!==n&&"Space"!==n||(e={keyboardEvent:t}),this.hidePopup(e),this.hidePopup=null}},e.prototype.onUiChanged=function(t,e){if(void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var n=this.isModelValid(this.getModelFromUi());Qe(this.getRefElement("applyFilterButton"),!n)}t&&!e||"immediately"===e?this.onBtApply(t):(this.applyActive||e)&&"debounce"!==e||this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){null!=t&&(this.hidePopup=t.hidePopup)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:n},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){this.hidePopup=null,t.prototype.destroy.call(this)},e.prototype.translate=function(t){return this.gridOptionsWrapper.getLocaleTextFunc()(t,lr[t])},e.prototype.getCellValue=function(t){var e=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:e.api,colDef:e.colDef,column:e.column,columnApi:e.columnApi,context:e.context,data:t.data,getValue:function(e){return t.data[e]},node:t})},fr([K("rowModel")],e.prototype,"rowModel",void 0),fr([K("valueService")],e.prototype,"valueService",void 0),fr([$],e.prototype,"postConstruct",null),e}(Jo),mr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yr=function(t){function e(e,n){var o=t.call(this,n)||this;return o.labelSeparator="",o.labelAlignment="left",o.disabled=!1,o.label="",o.config=e||{},o}return mr(e,t),e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,e=t.labelSeparator,n=t.label,o=t.labelWidth,r=t.labelAlignment;null!=e&&this.setLabelSeparator(e),null!=n&&this.setLabel(n),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){cn(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),kn(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),kn(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t||(this.label=t,this.refreshLabel()),this},e.prototype.setLabelAlignment=function(t){var e=this.getGui().classList;return e.toggle("ag-label-align-left","left"===t),e.toggle("ag-label-align-right","right"===t),e.toggle("ag-label-align-top","top"===t),this},e.prototype.setLabelWidth=function(t){return null==this.label||En(this.eLabel,t),this},e.prototype.setDisabled=function(t){t=!!t;var e=this.getGui();return Qe(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([$],e.prototype,"postConstruct",null),e}(Jo),_r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vr=function(t){function e(e,n,o){var r=t.call(this,e,n)||this;return r.className=o,r}return _r(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},e.prototype.onValueChange=function(t){var n=this;return this.addManagedListener(this,e.EVENT_CHANGED,function(){return t(n.getValue())}),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return wn(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t||(this.previousValue=this.value,this.value=t,n||this.dispatchEvent({type:e.EVENT_CHANGED})),this},e.EVENT_CHANGED="valueChange",e}(yr),Cr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Er=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wr=function(t){function e(e,n,o,r){var i=t.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(r?'role="'+r+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',n)||this;return i.pickerIcon=o,i.isPickerDisplayed=!1,i.isDestroyingPicker=!1,i.skipClick=!1,i}return Cr(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var n=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",n),$n(this.eWrapper,n);var o=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},r=this.getGui();if(this.addManagedListener(r,"mousedown",function(t){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&pn(e.pickerComponent.getGui())&&r.contains(t.target)&&(e.skipClick=!0)}),this.addManagedListener(r,"keydown",function(t){switch(t.key){case To.UP:case To.DOWN:case To.ENTER:case To.SPACE:o();case To.ESCAPE:e.isPickerDisplayed&&t.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",o),this.addManagedListener(this.eLabel,"click",o),this.pickerIcon){var i=Po(this.pickerIcon,this.gridOptionsWrapper);i&&this.eIcon.appendChild(i)}},e.prototype.refreshLabel=function(){r(this.getLabel())?Hn(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.setAriaLabel=function(t){return Vn(this.eWrapper,t),this},e.prototype.setInputWidth=function(t){return En(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},Er([tr("eLabel")],e.prototype,"eLabel",void 0),Er([tr("eWrapper")],e.prototype,"eWrapper",void 0),Er([tr("eDisplayField")],e.prototype,"eDisplayField",void 0),Er([tr("eIcon")],e.prototype,"eIcon",void 0),e}(vr),Or=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),br=function(t){function e(e){void 0===e&&(e="default");var n=t.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return Or(e,t),e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var e=t.key;switch(e){case To.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case To.DOWN:case To.UP:var o=e===To.DOWN,r=void 0;if(t.preventDefault(),this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),r=this.itemEls[i]}else r=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(r)}},e.prototype.addOptions=function(t){var e=this;return t.forEach(function(t){return e.addOption(t)}),this},e.prototype.addOption=function(t){var e=t.value,n=Yt(t.text||e);return this.options.push({value:e,text:n}),this.renderOption(e,n),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(e,n){Xn(e,n+1),qn(e,t.length)})},e.prototype.renderOption=function(t,e){var n=this,o=document.createElement("div");kn(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+e+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return n.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return n.clearHighlighted()}),this.addManagedListener(o,"click",function(){return n.setValue(t)}),this.getGui().appendChild(o)},e.prototype.setValue=function(t,e){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;var n=this.options.findIndex(function(e){return e.value===t});if(-1!==n){var o=this.options[n];this.value=o.value,this.displayValue=null!=o.text?o.text:o.value,this.highlightItem(this.itemEls[n]),e||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var e=this.options.findIndex(function(e){return e.value===t.value});-1!==e&&this.highlightItem(this.itemEls[e])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),io(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),io(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:vr.EVENT_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([$],e.prototype,"init",null),e}(Jo),Sr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dr=function(t){function e(e){return t.call(this,e,"ag-select","smallDown","listbox")||this}return Sr(e,t),e.prototype.init=function(){var t=this;this.listComponent=this.createBean(new br("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,br.EVENT_ITEM_SELECTED,function(){t.hideList&&t.hideList()}),this.listComponent.addManagedListener(this.listComponent,vr.EVENT_CHANGED,function(){t.setValue(t.listComponent.getValue(),!1,!0),t.hideList&&t.hideList()})},e.prototype.showPicker=function(){var t=this,e=this.listComponent.getGui(),n=this.gridOptionsWrapper.getDocument(),o=this.addManagedListener(n.body,"wheel",function(n){!e.contains(n.target)&&t.hideList&&t.hideList()}),r=this.addManagedListener(e,"focusout",function(n){!e.contains(n.relatedTarget)&&t.hideList&&t.hideList()}),i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,closedCallback:function(){t.hideList=null,t.isPickerDisplayed=!1,r(),o(),t.isAlive()&&(Kn(t.eWrapper,!1),t.getFocusableElement().focus())},ariaLabel:i("ariaLabelSelectField","Select Field")});return s&&(this.hideList=s.hideFunc),this.isPickerDisplayed=!0,En(e,rn(this.eWrapper)),Kn(this.eWrapper,!0),e.style.maxHeight=en(this.popupService.getPopupParent())+"px",e.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:e,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},e.prototype.addOptions=function(t){var e=this;return t.forEach(function(t){return e.addOption(t)}),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(e,n,o){return this.value===e?this:(o||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),t.prototype.setValue.call(this,e,n)))},e.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),t.prototype.destroy.call(this)},Pr([K("popupService")],e.prototype,"popupService",void 0),Pr([$],e.prototype,"init",null),e}(wr),Tr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ar=function(t){function e(e,n,o,r){void 0===o&&(o="text"),void 0===r&&(r="input");var i=t.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+r+' ref="eInput" class="ag-input-field-input"></'+r+">\n                </div>\n            </div>",n)||this;return i.inputType=o,i.displayFieldTag=r,i}return Tr(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,n=e.width,o=e.value;null!=n&&this.setWidth(n),null!=o&&this.setValue(o),this.addInputListeners()},e.prototype.refreshLabel=function(){r(this.getLabel())?Hn(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(e){return t.setValue(e.target.value)})},e.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return En(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){return this.eInput.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return An(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return Vn(this.eInput,t),this},e.prototype.setDisabled=function(e){return Qe(this.eInput,e),t.prototype.setDisabled.call(this,e)},Rr([tr("eLabel")],e.prototype,"eLabel",void 0),Rr([tr("eWrapper")],e.prototype,"eWrapper",void 0),Rr([tr("eInput")],e.prototype,"eInput",void 0),e}(vr),Mr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ir=(()=>(function(t){t[t.One=0]="One",t[t.Two=1]="Two"}(Ir||(Ir={})),Ir))(),Lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mr(e,t),e.prototype.getNumberOfInputs=function(t){var n=this.optionsFactory.getCustomOption(t);if(n){var o=n.numberOfInputs;return null!=o?o:1}return t&&[e.EMPTY,e.NOT_BLANK,e.BLANK].indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){this.eType1.setValue(t),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},e.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Ir.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Ir.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Ir.One),condition2:this.createCondition(Ir.Two)}:this.createCondition(Ir.One):null},e.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},e.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},e.prototype.areModelsEqual=function(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var n,o=!t.operator,r=!e.operator;if(!o&&r||o&&!r)return!1;if(o)n=this.areSimpleModelsEqual(t,e);else{var i=t,s=e;n=i.operator===s.operator&&this.areSimpleModelsEqual(i.condition1,s.condition1)&&this.areSimpleModelsEqual(i.condition2,s.condition2)}return n},e.prototype.setModelIntoUi=function(t){if(t.operator){var e=t,n="OR"===e.operator;this.eJoinOperatorAnd.setValue(!n),this.eJoinOperatorOr.setValue(n),this.eType1.setValue(e.condition1.type),this.eType2.setValue(e.condition2.type),this.setConditionIntoUi(e.condition1,Ir.One),this.setConditionIntoUi(e.condition2,Ir.Two)}else{var o=t;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(o.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(o,Ir.One),this.setConditionIntoUi(null,Ir.Two)}return Uo.resolve()},e.prototype.doesFilterPass=function(t){var e=this,n=this.getModel();if(null==n)return!0;var o=n.operator,r=[];return o?r.push(n.condition1,n.condition2):r.push(n),r[o&&"OR"===o?"some":"every"](function(n){return e.individualConditionPasses(t,n)})},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.optionsFactory=new ar,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.allowTwoConditions=!e.suppressAndOrCondition,this.alwaysShowBothConditions=!!e.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},e.prototype.getDefaultJoinOperator=function(t){return gt(["AND","OR"],t)?t:"AND"},e.prototype.putOptionsIntoDropdown=function(){var t=this,e=this.optionsFactory.getFilterOptions(),n=[this.eType1,this.eType2];e.forEach(function(e){var o="string"==typeof e?t.createBoilerplateListOption(e):t.createCustomListOption(e);n.forEach(function(t){return t.addOption(o)})}),n.forEach(function(t){return t.setDisabled(e.length<=1)})},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var e=t.displayKey,n=this.optionsFactory.getCustomOption(t.displayKey);return{value:e,text:n?this.gridOptionsWrapper.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(e)}},e.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},e.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Ir.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Ir.Two)},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this,e=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(e,n){var o=t.isConditionVisible(n),r=t.isConditionDisabled(n);e.forEach(function(t){t instanceof Ar||t instanceof Dr?(t.setDisabled(r),t.setDisplayed(o)):(Qe(t,r),Xe(t,o))})}),e.forEach(function(e,n){Xe(e,t.isConditionBodyVisible(n))}),this.forEachInput(function(e,n,o,r){t.setElementDisplayed(e,n<r),t.setElementDisabled(e,t.isConditionDisabled(o))}),this.resetPlaceholder()},e.prototype.afterGuiAttached=function(e){if(t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){var n=this.getInputs()[0][0];if(!n)return;n instanceof Ar&&n.getInputElement().focus()}},e.prototype.resetPlaceholder=function(){var t=this,e=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(n,o,r,i){if(n instanceof Ar){var s=0===o&&i>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",a=0===o&&i>1?e("ariaFilterFromValue","Filter from value"):0===o?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(t.translate(s)),n.setInputAriaLabel(a)}})},e.prototype.setElementValue=function(t,e,n){t instanceof Ar&&t.setValue(null!=e?String(e):null,n)},e.prototype.setElementDisplayed=function(t,e){t instanceof Jo&&Xe(t.getGui(),e)},e.prototype.setElementDisabled=function(t,e){t instanceof Jo&&Qe(t.getGui(),e)},e.prototype.attachElementOnChange=function(t,e){t instanceof Ar&&t.onValueChange(e)},e.prototype.forEachInput=function(t){var e=this,n=this.getInputs();this.getConditionTypes().forEach(function(o,r){for(var i=e.getNumberOfInputs(o),s=0;s<n[r].length;s++){var a=n[r][s];null!=a&&t(a,s,r,i)}})},e.prototype.isConditionVisible=function(t){return 0===t||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(t):!!this.alwaysShowBothConditions||this.isConditionUiComplete(t-1))},e.prototype.isConditionDisabled=function(t){return!!this.isReadOnly()||!this.isConditionVisible(t)||0!==t&&!this.isConditionUiComplete(t-1)},e.prototype.isConditionBodyVisible=function(t){if(!this.isConditionVisible(t))return!1;var e=this.getConditionTypes()[t];return this.getNumberOfInputs(e)>0},e.prototype.isConditionUiComplete=function(t){return this.getConditionTypes()[t]!==e.EMPTY&&!this.getValues(t).some(function(t){return null==t})},e.prototype.resetUiToDefaults=function(t){var e=this,n=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),o="ag-simple-filter-and-or-"+this.getCompId(),r=this.optionsFactory.getDefaultOption();return this.eType1.setValue(r,t).setAriaLabel(n).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),t).setAriaLabel(n).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),t).setName(o).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),t).setName(o).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(n){e.setElementValue(n,null,t),e.setElementDisabled(n,e.isReadOnly())}),this.resetPlaceholder(),Uo.resolve()},e.prototype.setConditionIntoUi=function(t,e){var n=this,o=this.mapValuesFromModel(t);this.forEachInput(function(t,r,i,s){i===e&&n.setElementValue(t,null!=o[r]?o[r]:null)})},e.prototype.setValueFromFloatingFilter=function(t){var e=this;this.forEachInput(function(n,o,r,i){e.setElementValue(n,0===o&&0===r?t:null)})},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(){var t=this;if(!this.isReadOnly()){var e=function(){return t.onUiChanged()};this.eType1.onValueChange(e),this.eType2.onValueChange(e),this.eJoinOperatorOr.onValueChange(e),this.eJoinOperatorAnd.onValueChange(e),this.forEachInput(function(n){t.attachElementOnChange(n,e)})}},e.prototype.individualConditionPasses=function(t,e){var n=this.getCellValue(t.node),o=this.mapValuesFromModel(e),r=this.optionsFactory.getCustomOption(e.type),i=this.evaluateCustomFilter(r,o,n);return null!=i?i:null==n?this.evaluateNullValue(e.type):this.evaluateNonNullValue(o,n,e,t)},e.prototype.evaluateCustomFilter=function(t,e,n){if(null!=t){var o=t.predicate;return null==o||e.some(function(t){return null==t})?void 0:o(e,n)}},e.prototype.isBlank=function(t){return null==t||"string"==typeof t&&0===t.trim().length},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",xr([tr("eOptions1")],e.prototype,"eType1",void 0),xr([tr("eOptions2")],e.prototype,"eType2",void 0),xr([tr("eJoinOperatorPanel")],e.prototype,"eJoinOperatorPanel",void 0),xr([tr("eJoinOperatorAnd")],e.prototype,"eJoinOperatorAnd",void 0),xr([tr("eJoinOperatorOr")],e.prototype,"eJoinOperatorOr",void 0),xr([tr("eCondition1Body")],e.prototype,"eCondition1Body",void 0),xr([tr("eCondition2Body")],e.prototype,"eCondition2Body",void 0),e}(gr),Fr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fr(e,t),e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.scalarFilterParams=e},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,n,o){var r=this.comparator(),i=null!=t[0]?r(t[0],n):0;switch(o.type){case e.EQUALS:return 0===i;case e.NOT_EQUAL:return 0!==i;case e.GREATER_THAN:return i>0;case e.GREATER_THAN_OR_EQUAL:return i>=0;case e.LESS_THAN:return i<0;case e.LESS_THAN_OR_EQUAL:return i<=0;case e.IN_RANGE:var s=r(t[1],n);return this.scalarFilterParams.inRangeInclusive?i>=0&&s<=0:i>0&&s<0;case e.BLANK:return this.isBlank(n);case e.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+o.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(Lr),kr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gr=function(){return(Gr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Br=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wr=1/0,Vr=function(t){function e(){var e=t.call(this,"dateFilter")||this;return e.minValidYear=1e3,e.maxValidYear=Wr,e}return kr(e,t),e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.dateCondition1FromComp.afterGuiAttached(e)},e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.dateFrom,o=e.dateTo,r=e.type;return[n&&mo(n)||null,o&&mo(o)||null].slice(0,this.getNumberOfInputs(r))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,e){return null==e||e<t?-1:e>t?1:0},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.dateFilterParams=e;var n=function(t,n){if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?n:Number(e[t]);console.warn("AG Grid: DateFilter "+t+" is not a number")}return n};this.minValidYear=n("minValidYear",1e3),this.maxValidYear=n("maxValidYear",Wr),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},e.prototype.createDateComponents=function(){var t=this,e=function(e){return new ir(t.getContext(),t.userComponentFactory,{onDateChanged:function(){return t.onUiChanged()},filterParams:t.dateFilterParams},e)};this.dateCondition1FromComp=e(this.eCondition1PanelFrom),this.dateCondition1ToComp=e(this.eCondition1PanelTo),this.dateCondition2FromComp=e(this.eCondition2PanelFrom),this.dateCondition2ToComp=e(this.eCondition2PanelTo),this.addDestroyFunc(function(){t.forEachInput(function(t){return t.destroy()})})},e.prototype.setElementValue=function(t,e,n){t.setDate(e)},e.prototype.setElementDisplayed=function(t,e){t.setDisplayed(e)},e.prototype.setElementDisabled=function(t,e){t.setDisabled(e)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===Ir.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+e+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+e+'PanelTo"></div>\n            </div>'},e.prototype.isConditionUiComplete=function(e){var n=this;if(!t.prototype.isConditionUiComplete.call(this,e))return!1;var o=!0;return this.forEachInput(function(t,r,i,s){var a;i!==e||!o||r>=s||(o=o&&null!=(a=t.getDate())&&a.getUTCFullYear()>=n.minValidYear&&a.getUTCFullYear()<=n.maxValidYear)}),o},e.prototype.areSimpleModelsEqual=function(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var e=this.getConditionTypes()[t],n={},o=this.getValues(t);return o.length>0&&(n.dateFrom=go(o[0])),o.length>1&&(n.dateTo=go(o[1])),Gr({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:e},n)},e.prototype.resetPlaceholder=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.translate("dateFormatOoo"),n=t("ariaFilterValue","Filter Value");this.forEachInput(function(t){t.setInputPlaceholder(e),t.setInputAriaLabel(n)})},e.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},e.prototype.getValues=function(t){var e=[];return this.forEachInput(function(n,o,r,i){t===r&&o<i&&e.push(n.getDate())}),e},e.DEFAULT_FILTER_OPTIONS=[Nr.EQUALS,Nr.GREATER_THAN,Nr.LESS_THAN,Nr.NOT_EQUAL,Nr.IN_RANGE,Nr.BLANK,Nr.NOT_BLANK],Br([tr("eCondition1PanelFrom")],e.prototype,"eCondition1PanelFrom",void 0),Br([tr("eCondition1PanelTo")],e.prototype,"eCondition1PanelTo",void 0),Br([tr("eCondition2PanelFrom")],e.prototype,"eCondition2PanelFrom",void 0),Br([tr("eCondition2PanelTo")],e.prototype,"eCondition2PanelTo",void 0),Br([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(Nr),Hr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.getTextFromModel=function(t){if(!t)return null;if(null!=t.operator){var e=t,n=e||{},o=n.condition1,r=n.condition2,i=this.optionsFactory.getCustomOption(o.type),s=this.optionsFactory.getCustomOption(r.type);return[this.conditionToString(o,i),e.operator,this.conditionToString(r,s)].join(" ")}var a=t,l=this.optionsFactory.getCustomOption(a.type),c=l||{},u=c.displayKey,p=c.displayName;return u&&p&&0===c.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(u,p),p):this.conditionToString(a,l)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){this.lastType=t?(t.operator?t.condition1:t).type:this.optionsFactory.getDefaultOption()},e.prototype.canWeEditAfterModelFromParentFilter=function(t){return t?!t.operator&&this.isTypeEditable(t.type):this.isTypeEditable(this.lastType)},e.prototype.init=function(t){this.optionsFactory=new ar,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;var e=this.isTypeEditable(this.lastType);this.setEditable(e)},e.prototype.doesFilterHaveSingleInput=function(t){var e=(this.optionsFactory.getCustomOption(t)||{}).numberOfInputs;return null==e||1==e},e.prototype.isTypeEditable=function(t){var e=[Lr.IN_RANGE,Lr.EMPTY,Lr.BLANK,Lr.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0},e}(Jo),$r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jr=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return $r(e,t),e.prototype.getDefaultFilterOptions=function(){return Vr.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(t,e){var n=t.type,o=n==Lr.IN_RANGE||2===(e||{}).numberOfInputs,r=mo(t.dateFrom),i=mo(t.dateTo);return o?go(r,!1)+"-"+go(i,!1):null!=r?""+go(r,!1):""+n},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.createDateComponent();var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},e.prototype.setEditable=function(t){Xe(this.eDateWrapper,t),Xe(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(e,n){if(!this.isEventFromFloatingFilter(n)){t.prototype.setLastTypeFromModel.call(this,e);var o=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(o),o?(this.dateComp.setDate(e?mo(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(e)),this.dateComp.setDate(null))}},e.prototype.onDateChanged=function(){var t=this,e=go(this.dateComp.getDate());this.params.parentFilterInstance(function(n){if(n){var o=mo(e);n.onFloatingFilterChanged(t.getLastType()||null,o)}})},e.prototype.createDateComponent=function(){var t=this,e=gr.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:k(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new ir(this.getContext(),this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},zr([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),zr([tr("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),zr([tr("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(Ur),Kr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yr=function(t){function e(){return t.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Kr(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this,n=this.gridOptionsWrapper.getDocument(),o=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(t)&&(o.type="date"),this.addManagedListener(o,"mousedown",function(){e.eDateInput.isDisabled()||o.focus()}),this.addManagedListener(o,"input",function(o){o.target===n.activeElement&&(e.eDateInput.isDisabled()||t.onDateChanged())});var r=t.filterParams||{},i=r.minValidYear,s=r.maxValidYear;i&&(o.min=i+"-01-01"),s&&(o.max=s+"-12-31")},e.prototype.getDate=function(){return mo(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(go(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){t&&t.suppressFocus||this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:Fe()||Ne()},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([tr("eDateInput")],e.prototype,"eDateInput",void 0),e}(Jo),qr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zr=function(t){function e(){return t.call(this,"numberFilter")||this}return qr(e,t),e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.filter,o=e.filterTo;return[null==n?null:n,null==o?null:o].slice(0,this.getNumberOfInputs(e.type))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,e){return t===e?0:t<e?1:-1}},e.prototype.setParams=function(e){this.numberFilterParams=e;var n=this.getAllowedCharPattern();if(n){var o={allowedCharPattern:n};this.resetTemplate({"eValue-index0-1":o,"eValue-index1-1":o,"eValue-index0-2":o,"eValue-index1-2":o})}t.prototype.setParams.call(this,e)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===Ir.One?"1":"2",n=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body" role="presentation">\n                <'+n+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+e+'"></'+n+">\n                <"+n+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+e+'"></'+n+">\n            </div>"},e.prototype.getValues=function(t){var e=this,n=[];return this.forEachInput(function(o,r,i,s){t===i&&r<s&&n.push(e.stringToFloat(o.getValue()))}),n},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getFilterType=function(){return"number"},e.prototype.stringToFloat=function(t){if("number"==typeof t)return t;var e=o(t);return null!=e&&""===e.trim()&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):null==e||"-"===e.trim()?null:parseFloat(e)},e.prototype.createCondition=function(t){var e=this.getConditionTypes()[t],n={filterType:this.getFilterType(),type:e},o=this.getValues(t);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n},e.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},e.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Fe()||Ie()?null:"\\d\\-\\.")},e.DEFAULT_FILTER_OPTIONS=[Nr.EQUALS,Nr.NOT_EQUAL,Nr.LESS_THAN,Nr.LESS_THAN_OR_EQUAL,Nr.GREATER_THAN,Nr.GREATER_THAN_OR_EQUAL,Nr.IN_RANGE,Nr.BLANK,Nr.NOT_BLANK],Xr([tr("eValue-index0-1")],e.prototype,"eValueFrom1",void 0),Xr([tr("eValue-index1-1")],e.prototype,"eValueTo1",void 0),Xr([tr("eValue-index0-2")],e.prototype,"eValueFrom2",void 0),Xr([tr("eValue-index1-2")],e.prototype,"eValueTo2",void 0),e}(Nr),Qr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jr=function(){return(Jr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ti=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ei=function(t){function e(){return t.call(this,"textFilter")||this}return Qr(e,t),e.trimInput=function(t){var e=t&&t.trim();return""===e?t:e},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(n){t.prototype.setParams.call(this,n),this.textFilterParams=n,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(Wo.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(e){return t(e.filterOption,e.value,e.filterText)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var e=this.getConditionTypes()[t],n={filterType:this.getFilterType(),type:e},o=this.getValues(t);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},e.prototype.getValues=function(t){var n=this,r=[];return this.forEachInput(function(i,s,a,l){if(t===a&&s<l){var c=o(i.getValue()),u=(n.textFilterParams.trimInput?e.trimInput(c):c)||null;r.push(u),i.setValue(u,!0)}}),r},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===Ir.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+e+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+e+'"></ag-input-text-field>\n            </div>'},e.prototype.mapValuesFromModel=function(t){var e=t||{};return[e.filter||null,e.filterTo||null].slice(0,this.getNumberOfInputs(e.type))},e.prototype.evaluateNullValue=function(t){return!!t&&[Lr.NOT_EQUAL,Lr.NOT_CONTAINS,Lr.BLANK].indexOf(t)>=0},e.prototype.evaluateNonNullValue=function(t,e,n,o){var r=this,i=t.map(function(t){return r.formatter(t)})||[],s=this.formatter(e),a=this.textFilterParams,l=a.api,c=a.colDef,u=a.column,p=a.columnApi,d=a.context,h=a.textFormatter;if(n.type===Lr.BLANK)return this.isBlank(e);if(n.type===Lr.NOT_BLANK)return!this.isBlank(e);var f={api:l,colDef:c,column:u,columnApi:p,context:d,node:o.node,data:o.data,filterOption:n.type,value:s,textFormatter:h};return i.some(function(t){return r.matcher(Jr(Jr({},f),{filterText:t}))})},e.DEFAULT_FILTER_OPTIONS=[Lr.CONTAINS,Lr.NOT_CONTAINS,Lr.EQUALS,Lr.NOT_EQUAL,Lr.STARTS_WITH,Lr.ENDS_WITH,Lr.BLANK,Lr.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var n=t.value,o=t.filterText;if(null==o)return!1;switch(t.filterOption){case e.CONTAINS:return n.indexOf(o)>=0;case e.NOT_CONTAINS:return n.indexOf(o)<0;case e.EQUALS:return n===o;case e.NOT_EQUAL:return n!=o;case e.STARTS_WITH:return 0===n.indexOf(o);case e.ENDS_WITH:var r=n.lastIndexOf(o);return r>=0&&r===n.length-o.length;default:return!1}},ti([tr("eValue-index0-1")],e.prototype,"eValueFrom1",void 0),ti([tr("eValue-index1-1")],e.prototype,"eValueTo1",void 0),ti([tr("eValue-index0-2")],e.prototype,"eValueFrom2",void 0),ti([tr("eValue-index1-2")],e.prototype,"eValueTo2",void 0),e}(Lr),ni=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ni(e,t),e.prototype.postConstruct=function(){this.resetTemplate()},e.prototype.resetTemplate=function(t){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',t)},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,e){this.isEventFromFloatingFilter(e)||(this.setLastTypeFromModel(t),this.eFloatingFilterInput.setValue(this.getTextFromModel(t)),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)))},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.applyActive=gr.isUseApplyButton(this.params.filterParams);var n=this.params.filterParams.allowedCharPattern;if(null!=n&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:n}}),!this.isReadOnly()){var o=gr.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=k(this.syncUpWithParentFilter.bind(this),o),i=this.eFloatingFilterInput.getGui();this.addManagedListener(i,"input",r),this.addManagedListener(i,"keypress",r),this.addManagedListener(i,"keydown",r)}var s=e.column.getDefinition();(this.isReadOnly()||s.filterParams&&s.filterParams.filterOptions&&1===s.filterParams.filterOptions.length&&"inRange"===s.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var a=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),l=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(a+" "+l("ariaFilterInput","Filter Input"))},e.prototype.syncUpWithParentFilter=function(t){var e=this;if(!this.applyActive||t.key===To.ENTER){var n=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(n=ei.trimInput(n),this.eFloatingFilterInput.setValue(n,!0)),this.params.parentFilterInstance(function(t){t&&t.onFloatingFilterChanged(e.getLastType()||null,n||null)})}},e.prototype.conditionToString=function(t,e){return t.type==Lr.IN_RANGE||2===(e||{}).numberOfInputs?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e.prototype.setEditable=function(t){this.eFloatingFilterInput.setDisabled(!t)},oi([K("columnModel")],e.prototype,"columnModel",void 0),oi([tr("eFloatingFilterInput")],e.prototype,"eFloatingFilterInput",void 0),oi([$],e.prototype,"postConstruct",null),e}(Ur),ii=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),si=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ii(e,t),e.prototype.getDefaultFilterOptions=function(){return Zr.DEFAULT_FILTER_OPTIONS},e}(ri),ai=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),li=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ai(e,t),e.prototype.getDefaultFilterOptions=function(){return ei.DEFAULT_FILTER_OPTIONS},e}(ri),ci=function(){function t(t,e){var n=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new tt,this.eElement=t,this.preventMouseClick=e;var o=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",o,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",o,{passive:!0}),n.eElement.removeEventListener("touchmove",r,{passive:!0}),n.eElement.removeEventListener("touchend",i,{passive:!1})})}return t.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onTouchStart=function(e){var n=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var o=this.touchStart;window.setTimeout(function(){n.touching&&n.touchStart===o&&!n.moved&&(n.moved=!0,n.eventService.dispatchEvent({type:t.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:e}))},500)}},t.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!Lo(e,this.touchStart,4)&&(this.moved=!0)}},t.prototype.onTouchEnd=function(e){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:t.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&e.preventDefault(),this.touching=!1)},t.prototype.checkForDoubleTap=function(){var e=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&e-this.lastTapTime>t.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:t.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=e},t.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},t.EVENT_TAP="tap",t.EVENT_DOUBLE_TAP="doubleTap",t.EVENT_LONG_TAP="longTap",t.DOUBLE_TAP_MILLIS=500,t}(),ui=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},di=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return ui(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)},e.prototype.workOutTemplate=function(){var t=at(this.params.template,e.TEMPLATE);return t&&t.trim?t.trim():t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var e=Yt(this.currentDisplayName);this.eText&&(this.eText.innerHTML=e)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var o=Po(t,this.gridOptionsWrapper,n);o&&e.appendChild(o)}},e.prototype.setupTap=function(){var t=this,e=this.gridOptionsWrapper;if(!e.isSuppressTouch()){var n=new ci(this.getGui(),!0),o=e.isSuppressMenuHide(),i=o&&r(this.eMenu),s=i?new ci(this.eMenu,!0):n;this.params.enableMenu&&this.addManagedListener(s,ci[i?"EVENT_TAP":"EVENT_LONG_TAP"],function(n){e.getApi().showColumnMenuAfterMouseClick(t.params.column,n.touchStart)}),this.params.enableSorting&&this.addManagedListener(n,ci.EVENT_TAP,function(e){o&&t.eMenu.contains(e.touchStart.target)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return n.destroy()}),i&&this.addDestroyFunc(function(){return s.destroy()})}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsWrapper.isSuppressMenuHide(),e=Ge()&&t;return this.params.enableMenu&&!e},e.prototype.setMenu=function(){var t=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var e=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return t.showMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",e)}else un(this.eMenu)},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator&&this.eSortIndicator.setupSort(this.params.column),this.currentSort){var e=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,st.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(n){var o=t.params.column.isMoving(),r=(new Date).getTime();o||r-t.lastMovingChanged<50||t.params.progressSort(e?n.ctrlKey||n.metaKey:n.shiftKey)});var n=function(){var e;if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var n=null===(e=t.columnModel.getSourceColumnsForGroupColumn(t.params.column))||void 0===e?void 0:e.every(function(e){return t.params.column.getSort()==e.getSort()});t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!n)}};this.addManagedListener(this.eventService,Vt.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,st.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!t)},e.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',pi([K("sortController")],e.prototype,"sortController",void 0),pi([K("menuFactory")],e.prototype,"menuFactory",void 0),pi([K("columnModel")],e.prototype,"columnModel",void 0),pi([tr("eFilter")],e.prototype,"eFilter",void 0),pi([tr("eSortIndicator")],e.prototype,"eSortIndicator",void 0),pi([tr("eMenu")],e.prototype,"eMenu",void 0),pi([tr("eLabel")],e.prototype,"eLabel",void 0),pi([tr("eText")],e.prototype,"eText",void 0),e}(Jo),hi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gi=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return hi(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){this.params.template&&R(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var e=function(e){if(!Pt(e)){var n=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);var n=function(t){St(t)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,Ct.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,Ct.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,e){var n=new ci(t,!0);this.addManagedListener(n,ci.EVENT_TAP,e),this.addDestroyFunc(function(){return n.destroy()}),this.addManagedListener(t,"click",e)},e.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var t=this.params.columnGroup.isExpanded();Xe(this.eOpenIcon,t),Xe(this.eCloseIcon,!t)}else Xe(this.eOpenIcon,!1),Xe(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,e){var n=Po(t,this.gridOptionsWrapper,null);n&&this.getRefElement(e).appendChild(n)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Xe(this.eOpenIcon,!1),void Xe(this.eCloseIcon,!1)},e.prototype.setupLabel=function(){var t=this.params.displayName;if(r(t)){var e=Yt(t);this.getRefElement("agLabel").innerHTML=e}},e.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',fi([K("columnModel")],e.prototype,"columnModel",void 0),fi([tr("agOpened")],e.prototype,"eOpenIcon",void 0),fi([tr("agClosed")],e.prototype,"eCloseIcon",void 0),e}(Jo),mi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_i=function(t){function e(){var n=t.call(this)||this;return n.setTemplate(e.TEMPLATE),n}return mi(e,t),e.prototype.setupSort=function(t,e){var n=this;void 0===e&&(e=!1),this.column=t,this.suppressOrder=e,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,Vt.EVENT_SORT_CHANGED,function(){return n.onSortChanged()}),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.onSortChanged()}),this.onSortChanged())},e.prototype.addInIcon=function(t,e,n){if(null!=e){var o=Po(t,this.gridOptionsWrapper,n);o&&e.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!("asc"===t)),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!("desc"===t)),this.eSortNone){var e=!this.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",e||!(null==t))}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var e=this.column.getColDef().showRowGroup;this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,Vt.EVENT_SORT_CHANGED,function(){return t.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t="mixed"===this.sortController.getDisplaySortForColumn(this.column);this.eSortMixed.classList.toggle("ag-hidden",!t)}},e.prototype.updateSortOrder=function(){var t,e=this;if(this.eSortOrder){var n=this.sortController.getColumnsWithSortingOrdered(),o=null!=(t=this.sortController.getDisplaySortIndexForColumn(this.column))?t:-1,r=n.some(function(t){var n;return null!=(n=e.sortController.getDisplaySortIndexForColumn(t))&&n});Xe(this.eSortOrder,o>=0&&r),o>=0?this.eSortOrder.innerHTML=(o+1).toString():cn(this.eSortOrder)}},e.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',yi([tr("eSortOrder")],e.prototype,"eSortOrder",void 0),yi([tr("eSortAsc")],e.prototype,"eSortAsc",void 0),yi([tr("eSortDesc")],e.prototype,"eSortDesc",void 0),yi([tr("eSortMixed")],e.prototype,"eSortMixed",void 0),yi([tr("eSortNone")],e.prototype,"eSortNone",void 0),yi([K("columnModel")],e.prototype,"columnModel",void 0),yi([K("sortController")],e.prototype,"sortController",void 0),e}(Jo),vi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ci=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vi(e,t),e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),t.prototype.setParentComponent.call(this,e)},e.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),t.prototype.destroy.call(this)},e}(Jo),Ei=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wi=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Ei(e,t),e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),r(t.value)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},e.prototype.onKeyDown=function(t){var e=t.key;(e===To.LEFT||e===To.UP||e===To.RIGHT||e===To.DOWN||t.shiftKey&&e===To.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},e.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([tr("eTextArea")],e.prototype,"eTextArea",void 0),e}(Ci),Oi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Si=function(t){function e(){var e=t.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return Oi(e,t),e.prototype.init=function(t){var e=this;if(this.focusAfterAttached=t.cellStartedEdit,i(t.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=t.eventKey&&t.eventKey===To.ENTER;var n=!1;t.values.forEach(function(o){var r={value:o},i=e.valueFormatterService.formatValue(t.column,null,o);r.text=null!=i?i:o,e.eSelect.addOption(r),n=n||t.value===o}),n?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return t.stopEditing()})}},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},bi([K("valueFormatterService")],e.prototype,"valueFormatterService",void 0),bi([tr("eSelect")],e.prototype,"eSelect",void 0),e}(Ci),Pi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Di=function(t){function e(){var e=t.call(this)||this;return R(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),e}return Pi(e,t),e.prototype.isPopup=function(){return!0},e}(Si),Ti=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ri=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Ti(e,t),e.prototype.init=function(t){this.params=t;var e,n=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.eventKey===To.BACKSPACE||t.eventKey===To.DELETE?e="":t.charPress?e=t.charPress:(e=this.getStartValue(t),t.eventKey!==To.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,e=this.getStartValue(t)),null!=e&&n.setValue(e,!0),this.addManagedListener(n.getGui(),"keydown",function(t){var e=t.key;e!==To.PAGE_UP&&e!==To.PAGE_DOWN||t.preventDefault()})},e.prototype.afterGuiAttached=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.eInput;if(e.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached){Le()||e.getFocusableElement().focus();var n=e.getInputElement();if(this.highlightAllOnFocus)n.select();else{var o=e.getValue(),i=r(o)&&o.length||0;i&&n.setSelectionRange(i,i)}}},e.prototype.focusIn=function(){var t=this.eInput,e=t.getFocusableElement(),n=t.getInputElement();e.focus(),n.select()},e.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},e.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},e.prototype.isPopup=function(){return!1},e.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([tr("eInput")],e.prototype,"eInput",void 0),e}(Ci),Ai=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mi=function(t){function e(){var e=t.call(this)||this;return R(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),e}return Ai(e,t),e.prototype.isPopup=function(){return!0},e}(Ri),xi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ii=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n}return xi(e,t),e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,e){var n=Math.abs(e),o=t.formatValue(n),i=r(o)?o:n,s=e>=0;this.eDelta.innerHTML=s?"\u2191"+i:"\u2193"+i,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var e=this.refreshCount;window.setTimeout(function(){e===t.refreshCount&&t.hideDeltaValue()},2e3)},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),cn(this.eDelta)},e.prototype.refresh=function(t){var e=t.value;return e!==this.lastValue&&(r(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:r(t.value)?this.eValue.innerHTML=e:cn(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&("number"==typeof e&&"number"==typeof this.lastValue&&this.showDelta(t,e-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=e,!0))},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([K("filterManager")],e.prototype,"filterManager",void 0),e}(Jo),Li=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fi=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return Li(e,t),e.prototype.init=function(t){this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=dn('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){e===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){e===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)},e.prototype.refresh=function(t){var e=t.value;return i(e)&&(e=""),e!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=e,r(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:r(t.value)?this.eCurrent.innerHTML=e:cn(this.eCurrent),!0)},e.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([K("filterManager")],e.prototype,"filterManager",void 0),e}(Jo),Ni=(()=>(function(t){t[t.Above=0]="Above",t[t.Below=1]="Below"}(Ni||(Ni={})),Ni))(),ki=function(){function t(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=t.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.onRowHeightChangedDebounced=k(this.onRowHeightChanged.bind(this),100),this.beans=e}return t.prototype.setData=function(t){this.setDataCommon(t,!1)},t.prototype.updateData=function(t){this.setDataCommon(t,!0)},t.prototype.setDataCommon=function(t,e){var n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var o=this.createDataChangedEvent(t,n,e);this.dispatchLocalEvent(o)},t.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},t.prototype.createDataChangedEvent=function(e,n,o){return{type:t.EVENT_DATA_CHANGED,node:this,oldData:n,newData:e,update:o}},t.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},t.prototype.getRowIndexString=function(){return this.rowPinned===et.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===et.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},t.prototype.createDaemonNode=function(){var e=new t(this.beans);return e.id=this.id,e.data=this.data,e.daemon=!0,e.selected=this.selected,e.level=this.level,e},t.prototype.setDataAndId=function(t,e){var n=r(this.id)?this.createDaemonNode():null,o=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.beans.selectionService.syncInRowNode(this,n),this.checkRowSelectable();var i=this.createDataChangedEvent(t,o,!1);this.dispatchLocalEvent(i)},t.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!t||t(this))},t.prototype.setRowSelectable=function(e){if(this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsWrapper.isGroupSelectsChildren())){var n=this.calculateSelectedFromChildren();this.setSelected(null!=n&&n)}},t.prototype.setId=function(e){var n=this.beans.gridOptionsWrapper.getRowIdFunc();if(n)if(this.data){var o=this.getGroupKeys(!0);this.id=n({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(t.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+t.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},t.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],n=this;for(t&&(n=n.parent);n&&n.level>=0;)e.push(n.key),n=n.parent;return e.reverse(),e},t.prototype.isPixelInRange=function(t){return!(!r(this.rowTop)||!r(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},t.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_FIRST_CHILD_CHANGED)))},t.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_LAST_CHILD_CHANGED)))},t.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_CHILD_INDEX_CHANGED)))},t.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_TOP_CHANGED)),this.setDisplayed(null!==e))},t.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},t.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DISPLAYED_CHANGED)))},t.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DRAGGING_CHANGED)))},t.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HIGHLIGHT_CHANGED)))},t.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},t.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_MASTER_CHANGED)))},t.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_GROUP_CHANGED)))},t.prototype.setRowHeight=function(e,n){void 0===n&&(n=!1),this.rowHeight=e,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HEIGHT_CHANGED))},t.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=k(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},t.prototype.checkAutoHeights=function(){var t=!1,e=!0,n=0,o=this.__autoHeights;null!=o&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(r){var i=o[r.getId()];null!=i?(e=!1,i>n&&(n=i)):t=!0}),t||((e||n<10)&&(n=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),n!=this.rowHeight&&(this.setRowHeight(n),this.onRowHeightChangedDebounced())))},t.prototype.onRowHeightChanged=function(){var t=this.beans.rowModel;t.onRowHeightChanged&&t.onRowHeightChanged()},t.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ROW_INDEX_CHANGED)))},t.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_UI_LEVEL_CHANGED)))},t.prototype.setExpanded=function(e,n){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_EXPANDED_CHANGED));var o=Object.assign({},this.createGlobalRowEvent(Vt.EVENT_ROW_GROUP_OPENED),{expanded:e,event:n||null});this.beans.rowNodeEventThrottle.dispatchExpanded(o),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},t.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},t.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},t.prototype.setDataValue=function(t,e,n){var o=this.beans.columnModel.getPrimaryColumn(t),r=this.beans.valueService.getValue(o,this),i=this.beans.valueService.setValue(this,o,e,n);return this.dispatchCellChangedEvent(o,e,r),this.checkRowSelectable(),i},t.prototype.setGroupValue=function(t,e){var n=this.beans.columnModel.getGridColumn(t);i(this.groupData)&&(this.groupData={});var o=n.getColId(),r=this.groupData[o];r!==e&&(this.groupData[o]=e,this.dispatchCellChangedEvent(n,e,r))},t.prototype.setAggData=function(t){var e=this,n=v([this.aggData,t]),o=this.aggData;this.aggData=t,this.eventService&&n.forEach(function(t){var n=e.beans.columnModel.getGridColumn(t);e.dispatchCellChangedEvent(n,e.aggData?e.aggData[t]:void 0,o?o[t]:void 0)})},t.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HAS_CHILDREN_CHANGED)))},t.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},t.prototype.isEmptyRowGroupNode=function(){return this.group&&s(this.childrenAfterGroup)},t.prototype.dispatchCellChangedEvent=function(e,n,o){this.dispatchLocalEvent({type:t.EVENT_CELL_CHANGED,node:this,column:e,newValue:n,oldValue:o})},t.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},t.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},t.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},t.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},t.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,o=!1;if(!(null===(t=this.childrenAfterGroup)||void 0===t?void 0:t.length))return this.selectable?this.selected:null;for(var r=0;r<this.childrenAfterGroup.length;r++){var i=this.childrenAfterGroup[r],s=i.isSelected();if(!i.selectable){var a=i.calculateSelectedFromChildren();if(null===a)continue;s=a}switch(s){case!0:e=!0;break;case!1:n=!0;break;default:o=!0}}return o||e&&n?void 0:!!e||!n&&(this.selectable?this.selected:null)},t.prototype.setSelectedInitialValue=function(t){this.selected=t},t.prototype.setSelected=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:n,rangeSelect:!1})},t.prototype.isRowPinned=function(){return this.rowPinned===et.PINNED_TOP||this.rowPinned===et.PINNED_BOTTOM},t.prototype.setSelectedParams=function(t){var e,n=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),o=!0===t.newValue,r=!0===t.clearSelection,i=!0===t.suppressFinishActions,s=!0===t.rangeSelect,a=n&&!0===t.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(t);if(s&&this.beans.selectionService.getLastSelectedNode()){var l=this.beans.selectionService.getLastSelectedNode()!==this,c=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(l&&c){var u=this.doRowRangeSelection(t.newValue);return this.beans.selectionService.setLastSelectedNode(this),u}}var p=0;return a&&this.group||this.selectThisNode(o,t.event)&&p++,n&&(null===(e=this.childrenAfterGroup)||void 0===e?void 0:e.length)&&(p+=this.selectChildNodes(o,a)),i||(o&&(r||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(p+=this.beans.selectionService.clearOtherNodes(this)),p>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:Vt.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),o&&this.beans.selectionService.setLastSelectedNode(this)),p},t.prototype.doRowRangeSelection=function(t){var e=this;void 0===t&&(t=!0);var n=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),o=this.beans.selectionService.getLastSelectedNode(),r=this.beans.rowModel.getNodesInRangeForSelection(this,o),i=0;return r.forEach(function(o){o.group&&n||!1===t&&e===o||o.selectThisNode(t)&&i++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:Vt.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),i},t.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.selectThisNode=function(e,n){if(!this.selectable&&e||this.selected===e)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_ROW_SELECTED));var o=Object.assign({},this.createGlobalRowEvent(Vt.EVENT_ROW_SELECTED),{event:n||null});return this.beans.eventService.dispatchEvent(o),!0},t.prototype.selectChildNodes=function(t,e){var n=e?this.childrenAfterAggFilter:this.childrenAfterGroup;if(i(n))return 0;for(var o=0,r=0;r<n.length;r++)o+=n[r].setSelectedParams({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:e});return o},t.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new tt),this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},t.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_ENTER))},t.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_LEAVE))},t.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,n=!0,o=!1,i=null;n&&!o;){var s=e.parent;r(s)&&e.firstChild?s.rowGroupColumn===t&&(o=!0,i=s):n=!1,e=s}return o?i:null},t.prototype.isFullWidthCell=function(){var t=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!t&&t({rowNode:this})},t.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},t.ID_PREFIX_ROW_GROUP="row-group-",t.ID_PREFIX_TOP_PINNED="t-",t.ID_PREFIX_BOTTOM_PINNED="b-",t.OBJECT_ID_SEQUENCE=0,t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_DATA_CHANGED="dataChanged",t.EVENT_CELL_CHANGED="cellChanged",t.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",t.EVENT_MASTER_CHANGED="masterChanged",t.EVENT_GROUP_CHANGED="groupChanged",t.EVENT_MOUSE_ENTER="mouseEnter",t.EVENT_MOUSE_LEAVE="mouseLeave",t.EVENT_HEIGHT_CHANGED="heightChanged",t.EVENT_TOP_CHANGED="topChanged",t.EVENT_DISPLAYED_CHANGED="displayedChanged",t.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",t.EVENT_LAST_CHILD_CHANGED="lastChildChanged",t.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",t.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",t.EVENT_SELECTABLE_CHANGED="selectableChanged",t.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",t.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",t.EVENT_DRAGGING_CHANGED="draggingChanged",t}(),Gi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wi=function(t){function e(){return t.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Gi(e,t),e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.rowNode.isSelected(),n=void 0===e?t("ariaIndeterminate","indeterminate"):!0===e?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(o+" ("+n+")")},e.prototype.onCheckedClicked=function(t){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:e})},e.prototype.onUncheckedClicked=function(t){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:e})},e.prototype.init=function(t){var e=this;if(this.rowNode=t.rowNode,this.column=t.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(t){return St(t)}),this.addGuiEventListener("dblclick",function(t){return St(t)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(t){var n=e.eCheckbox.getValue();void 0===e.eCheckbox.getPreviousValue()||void 0===n?0===e.onUncheckedClicked(t||{})&&e.onCheckedClicked(t):n?e.onCheckedClicked(t):e.onUncheckedClicked(t||{})}),this.addManagedListener(this.rowNode,ki.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,ki.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,ki.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.showOrHideSelect=function(){var t=this.rowNode.selectable;t&&this.checkboxCallbackExists()&&(t=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(t)},e.prototype.checkboxCallbackExists=function(){var t=this.column?this.column.getColDef():null;return!!t&&"function"==typeof t.checkboxSelection},Bi([tr("eCheckbox")],e.prototype,"eCheckbox",void 0),Bi([$],e.prototype,"postConstruct",null),e}(Jo),Vi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ui=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$i=(()=>(function(t){t[t.ToolPanel=0]="ToolPanel",t[t.HeaderCell=1]="HeaderCell",t[t.RowDrag=2]="RowDrag",t[t.ChartPanel=3]="ChartPanel"}($i||($i={})),$i))(),zi=(()=>(function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(zi||(zi={})),zi))(),ji=(()=>(function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(ji||(ji={})),ji))(),Ki=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragSourceAndParamsList=[],e.dropTargets=[],e}var n;return Vi(e,t),n=e,e.prototype.init=function(){this.ePinnedIcon=So("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=So("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=So("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=So("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=So("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=So("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=So("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=So("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=So("dropNotAllowed",this.gridOptionsWrapper,null)},e.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var n={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:n,dragSource:t}),this.dragService.addDragSource(n,e)},e.prototype.removeDragSource=function(t){var e=this.dragSourceAndParamsList.find(function(e){return e.dragSource===t});e&&(this.dragService.removeDragSource(e.params),pt(this.dragSourceAndParamsList,e))},e.prototype.clearDragSourceParamsList=function(){var t=this;this.dragSourceAndParamsList.forEach(function(e){return t.dragService.removeDragSource(e.params)}),this.dragSourceAndParamsList.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(t,e){var n,o,r,i,s=this,a=this.getHorizontalDirection(t),l=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);var c=this.dropTargets.filter(function(e){return s.isMouseOnDropTarget(t,e)}),u=this.findCurrentDropTarget(t,c);if(u!==this.lastDropTarget)null!==this.lastDropTarget&&null===u&&(null===(o=(n=this.dragSource).onGridExit)||void 0===o||o.call(n,this.dragItem)),null===this.lastDropTarget&&null!==u&&(null===(i=(r=this.dragSource).onGridEnter)||void 0===i||i.call(r,this.dragItem)),this.leaveLastTargetIfExists(t,a,l,e),this.enterDragTargetIfExists(u,t,a,l,e),this.lastDropTarget=u;else if(u&&u.onDragging){var p=this.createDropTargetEvent(u,t,a,l,e);u.onDragging(p)}},e.prototype.getAllContainersFromDropTarget=function(t){var e=t.getSecondaryContainers?t.getSecondaryContainers():null,n=[[t.getContainer()]];return e?n.concat(e):n},e.prototype.allContainersIntersect=function(t,e){var n,o;try{for(var r=Ui(e),i=r.next();!i.done;i=r.next()){var s=i.value.getBoundingClientRect();if(0===s.width||0===s.height)return!1;if(!(t.clientX>=s.left&&t.clientX<s.right&&t.clientY>=s.top&&t.clientY<s.bottom))return!1}}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return!0},e.prototype.isMouseOnDropTarget=function(t,e){var n,o,r=this.getAllContainersFromDropTarget(e),i=!1;try{for(var s=Ui(r),a=s.next();!a.done;a=s.next())if(this.allContainersIntersect(t,a.value)){i=!0;break}}catch(l){n={error:l}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return!(e.targetContainsSource&&!e.getContainer().contains(this.dragSource.eElement))&&i&&e.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},e.prototype.findCurrentDropTarget=function(t,e){var n,o,r,i,s=e.length;if(0===s)return null;if(1===s)return e[0];var a=this.gridOptionsWrapper.getDocument().elementsFromPoint(t.x,t.y);try{for(var l=Ui(a),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var p=(r=void 0,Ui(e)),d=p.next();!d.done;d=p.next()){var h=d.value;if(-1!==mt(this.getAllContainersFromDropTarget(h)).indexOf(u))return h}}catch(f){r={error:f}}finally{try{d&&!d.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}catch(g){n={error:g}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return null},e.prototype.enterDragTargetIfExists=function(t,e,n,o,r){if(t){if(t.onDragEnter){var i=this.createDropTargetEvent(t,e,n,o,r);t.onDragEnter(i)}this.setGhostIcon(t.getIconName?t.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(t,e,n,o){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var r=this.createDropTargetEvent(this.lastDropTarget,t,e,n,o);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(t){this.dropTargets.push(t)},e.prototype.removeDropTarget=function(t){this.dropTargets=this.dropTargets.filter(function(e){return e.getContainer()!==t.getContainer()})},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(t){return t.external})},e.prototype.findExternalZone=function(t){return this.dropTargets.filter(function(t){return t.external}).find(function(e){return e.getContainer()===t.getContainer()})||null},e.prototype.getHorizontalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientX,n=t.clientX;return e===n?null:e>n?ji.Left:ji.Right},e.prototype.getVerticalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientY,n=t.clientY;return e===n?null:e>n?zi.Up:zi.Down},e.prototype.createDropTargetEvent=function(t,e,n,o,r){var i=t.getContainer(),s=i.getBoundingClientRect(),a=this;return{event:e,x:e.clientX-s.left,y:e.clientY-s.top,vDirection:o,hDirection:n,dragSource:a.dragSource,fromNudge:r,dragItem:a.dragItem,api:a.gridApi,columnApi:a.columnApi,dropZoneTarget:i}},e.prototype.positionGhost=function(t){var e=this.eGhost;if(e){var n=e.getBoundingClientRect().height,o=ze()-2,r=je()-2,i=t.pageY-n/2,s=t.pageX-10,a=this.gridOptionsWrapper.getDocument(),l=a.defaultView||window,c=l.pageYOffset||a.documentElement.scrollTop,u=l.pageXOffset||a.documentElement.scrollLeft;o>0&&s+e.clientWidth>o+u&&(s=o+u-e.clientWidth),s<0&&(s=0),r>0&&i+e.clientHeight>r+c&&(i=r+c-e.clientHeight),i<0&&(i=0),e.style.left=s+"px",e.style.top=i+"px"}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=dn(n.GHOST_TEMPLATE);var t=this.environment.getTheme().theme;t&&this.eGhost.classList.add(t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var e=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;M(o)&&(o=o()),e.innerHTML=Yt(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var r=this.gridOptionsWrapper.getDocument(),i=null;try{i=r.fullscreenElement}catch(s){}finally{i||(i=r.querySelector("body"))}this.eGhostParent=i,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(t,e){void 0===e&&(e=!1),cn(this.eGhostIcon);var o=null;switch(t||(t=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),t){case n.ICON_PINNED:o=this.ePinnedIcon;break;case n.ICON_MOVE:o=this.eMoveIcon;break;case n.ICON_LEFT:o=this.eLeftIcon;break;case n.ICON_RIGHT:o=this.eRightIcon;break;case n.ICON_GROUP:o=this.eGroupIcon;break;case n.ICON_AGGREGATE:o=this.eAggregateIcon;break;case n.ICON_PIVOT:o=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:o=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),o===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||o&&this.eGhostIcon.appendChild(o)},e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Hi([K("dragService")],e.prototype,"dragService",void 0),Hi([K("environment")],e.prototype,"environment",void 0),Hi([K("columnApi")],e.prototype,"columnApi",void 0),Hi([K("gridApi")],e.prototype,"gridApi",void 0),Hi([$],e.prototype,"init",null),Hi([z],e.prototype,"clearDragSourceParamsList",null),n=Hi([j("dragAndDropService")],e)}(kt),Yi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xi=function(t){function e(e,n,o,r,i,s){var a=t.call(this)||this;return a.cellValueFn=e,a.rowNode=n,a.column=o,a.customGui=r,a.dragStartPixels=i,a.suppressVisibilityChange=s,a.dragSource=null,a}return Yi(e,t),e.prototype.isCustomGui=function(){return null!=this.customGui},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Po("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.beans.gridOptionsWrapper.isRowDragManaged()?new Ji(this,this.beans,this.rowNode,this.column):new Qi(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,e){this.setTemplateFromElement(t),this.addDragSource(e)},e.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t.length:1},e.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&t&&R(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},e.prototype.addDragSource=function(t){var e=this;void 0===t&&(t=4),this.dragSource&&this.removeDragSource();var n={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},o=this.column&&this.column.getColDef().rowDragText,r=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:$i.RowDrag,eElement:this.getGui(),dragItemName:function(){var t=e.getSelectedCount();return o?o(n,t):1===t?e.cellValueFn():t+" "+r("rowDragRows","rows")},getDragItem:function(){return n},dragStartPixels:t,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},qi([K("beans")],e.prototype,"beans",void 0),qi([$],e.prototype,"postConstruct",null),qi([z],e.prototype,"removeDragSource",null),e}(Jo),Zi=function(t){function e(e,n,o){var r=t.call(this)||this;return r.parent=e,r.rowNode=n,r.column=o,r}return Yi(e,t),e.prototype.setDisplayedOrVisible=function(t){if(t)this.parent.setDisplayed(!1);else{var e=!0,n=!1;this.column&&(e=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=M(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0),this.parent.setVisible(e)):(this.parent.setDisplayed(e),this.parent.setVisible(!0))}},e}(kt),Qi=function(t){function e(e,n,o,r){var i=t.call(this,e,o,r)||this;return i.beans=n,i}return Yi(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Vt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(t)},qi([$],e.prototype,"postConstruct",null),e}(Zi),Ji=function(t){function e(e,n,o,r){var i=t.call(this,e,o,r)||this;return i.beans=n,i}return Yi(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Vt.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Vt.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Vt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),e=t&&t.shouldPreventRowMove(),n=this.beans.gridOptionsWrapper.isSuppressRowDrag(),o=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(e&&!o||n)},qi([$],e.prototype,"postConstruct",null),e}(Zi),ts=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),es=function(){return(es=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ns=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ts(e,t),e.prototype.init=function(t,e,n,o,r,i,s){this.params=s,this.eGui=e,this.eCheckbox=n,this.eExpanded=o,this.eContracted=r,this.comp=t,this.compClass=i;var a=this.isTopLevelFooter(),l=this.isEmbeddedRowMismatch(),c=null==s.value,u=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var p=s.node;p.footer&&(u=(s.colDef&&s.colDef.showRowGroup)!==(p.rowGroupColumn&&p.rowGroupColumn.getColId()))}this.cellIsBlank=!a&&(l||c||u),this.cellIsBlank||(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,e=t.node,n=t.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var o=function(){Kn(n,!!e.expanded)};this.expandListener=this.addManagedListener(e,ki.EVENT_EXPANDED_CHANGED,o)||null,o()}else Yn(n)},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter())return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;var t=this.params.colDef;if(null==t)return!0;if(!0===t.showRowGroup)return!0;var e=this.columnModel.getRowGroupColumns();return!e||0===e.length||e[0].getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var t=this.params.pinned===et.PINNED_LEFT,e=this.params.pinned===et.PINNED_RIGHT,n=!t&&!e;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!e:!n:this.columnModel.isPinningLeft()?!t:!n},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,e=this.params.node;if(this.showingValueForOpenedParent)for(var n=e.parent;null!=n;){if(n.rowGroupColumn&&t.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}i(this.displayedGroupNode)&&(this.displayedGroupNode=e)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,e=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(t.groupData){if(null!=t.rowGroupColumn){var n=t.rowGroupColumn.getId();if(e.isRowGroupDisplayed(n))return void(this.showingValueForOpenedParent=!1)}var o=null!=t.groupData[e.getId()];this.showingValueForOpenedParent=o}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t=this.adjustParamsWithDetailsFromRelatedColumn(),e=this.getInnerCompDetails(t),n=t.valueFormatted;this.comp.setInnerRenderer(e,null!=n?n:t.value)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,e=this.params.column;if(!t)return this.params;if(null!=e&&!e.isRowGroupDisplayed(t.getId()))return this.params;var n=this.params,o=this.params,r=this.valueFormatterService.formatValue(t,o.node,o.value);return es(es({},n),{valueFormatted:r})},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,e="";if(t){var n=f(this.params);n.value=this.params.value,"function"==typeof t?e=t(n):"string"==typeof t?e=this.expressionService.evaluate(t,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+(null!=this.params.value?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,e)},e.prototype.getInnerCompDetails=function(t){var e=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,t);var n=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(t){return t&&t.componentClass==e.compClass};if(n&&!o(n))return n;var r=this.displayedGroupNode.rowGroupColumn,i=r?r.getColDef():void 0;if(i){var s=this.userComponentFactory.getCellRendererDetails(i,t);if(s&&!o(s))return s;if(o(s)&&i.cellRendererParams&&i.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(i.cellRendererParams,t)}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ki.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,e=this.isShowRowGroupForThisRow();this.comp.setChildCount(e&&null!=t&&t>=0?"("+t+")":"")},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var e=this.params.column;return null==e||e.isRowGroupDisplayed(t.getId())},e.prototype.addExpandAndContract=function(){var t=this.params,e=Po("groupExpanded",this.gridOptionsWrapper,null),n=Po("groupContracted",this.gridOptionsWrapper,null);e&&this.eExpanded.appendChild(e),n&&this.eContracted.appendChild(n);var o=t.eGridCell;this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||t.suppressDoubleClickExpand||this.addManagedListener(o,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,ki.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var r=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ki.EVENT_ALL_CHILDREN_COUNT_CHANGED,r),this.addManagedListener(this.displayedGroupNode,ki.EVENT_MASTER_CHANGED,r),this.addManagedListener(this.displayedGroupNode,ki.EVENT_GROUP_CHANGED,r),this.addManagedListener(this.displayedGroupNode,ki.EVENT_HAS_CHILDREN_CHANGED,r)},e.prototype.onExpandClicked=function(t){Pt(t)||(St(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var e=this.displayedGroupNode,n=!e.expanded;!n&&e.sticky&&this.scrollToStickyNode(e),e.setExpanded(n,t)},e.prototype.scrollToStickyNode=function(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,e=this.columnModel.isPivotMode()&&t.leafGroup;if(!t.isExpandable()||t.footer||e)return!1;var n=this.params.column;return null==n||"string"!=typeof n.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},e.prototype.showExpandAndContractIcons=function(){var t=this,e=t.displayedGroupNode,n=t.columnModel,o=t.params.node,r=this.isExpandable();if(r){var i=!!this.showingValueForOpenedParent||o.expanded;this.comp.setExpandedDisplayed(i),this.comp.setContractedDisplayed(!i)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var s=n.isPivotMode(),a=s&&e.leafGroup,l=r&&!a,c=o.footer&&-1===o.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",l),this.comp.addOrRemoveCssClass("ag-row-group",l),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",a):c||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!l)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,ki.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var t=this.params,e=t.node,n=!!t.colDef,o=this.gridOptionsWrapper.isTreeData(),r=!n||o||!0===t.colDef.showRowGroup?e.uiLevel:0;t.padding>=0&&R(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+r,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(this.params.fullWidth&&this.params.rowDrag){var e=new Xi(function(){return t.params.value},this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"==typeof t?t(this.params):!0===t},e.prototype.addCheckboxIfNeeded=function(){var t=this,e=this.displayedGroupNode,n=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(n){var o=new Wi;this.getContext().createBean(o),o.init({rowNode:e,column:this.params.column}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(n)},e.prototype.onKeyDown=function(t){t.key!==To.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t)},e.prototype.onCellDblClicked=function(t){Pt(t)||At(this.eExpanded,t)||At(this.eContracted,t)||this.onExpandOrContract(t)},ns([K("expressionService")],e.prototype,"expressionService",void 0),ns([K("valueFormatterService")],e.prototype,"valueFormatterService",void 0),ns([K("columnModel")],e.prototype,"columnModel",void 0),ns([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),ns([K("gridOptions")],e.prototype,"gridOptions",void 0),ns([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(kt),rs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),is=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ss=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return rs(e,t),e.prototype.init=function(t){var e=this,n={setInnerRenderer:function(t,n){return e.setRenderDetails(t,n)},setChildCount:function(t){return e.eChildCount.innerHTML=t},addOrRemoveCssClass:function(t,n){return e.addOrRemoveCssClass(t,n)},setContractedDisplayed:function(t){return Xe(e.eContracted,t)},setExpandedDisplayed:function(t){return Xe(e.eExpanded,t)},setCheckboxVisible:function(t){return e.eCheckbox.classList.toggle("ag-invisible",!t)}},o=this.createManagedBean(new os),r=!t.colDef,i=this.getGui();o.init(n,i,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),r&&kn(i,"gridcell")},e.prototype.setRenderDetails=function(t,e){var n=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then(function(t){if(t){var e=function(){return n.context.destroyBean(t)};n.isAlive()?(n.eValue.appendChild(t.getGui()),n.addDestroyFunc(e)):e()}})}else this.eValue.innerText=e},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),t.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',is([tr("eExpanded")],e.prototype,"eExpanded",void 0),is([tr("eContracted")],e.prototype,"eContracted",void 0),is([tr("eCheckbox")],e.prototype,"eCheckbox",void 0),is([tr("eValue")],e.prototype,"eValue",void 0),is([tr("eChildCount")],e.prototype,"eChildCount",void 0),e}(Jo),as=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ls=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cs=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return as(e,t),e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},e.prototype.setupLoading=function(){var t=Po("groupLoading",this.gridOptionsWrapper,null);t&&this.eLoadingIcon.appendChild(t);var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',ls([tr("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),ls([tr("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(Jo),us=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ps=function(t){function e(){return t.call(this)||this}return us(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():e.DEFAULT_LOADING_OVERLAY_TEMPLATE,o=this.gridOptionsWrapper.getLocaleTextFunc(),r=n.replace("[LOADING...]",o("loadingOoo","Loading..."));this.setTemplate(r)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(Jo),ds=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),hs=function(t){function e(){return t.call(this)||this}return ds(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():e.DEFAULT_NO_ROWS_TEMPLATE,o=this.gridOptionsWrapper.getLocaleTextFunc(),r=n.replace("[NO_ROWS_TO_SHOW]",o("noRowsToShow","No Rows To Show"));this.setTemplate(r)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(Jo),fs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gs=function(t){function e(){return t.call(this,'<div class="ag-tooltip"></div>')||this}return fs(e,t),e.prototype.init=function(t){var e=t.value;this.getGui().innerHTML=Yt(e)},e}(Ci),ms=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ys=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:Yr,agColumnHeader:di,agColumnGroupHeader:gi,agSortIndicator:_i,agTextColumnFloatingFilter:li,agNumberColumnFloatingFilter:si,agDateColumnFloatingFilter:jr,agReadOnlyFloatingFilter:rr,agAnimateShowChangeCellRenderer:Ii,agAnimateSlideCellRenderer:Fi,agGroupCellRenderer:ss,agGroupRowRenderer:ss,agLoadingCellRenderer:cs,agCellEditor:Ri,agTextCellEditor:Ri,agSelectCellEditor:Si,agPopupTextCellEditor:Mi,agPopupSelectCellEditor:Di,agLargeTextCellEditor:wi,agTextColumnFilter:ei,agNumberColumnFilter:Zr,agDateColumnFilter:Vr,agLoadingOverlay:ps,agNoRowsOverlay:hs,agTooltipComponent:gs},e.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},e.jsComps={},e.fwComps={},e}return ms(e,t),e.prototype.init=function(){var t=this;null!=this.gridOptions.components&&h(this.gridOptions.components,function(e,n){return t.registerJsComponent(e,n)}),null!=this.gridOptions.frameworkComponents&&h(this.gridOptions.frameworkComponents,function(e,n){return t.registerFwComponent(e,n)})},e.prototype.registerDefaultComponent=function(t,e){var n=this.translateIfDeprecated(t);this.agGridDefaults[n]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[n]=e},e.prototype.registerJsComponent=function(t,e){var n=this.translateIfDeprecated(t);this.fwComps[n]?console.error("Trying to register a component that you have already registered for frameworks: "+n):this.jsComps[n]=e},e.prototype.registerFwComponent=function(t,e){R(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var n=this.translateIfDeprecated(t);this.fwComps[n]=e},e.prototype.retrieve=function(t){var e=this.translateIfDeprecated(t),n=function(t,e){return{componentFromFramework:e,component:t}},o=this.getFrameworkOverrides().frameworkComponent(e);if(null!=o)return n(o,!0);var r=this.fwComps[e];if(r)return n(r,!0);var i=this.jsComps[e];if(i)return n(i,this.getFrameworkOverrides().isFrameworkComponent(i));var s=this.agGridDefaults[e];return s?n(s,!1):(Object.keys(this.agGridDefaults).indexOf(e)<0&&console.warn("AG Grid: Looking for component ["+e+"] but it wasn't found."),null)},e.prototype.translateIfDeprecated=function(t){var e=this.agDeprecatedNames[t];return null!=e?(R(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+e.propertyHolder+":"+t+" to "+e.propertyHolder+":"+e.newComponentName)},"DEPRECATE_COMPONENT_"+t),e.newComponentName):t},ys([K("gridOptions")],e.prototype,"gridOptions",void 0),ys([K("agComponentUtils")],e.prototype,"agComponentUtils",void 0),ys([$],e.prototype,"init",null),ys([j("userComponentRegistry")],e)}(kt),vs={propertyName:"dateComponent",cellRenderer:!1},Cs={propertyName:"headerComponent",cellRenderer:!1},Es={propertyName:"headerGroupComponent",cellRenderer:!1},ws={propertyName:"cellRenderer",cellRenderer:!0},Os={propertyName:"cellEditor",cellRenderer:!1},bs={propertyName:"innerRenderer",cellRenderer:!0},Ss={propertyName:"loadingOverlayComponent",cellRenderer:!1},Ps={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Ds={propertyName:"tooltipComponent",cellRenderer:!1},Ts={propertyName:"filter",cellRenderer:!1},Rs={propertyName:"floatingFilterComponent",cellRenderer:!1},As={propertyName:"toolPanel",cellRenderer:!1},Ms={propertyName:"statusPanel",cellRenderer:!1},xs={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Is={propertyName:"loadingCellRenderer",cellRenderer:!0},Ls={propertyName:"groupRowRenderer",cellRenderer:!0},Fs={propertyName:"detailCellRenderer",cellRenderer:!0},Ns=function(){function t(){}return t.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},t.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},t}(),ks=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gs=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ks(e,t),e.prototype.getHeaderCompDetails=function(t,e){return this.getCompDetails(t,Cs,"agColumnHeader",e)},e.prototype.getHeaderGroupCompDetails=function(t){var e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,Es,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,xs,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Is,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Ls,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Fs,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,e){return this.getCompDetails(t,bs,null,e)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,e){return this.getCompDetails(t,bs,null,e)},e.prototype.getCellRendererDetails=function(t,e){return this.getCompDetails(t,ws,null,e)},e.prototype.getCellEditorDetails=function(t,e){return this.getCompDetails(t,Os,"agCellEditor",e,!0)},e.prototype.getFilterDetails=function(t,e,n){return this.getCompDetails(t,Ts,n,e,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,vs,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,Ss,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,Ps,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,Ds,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,e){return this.getCompDetails(t,ws,null,e)},e.prototype.getFloatingFilterCompDetails=function(t,e,n){return this.getCompDetails(t,Rs,n,e)},e.prototype.getToolPanelCompDetails=function(t,e){return this.getCompDetails(t,As,null,e,!0)},e.prototype.getStatusPanelCompDetails=function(t,e){return this.getCompDetails(t,Ms,null,e,!0)},e.prototype.getCompDetails=function(t,e,n,o,r){var i=this;void 0===r&&(r=!1);var s=e.propertyName,a=e.cellRenderer,l=this.getCompKeys(t,e,o),c=l.compName,u=l.jsComp,p=l.fwComp,d=l.paramsFromSelector,h=l.popupFromSelector,f=l.popupPositionFromSelector,g=function(t){var e=i.userComponentRegistry.retrieve(t);e&&(u=e.componentFromFramework?void 0:e.component,p=e.componentFromFramework?e.component:void 0)};if(null!=c&&g(c),null==u&&null==p&&null!=n&&g(n),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(s,u)),u||p){var m=this.mergeParamsWithApplicationProvidedParams(t,e,o,d),y=null==u,_=u||p;return{componentFromFramework:y,componentClass:_,params:m,type:e,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:function(){return i.newAgStackInstance(_,y,m,e)}}}r&&console.error("Could not find component "+c+", did you forget to configure this component?")},e.prototype.getCompKeys=function(t,e,n){var o,r,i,s,a,l,c=this,u=e.propertyName;if(t){var p=t,d=p[u+"Selector"],h=d?d(n):null,f=function(t,e){var n=function(){var t="AG Grid: As of v27, the property "+u+"Framework is deprecated. The property "+u+" can now be used for JavaScript AND Framework Components.";R(function(){return console.warn(t)},"UserComponentFactory."+u+"FrameworkDeprecated")};"string"==typeof t?o=t:"string"==typeof e?(n(),o=e):null!=t&&!0!==t?c.getFrameworkOverrides().isFrameworkComponent(t)?i=t:r=t:null!=e&&(n(),i=e)};if(h){if(null!=h.frameworkComponent){var g="AG Grid: As of v27, the return for "+u+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";R(function(){return console.warn(g)},"UserComponentFactory."+u+"FrameworkSelectorDeprecated"),f(h.frameworkComponent,void 0)}else f(h.component,void 0);s=h.params,a=h.popup,l=h.popupPosition}else f(p[u],p[u+"Framework"])}return{compName:o,jsComp:r,fwComp:i,paramsFromSelector:s,popupFromSelector:a,popupPositionFromSelector:l}},e.prototype.newAgStackInstance=function(t,e,n,o){var r;if(e){var i=this.componentMetadataProvider.retrieve(o.propertyName);r=this.frameworkComponentWrapper.wrap(t,i.mandatoryMethodList,i.optionalMethodList,o)}else r=new t;var s=this.initComponent(r,n);return null==s?Uo.resolve(r):s.then(function(){return r})},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,e,n,o){void 0===o&&(o=null);var r={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};E(r,n);var i=t&&t[e.propertyName+"Params"];return"function"==typeof i?E(r,i(n)):"object"==typeof i&&E(r,i),E(r,o),r},e.prototype.initComponent=function(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)},e.prototype.getDefaultFloatingFilterType=function(t){if(null==t)return null;var e=null,n=this.getCompKeys(t,Ts),o=n.compName,r=n.jsComp,i=n.fwComp;return o?e=Ns.getFloatingFilterType(o):null==r&&null==i&&!0===t.filter&&(e=ot.isRegistered(nt.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),e},Gs([K("gridOptions")],e.prototype,"gridOptions",void 0),Gs([K("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Gs([K("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Gs([K("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Gs([Y("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),Gs([j("userComponentFactory")],e)}(kt),Ws=(()=>(function(t){t[t.SINGLE_SHEET=0]="SINGLE_SHEET",t[t.MULTI_SHEET=1]="MULTI_SHEET"}(Ws||(Ws={})),Ws))(),Vs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hs=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Us=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return Vs(e,t),e.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var e=t.dragSource.eElement;e.removeEventListener("mousedown",t.mouseDownListener),t.touchEnabled&&e.removeEventListener("touchstart",t.touchStartListener,{passive:!0})},e.prototype.removeDragSource=function(t){var e=this.dragSources.find(function(e){return e.dragSource===t});e&&(this.removeListener(e),pt(this.dragSources,e))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t,e){var n=this;void 0===e&&(e=!1);var o=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",o);var r=null,i=this.gridOptionsWrapper.isSuppressTouch();e&&!i&&t.eElement.addEventListener("touchstart",r=function(e){e.cancelable&&e.preventDefault(),n.onTouchStart(t,e)},{passive:!0}),this.dragSources.push({dragSource:t,mouseDownListener:o,touchStartListener:r,touchEnabled:e})},e.prototype.onTouchStart=function(t,e){var n=this;this.currentDragParams=t,this.dragging=!1;var o=e.touches[0];this.touchLastTime=o,this.touchStart=o;var r=function(e){return n.onTouchUp(e,t.eElement)},i=t.eElement,s=[{target:document,type:"touchmove",listener:function(t){t.cancelable&&t.preventDefault()},options:{passive:!1}},{target:i,type:"touchmove",listener:function(e){return n.onTouchMove(e,t.eElement)},options:{passive:!0}},{target:i,type:"touchend",listener:r,options:{passive:!0}},{target:i,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(s),0===t.dragStartPixels&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,e){var n=this,o=e;if(!(t.skipMouseEvent&&t.skipMouseEvent(e)||o._alreadyProcessedByDragService||(o._alreadyProcessedByDragService=!0,0!==e.button))){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e;var r=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:r,type:"mousemove",listener:function(e){return n.onMouseMove(e,t.eElement)}},{target:r,type:"mouseup",listener:function(e){return n.onMouseUp(e,t.eElement)}},{target:r,type:"contextmenu",listener:function(t){return t.preventDefault()}}]),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach(function(t){t.target.addEventListener(t.type,t.listener,t.options)}),this.dragEndFunctions.push(function(){t.forEach(function(t){t.target.removeEventListener(t.type,t.listener,t.options)})})},e.prototype.isEventNearStartEvent=function(t,e){var n=this.currentDragParams.dragStartPixels;return Lo(t,e,r(n)?n:4)},e.prototype.getFirstActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},e.prototype.onCommonMove=function(t,e,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0,this.eventService.dispatchEvent({type:Vt.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:n}),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,e){var n=this.getFirstActiveTouch(t.touches);n&&this.onCommonMove(n,this.touchStart,e)},e.prototype.onMouseMove=function(t,e){Le()&&"mousemove"===t.type&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)},e.prototype.isOverFormFieldElement=function(t){var e,n;return!!(null===(n=null===(e=t.target)||void 0===e?void 0:e.tagName.toLocaleLowerCase())||void 0===n?void 0:n.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,e){var n=this.getFirstActiveTouch(t.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,e)},e.prototype.onMouseUp=function(t,e){this.onUpCommon(t,e)},e.prototype.onUpCommon=function(t,e){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(t),this.eventService.dispatchEvent({type:Vt.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:e})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(t){return t()}),this.dragEndFunctions.length=0},Hs([K("loggerFactory")],e.prototype,"loggerFactory",void 0),Hs([K("columnApi")],e.prototype,"columnApi",void 0),Hs([K("gridApi")],e.prototype,"gridApi",void 0),Hs([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Hs([$],e.prototype,"init",null),Hs([z],e.prototype,"removeAllListeners",null),Hs([j("dragService")],e)}(kt),$s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zs=function(){return(zs=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},js=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ks=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.quickFilter=null,e.quickFilterParts=null,e.processingFilterChange=!1,e}var n;return $s(e,t),n=e,e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,Vt.EVENT_GRID_COLUMNS_CHANGED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_VALUE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},e.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},e.prototype.setFilterModel=function(t){var e=this,n=[],o=this.getFilterModel();if(t){var r=ko(Object.keys(t));this.allColumnFilters.forEach(function(o,i){n.push(e.setModelOnFilterWrapper(o.filterPromise,t[i])),r.delete(i)}),r.forEach(function(o){var r=e.columnModel.getPrimaryColumn(o)||e.columnModel.getGridColumn(o);if(r)if(r.isFilterAllowed()){var i=e.getOrCreateFilterWrapper(r,"NO_UI");i?n.push(e.setModelOnFilterWrapper(i.filterPromise,t[o])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+o)})}else this.allColumnFilters.forEach(function(t){n.push(e.setModelOnFilterWrapper(t.filterPromise,null))});Uo.all(n).then(function(){var t=e.getFilterModel(),n=[];e.allColumnFilters.forEach(function(e,r){Wo.jsonEquals(o?o[r]:null,t?t[r]:null)||n.push(e.column)}),n.length>0&&e.onFilterChanged({columns:n})})},e.prototype.setModelOnFilterWrapper=function(t,e){return new Uo(function(n){t.then(function(t){"function"!=typeof t.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(t.setModel(e)||Uo.resolve()).then(function(){return n()})})})},e.prototype.getFilterModel=function(){var t={};return this.allColumnFilters.forEach(function(e,n){var o=e.filterPromise.resolveNow(null,function(t){return t});if(null==o)return null;if("function"==typeof o.getModel){var i=o.getModel();r(i)&&(t[n]=i)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),t},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.doAggregateFiltersPass=function(t,e){return this.doColumnFiltersPass(t,e,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var e=function(t){return!!t&&(t.isFilterActive?t.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},n=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach(function(o){if(o.filterPromise.resolveNow(!1,e)){var r=o.filterPromise.resolveNow(null,function(t){return t});!function(e){if(!e.isPrimary())return!0;var o=!t.columnModel.isPivotActive();return!(!e.isValueActive()||!o)&&(!!t.columnModel.isPivotMode()||n)}(o.column)?t.activeColumnFilters.push(r):t.activeAggregateFilters.push(r)}})},e.prototype.updateFilterFlagInColumns=function(t,e){this.allColumnFilters.forEach(function(n){var o=n.filterPromise.resolveNow(!1,function(t){return t.isFilterActive()});n.column.setFilterActive(o,t,e)})},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(t,e,n){for(var o=n?this.activeAggregateFilters:this.activeColumnFilters,r=n?t.aggData:t.data,i=0;i<o.length;i++){var s=o[i];if(null!=s&&s!==e){if("function"!=typeof s.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!s.doesFilterPass({node:t,data:r}))return!1}}return!0},e.prototype.parseQuickFilter=function(t){return r(t)?this.gridOptionsWrapper.isRowModelDefault()?t.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(t){if(null==t||"string"==typeof t){var e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof t)},e.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var e=this;void 0===t&&(t={});var n=function(){return e.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(n,0):n()},e.prototype.onFilterChanged=function(t){void 0===t&&(t={});var e=t.filterInstance,n=t.additionalEventAttributes,o=t.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",n),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),this.allColumnFilters.forEach(function(t){t.filterPromise&&t.filterPromise.then(function(t){t&&t!==e&&t.onAnyFilterChanged&&t.onAnyFilterChanged()})});var r={type:Vt.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:o||[]};n&&E(r,n),this.processingFilterChange=!0,this.eventService.dispatchEvent(r),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},e.prototype.doesRowPassOtherFilters=function(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})},e.prototype.doesRowPassQuickFilterNoCache=function(t,e){var n=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(o){var i=n.getQuickFilterTextForColumn(o,t);return r(i)&&i.indexOf(e)>=0})},e.prototype.doesRowPassQuickFilterCache=function(t,e){return t.quickFilterAggregateText||this.aggregateRowForQuickFilter(t),t.quickFilterAggregateText.indexOf(e)>=0},e.prototype.doesRowPassQuickFilter=function(t){var e=this,n=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(o){return n?e.doesRowPassQuickFilterCache(t,o):e.doesRowPassQuickFilterNoCache(t,o)})},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.getQuickFilterTextForColumn=function(t,e){var n=this.valueService.getValue(t,e,!0),o=t.getColDef();if(o.getQuickFilterText){var i={value:n,node:e,data:e.data,column:t,colDef:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};n=o.getQuickFilterText(i)}return r(n)?n.toString().toUpperCase():null},e.prototype.aggregateRowForQuickFilter=function(t){var e=this,o=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(n){var i=e.getQuickFilterTextForColumn(n,t);r(i)&&o.push(i)}),t.quickFilterAggregateText=o.join(n.QUICK_FILTER_SEPARATOR)},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach(function(t){t.filterPromise.then(function(t){t.onNewRowsLoaded&&t.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var e=this;return function(n){return e.valueService.getValue(t,n.node,!0)}},e.prototype.getFilterComponent=function(t,e,n){var o;if(void 0===n&&(n=!0),n)return(null===(o=this.getOrCreateFilterWrapper(t,e))||void 0===o?void 0:o.filterPromise)||null;var r=this.cachedFilter(t);return r?r.filterPromise:null},e.prototype.isFilterActive=function(t){var e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,function(t){return t.isFilterActive()})},e.prototype.getOrCreateFilterWrapper=function(t,e){if(!t.isFilterAllowed())return null;var n=this.cachedFilter(t);return n?"NO_UI"!==e&&this.putIntoGui(n,e):(n=this.createFilterWrapper(t,e),this.allColumnFilters.set(t.getColId(),n)),n},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.createFilterInstance=function(t){var e,n=this,o=ot.isRegistered(nt.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",r=t.getColDef(),i=zs(zs({},this.createFilterParams(t,r)),{filterModifiedCallback:function(){n.eventService.dispatchEvent({type:Vt.EVENT_FILTER_MODIFIED,api:n.gridApi,columnApi:n.columnApi,column:t,filterInstance:e})},filterChangedCallback:function(o){n.callOnFilterChangedOutsideRenderCycle({filterInstance:e,additionalEventAttributes:o,columns:[t]})},doesRowPassOtherFilter:function(t){return n.doesRowPassOtherFilters(e,t)}}),s=this.userComponentFactory.getFilterDetails(r,i,o);if(!s)return null;var a=s.newAgStackInstance();return a&&a.then(function(t){return e=t}),a},e.prototype.createFilterParams=function(t,e){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:t,colDef:f(e),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},e.prototype.createFilterWrapper=function(t,e){var n={column:t,filterPromise:null,compiledElement:null,guiPromise:Uo.resolve(null)};return n.filterPromise=this.createFilterInstance(t),n.filterPromise&&this.putIntoGui(n,e),n},e.prototype.putIntoGui=function(t,e){var n=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new Uo(function(i){t.filterPromise.then(function(s){var a=s.getGui();r(a)||console.warn("AG Grid: getGui method from filter returned "+a+", it should be a DOM element or an HTML template string."),"string"==typeof a&&(a=dn(a)),o.appendChild(a),i(o),n.eventService.dispatchEvent({type:Vt.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:o,api:n.gridApi,columnApi:n.columnApi})})})},e.prototype.onColumnsChanged=function(){var t=this,e=[];this.allColumnFilters.forEach(function(n,o){(n.column.isPrimary()?t.columnModel.getPrimaryColumn(o):t.columnModel.getGridColumn(o))||(e.push(n.column),t.disposeFilterWrapper(n,"filterDestroyed"))}),e.length>0&&this.onFilterChanged({columns:e})},e.prototype.destroyFilter=function(t,e){void 0===e&&(e="api");var n=this.allColumnFilters.get(t.getColId());n&&(this.disposeFilterWrapper(n,e),this.onFilterChanged({columns:[t]}))},e.prototype.disposeFilterWrapper=function(t,e){var n=this;t.filterPromise.then(function(o){(o.setModel(null)||Uo.resolve()).then(function(){n.getContext().destroyBean(o),t.column.setFilterActive(!1,e),n.allColumnFilters.delete(t.column.getColId())})})},e.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),this.allColumnFilters.forEach(function(t){return e.disposeFilterWrapper(t,"filterDestroyed")})},e.QUICK_FILTER_SEPARATOR="\n",js([K("valueService")],e.prototype,"valueService",void 0),js([K("columnModel")],e.prototype,"columnModel",void 0),js([K("rowModel")],e.prototype,"rowModel",void 0),js([K("columnApi")],e.prototype,"columnApi",void 0),js([K("gridApi")],e.prototype,"gridApi",void 0),js([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),js([K("rowRenderer")],e.prototype,"rowRenderer",void 0),js([$],e.prototype,"init",null),js([z],e.prototype,"destroy",null),n=js([j("filterManager")],e)}(kt),Ys=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qs=function(t){function e(e,n){var o=t.call(this,e)||this;return o.ctrl=n,o}return Ys(e,t),e.prototype.getCtrl=function(){return this.ctrl},e}(Jo),Xs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zs=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qs=function(t){function e(n){return t.call(this,e.TEMPLATE,n)||this}return Xs(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},addOrRemoveBodyCssClass:function(e,n){return t.eFloatingFilterBody.classList.toggle(e,n)},addOrRemoveButtonWrapperCssClass:function(e,n){return t.eButtonWrapper.classList.toggle(e,n)},setCompDetails:function(e){return t.setCompDetails(e)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(t){return e.style.width=t},setMenuIcon:function(e){return t.eButtonShowMainFilter.appendChild(e)}},e,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var e=this;this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(t){return e.afterCompCreated(t)})},e.prototype.afterCompCreated=function(t){var e=this;t&&(this.addDestroyFunc(function(){return e.context.destroyBean(t)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()))},e.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Zs([tr("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),Zs([tr("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),Zs([tr("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),Zs([$],e.prototype,"postConstruct",null),e}(qs),Js=function(){function t(){}return t.parse=function(e){if(!e)return null;if(!0===e)return{toolPanels:[t.DEFAULT_COLUMN_COMP,t.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof e)return t.parse([e]);if(Array.isArray(e)){var n=[];return e.forEach(function(e){var o=t.DEFAULT_BY_KEY[e];o?n.push(o):console.warn("AG Grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","))}),0===n.length?null:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:t.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}},t.parseComponents=function(e){var n=[];return e?(e.forEach(function(e){var o=null;if("string"==typeof e){var r=t.DEFAULT_BY_KEY[e];if(!r)return void console.warn("AG Grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","));o=r}else o=e;n.push(o)}),n):n},t.DEFAULT_BY_KEY={columns:t.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:t.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},t}(),ta=function(){return(ta=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ea=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},na=function(t,e){return function(n,o){e(n,o,t)}},oa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ra=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oa(arguments[e]));return t};function ia(t){return!0===t||"true"===t}function sa(t){return"number"==typeof t?t:"string"==typeof t?parseInt(t,10):void 0}function aa(t,e){var n=parseInt(t,10);return uo(n)&&n>0?n:e}var la=function(){function t(){this.propertyEventService=new tt,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var e;return e=t,t.prototype.agWire=function(t,e){this.gridOptions.api=t,this.gridOptions.columnApi=e,this.checkForDeprecated(),this.checkForViolations()},t.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},t.prototype.init=function(){var t=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Js.parse(this.gridOptions.sideBar));var e=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),e),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to use these together on our support forum either, you will get the same answer!"),this.isRowModelServerSide()){var n=function(t){return"AG Grid: '"+t+"' is not supported on the Server-Side Row Model"};r(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupDefaultExpanded")),r(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupIncludeFooter")),r(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&ot.assertRegistered(nt.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true"),this.isGroupRowsSticky()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRowsSticky and groupHideOpenParents do not work with each other, you need to pick one.");var o=function(e){t.gridOptions.icons&&t.gridOptions.icons[e]&&console.warn("gridOptions.icons."+e+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};o("radioButtonOff"),o("radioButtonOn"),o("checkboxChecked"),o("checkboxUnchecked"),o("checkboxIndeterminate"),this.getScrollbarWidth()},t.prototype.checkColumnDefProperties=function(){var t=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(e){var n=Object.getOwnPropertyNames(e),o=ra(Te.ALL_PROPERTIES,Te.FRAMEWORK_PROPERTIES);t.checkProperties(n,o,o,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},t.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=ra(ue.ALL_PROPERTIES,ue.FRAMEWORK_PROPERTIES,u(Vt).map(function(t){return fe.getCallbackForEvent(t)})),n=ra(e,["api","columnApi"]);this.checkProperties(t,n,e,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},t.prototype.checkProperties=function(t,e,n,o,r){var i=_o(t,e,n);h(i,function(t,e){console.warn("ag-grid: invalid "+o+" property '"+t+"' did you mean any of these: "+e.slice(0,8).join(", "))}),Object.keys(i).length>0&&console.warn("ag-grid: to see all the valid "+o+" properties please check: "+r)},t.prototype.mergeGridCommonParams=function(t){var e=this;return t?function(n){var o=ta(ta({},n),{api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()});return t(o)}:t},t.prototype.getDomDataKey=function(){return this.domDataKey},t.prototype.getDomData=function(t,e){var n=t[this.getDomDataKey()];return n?n[e]:void 0},t.prototype.setDomData=function(t,e,n){var o=this.getDomDataKey(),r=t[o];i(r)&&(t[o]=r={}),r[e]=n},t.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},t.prototype.isSuppressRowDeselection=function(){return ia(this.gridOptions.suppressRowDeselection)},t.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},t.prototype.isRowMultiSelectWithClick=function(){return ia(this.gridOptions.rowMultiSelectWithClick)},t.prototype.getContext=function(){return this.gridOptions.context},t.prototype.isPivotMode=function(){return ia(this.gridOptions.pivotMode)},t.prototype.isSuppressExpandablePivotGroups=function(){return ia(this.gridOptions.suppressExpandablePivotGroups)},t.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},t.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},t.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===et.ROW_MODEL_TYPE_INFINITE},t.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===et.ROW_MODEL_TYPE_VIEWPORT},t.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===et.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.isRowModelDefault=function(){return i(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===et.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},t.prototype.isSuppressFocusAfterRefresh=function(){return ia(this.gridOptions.suppressFocusAfterRefresh)},t.prototype.isSuppressBrowserResizeObserver=function(){return ia(this.gridOptions.suppressBrowserResizeObserver)},t.prototype.isSuppressMaintainUnsortedOrder=function(){return ia(this.gridOptions.suppressMaintainUnsortedOrder)},t.prototype.isSuppressClearOnFillReduction=function(){return ia(this.gridOptions.suppressClearOnFillReduction)},t.prototype.isShowToolPanel=function(){return ia(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},t.prototype.getSideBar=function(){return this.gridOptions.sideBar},t.prototype.isSuppressTouch=function(){return ia(this.gridOptions.suppressTouch)},t.prototype.isMaintainColumnOrder=function(){return ia(this.gridOptions.maintainColumnOrder)},t.prototype.isSuppressRowTransform=function(){return ia(this.gridOptions.suppressRowTransform)},t.prototype.isSuppressColumnStateEvents=function(){return ia(this.gridOptions.suppressColumnStateEvents)},t.prototype.isAllowDragFromColumnsToolPanel=function(){return ia(this.gridOptions.allowDragFromColumnsToolPanel)},t.prototype.useAsyncEvents=function(){return!ia(this.gridOptions.suppressAsyncEvents)},t.prototype.isEnableCellChangeFlash=function(){return ia(this.gridOptions.enableCellChangeFlash)},t.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},t.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},t.prototype.isGroupSelectsChildren=function(){return ia(this.gridOptions.groupSelectsChildren)},t.prototype.isSuppressRowHoverHighlight=function(){return ia(this.gridOptions.suppressRowHoverHighlight)},t.prototype.isColumnHoverHighlight=function(){return ia(this.gridOptions.columnHoverHighlight)},t.prototype.isGroupSelectsFiltered=function(){return ia(this.gridOptions.groupSelectsFiltered)},t.prototype.isGroupHideOpenParents=function(){return ia(this.gridOptions.groupHideOpenParents)},t.prototype.isGroupMaintainOrder=function(){return ia(this.gridOptions.groupMaintainOrder)},t.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},t.prototype.isColumnsSortingCoupledToGroup=function(){var t,e=this.getAutoGroupColumnDef();return this.isRowModelDefault()&&!(null===(t=e)||void 0===t?void 0:t.comparator)},t.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):ia(this.gridOptions.groupHideOpenParents)},t.prototype.isGroupUseEntireRow=function(t){return!t&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},t.prototype.isGroupRowsSticky=function(){return ia(this.gridOptions.groupRowsSticky)},t.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},t.prototype.isGroupRemoveSingleChildren=function(){return ia(this.gridOptions.groupRemoveSingleChildren)},t.prototype.isGroupRemoveLowestSingleChildren=function(){return ia(this.gridOptions.groupRemoveLowestSingleChildren)},t.prototype.isGroupIncludeFooter=function(){return ia(this.gridOptions.groupIncludeFooter)},t.prototype.isGroupIncludeTotalFooter=function(){return ia(this.gridOptions.groupIncludeTotalFooter)},t.prototype.isGroupSuppressBlankHeader=function(){return ia(this.gridOptions.groupSuppressBlankHeader)},t.prototype.isSuppressRowClickSelection=function(){return ia(this.gridOptions.suppressRowClickSelection)},t.prototype.isSuppressCellFocus=function(){return ia(this.gridOptions.suppressCellFocus)},t.prototype.isSuppressMultiSort=function(){return ia(this.gridOptions.suppressMultiSort)},t.prototype.isAlwaysMultiSort=function(){return ia(this.gridOptions.alwaysMultiSort)},t.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},t.prototype.isPivotSuppressAutoColumn=function(){return ia(this.gridOptions.pivotSuppressAutoColumn)},t.prototype.isSuppressDragLeaveHidesColumns=function(){return ia(this.gridOptions.suppressDragLeaveHidesColumns)},t.prototype.isSuppressRowGroupHidesColumns=function(){return ia(this.gridOptions.suppressRowGroupHidesColumns)},t.prototype.isSuppressScrollOnNewData=function(){return ia(this.gridOptions.suppressScrollOnNewData)},t.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return ia(this.gridOptions.suppressScrollWhenPopupsAreOpen)},t.prototype.isRowDragEntireRow=function(){return ia(this.gridOptions.rowDragEntireRow)},t.prototype.isSuppressRowDrag=function(){return ia(this.gridOptions.suppressRowDrag)},t.prototype.isRowDragManaged=function(){return ia(this.gridOptions.rowDragManaged)},t.prototype.isSuppressMoveWhenRowDragging=function(){return ia(this.gridOptions.suppressMoveWhenRowDragging)},t.prototype.isRowDragMultiRow=function(){return ia(this.gridOptions.rowDragMultiRow)},t.prototype.getDomLayout=function(){var t=this.gridOptions.domLayout||et.DOM_LAYOUT_NORMAL;return-1===[et.DOM_LAYOUT_PRINT,et.DOM_LAYOUT_AUTO_HEIGHT,et.DOM_LAYOUT_NORMAL].indexOf(t)?(R(function(){return console.warn("AG Grid: "+t+" is not valid for DOM Layout, valid values are "+et.DOM_LAYOUT_NORMAL+", "+et.DOM_LAYOUT_AUTO_HEIGHT+" and "+et.DOM_LAYOUT_PRINT)},"warn about dom layout values"),et.DOM_LAYOUT_NORMAL):t},t.prototype.isSuppressHorizontalScroll=function(){return ia(this.gridOptions.suppressHorizontalScroll)},t.prototype.isSuppressMaxRenderedRowRestriction=function(){return ia(this.gridOptions.suppressMaxRenderedRowRestriction)},t.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return ia(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},t.prototype.isAlwaysShowHorizontalScroll=function(){return ia(this.gridOptions.alwaysShowHorizontalScroll)},t.prototype.isAlwaysShowVerticalScroll=function(){return ia(this.gridOptions.alwaysShowVerticalScroll)},t.prototype.isDebounceVerticalScrollbar=function(){return ia(this.gridOptions.debounceVerticalScrollbar)},t.prototype.isSuppressLoadingOverlay=function(){return ia(this.gridOptions.suppressLoadingOverlay)},t.prototype.isSuppressNoRowsOverlay=function(){return ia(this.gridOptions.suppressNoRowsOverlay)},t.prototype.isSuppressFieldDotNotation=function(){return ia(this.gridOptions.suppressFieldDotNotation)},t.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},t.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},t.prototype.isFunctionsPassive=function(){return ia(this.gridOptions.functionsPassive)},t.prototype.isSuppressChangeDetection=function(){return ia(this.gridOptions.suppressChangeDetection)},t.prototype.isSuppressAnimationFrame=function(){return ia(this.gridOptions.suppressAnimationFrame)},t.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},t.prototype.isCacheQuickFilter=function(){return ia(this.gridOptions.cacheQuickFilter)},t.prototype.isUnSortIcon=function(){return ia(this.gridOptions.unSortIcon)},t.prototype.isSuppressMenuHide=function(){return ia(this.gridOptions.suppressMenuHide)},t.prototype.isEnterMovesDownAfterEdit=function(){return ia(this.gridOptions.enterMovesDownAfterEdit)},t.prototype.isEnterMovesDown=function(){return ia(this.gridOptions.enterMovesDown)},t.prototype.isUndoRedoCellEditing=function(){return ia(this.gridOptions.undoRedoCellEditing)},t.prototype.getUndoRedoCellEditingLimit=function(){return sa(this.gridOptions.undoRedoCellEditingLimit)},t.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},t.prototype.getRowClass=function(){return this.gridOptions.rowClass},t.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},t.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},t.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},t.prototype.isServerSideInfiniteScroll=function(){return ia(this.gridOptions.serverSideInfiniteScroll)},t.prototype.getServerSideGroupLevelParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideGroupLevelParams)},t.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},t.prototype.getPopupParent=function(){return this.gridOptions.popupParent},t.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},t.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},t.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},t.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},t.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},t.prototype.getInitialGroupOrderComparator=function(){var t=this.gridOptions,e=t.initialGroupOrderComparator,n=t.defaultGroupOrderComparator;return e?this.mergeGridCommonParams(e):n?function(t){return n(t.nodeA,t.nodeB)}:void 0},t.prototype.getIsFullWidthCellFunc=function(){var t=this.gridOptions,e=t.isFullWidthRow,n=t.isFullWidthCell;return e?this.mergeGridCommonParams(e):n?function(t){return n(t.rowNode)}:void 0},t.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},t.prototype.isEmbedFullWidthRows=function(){return ia(this.gridOptions.embedFullWidthRows)||ia(this.gridOptions.deprecatedEmbedFullWidthRows)},t.prototype.isDetailRowAutoHeight=function(){return ia(this.gridOptions.detailRowAutoHeight)},t.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},t.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},t.prototype.getApi=function(){return this.gridOptions.api},t.prototype.getColumnApi=function(){return this.gridOptions.columnApi},t.prototype.isReadOnlyEdit=function(){return ia(this.gridOptions.readOnlyEdit)},t.prototype.isImmutableData=function(){var t=null!=this.gridOptions.getRowId,e=ia(this.gridOptions.immutableData);return!ia(this.gridOptions.resetRowDataOnUpdate)&&(t||e)},t.prototype.isEnsureDomOrder=function(){return ia(this.gridOptions.ensureDomOrder)},t.prototype.isEnableCharts=function(){return!!ia(this.gridOptions.enableCharts)&&ot.assertRegistered(nt.GridChartsModule,"enableCharts")},t.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},t.prototype.isSingleClickEdit=function(){return ia(this.gridOptions.singleClickEdit)},t.prototype.isSuppressClickEdit=function(){return ia(this.gridOptions.suppressClickEdit)},t.prototype.isStopEditingWhenCellsLoseFocus=function(){return ia(this.gridOptions.stopEditingWhenCellsLoseFocus)},t.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},t.prototype.getMaxConcurrentDatasourceRequests=function(){var t=sa(this.gridOptions.maxConcurrentDatasourceRequests);return null==t?2:t<=0?void 0:t},t.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},t.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},t.prototype.getPaginationPageSize=function(){return sa(this.gridOptions.paginationPageSize)},t.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||ia(this.gridOptions.paginateChildRows)},t.prototype.getCacheBlockSize=function(){return aa(this.gridOptions.cacheBlockSize)},t.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},t.prototype.isPurgeClosedRowNodes=function(){return ia(this.gridOptions.purgeClosedRowNodes)},t.prototype.isSuppressPaginationPanel=function(){return ia(this.gridOptions.suppressPaginationPanel)},t.prototype.getRowData=function(){return this.gridOptions.rowData},t.prototype.isEnableRtl=function(){return ia(this.gridOptions.enableRtl)},t.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},t.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},t.prototype.isAngularCompileRows=function(){return ia(this.gridOptions.angularCompileRows)},t.prototype.isAngularCompileFilters=function(){return ia(this.gridOptions.angularCompileFilters)},t.prototype.isDebug=function(){return ia(this.gridOptions.debug)},t.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},t.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},t.prototype.getDatasource=function(){return this.gridOptions.datasource},t.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},t.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},t.prototype.isAccentedSort=function(){return ia(this.gridOptions.accentedSort)},t.prototype.isEnableBrowserTooltips=function(){return ia(this.gridOptions.enableBrowserTooltips)},t.prototype.isEnableCellExpressions=function(){return ia(this.gridOptions.enableCellExpressions)},t.prototype.isEnableGroupEdit=function(){return ia(this.gridOptions.enableGroupEdit)},t.prototype.isSuppressMiddleClickScrolls=function(){return ia(this.gridOptions.suppressMiddleClickScrolls)},t.prototype.isPreventDefaultOnContextMenu=function(){return ia(this.gridOptions.preventDefaultOnContextMenu)},t.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return ia(this.gridOptions.suppressPreventDefaultOnMouseWheel)},t.prototype.isSuppressColumnVirtualisation=function(){return ia(this.gridOptions.suppressColumnVirtualisation)},t.prototype.isSuppressRowVirtualisation=function(){return ia(this.gridOptions.suppressRowVirtualisation)},t.prototype.isSuppressContextMenu=function(){return ia(this.gridOptions.suppressContextMenu)},t.prototype.isAllowContextMenuWithControlKey=function(){return ia(this.gridOptions.allowContextMenuWithControlKey)},t.prototype.isSuppressCopyRowsToClipboard=function(){return ia(this.gridOptions.suppressCopyRowsToClipboard)},t.prototype.isSuppressCopySingleCellRanges=function(){return ia(this.gridOptions.suppressCopySingleCellRanges)},t.prototype.isCopyHeadersToClipboard=function(){return ia(this.gridOptions.copyHeadersToClipboard)},t.prototype.isCopyGroupHeadersToClipboard=function(){return ia(this.gridOptions.copyGroupHeadersToClipboard)},t.prototype.isSuppressClipboardPaste=function(){return ia(this.gridOptions.suppressClipboardPaste)},t.prototype.isSuppressLastEmptyLineOnPaste=function(){return ia(this.gridOptions.suppressLastEmptyLineOnPaste)},t.prototype.isPagination=function(){return ia(this.gridOptions.pagination)},t.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return ia(this.gridOptions.suppressEnterpriseResetOnNewColumns)},t.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},t.prototype.getAsyncTransactionWaitMillis=function(){return r(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:et.BATCH_WAIT_MILLIS},t.prototype.isSuppressMovableColumns=function(){return ia(this.gridOptions.suppressMovableColumns)},t.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&ia(this.gridOptions.animateRows)},t.prototype.isSuppressColumnMoveAnimation=function(){return ia(this.gridOptions.suppressColumnMoveAnimation)},t.prototype.isSuppressAggFuncInHeader=function(){return ia(this.gridOptions.suppressAggFuncInHeader)},t.prototype.isSuppressAggAtRootLevel=function(){return ia(this.gridOptions.suppressAggAtRootLevel)},t.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||ia(this.gridOptions.suppressAggFilteredOnly)},t.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return ia(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},t.prototype.isShowOpenedGroup=function(){return ia(this.gridOptions.showOpenedGroup)},t.prototype.isReactUi=function(){return ia(this.gridOptions.reactUi)},t.prototype.isSuppressReactUi=function(){return ia(this.gridOptions.suppressReactUi)},t.prototype.isEnableRangeSelection=function(){return ot.isRegistered(nt.RangeSelectionModule)&&ia(this.gridOptions.enableRangeSelection)},t.prototype.isEnableRangeHandle=function(){return ia(this.gridOptions.enableRangeHandle)},t.prototype.isEnableFillHandle=function(){return ia(this.gridOptions.enableFillHandle)},t.prototype.getFillHandleDirection=function(){var t=this.gridOptions.fillHandleDirection;return t?"x"!==t&&"y"!==t&&"xy"!==t?(R(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):t:"xy"},t.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},t.prototype.isSuppressMultiRangeSelection=function(){return ia(this.gridOptions.suppressMultiRangeSelection)},t.prototype.isPaginationAutoPageSize=function(){return ia(this.gridOptions.paginationAutoPageSize)},t.prototype.isRememberGroupStateWhenNewData=function(){return ia(this.gridOptions.rememberGroupStateWhenNewData)},t.prototype.getIcons=function(){return this.gridOptions.icons},t.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;return"function"==typeof t?this.mergeGridCommonParams(t):ia(t)?function(){return!0}:void 0},t.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},t.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},t.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},t.prototype.isMasterDetail=function(){return!!ia(this.gridOptions.masterDetail)&&ot.assertRegistered(nt.MasterDetailModule,"masterDetail")},t.prototype.isKeepDetailRows=function(){return ia(this.gridOptions.keepDetailRows)},t.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptions.keepDetailRowsCount;return r(t)&&t>0?this.gridOptions.keepDetailRowsCount:10},t.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},t.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},t.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},t.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},t.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},t.prototype.isSuppressAutoSize=function(){return ia(this.gridOptions.suppressAutoSize)},t.prototype.isEnableCellTextSelection=function(){return ia(this.gridOptions.enableCellTextSelection)},t.prototype.isSuppressParentsInRowNodes=function(){return ia(this.gridOptions.suppressParentsInRowNodes)},t.prototype.isSuppressClipboardApi=function(){return ia(this.gridOptions.suppressClipboardApi)},t.prototype.isFunctionsReadOnly=function(){return ia(this.gridOptions.functionsReadOnly)},t.prototype.isEnableCellTextSelect=function(){return ia(this.gridOptions.enableCellTextSelection)},t.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},t.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},t.prototype.getDefaultExportParams=function(t){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+Kt(t)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===t&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===t&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},t.prototype.isSuppressCsvExport=function(){return ia(this.gridOptions.suppressCsvExport)},t.prototype.isAllowShowChangeAfterFilter=function(){return ia(this.gridOptions.allowShowChangeAfterFilter)},t.prototype.isSuppressExcelExport=function(){return ia(this.gridOptions.suppressExcelExport)},t.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return ia(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},t.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},t.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},t.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},t.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},t.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},t.prototype.getGroupRowAggFunc=function(){var t=this.gridOptions,e=t.getGroupRowAgg,n=t.groupRowAggNodes;return e?this.mergeGridCommonParams(e):n?function(t){return n(t.nodes)}:void 0},t.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},t.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},t.prototype.getRowIdFunc=function(){var t=this.gridOptions,e=t.getRowId,n=t.getRowNodeId;return e?this.mergeGridCommonParams(e):n?function(t){return n(t.data)}:void 0},t.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},t.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},t.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},t.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},t.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},t.prototype.isTreeData=function(){return!!ia(this.gridOptions.treeData)&&ot.assertRegistered(nt.RowGroupingModule,"Tree Data")},t.prototype.isValueCache=function(){return ia(this.gridOptions.valueCache)},t.prototype.isValueCacheNeverExpires=function(){return ia(this.gridOptions.valueCacheNeverExpires)},t.prototype.isDeltaSort=function(){return ia(this.gridOptions.deltaSort)},t.prototype.isAggregateOnlyChangedColumns=function(){return ia(this.gridOptions.aggregateOnlyChangedColumns)},t.prototype.getProcessPivotResultColDefFunc=function(){return this.gridOptions.processPivotResultColDef||this.gridOptions.processSecondaryColDef},t.prototype.getProcessPivotResultColGroupDefFunc=function(){return this.gridOptions.processPivotResultColGroupDef||this.gridOptions.processSecondaryColGroupDef},t.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},t.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},t.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},t.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},t.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},t.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},t.prototype.getViewportRowModelPageSize=function(){return aa(this.gridOptions.viewportRowModelPageSize,5)},t.prototype.getViewportRowModelBufferSize=function(){return(t=this.gridOptions.viewportRowModelBufferSize)>=0?t:5;var t},t.prototype.isServerSideSortAllLevels=function(){var t=ia(this.gridOptions.serverSideSortAllLevels);return!this.isRowModelServerSide()&&t?(R(function(){return console.warn("AG Grid: The `serverSideSortAllLevels` property can only be used with the server side row model.")},"serverSideSortAllLevels"),!1):t},t.prototype.isServerSideFilterAllLevels=function(){var t=ia(this.gridOptions.serverSideFilterAllLevels);return!this.isRowModelServerSide()&&t?(R(function(){return console.warn("AG Grid: The `serverSideFilterAllLevels` property can only be used with the server side row model.")},"serverSideFilterAllLevels"),!1):t},t.prototype.isServerSideSortOnServer=function(){var t=ia(this.gridOptions.serverSideSortOnServer);return!this.isRowModelServerSide()&&t?(R(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property can only be used with the server side row model.")},"serverSideSortOnServerRowModel"),!1):this.isTreeData()&&t?(R(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property cannot be used while using tree data.")},"serverSideSortOnServerTreeData"),!1):t},t.prototype.isServerSideFilterOnServer=function(){var t=ia(this.gridOptions.serverSideFilterOnServer);return!this.isRowModelServerSide()&&t?(R(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property can only be used with the server side row model.")},"serverSideFilterOnServerRowModel"),!1):this.isTreeData()&&t?(R(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property cannot be used while using tree data.")},"serverSideFilterOnServerTreeData"),!1):t},t.prototype.getPostSortFunc=function(){var t=this.gridOptions,e=t.postSortRows,n=t.postSort;return e?this.mergeGridCommonParams(e):n?function(t){return n(t.nodes)}:void 0},t.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},t.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},t.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},t.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},t.prototype.getClipboardDelimiter=function(){return r(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},t.prototype.setProperty=function(t,e,n){void 0===n&&(n=!1);var o=this.gridOptions,r=o[t];(n||r!==e)&&(o[t]=e,this.propertyEventService.dispatchEvent({type:t,currentValue:e,previousValue:r}))},t.prototype.addEventListener=function(t,e){this.propertyEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.propertyEventService.removeEventListener(t,e)},t.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},t.prototype.getAutoSizePadding=function(){var t=this.gridOptions.autoSizePadding;return null!=t&&t>=0?t:20},t.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},t.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},t.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},t.prototype.doesExternalFilterPass=function(t){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(t)},t.prototype.getTooltipDelay=function(t){var e=this.gridOptions,n="show"===t?e.tooltipShowDelay:e.tooltipHideDelay,o=Kt(t);return r(n)?(n<0&&R(function(){return console.warn("ag-grid: tooltip"+o+"Delay should not be lower than 0")},"tooltip"+o+"DelayWarn"),Math.max(200,n)):null},t.prototype.isTooltipMouseTrack=function(){return ia(this.gridOptions.tooltipMouseTrack)},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return ia(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},t.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&r(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&r(t)?t:document},t.prototype.getMinColWidth=function(){var t=this.gridOptions.minColWidth;if(r(t)&&t>e.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var n=this.getFromTheme(null,"headerCellMinWidth");return r(n)?Math.max(n,e.MIN_COL_WIDTH):e.MIN_COL_WIDTH},t.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>e.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},t.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<e.MIN_COL_WIDTH?200:this.gridOptions.colWidth},t.prototype.getRowBuffer=function(){var t=this.gridOptions.rowBuffer;return"number"==typeof t?t<0&&(R(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=t=0):t=et.ROW_BUFFER_SIZE,t},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},t.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var t="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:He();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:Vt.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},t.prototype.checkForDeprecated=function(){var t=this.gridOptions;t.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),t.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),t.enableMultiRowDragging&&(t.rowDragMultiRow=!0,delete t.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var e=function(e,n,o){null!=t[e]&&(console.warn("AG Grid: since version "+o+", '"+e+"' is deprecated / renamed, please use the new property name '"+n+"' instead."),null==t[n]&&(t[n]=t[e]))};if(e("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),e("deltaRowDataMode","immutableData","23.1.x"),e("serverSideFilteringAlwaysResets","serverSideFilterAllLevels","28.0.0"),e("serverSideSortingAlwaysResets","serverSideSortAllLevels","28.0.0"),(t.immutableColumns||t.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),e("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),t.groupRowInnerRenderer||t.groupRowInnerRendererParams||t.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),t.groupRowRendererParams||(t.groupRowRendererParams={});var n=t.groupRowRendererParams;t.groupRowInnerRenderer&&(n.innerRenderer=t.groupRowInnerRenderer),t.groupRowInnerRendererParams&&(n.innerRendererParams=t.groupRowInnerRendererParams),t.groupRowInnerRendererFramework&&(n.innerRendererFramework=t.groupRowInnerRendererFramework)}t.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),t.detailCellRendererParams&&t.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),t.detailRowAutoHeight=!0),t.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),t.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),t.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),t.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),t.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),t.stopEditingWhenCellsLoseFocus=!0),t.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),t.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),t.groupDisplayType="multipleColumns"),t.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),t.groupDisplayType="groupRows"),t.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(t.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),t.groupDisplayType="custom"),t.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),t.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),t.defaultGroupOrderComparator=t.defaultGroupSortComparator),t.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),t.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),t.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),t.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),t.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),t.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),t.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),t.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),t.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),t.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),t.suppressCellFocus=t.suppressCellSelection),t.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),t.immutableData&&(t.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),t.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),t.clipboardDelimiter=t.clipboardDeliminator),e("processSecondaryColDef","processPivotResultColDef","28.0.x"),e("processSecondaryColGroupDef","processPivotResultColGroupDef","28.0.x"),t.serverSideStoreType&&(console.warn("AG Grid: since v28.0, `serverSideStoreType` has been replaced by `serverSideInfiniteScroll`. Set to true to use Partial Store, and false to use Full Store."),t.serverSideInfiniteScroll="partial"===t.serverSideStoreType),e("getServerSideStoreParams","getServerSideGroupLevelParams","28.0.x")},t.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},t.prototype.treeDataViolations=function(){this.isRowModelDefault()&&i(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(i(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),i(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},t.prototype.getLocaleTextFunc=function(){var t=this,e=this.gridOptions,n=e.localeText,o=e.getLocaleText;return o?function(e,n,r){var i={key:e,defaultValue:n,variableValues:r,api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext()};return o(i)}:e.localeTextFunc||function(t,e,o){var r=n&&n[t];if(r&&o&&o.length)for(var i=0;!(i>=o.length)&&-1!==r.indexOf("${variable}");)r=r.replace("${variable}",o[i++]);return null!=r?r:e}},t.prototype.globalEventHandler=function(t,e){if(!this.destroyed){var n=fe.getCallbackForEvent(t);"function"==typeof this.gridOptions[n]&&this.gridOptions[n](e)}},t.prototype.setRowHeightVariable=function(t){var e=t+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=e&&this.eGridDiv.style.setProperty("--ag-line-height",e)},t.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||i(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var t=this.gridOptions.rowHeight;return t&&this.isNumeric(t)?(this.setRowHeightVariable(t),t):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},t.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},t.prototype.getRowHeightForNode=function(t,e,n){if(void 0===e&&(e=!1),null==n&&(n=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:n,estimated:!0};var o={node:t,data:t.data},r=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(o);if(this.isNumeric(r))return 0===r&&R(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,r),estimated:!1}}return t.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}},t.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},t.prototype.isNumeric=function(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)},t.prototype.getFromTheme=function(t,e){var n=this.environment.getTheme().theme;return n&&0===n.indexOf("ag-theme")?this.environment.getSassVariable(n,e):t},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},t.prototype.matchesGroupDisplayType=function(t,e){var n=["groupRows","multipleColumns","custom","singleColumn"];return n.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid groupDisplayType value - possible values are: '"+n.join("', '")+"'"),!1):e===t},t.prototype.matchesTreeDataDisplayType=function(t,e){var n=["auto","custom"];return n.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid treeDataDisplayType value - possible values are: '"+n.join("', '")+"'"),!1):e===t},t.MIN_COL_WIDTH=10,t.PROP_HEADER_HEIGHT="headerHeight",t.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",t.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",t.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",t.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",t.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",t.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",t.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",t.PROP_TAB_TO_NEXT_CELL="tabToNextCell",t.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",t.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",t.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",t.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",t.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",t.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",t.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",t.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",t.PROP_GET_ROW_CLASS="getRowClass",t.PROP_GET_ROW_STYLE="getRowStyle",t.PROP_GET_ROW_HEIGHT="getRowHeight",t.PROP_POPUP_PARENT="popupParent",t.PROP_DOM_LAYOUT="domLayout",t.PROP_ROW_CLASS="rowClass",t.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",t.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",t.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",t.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",t.PROP_GET_CHILD_COUNT="getChildCount",t.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",t.PROP_GET_ROW_NODE_ID="getRowNodeId",t.PROP_GET_ROW_ID="getRowId",t.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",t.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",t.PROP_IS_ROW_SELECTABLE="isRowSelectable",t.PROP_IS_ROW_MASTER="isRowMaster",t.PROP_POST_SORT="postSort",t.PROP_POST_SORT_ROWS="postSortRows",t.PROP_GET_DOCUMENT="getDocument",t.PROP_POST_PROCESS_POPUP="postProcessPopup",t.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",t.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",t.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",t.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",t.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",t.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",t.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",t.PROP_SEND_TO_CLIPBOARD="sendToClipboard",t.PROP_PROCESS_PIVOT_RESULT_COL_DEF="processPivotResultColDef",t.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF="processPivotResultColGroupDef",t.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",t.PROP_GET_SERVER_SIDE_GROUP_PARAMS="getServerSideGroupLevelParams",t.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",t.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",t.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",t.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",ea([K("gridOptions")],t.prototype,"gridOptions",void 0),ea([K("eventService")],t.prototype,"eventService",void 0),ea([K("environment")],t.prototype,"environment",void 0),ea([K("eGridDiv")],t.prototype,"eGridDiv",void 0),ea([na(0,X("gridApi")),na(1,X("columnApi"))],t.prototype,"agWire",null),ea([z],t.prototype,"destroy",null),ea([$],t.prototype,"init",null),e=ea([j("gridOptionsWrapper")],t)}(),ca=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ua=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pa=(()=>(function(t){t.AUTO_HEIGHT="ag-layout-auto-height",t.NORMAL="ag-layout-normal",t.PRINT="ag-layout-print"}(pa||(pa={})),pa))(),da=function(t){function e(e){var n=t.call(this)||this;return n.view=e,n}return ca(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,la.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.gridOptionsWrapper.getDomLayout(),e={autoHeight:t===et.DOM_LAYOUT_AUTO_HEIGHT,normal:t===et.DOM_LAYOUT_NORMAL,print:t===et.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(e.autoHeight?pa.AUTO_HEIGHT:e.print?pa.PRINT:pa.NORMAL,e)},ua([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ua([$],e.prototype,"postConstruct",null),e}(kt),ha=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fa=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ga=function(t){function e(e){var n=t.call(this)||this;return n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=e,n.resetLastHorizontalScrollElementDebounced=k(n.resetLastHorizontalScrollElement.bind(n),500),n}return ha(e,t),e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(e){t.centerRowContainerCtrl=e.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(t.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var e=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?k(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",e)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){if(null!=this.centerRowContainerCtrl){void 0===t&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var e=this.enableRtl?t:-t,n=this.ctrlsService.getTopCenterRowContainerCtrl(),o=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),r=this.ctrlsService.getBottomCenterRowContainerCtrl(),i=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(e),r.setContainerTranslateX(e),n.setContainerTranslateX(e),o.setContainerTranslateX(e);var s=this.centerRowContainerCtrl.getViewportElement();ln(this.lastHorizontalScrollElement===s?i.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl)}},e.prototype.isControllingScroll=function(t){return this.lastHorizontalScrollElement?t===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=t,!0)},e.prototype.onFakeHorizontalScroll=function(){var t=this.ctrlsService.getFakeHScrollCtrl().getViewport();this.isControllingScroll(t)&&this.onBodyHorizontalScroll(t)},e.prototype.onCenterViewportScroll=function(){var t=this.centerRowContainerCtrl.getViewportElement();this.isControllingScroll(t)&&this.onBodyHorizontalScroll(t)},e.prototype.onBodyHorizontalScroll=function(t){var e=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",e.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(an(t,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},e.prototype.onVerticalScroll=function(){var t=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},e.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},e.prototype.doHorizontalScroll=function(t){var e=an(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged())},e.prototype.fireScrollEvent=function(t){var e=this,n={type:Vt.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:t,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(n),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var t=Object.assign({},n,{type:Vt.EVENT_BODY_SCROLL_END});e.eventService.dispatchEvent(t)},100)},e.prototype.shouldBlockScrollUpdate=function(t,e,n){if(void 0===n&&(n=!1),n&&!Ge())return!1;if("vertical"===t){var o=en(this.eBodyViewport);if(e<0||e+o>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===t){var r=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&sn()){if(e>0)return!0}else if(e<0)return!0;if(Math.abs(e)+r>i)return!0}return!1},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},e.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},e.prototype.executeAnimationFrameScroll=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",t)&&(t=this.enableRtl&&sn()?t>0?0:e:Math.min(Math.max(t,0),e)),ln(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-e},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null);for(var n=this.rowModel.getRowCount(),o="function"==typeof t,r=-1,i=0;i<n;i++){var s=this.rowModel.getRow(i);if(o){if(t(s)){r=i;break}}else if(t===s||t===s.data){r=i;break}}r>=0&&this.ensureIndexVisible(r,e)},e.prototype.ensureIndexVisible=function(t,e){if(this.gridOptionsWrapper.getDomLayout()!==et.DOM_LAYOUT_PRINT){var n=this.paginationProxy.getRowCount();if("number"!=typeof t||t<0||t>=n)console.warn("invalid row index for ensureIndexVisible: "+t);else{this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(t);var o,r=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),i=this.paginationProxy.getRow(t);do{var s=i.rowTop,a=i.rowHeight,l=this.paginationProxy.getPixelOffset(),c=i.rowTop-l,u=c+i.rowHeight,p=this.getVScrollPosition(),d=this.heightScaler.getDivStretchOffset(),h=p.top+d,f=p.bottom+d,g=f-h,m=this.heightScaler.getScrollPositionForPixel(c),y=this.heightScaler.getScrollPositionForPixel(u-g),_=Math.min((m+y)/2,c),v=null;"top"===e?v=m:"bottom"===e?v=y:"middle"===e?v=_:h+r>c?v=m-r:f<u&&(v=y),null!==v&&(this.eBodyViewport.scrollTop=v,this.rowRenderer.redrawAfterScroll()),o=s!==i.rowTop||a!==i.rowHeight}while(o);this.animationFrameService.flushAllFrames()}}},e.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto");var n=this.columnModel.getGridColumn(t);if(n&&!n.isPinned()&&this.columnModel.isColumnDisplayed(n)){var o=this.getPositionedHorizontalScroll(n,e);null!==o&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},e.prototype.getPositionedHorizontalScroll=function(t,e){var n=this.isColumnOutsideViewport(t),o=n.columnBeforeStart,r=n.columnAfterEnd,i=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl,l=(a?o:r)||i,c=a?r:o;"auto"!==e&&(l="start"===e,c="end"===e);var u="middle"===e;if(l||c||u){var p=this.getColumnBounds(t),d=p.colLeft,h=p.colRight;return u?p.colMiddle-s/2:l?a?h:d:a?d-s:h-s}return null},e.prototype.isColumnOutsideViewport=function(t){var e=this.getViewportBounds(),n=e.start,o=e.end,r=this.getColumnBounds(t),i=r.colLeft,s=r.colRight,a=this.enableRtl;return{columnBeforeStart:a?n>s:o<s,columnAfterEnd:a?o<i:n>i}},e.prototype.getColumnBounds=function(t){var e=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),r=t.getLeft(),i=e?-1:1,s=e?n-r:r;return{colLeft:s,colMiddle:s+o/2*i,colRight:s+o*i}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),e=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:e,end:t+e,width:t}},fa([K("ctrlsService")],e.prototype,"ctrlsService",void 0),fa([K("animationFrameService")],e.prototype,"animationFrameService",void 0),fa([K("columnApi")],e.prototype,"columnApi",void 0),fa([K("gridApi")],e.prototype,"gridApi",void 0),fa([K("paginationProxy")],e.prototype,"paginationProxy",void 0),fa([K("rowModel")],e.prototype,"rowModel",void 0),fa([K("rowContainerHeightService")],e.prototype,"heightScaler",void 0),fa([K("rowRenderer")],e.prototype,"rowRenderer",void 0),fa([K("columnModel")],e.prototype,"columnModel",void 0),fa([$],e.prototype,"postConstruct",null),e}(kt),ma=function(){function t(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return t.prototype.check=function(t,e){void 0===e&&(e=!1);var n=e||this.shouldSkipVerticalScroll();if(!n||!this.shouldSkipHorizontalScroll()){var o=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=t.clientX<o.left+r,this.tickRight=t.clientX>o.right-r,this.tickUp=t.clientY<o.top+r&&!n,this.tickDown=t.clientY>o.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},t.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},t.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-t),this.tickRight&&this.setHorizontalPosition(n+t)}this.onScrollCallback&&this.onScrollCallback()},t.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},t}(),ya=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_a=function(){return(_a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},va=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ca=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ea=function(t){function e(e){var n=t.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=e,n}return ya(e,t),e.prototype.postConstruct=function(){var t=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var e=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,Vt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_MODEL_UPDATED,function(){e()}),e(),this.ctrlsService.whenReady(function(){var e=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new ma({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return e.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(t){return e.getScrollFeature().setVerticalScrollPosition(t)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!s(t)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===$i.RowDrag},e.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?Ki.ICON_NOT_ALLOWED:Ki.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(t){var e=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var n=this.gridOptionsWrapper.isRowDragMultiRow(),o=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ca(arguments[e]));return t}(this.selectionService.getSelectedNodes()).sort(function(t,n){return null==t.rowIndex||null==n.rowIndex?0:e.getRowIndexNumber(t)-e.getRowIndexNumber(n)}),r=t.dragItem.rowNode;return n&&-1!==o.indexOf(r)?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[r])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(Vt.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(t){t.setDragging(!0)}),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){return t.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(t.dropZoneTarget)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(Vt.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,e){var n=this.isFromThisGrid(t),o=this.gridOptionsWrapper.isRowDragManaged(),r=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!n?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(r[0],e):this.moveRows(r,e))},e.prototype.getRowIndexNumber=function(t){return parseInt(lt(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var e=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),o=n&&n.highlighted===Ni.Below,r=this.mouseEventService.getNormalisedPosition(t).y,i=t.dragItem.rowNodes,s=o?1:0;if(this.isFromThisGrid(t))i.forEach(function(t){t.rowTop<r&&(s-=1)}),this.moveRows(i,r,s);else{var a=this.gridOptionsWrapper.getRowIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(r)+1;this.clientSideRowModel.getHighlightPosition(r)===Ni.Above&&l--,this.clientSideRowModel.updateRowData({add:i.map(function(t){return t.data}).filter(function(t){return!e.clientSideRowModel.getRowNode(a?a({data:t,level:0}):t.id)}),addIndex:l})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,e,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(t,e,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var e=this;if(t.getContainer())if(this.dragAndDropService.findExternalZone(t))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,n=t):(t.onDragEnter&&(n.onDragEnter=function(n){t.onDragEnter(e.draggingToRowDragEvent(Vt.EVENT_ROW_DRAG_ENTER,n))}),t.onDragLeave&&(n.onDragLeave=function(n){t.onDragLeave(e.draggingToRowDragEvent(Vt.EVENT_ROW_DRAG_LEAVE,n))}),t.onDragging&&(n.onDragging=function(n){t.onDragging(e.draggingToRowDragEvent(Vt.EVENT_ROW_DRAG_MOVE,n))}),t.onDragStop&&(n.onDragStop=function(n){t.onDragStop(e.draggingToRowDragEvent(Vt.EVENT_ROW_DRAG_END,n))})),this.dragAndDropService.addDropTarget(_a({isInterestedIn:function(t){return t===$i.RowDrag},getIconName:function(){return Ki.ICON_MOVE},external:!0},n))}else R(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},e.prototype.getRowDropZone=function(t){var e=this,n=this.getContainer.bind(this),o=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:n,onDragEnter:t.onDragEnter?function(n){o(n),t.onDragEnter(e.draggingToRowDragEvent(Vt.EVENT_ROW_DRAG_ENTER,n))}:o,onDragLeave:t.onDragLeave?function(n){r(n),t.onDragLeave(e.draggingToRowDragEvent(Vt.EVENT_ROW_DRAG_LEAVE,n))}:r,onDragging:t.onDragging?function(n){i(n),t.onDragging(e.draggingToRowDragEvent(Vt.EVENT_ROW_DRAG_MOVE,n))}:i,onDragStop:t.onDragStop?function(n){s(n),t.onDragStop(e.draggingToRowDragEvent(Vt.EVENT_ROW_DRAG_END,n))}:s,fromGrid:!0}:{getContainer:n,onDragEnter:o,onDragLeave:r,onDragging:i,onDragStop:s,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,e){var n,o,r=this.mouseEventService.getNormalisedPosition(e).y,i=-1;switch(r>this.paginationProxy.getCurrentPageHeight()||(i=this.rowModel.getRowIndexAtPixel(r),n=this.rowModel.getRow(i)),e.vDirection){case zi.Down:o="down";break;case zi.Up:o="up";break;default:o=null}return{type:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:i,overNode:n,y:r,vDirection:o}},e.prototype.dispatchGridEvent=function(t,e){var n=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(n)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(Vt.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(Vt.EVENT_ROW_DRAG_END,t),this.stopDragging(t),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(t)||this.isDropZoneWithinThisGrid(t)||this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(t){t.setDragging(!1)})},va([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),va([K("rowModel")],e.prototype,"rowModel",void 0),va([K("paginationProxy")],e.prototype,"paginationProxy",void 0),va([K("columnModel")],e.prototype,"columnModel",void 0),va([K("focusService")],e.prototype,"focusService",void 0),va([K("sortController")],e.prototype,"sortController",void 0),va([K("filterManager")],e.prototype,"filterManager",void 0),va([K("selectionService")],e.prototype,"selectionService",void 0),va([K("mouseEventService")],e.prototype,"mouseEventService",void 0),va([K("ctrlsService")],e.prototype,"ctrlsService",void 0),va([Y("rangeService")],e.prototype,"rangeService",void 0),va([K("columnApi")],e.prototype,"columnApi",void 0),va([K("gridApi")],e.prototype,"gridApi",void 0),va([$],e.prototype,"postConstruct",null),e}(kt),wa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Oa=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ba=(()=>(function(t){t.ANIMATION_ON="ag-row-animation",t.ANIMATION_OFF="ag-row-no-animation"}(ba||(ba={})),ba))(),Sa="ag-selectable",Pa="ag-force-vertical-scroll",Da="ag-column-moving",Ta=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return wa(e,t),e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,e,n,o,r,i){this.comp=t,this.eGridBody=e,this.eBodyViewport=n,this.eTop=o,this.eBottom=r,this.eStickyTop=i,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new da(this.comp)),this.bodyScrollFeature=this.createManagedBean(new ga(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,n,r,i]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Vt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var e=this;t.forEach(function(t){e.addManagedListener(t,"focusin",function(e){var n=Je(e.target,"ag-root",t);t.classList.toggle("ag-has-focus",!n)}),e.addManagedListener(t,"focusout",function(e){var n=e.target,o=e.relatedTarget,r=t.contains(o),i=Je(o,"ag-root",t);Je(n,"ag-root",t)||r&&!i||t.classList.remove("ag-has-focus")})})},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(t?Da:null,t)},e.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1),this.comp.setCellSelectableCss(t?Sa:null,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t)},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var e=function(e){var o=e.relatedTarget;if(null!==We(o)){var r=n.some(function(t){return t.contains(o)})&&t.mouseEventService.isElementInThisGrid(o);if(!r){var i=t.popupService;r=i.getActivePopups().some(function(t){return t.contains(o)})||i.isElementWithinCustomPopup(o)}r||t.rowRenderer.stopEditing()}else t.rowRenderer.stopEditing()},n=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];n.forEach(function(n){return t.addManagedListener(n,"focusout",e)})}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount(),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===e?-1:t+e)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){this.comp.setPinnedTopBottomOverflowY(t?"scroll":"hidden")},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(t?Pa:null,t),t||Cn(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,e=function(){var e=t.gridOptionsWrapper.isAnimateRows()&&!t.rowContainerHeightService.isStretching();t.comp.setRowAnimationCssOnBodyViewport(e?ba.ANIMATION_ON:ba.ANIMATION_OFF,e)};e(),this.addManagedListener(this.eventService,Vt.EVENT_HEIGHT_SCALE_CHANGED,e)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(e){t.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&e.preventDefault();var n=e.target;n!==t.eBodyViewport&&n!==t.ctrlsService.getCenterRowContainerCtrl().getViewportElement()||t.contextMenuFactory&&t.contextMenuFactory.onContextMenu(e,null,null,null,null,t.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this))},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Ea(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,e=t.getPinnedTopTotalHeight();e&&(e+=1);var n=t.getPinnedBottomTotalHeight();n&&(n+=1),this.comp.setTopHeight(e),this.comp.setBottomHeight(n),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){void 0===t&&(t=0),this.comp.setStickyTopHeight(t+"px"),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(t){var e=this.gridOptionsWrapper.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+e+"px)")}else this.comp.setStickyTopWidth("100%")},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),e=this.pinnedRowModel.getPinnedTopTotalHeight(),n=0;t>0&&(n+=t+1),e>0&&(n+=e+1),this.comp.setStickyTopTop(n+"px")},e.prototype.sizeColumnsToFit=function(t){var e=this,n=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,o=nn(this.eBodyViewport)-n;o>0?this.columnModel.sizeColumnsToFit(o,"sizeColumnsToFit"):void 0===t?window.setTimeout(function(){e.sizeColumnsToFit(100)},0):100===t?window.setTimeout(function(){e.sizeColumnsToFit(500)},100):500===t?window.setTimeout(function(){e.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t)},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},Oa([K("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Oa([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Oa([K("columnModel")],e.prototype,"columnModel",void 0),Oa([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Oa([Y("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Oa([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Oa([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Oa([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Oa([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Oa([K("popupService")],e.prototype,"popupService",void 0),Oa([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Oa([K("rowModel")],e.prototype,"rowModel",void 0),e}(kt),Ra=(()=>(function(t){t[t.FILL=0]="FILL",t[t.RANGE=1]="RANGE"}(Ra||(Ra={})),Ra))(),Aa=(()=>(function(t){t[t.VALUE=0]="VALUE",t[t.DIMENSION=1]="DIMENSION"}(Aa||(Aa={})),Aa))(),Ma=function(){function t(t,e){this.beans=t,this.cellCtrl=e}return t.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected",0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),io(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},t.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.right,o=!e&&t.bottom,r=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",r)},t.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},t.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(t){return gt([Aa.DIMENSION,Aa.VALUE],t.type)})},t.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},t.prototype.getRangeBorders=function(){var t,e,n=this,o=this.beans.gridOptionsWrapper.isEnableRtl(),r=!1,i=!1,s=!1,a=!1,l=this.cellCtrl.getCellPosition().column,c=this.beans,u=c.rangeService,p=c.columnModel;o?(t=p.getDisplayedColAfter(l),e=p.getDisplayedColBefore(l)):(t=p.getDisplayedColBefore(l),e=p.getDisplayedColAfter(l));var d=u.getCellRanges().filter(function(t){return u.isCellInSpecificRange(n.cellCtrl.getCellPosition(),t)});t||(a=!0),e||(i=!0);for(var h=0;h<d.length&&!(r&&i&&s&&a);h++){var f=d[h],g=u.getRangeStartRow(f),m=u.getRangeEndRow(f);!r&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(r=!0),!s&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(s=!0),!a&&t&&f.columns.indexOf(t)<0&&(a=!0),!i&&e&&f.columns.indexOf(e)<0&&(i=!0)}return{top:r,right:i,bottom:s,left:a}},t.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},t.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,n=t.rangeService,o=n.getCellRanges(),r=o.length;if(this.rangeCount<1||r<1)return!1;var i=lt(o),s=this.cellCtrl.getCellPosition(),a=e.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),l=e.isEnableRangeHandle(),c=1===r&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){var u=o[0].type===Aa.DIMENSION&&n.isCellInSpecificRange(s,o[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",u),c=i.type===Aa.VALUE}return c&&null!=i.endRow&&n.isContiguousRange(i)&&n.isBottomRightCell(i,s)},t.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,n=lt(t.rangeService.getCellRanges()).type,o=e.isEnableFillHandle()&&i(n)?Ra.FILL:Ra.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(o)),this.selectionHandle.refresh(this.cellCtrl)},t.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},t}(),xa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ia=function(t){function e(e,n){var o=t.call(this)||this;return o.cellCtrl=e,o.beans=n,o.column=e.getColumn(),o.rowNode=e.getRowNode(),o.setupColSpan(),o.setupRowSpan(),o}return xa(e,t),e.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();ct(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width=t+"px"}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,e){return t+e.getActualWidth()},0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else for(var n=this.column,o=this.column.getPinned(),r=0;n&&r<t&&(e.push(n),(n=this.beans.columnModel.getDisplayedColAfter(n))&&!i(n))&&o===n.getPinned();r++);return e},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?lt(this.colsSpanning):this.column).getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===et.PINNED_LEFT)return t;var e=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===et.PINNED_RIGHT?e+this.beans.columnModel.getBodyContainerWidth()+(t||0):e+(t||0)},e.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var t=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=t*this.rowSpan+"px",this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(kt),La=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fa=function(t){function e(e,n){var o=t.call(this)||this;return o.staticClasses=[],o.cellCtrl=e,o.beans=n,o.column=e.getColumn(),o.rowNode=e.getRowNode(),o}return La(e,t),e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,e=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(e.cellClassRules,n,function(e){return t.cellComp.addOrRemoveCssClass(e,!0)},function(e){return t.cellComp.addOrRemoveCssClass(e,!1)})},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var e;if("function"==typeof t.cellStyle){var n={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};e=(0,t.cellStyle)(n)}else e=t.cellStyle;this.cellComp.setUserStyles(e)}},e.prototype.applyClassesFromColDef=function(){var t=this,e=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(e){return t.cellComp.addOrRemoveCssClass(e,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,n),this.staticClasses.length&&this.staticClasses.forEach(function(e){return t.cellComp.addOrRemoveCssClass(e,!0)})},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(kt),Na=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ka=function(t){function e(e,n){var o=t.call(this)||this;return o.ctrl=e,o.beans=n,o}return Na(e,t),e.prototype.setComp=function(t){this.comp=t,this.setupTooltip()},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Yo({getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}}),this.beans.context))},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},e.prototype.getTooltipParams=function(){var t=this.ctrl,e=t.getColumn?t.getColumn():void 0,n=t.getColDef?t.getColDef():void 0,o=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:n,column:e,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:o,data:o?o.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(kt),Ga=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ba=function(){function t(){}return t.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},Ga([K("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Ga([K("paginationProxy")],t.prototype,"paginationProxy",void 0),Ga([K("context")],t.prototype,"context",void 0),Ga([K("columnApi")],t.prototype,"columnApi",void 0),Ga([K("gridApi")],t.prototype,"gridApi",void 0),Ga([K("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ga([K("expressionService")],t.prototype,"expressionService",void 0),Ga([K("rowRenderer")],t.prototype,"rowRenderer",void 0),Ga([K("templateService")],t.prototype,"templateService",void 0),Ga([K("valueService")],t.prototype,"valueService",void 0),Ga([K("eventService")],t.prototype,"eventService",void 0),Ga([K("columnModel")],t.prototype,"columnModel",void 0),Ga([K("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Ga([K("navigationService")],t.prototype,"navigationService",void 0),Ga([K("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Ga([Y("rangeService")],t.prototype,"rangeService",void 0),Ga([K("focusService")],t.prototype,"focusService",void 0),Ga([Y("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Ga([K("popupService")],t.prototype,"popupService",void 0),Ga([K("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Ga([K("stylingService")],t.prototype,"stylingService",void 0),Ga([K("columnHoverService")],t.prototype,"columnHoverService",void 0),Ga([K("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ga([K("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Ga([K("animationFrameService")],t.prototype,"animationFrameService",void 0),Ga([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ga([K("sortController")],t.prototype,"sortController",void 0),Ga([K("filterManager")],t.prototype,"filterManager",void 0),Ga([K("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Ga([K("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),Ga([K("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ga([K("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ga([K("selectionService")],t.prototype,"selectionService",void 0),Ga([Y("selectionHandleFactory")],t.prototype,"selectionHandleFactory",void 0),Ga([K("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),Ga([K("rowModel")],t.prototype,"rowModel",void 0),Ga([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Ga([K("ctrlsFactory")],t.prototype,"ctrlsFactory",void 0),Ga([K("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),Ga([K("valueCache")],t.prototype,"valueCache",void 0),Ga([K("rowNodeEventThrottle")],t.prototype,"rowNodeEventThrottle",void 0),Ga([$],t.prototype,"postConstruct",null),Ga([j("beans")],t)}(),Wa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Va=function(t){function e(e,n,o){var r=t.call(this)||this;return r.cellCtrl=e,r.beans=n,r.column=o,r}return Wa(e,t),e.prototype.onMouseEvent=function(t,e){if(!Pt(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var e=this.beans,n=e.eventService,o=e.rangeService,r=e.gridOptionsWrapper;o&&(t.ctrlKey||t.metaKey)&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var i=this.cellCtrl.createEvent(t,Vt.EVENT_CELL_CLICKED);n.dispatchEvent(i);var s=this.column.getColDef();s.onCellClicked&&window.setTimeout(function(){return s.onCellClicked(i)},0),(r.isSingleClickEdit()||s.singleClickEdit)&&!r.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!Ge()||Tt("dblclick"))return!1;var t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e},e.prototype.onCellDoubleClicked=function(t){var e=this.column.getColDef(),n=this.cellCtrl.createEvent(t,Vt.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"==typeof e.onCellDoubleClicked&&window.setTimeout(function(){return e.onCellDoubleClicked(n)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,t)},e.prototype.onMouseDown=function(t){var e=t.ctrlKey,n=t.metaKey,o=t.shiftKey,r=t.target,i=this.beans,s=i.eventService,a=i.rangeService;if(!this.isRightClickInExistingRange(t)){var l=a&&0!=a.getCellRanges().length;if(!o||!l){var c=Ie()&&!this.cellCtrl.isEditing()&&!qe(r);this.cellCtrl.focusCell(c)}if(o&&l&&t.preventDefault(),!this.containsWidget(r)){if(a){var u=this.cellCtrl.getCellPosition();o?a.extendLatestRangeToCell(u):a.setRangeToCell(u,e||n)}s.dispatchEvent(this.cellCtrl.createEvent(t,Vt.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var e=this.beans.rangeService;return!(!e||!e.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==t.button)},e.prototype.containsWidget=function(t){return Je(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var e=this.cellCtrl.createEvent(t,Vt.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var e=this.cellCtrl.createEvent(t,Vt.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var e=this.cellCtrl.getGui(),n=e.contains(t.target),o=e.contains(t.relatedTarget);return n&&o},e.prototype.destroy=function(){},e}(Ba),Ha=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ua=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.cellCtrl=e,s.beans=n,s.rowNode=r,s.rowCtrl=i,s}return Ha(e,t),e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var e=t.key;switch(e){case To.ENTER:this.onEnterKeyDown(t);break;case To.F2:this.onF2KeyDown(t);break;case To.ESCAPE:this.onEscapeKeyDown(t);break;case To.TAB:this.onTabKeyDown(t);break;case To.BACKSPACE:case To.DELETE:this.onBackspaceOrDeleteKeyPressed(e,t);break;case To.DOWN:case To.UP:case To.RIGHT:case To.LEFT:this.onNavigationKeyPressed(t,e)}},e.prototype.onNavigationKeyPressed=function(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyPressed=function(t,e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(t,void 0,e)},e.prototype.onEnterKeyDown=function(t){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,To.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(To.ENTER,void 0,t),this.cellCtrl.isEditing()&&t.preventDefault())},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(To.F2,void 0,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.onKeyPress=function(t){if(t.target===this.eGui&&!this.cellCtrl.isEditing()){var e=String.fromCharCode(t.charCode);" "===e?this.onSpaceKeyPressed(t):Ro(t)&&(this.cellCtrl.startRowOrCellEdit(null,e,t),t.preventDefault())}},e.prototype.onSpaceKeyPressed=function(t){var e=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){var n=this.rowNode.isSelected(),o=!n;if(o||!e.isSuppressRowDeselection()){var r=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),i=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:r});void 0===n&&0===i&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:r})}}t.preventDefault()},e.prototype.destroy=function(){},e}(kt),$a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),za=function(t){function e(e,n,o,r){var i=t.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return i.rowNode=e,i.column=n,i.beans=o,i.eCell=r,i}return $a(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(Po("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(t){t.stopPropagation()}),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var e=this,n=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0),n?n({rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var n=JSON.stringify(e.rowNode.data);t.dataTransfer.setData("application/json",n),t.dataTransfer.setData("text/plain",n)}catch(o){}}()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([$],e.prototype,"postConstruct",null),e}(Jo),ja=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ka=function(){return(Ka=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ya="ag-cell-not-inline-editing",qa=0,Xa=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.suppressRefreshCell=!1,i.column=e,i.rowNode=n,i.beans=o,i.rowCtrl=r,i.instanceId=e.getId()+"-"+qa++,i.createCellPosition(),i.addFeatures(),i}return ja(e,t),e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new Ia(this,this.beans),this.addDestroyFunc(function(){return t.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new Fa(this,this.beans),this.addDestroyFunc(function(){return t.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new Va(this,this.beans,this.column),this.addDestroyFunc(function(){return t.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new Ua(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return t.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new Ma(this.beans,this),this.addDestroyFunc(function(){return t.cellRangeFeature.destroy()})),this.addTooltipFeature()},e.prototype.addTooltipFeature=function(){var t=this;this.tooltipFeature=new ka({getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var e=t.column.getColDef(),n=t.rowNode.data;if(e.tooltipField&&r(n))return w(n,e.tooltipField,t.column.isTooltipFieldContainsDots());var o=e.tooltipValueGetter;return o?o({location:"cell",api:t.beans.gridOptionsWrapper.getApi(),columnApi:t.beans.gridOptionsWrapper.getColumnApi(),context:t.beans.gridOptionsWrapper.getContext(),colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},getValueFormatted:function(){return t.valueFormatted}},this.beans),this.addDestroyFunc(function(){return t.tooltipFeature.destroy()})},e.prototype.setComp=function(t,e,n,o,r){this.cellComp=t,this.gow=this.beans.gridOptionsWrapper,this.eGui=e,this.eCellWrapper=n,this.printLayout=o,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var i=Yt(this.column.getId());this.cellComp.setColId(i),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(e),this.cellCustomStyleFeature.setComp(t),this.tooltipFeature.setComp(t),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,e),r&&this.isCellEditable()?this.startEditing():this.showValue()},e.prototype.setupAutoHeight=function(){var t=this;if(this.column.isAutoHeight()){var e=this.eCellWrapper,n=e.parentElement,o=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,r=function(i){if(!t.editing&&t.isAlive()){var s=tn(n),a=e.offsetHeight+s.paddingTop+s.paddingBottom;if(i<5){var l=t.beans.gridOptionsWrapper.getDocument();if(!l||!l.contains(e)||0==a)return void t.beans.frameworkOverrides.setTimeout(function(){return r(i+1)},0)}var c=Math.max(a,o);t.rowNode.setRowAutoHeight(c,t.column)}},i=function(){return r(0)};i();var s=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(function(){s(),t.rowNode.setRowAutoHeight(void 0,t.column)})}},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.showValue=function(t){void 0===t&&(t=!1);var e=null!=this.valueFormatted?this.valueFormatted:this.value,n=this.createCellRendererParams(),o=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n);this.cellComp.setRenderDetails(o,e,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},e.prototype.isIncludeControl=function(t){return!(null!=this.rowNode.rowPinned||"function"!=typeof t&&!0!==t)},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),e=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return e||n||o},e.prototype.startEditing=function(t,e,n,o){var r,i;if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=!1),void 0===o&&(o=null),this.isCellEditable()&&!this.editing){var s=this.createCellEditorParams(t,e,n),a=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(a,s),c=null!=(null===(r=l)||void 0===r?void 0:r.popupFromSelector)?l.popupFromSelector:!!a.cellEditorPopup,u=null!=(null===(i=l)||void 0===i?void 0:i.popupPositionFromSelector)?l.popupPositionFromSelector:a.cellEditorPopupPosition;this.setEditing(!0,c),this.cellComp.setEditDetails(l,c,u);var p=this.createEvent(o,Vt.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(p)}},e.prototype.setEditing=function(t,e){void 0===e&&(e=!1),this.editing!==t&&(this.editing=t,this.editingInPopup=e,this.setInlineEditingClass())},e.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var e={newValueExists:!1};if(t)return e;var n=this.cellComp.getCellEditor();return n?n.isCancelAfterEnd&&n.isCancelAfterEnd()?e:{newValue:n.getValue(),newValueExists:!0}:e},e.prototype.saveNewValue=function(t,e){if(e===t)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(t,e),!1;this.suppressRefreshCell=!0;var n=this.rowNode.setDataValue(this.column,e);return this.suppressRefreshCell=!1,n},e.prototype.dispatchEventForSaveValueReadOnly=function(t,e){var n=this.rowNode,o={type:Vt.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:n.data,node:n,oldValue:t,newValue:e,value:e,source:void 0};this.beans.eventService.dispatchEvent(o)},e.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),!this.editing)return!1;var e=this.takeValueFromCellEditor(t),n=e.newValue,o=e.newValueExists,r=this.getValueFromValueService(),i=!1;return o&&(i=this.saveNewValue(r,n)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(r,n),i},e.prototype.dispatchEditingStoppedEvent=function(t,e){var n=Ka(Ka({},this.createEvent(null,Vt.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:e});this.beans.eventService.dispatchEvent(n)},e.prototype.setInlineEditingClass=function(){if(this.isAlive()){var t=this.editing&&!this.editingInPopup,e=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",t),this.cellComp.addOrRemoveCssClass(Ya,!t),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",e),this.rowCtrl.setInlineEditingCss(this.editing)}},e.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},e.prototype.createCellEditorParams=function(t,e,n){return{value:this.getValueFromValueService(),key:t,eventKey:t,charPress:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:n,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},e.prototype.createCellRendererParams=function(){var t=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(e){return t.beans.valueService.setValue(t.rowNode,t.column,e)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(e,n,o,r){return t.registerRowDragger(e,n,r)},addRowCompListener:function(e,n){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),t.rowCtrl.addEventListener(e,n)}}},e.prototype.parseValue=function(t){var e=this.column.getColDef(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:t,colDef:e,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},o=e.valueParser;return r(o)?this.beans.expressionService.evaluate(o,n):t},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){this.cellComp&&t.column===this.column&&this.refreshCell({})},e.prototype.refreshCell=function(t){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var e=this.column.getColDef(),n=null!=t&&!!t.newData,o=null!=t&&!!t.suppressFlash||!!e.suppressCellFlash,r=t&&t.forceRefresh||null==e.field&&null==e.valueGetter&&null==e.showRowGroup||n,i=this.updateAndFormatValue();if(r||i){this.showValue(n);var s=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!o&&!s&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||e.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},e.prototype.stopEditingAndFocus=function(t){void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},e.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,To.DOWN,this.getCellPosition(),!1)},e.prototype.flashCell=function(t){this.animateCell("data-changed",t&&t.flashDelay,t&&t.fadeDelay)},e.prototype.animateCell=function(t,e,n){var o=this,i="ag-cell-"+t,s="ag-cell-"+t+"-animation",a=this.beans.gridOptionsWrapper;e||(e=a.getCellFlashDelay()),r(n)||(n=a.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(i,!0),this.cellComp.addOrRemoveCssClass(s,!1),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(i,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color "+n+"ms",window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition="")},n))},e)},e.prototype.onFlashCells=function(t){if(this.cellComp){var e=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[e]&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var e=this.callValueFormatter(t);return null!=e?e:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){void 0===t&&(t=!1);var e=this.value,n=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!t||!this.valuesAreEqual(e,this.value)||this.valueFormatted!=n},e.prototype.valuesAreEqual=function(t,e){var n=this.column.getColDef();return n.equals?n.equals(t,e):t===e},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValueFromValueService=function(){var t=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),e=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!t,n=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),o=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,e&&n&&!o)},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsWrapper.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsWrapper.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,null)})},e.prototype.createEvent=function(t,e){return{type:e,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyPress=function(t){this.cellKeyboardListenerFeature.onKeyPress(t)},e.prototype.onKeyDown=function(t){this.cellKeyboardListenerFeature.onKeyDown(t)},e.prototype.onMouseEvent=function(t,e){this.cellMouseListenerFeature.onMouseEvent(t,e)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){this.cellComp&&this.cellPositionFeature.onLeftChanged()},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},e.prototype.setAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);eo(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,e,n){void 0===n&&(n=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(t,e,this):this.startEditing(t,e,!0,n)},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},e.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}},e.prototype.onCellFocused=function(t){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var e=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",e),e&&t&&t.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});var n=this.beans.gridOptionsWrapper.isFullRowEdit();e||n||!this.editing||this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:o(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(Ya,!0);var t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}},e.prototype.onNewColumnsLoaded=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},e.prototype.setWrapText=function(){var t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)},e.prototype.dispatchCellContextMenuEvent=function(t){var e=this.column.getColDef(),n=this.createEvent(t,Vt.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),e.onCellContextMenu&&window.setTimeout(function(){return e.onCellContextMenu(n)},0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new Wi;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new za(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,e,n){var o=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(t,e);else{var r=this.createRowDragComp(t,e,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(function(){return o.beans.context.destroyBean(r)}))}},e.prototype.createRowDragComp=function(t,e,n){var o=this,r=this.beans.gridOptionsWrapper.isPagination(),i=this.beans.gridOptionsWrapper.isRowDragManaged(),s=this.beans.gridOptionsWrapper.isRowModelDefault();if(i){if(!s)return void R(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(r)return void R(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var a=new Xi(function(){return o.value},this.rowNode,this.column,t,e,n);return this.beans.context.createBean(a),a},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(kt),Za=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ja=(()=>(function(t){t.Normal="Normal",t.FullWidth="FullWidth",t.FullWidthLoading="FullWidthLoading",t.FullWidthGroup="FullWidthGroup",t.FullWidthDetail="FullWidthDetail"}(Ja||(Ja={})),Ja))(),tl=0,el=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.lastMouseDownOnDragger=!1,s.updateColumnListsPending=!1,s.beans=n,s.rowNode=e,s.paginationPage=s.beans.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=r,s.printLayout=i,s.instanceId=e.id+"-"+tl++,s.setAnimateFlags(o),s.rowFocused=s.beans.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=s.beans.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.addListeners(),s}return Za(e,t),e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,e,n){var o={rowComp:t,element:e,containerType:n};this.allRowGuis.push(o),n===Dl.LEFT?this.leftGui=o:n===Dl.RIGHT?this.rightGui=o:n===Dl.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},e.prototype.isCacheable=function(){return this.rowType===Ja.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},e.prototype.setCached=function(t){var e=t?"none":"";this.allRowGuis.forEach(function(t){return t.element.style.display=e})},e.prototype.initialiseRowComps=function(){var t=this,n=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),n.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&F(this.onTopChanged.bind(this)),this.fadeRowIn&&F(function(){t.allRowGuis.forEach(function(t){return t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var o=this.getRowBusinessKey(),r=Yt(this.rowNode.id),i=Yt(o);this.allRowGuis.forEach(function(o){var s=o.rowComp;s.setRole("row"),t.getInitialRowClasses(o.containerType).forEach(function(t){return s.addOrRemoveCssClass(t,!0)}),t.rowNode.group&&Kn(o.element,1==t.rowNode.expanded),null!=r&&s.setRowId(r),null!=i&&s.setRowBusinessKey(i),t.isFullWidth()&&!t.beans.gridOptionsWrapper.isSuppressCellFocus()&&s.setTabIndex(-1),n.setDomData(o.element,e.DOM_DATA_KEY_ROW_CTRL,t),t.addDestroyFunc(function(){return n.setDomData(o.element,e.DOM_DATA_KEY_ROW_CTRL,null)}),t.useAnimationFrameForCreate?t.beans.animationFrameService.createTask(t.addHoverFunctionality.bind(t,o.element),t.rowNode.rowIndex,"createTasksP2"):t.addHoverFunctionality(o.element),t.isFullWidth()&&t.setupFullWidth(o),n.isRowDragEntireRow()&&t.addRowDraggerToRow(o),t.useAnimationFrameForCreate&&t.beans.animationFrameService.addDestroyTask(function(){t.isAlive()&&o.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},e.prototype.addRowDraggerToRow=function(t){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())R(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var e=new Xi(function(){return"1 row"},this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(e,this.beans.context)}},e.prototype.setupFullWidth=function(t){var e=this.getPinnedForContainer(t.containerType),n=this.createFullWidthParams(t.element,e),o=ot.isRegistered(nt.MasterDetailModule);if(this.rowType!=Ja.FullWidthDetail||o){var r;switch(this.rowType){case Ja.FullWidthDetail:r=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case Ja.FullWidthGroup:r=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case Ja.FullWidthLoading:r=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:r=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}t.rowComp.showFullWidth(r)}else ot.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+nt.MasterDetailModule)},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getCellElement=function(t){var e=this.getCellCtrl(t);return e?e.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();t&&t({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},e.prototype.setRowType=function(){var t=this.rowNode.stub,e=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(o);this.rowType=t?Ja.FullWidthLoading:n?Ja.FullWidthDetail:e?Ja.FullWidth:r?Ja.FullWidthGroup:Ja.Normal},e.prototype.updateColumnLists=function(t){var e=this;void 0===t&&(t=!1),this.isFullWidth()||(t||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.updateColumnListsImpl():this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){e.active&&e.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))},e.prototype.createCellCtrls=function(t,e,n){var o=this;void 0===n&&(n=null);var r={list:[],map:{}},i=function(t,e){r.list.push(e),r.map[t]=e};return e.forEach(function(e){var n=e.getInstanceId(),r=t.map[n];r||(r=new Xa(e,o.rowNode,o.beans,o)),i(n,r)}),t.list.forEach(function(t){null!=r.map[t.getColumn().getInstanceId()]||(o.isCellEligibleToBeRemoved(t,n)?t.destroy():i(t.getColumn().getInstanceId(),t))}),r},e.prototype.updateColumnListsImpl=function(){var t=this;this.updateColumnListsPending=!1;var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var o=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,o,et.PINNED_LEFT);var r=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,et.PINNED_RIGHT)}this.allRowGuis.forEach(function(e){e.rowComp.setCellCtrls((e.containerType===Dl.LEFT?t.leftCellCtrls:e.containerType===Dl.RIGHT?t.rightCellCtrls:t.centerCellCtrls).list)})},e.prototype.isCellEligibleToBeRemoved=function(t,e){var n=!0;if(t.getColumn().getPinned()!=e)return n;var o=t.isEditing(),r=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||r){var i=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(i)>=0)&&n}return n},e.prototype.setAnimateFlags=function(t){if(!this.isSticky()&&t){var e=r(this.rowNode.oldRowTop);this.slideRowIn=e,this.fadeRowIn=!e}else this.slideRowIn=!1,this.fadeRowIn=!1},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.rowType!==Ja.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,e=function(e,n){if(!e)return!0;var o=e.rowComp.getFullWidthCellRenderer();if(!o)return!1;if(!o.refresh)return!1;var r=t.createFullWidthParams(e.element,n);return o.refresh(r)},n=e(this.fullWidthGui,null),o=e(this.centerGui,null),r=e(this.leftGui,et.PINNED_LEFT),i=e(this.rightGui,et.PINNED_RIGHT);return n&&o&&r&&i},e.prototype.addListeners=function(){this.addManagedListener(this.rowNode,ki.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,ki.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var t=this.beans.eventService;this.addManagedListener(t,Vt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,Vt.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,Vt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,Vt.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,Vt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,Vt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,Vt.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.onColumnMoved=function(){this.updateColumnLists()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,ki.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(t){return t.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,ki.EVENT_CELL_CHANGED,function(e){t.getAllCellCtrls().forEach(function(t){return t.onCellChanged(e)})})},e.prototype.onRowNodeDataChanged=function(t){this.getAllCellCtrls().forEach(function(e){return e.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.onRowSelected(),this.postProcessCss()},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(e){var n=t===Ni.Below;e.rowComp.addOrRemoveCssClass("ag-row-highlight-above",t===Ni.Above),e.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(e){return e.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),e=1==this.rowNode.expanded;this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&e),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!e),Kn(n.element,t&&e)})},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},e.prototype.getRowPosition=function(){return{rowPinned:o(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var e=this.allRowGuis.find(function(e){return e.element.contains(t.target)});if((e?e.element:null)===t.target){var n=this.rowNode,o=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(t,t.key,{rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:o&&o.column},!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented&&!Pt(t)){var e=this.allRowGuis.find(function(e){return e.element.contains(t.target)}),n=e?e.element:null,o=n===t.target,r=null;o||(r=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&o||!r)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var e,n=this.rowNode,o=this.isFullWidth()&&t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned,r=this.fullWidthGui?this.fullWidthGui.element:null===(e=this.centerGui)||void 0===e?void 0:e.element;r&&(r.classList.toggle("ag-full-width-focus",o),o&&r.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,e){var n={list:[],map:{}};return t.list.forEach(function(t){t!==e&&(n.list.push(t),n.map[t.getInstanceId()]=t)}),n},e.prototype.onMouseEvent=function(t,e){switch(t){case"dblclick":this.onRowDblClick(e);break;case"click":this.onRowClick(e);break;case"touchstart":case"mousedown":this.onRowMouseDown(e)}},e.prototype.createRowEvent=function(t,e){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:e}},e.prototype.createRowEventWithSource=function(t,e){var n=this.createRowEvent(t,e);return n.source=this,n},e.prototype.onRowDblClick=function(t){if(!Pt(t)){var e=this.createRowEventWithSource(Vt.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(e)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=Je(t.target,"ag-row-drag",3),this.isFullWidth()){var e=this.rowNode;this.beans.focusService.setFocusedCell({rowIndex:e.rowIndex,column:this.beans.columnModel.getAllDisplayedColumns()[0],rowPinned:e.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){if(!Pt(t)&&!this.lastMouseDownOnDragger){var e=this.createRowEventWithSource(Vt.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(e);var n=t.ctrlKey||t.metaKey,o=t.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var r=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),i=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?r?this.rowNode.setSelectedParams({newValue:!1,event:t}):n?i&&this.rowNode.setSelectedParams({newValue:!1,event:t}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:t}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!r&&!n,rangeSelect:o,event:t})}}},e.prototype.setupDetailRowAutoHeight=function(t){var e=this;if(this.rowType===Ja.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var n=function(){var n=t.clientHeight;null!=n&&n>0&&e.beans.frameworkOverrides.setTimeout(function(){e.rowNode.setRowHeight(n),e.beans.clientSideRowModel?e.beans.clientSideRowModel.onRowHeightChanged():e.beans.serverSideRowModel&&e.beans.serverSideRowModel.onRowHeightChanged()},0)},o=this.beans.resizeObserverService.observeResize(t,n);this.addDestroyFunc(o),n()}},e.prototype.createFullWidthParams=function(t,e){var n=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:t,eParentOfValue:t,pinned:e,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(t,e,o,r){return n.addFullWidthRowDragging(t,e,o,r)}}},e.prototype.addFullWidthRowDragging=function(t,e,n,o){if(void 0===n&&(n=""),this.isFullWidth()){var r=new Xi(function(){return n},this.rowNode,void 0,t,e,o);this.createManagedBean(r,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var e="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(t){t.rowComp.addOrRemoveCssClass(e,!0),t.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),e=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(e){return e.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==e&&(this.lastRowOnPage=e,this.allRowGuis.forEach(function(t){return t.rowComp.addOrRemoveCssClass("ag-row-last",e)}))},e.prototype.stopEditing=function(t){void 0===t&&(t=!1);var e=this.getAllCellCtrls().map(function(e){return e.stopEditing(t)});if(this.editingRow){if(!t&&e.some(function(t){return t})){var n=this.createRowEvent(Vt.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(n)}this.setEditingRow(!1)}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(e){e.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),e.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(e){return e.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var e=this.createRowEvent(t?Vt.EVENT_ROW_EDITING_STARTED:Vt.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(e)},e.prototype.startRowEditing=function(t,e,n,o){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=null),this.editingRow||(this.getAllCellCtrls().forEach(function(r){var i=r===n;i?r.startEditing(t,e,i,o):r.startEditing(null,null,i,o)}),this.setEditingRow(!0))},e.prototype.getAllCellCtrls=function(){return function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qa(arguments[e]));return t}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list)},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach(function(e){t.allRowGuis.forEach(function(t){return t.rowComp.addOrRemoveCssClass(e,!0)})})},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(e){t.allRowGuis.forEach(function(t){return t.rowComp.addOrRemoveCssClass(e,!0)})},function(e){t.allRowGuis.forEach(function(t){return t.rowComp.addOrRemoveCssClass(e,!1)})})},e.prototype.setStylesFromGridOptions=function(){var t=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(e){return e.rowComp.setUserStyles(t)})},e.prototype.getRowBusinessKey=function(){var t=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof t)return t(this.rowNode)},e.prototype.getPinnedForContainer=function(t){return t===Dl.LEFT?et.PINNED_LEFT:t===Dl.RIGHT?et.PINNED_RIGHT:null},e.prototype.getInitialRowClasses=function(t){var e=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:e};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)},e.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsWrapper.getRowStyle();if(!t||"function"!=typeof t){var e,n=this.beans.gridOptionsWrapper.getRowStyleFunc();return n&&(e=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},t,e)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},e.prototype.onRowSelected=function(){var t=this,e=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-selected",e),io(n.element,!!e||void 0);var o=t.createAriaLabel();Vn(n.element,null==o?"":o)})},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!t||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row.")},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var e=this;this.active&&(this.addManagedListener(t,"mouseenter",function(){return e.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return e.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,ki.EVENT_MOUSE_ENTER,function(){e.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||t.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,ki.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover")}))},e.prototype.roundRowTopToBounds=function(t){var e=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.applyPaginationOffset(e.top,!0)-100,o=this.applyPaginationOffset(e.bottom,!0)+100;return Math.min(Math.max(n,t),o)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var t=this.rowNode.rowHeight,e=this.beans.gridOptionsWrapper.getDefaultRowHeight(),n=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,o=n?Math.min(e,n)-2+"px":void 0;this.allRowGuis.forEach(function(e){e.element.style.height=t+"px",o&&e.element.style.setProperty("--ag-line-height",o)})}},e.prototype.addEventListener=function(e,n){"renderedRowRemoved"!==e&&"rowRemoved"!==e||(e=Vt.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+Vt.EVENT_VIRTUAL_ROW_REMOVED)),t.prototype.addEventListener.call(this,e,n)},e.prototype.removeEventListener=function(e,n){"renderedRowRemoved"!==e&&"rowRemoved"!==e||(e=Vt.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+Vt.EVENT_VIRTUAL_ROW_REMOVED)),t.prototype.removeEventListener.call(this,e,n)},e.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var e=this.createRowEvent(Vt.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),t.prototype.destroy.call(this)},e.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else this.allRowGuis.forEach(function(t){return t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var t=function(t){return t.list.forEach(function(t){return t.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(){var t=this;this.allRowGuis.forEach(function(e){e.rowComp.addOrRemoveCssClass("ag-row-focus",t.rowFocused),e.rowComp.addOrRemoveCssClass("ag-row-no-focus",!t.rowFocused)})},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,e){return void 0===e&&(e=!1),this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(e?1:-1)},e.prototype.setRowTop=function(t){if(!this.printLayout&&r(t)){var e=this.applyPaginationOffset(t),n=this.rowNode.isRowPinned()?e:this.beans.rowContainerHeightService.getRealPixelPosition(e);this.setRowTopStyle(n+"px")}},e.prototype.getInitialRowTop=function(){return this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.getInitialRowTopShared():void 0},e.prototype.getInitialTransform=function(){return this.beans.gridOptionsWrapper.isSuppressRowTransform()?void 0:"translateY("+this.getInitialRowTopShared()+")"},e.prototype.getInitialRowTopShared=function(){if(this.printLayout)return"";var t;if(this.isSticky())t=this.rowNode.stickyRowTop;else{var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,n=this.applyPaginationOffset(e);t=this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return t+"px"},e.prototype.setRowTopStyle=function(t){var e=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(n){return e?n.rowComp.setTop(t):n.rowComp.setTransform("translateY("+t+")")})},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var e=null;return this.getAllCellCtrls().forEach(function(n){n.getColumn()==t&&(e=n)}),null!=e||this.getAllCellCtrls().forEach(function(n){n.getColSpanningList().indexOf(t)>=0&&(e=n)}),e},e.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.updateRowIndexes=function(){var t=this.rowNode.getRowIndexString(),e=this.beans.headerNavigationService.getHeaderRowCount(),n=this.rowNode.rowIndex%2==0,o=e+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(e){e.rowComp.setRowIndex(t),e.rowComp.addOrRemoveCssClass("ag-row-even",n),e.rowComp.addOrRemoveCssClass("ag-row-odd",!n),Jn(e.element,o)})},e.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},e.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},e.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},e.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(kt),nl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ol=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rl=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return nl(e,t),e.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},e.prototype.addKeyboardEvents=function(){var t=this;["keydown","keypress"].forEach(function(e){var n=t.processKeyboardEvent.bind(t,e);t.addManagedListener(t.element,e,n)})},e.prototype.addMouseListeners=function(){var t=this;["dblclick","contextmenu","mouseover","mouseout","click",Tt("touchstart")?"touchstart":"mousedown"].forEach(function(e){var n=t.processMouseEvent.bind(t,e);t.addManagedListener(t.element,e,n)})},e.prototype.processMouseEvent=function(t,e){if(this.mouseEventService.isEventFromThisGrid(e)&&!Pt(e)){var n=this.getRowForEvent(e),o=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?this.handleContextMenuMouseEvent(e,null,n,o):(o&&o.onMouseEvent(t,e),n&&n.onMouseEvent(t,e))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(Ge()){var e=new ci(this.element);this.addManagedListener(e,ci.EVENT_LONG_TAP,function(e){var n=t.getRowForEvent(e.touchEvent),o=t.mouseEventService.getRenderedCellForEvent(e.touchEvent);t.handleContextMenuMouseEvent(null,e.touchEvent,n,o)}),this.addDestroyFunc(function(){return e.destroy()})}},e.prototype.getRowForEvent=function(t){for(var e=t.target;e;){var n=this.gridOptionsWrapper.getDomData(e,el.DOM_DATA_KEY_ROW_CTRL);if(n)return n;e=e.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,e,n,o){var r=n?n.getRowNode():null,i=o?o.getColumn():null,s=null;i&&(o.dispatchCellContextMenuEvent(t||e),s=this.valueService.getValue(i,r));var a=this.ctrlsService.getGridBodyCtrl(),l=o?o.getGui():a.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,e,r,i,s,l)},e.prototype.processKeyboardEvent=function(t,e){var n=Rt(this.gridOptionsWrapper,e,Xa.DOM_DATA_KEY_CELL_CTRL),o=Rt(this.gridOptionsWrapper,e,el.DOM_DATA_KEY_ROW_CTRL);e.defaultPrevented||(n?this.processCellKeyboardEvent(n,t,e):o&&o.isFullWidth()&&this.processFullWidthRowKeyboardEvent(o,t,e))},e.prototype.processCellKeyboardEvent=function(t,e,n){var o=t.getRowNode(),r=t.getColumn(),i=t.isEditing();if(!Ao(this.gridOptionsWrapper,n,o,r,i))switch(e){case"keydown":!i&&this.navigationService.handlePageScrollingKey(n)||t.onKeyDown(n),this.doGridOperations(n,t.isEditing());break;case"keypress":t.onKeyPress(n)}if("keydown"===e){var s=t.createEvent(n,Vt.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}if("keypress"===e){var a=t.createEvent(n,Vt.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(a)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,e,n){var o=t.getRowNode(),r=this.focusService.getFocusedCell();if(!Ao(this.gridOptionsWrapper,n,o,r&&r.column,!1)&&"keydown"===e)switch(n.key){case To.UP:case To.DOWN:t.onKeyboardNavigate(n);break;case To.TAB:t.onTabKeyDown(n)}if("keydown"===e){var i=t.createRowEvent(Vt.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(i)}if("keypress"===e){var s=t.createRowEvent(Vt.EVENT_CELL_KEY_PRESS,n);this.eventService.dispatchEvent(s)}},e.prototype.doGridOperations=function(t,e){if((t.ctrlKey||t.metaKey)&&!e&&this.mouseEventService.isEventFromThisGrid(t)){var n=xo(t);return n===To.A?this.onCtrlAndA(t):n===To.C?this.onCtrlAndC(t):n===To.V?this.onCtrlAndV():n===To.D?this.onCtrlAndD(t):n===To.Z?t.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo():n===To.Y?this.undoRedoService.redo():void 0}},e.prototype.onCtrlAndA=function(t){var e=this,n=e.pinnedRowModel,o=e.rangeService,r=et.PINNED_BOTTOM,i=et.PINNED_TOP;if(o&&e.paginationProxy.isRowsToRender()){var a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}([n.isEmpty(i),n.isEmpty(r)],2),l=a[0]?null:i,c=void 0,u=void 0;a[1]?(c=null,u=this.paginationProxy.getRowCount()-1):(c=r,u=n.getPinnedBottomRowData().length-1);var p=this.columnModel.getAllDisplayedColumns();if(s(p))return;o.setCellRange({rowStartIndex:0,rowStartPinned:l,rowEndIndex:u,rowEndPinned:c,columnStart:p[0],columnEnd:lt(p)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),t.preventDefault())},e.prototype.onCtrlAndV=function(){ot.isRegistered(nt.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){ot.isRegistered(nt.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),t.preventDefault()},ol([K("mouseEventService")],e.prototype,"mouseEventService",void 0),ol([K("valueService")],e.prototype,"valueService",void 0),ol([Y("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),ol([K("ctrlsService")],e.prototype,"ctrlsService",void 0),ol([K("navigationService")],e.prototype,"navigationService",void 0),ol([K("focusService")],e.prototype,"focusService",void 0),ol([K("undoRedoService")],e.prototype,"undoRedoService",void 0),ol([K("columnModel")],e.prototype,"columnModel",void 0),ol([K("paginationProxy")],e.prototype,"paginationProxy",void 0),ol([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ol([Y("rangeService")],e.prototype,"rangeService",void 0),ol([Y("clipboardService")],e.prototype,"clipboardService",void 0),ol([$],e.prototype,"postConstruct",null),e}(kt),il=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},al=function(t){function e(e){var n=t.call(this)||this;return n.centerContainerCtrl=e,n}return il(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,Vt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.listenForResize=function(){var t=this,e=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=en(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:Vt.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t),this.gridBodyCtrl.setVerticalScrollPaddingVisible(t.verticalScrollShowing)},e.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,e)},sl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),sl([K("columnModel")],e.prototype,"columnModel",void 0),sl([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),sl([K("columnApi")],e.prototype,"columnApi",void 0),sl([K("gridApi")],e.prototype,"gridApi",void 0),sl([$],e.prototype,"postConstruct",null),e}(kt),ll=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),cl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ul=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return ll(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Vt.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),e=t>0;Xe(this.element,e),e&&wn(this.element,t)},cl([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),cl([$],e.prototype,"postConstruct",null),e}(kt),pl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},hl=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return pl(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Vt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),e=t>0;Xe(this.element,e),e&&wn(this.element,t)},dl([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),dl([$],e.prototype,"postConstruct",null),e}(kt),fl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ml=function(t){function e(e,n){var o=t.call(this)||this;return o.eContainer=e,o.eWrapper=n,o}return fl(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Vt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),e=null!=t?t+"px":"";this.eContainer.style.height=e,this.eWrapper&&(this.eWrapper.style.height=e)},gl([K("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),gl([$],e.prototype,"postConstruct",null),e}(kt),yl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_l=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vl=function(t){function e(e){var n=t.call(this)||this;return n.eContainer=e,n}return yl(e,t),e.prototype.postConstruct=function(){var t=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!i(this.rangeService)){var e={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(e),this.addDestroyFunc(function(){return t.dragService.removeDragSource(e)})}},_l([Y("rangeService")],e.prototype,"rangeService",void 0),_l([K("dragService")],e.prototype,"dragService",void 0),_l([$],e.prototype,"postConstruct",null),e}(kt),Cl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),El=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wl=function(t){function e(e){var n=t.call(this)||this;return n.callback=e,n}return Cl(e,t),e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,la.PROP_DOM_LAYOUT,t),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.setWidth()},e.prototype.setWidth=function(){var t=this.columnModel,e=this.gridOptionsWrapper.getDomLayout()===et.DOM_LAYOUT_PRINT,n=t.getBodyContainerWidth(),o=t.getDisplayedColumnsLeftWidth(),r=t.getDisplayedColumnsRightWidth();this.callback(e?n+o+r:n)},El([K("columnModel")],e.prototype,"columnModel",void 0),El([$],e.prototype,"postConstruct",null),e}(kt),Ol=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Pl=(()=>(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth",t.TOP_LEFT="topLeft",t.TOP_RIGHT="topRight",t.TOP_CENTER="topCenter",t.TOP_FULL_WIDTH="topFullWidth",t.STICKY_TOP_LEFT="stickyTopLeft",t.STICKY_TOP_RIGHT="stickyTopRight",t.STICKY_TOP_CENTER="stickyTopCenter",t.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",t.BOTTOM_LEFT="bottomLeft",t.BOTTOM_RIGHT="bottomRight",t.BOTTOM_CENTER="bottomCenter",t.BOTTOM_FULL_WIDTH="bottomFullWidth"}(Pl||(Pl={})),Pl))(),Dl=(()=>(function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth"}(Dl||(Dl={})),Dl))(),Tl=Zt([[Pl.CENTER,"ag-center-cols-container"],[Pl.LEFT,"ag-pinned-left-cols-container"],[Pl.RIGHT,"ag-pinned-right-cols-container"],[Pl.FULL_WIDTH,"ag-full-width-container"],[Pl.TOP_CENTER,"ag-floating-top-container"],[Pl.TOP_LEFT,"ag-pinned-left-floating-top"],[Pl.TOP_RIGHT,"ag-pinned-right-floating-top"],[Pl.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Pl.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Pl.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Pl.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Pl.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Pl.BOTTOM_CENTER,"ag-floating-bottom-container"],[Pl.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Pl.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Pl.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),Rl=Zt([[Pl.CENTER,"ag-center-cols-viewport"],[Pl.TOP_CENTER,"ag-floating-top-viewport"],[Pl.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Pl.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),Al=Zt([[Pl.CENTER,"ag-center-cols-clipper"]]),Ml=function(t){function e(e){var n=t.call(this)||this;return n.name=e,n}return Ol(e,t),e.getRowContainerCssClasses=function(t){return{container:Tl.get(t),viewport:Rl.get(t),wrapper:Al.get(t)}},e.getPinned=function(t){switch(t){case Pl.BOTTOM_LEFT:case Pl.TOP_LEFT:case Pl.STICKY_TOP_LEFT:case Pl.LEFT:return et.PINNED_LEFT;case Pl.BOTTOM_RIGHT:case Pl.TOP_RIGHT:case Pl.STICKY_TOP_RIGHT:case Pl.RIGHT:return et.PINNED_RIGHT;default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([Pl.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new al(t))})},e.prototype.registerWithCtrlsService=function(){switch(this.name){case Pl.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Pl.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Pl.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Pl.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Pl.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Pl.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Pl.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Pl.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Pl.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Pl.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Pl.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Pl.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},e.prototype.forContainers=function(t,e){t.indexOf(this.name)>=0&&e()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,e,n,o){var r=this;this.comp=t,this.eContainer=e,this.eViewport=n,this.eWrapper=o,this.createManagedBean(new rl(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var i=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sl(arguments[e]));return t}([Pl.TOP_CENTER,Pl.TOP_LEFT,Pl.TOP_RIGHT],[Pl.BOTTOM_CENTER,Pl.BOTTOM_LEFT,Pl.BOTTOM_RIGHT],[Pl.CENTER,Pl.LEFT,Pl.RIGHT],[Pl.STICKY_TOP_CENTER,Pl.STICKY_TOP_LEFT,Pl.STICKY_TOP_RIGHT]),s=[Pl.CENTER,Pl.LEFT,Pl.RIGHT,Pl.FULL_WIDTH],a=[Pl.CENTER,Pl.TOP_CENTER,Pl.STICKY_TOP_CENTER,Pl.BOTTOM_CENTER],l=[Pl.RIGHT,Pl.BOTTOM_RIGHT,Pl.TOP_RIGHT,Pl.STICKY_TOP_RIGHT];this.forContainers([Pl.LEFT,Pl.BOTTOM_LEFT,Pl.TOP_LEFT,Pl.STICKY_TOP_LEFT],function(){return r.createManagedBean(new ul(r.eContainer))}),this.forContainers(l,function(){return r.createManagedBean(new hl(r.eContainer))}),this.forContainers(s,function(){return r.createManagedBean(new ml(r.eContainer,r.eWrapper))}),this.forContainers(i,function(){return r.createManagedBean(new vl(r.eContainer))}),this.forContainers(a,function(){return r.createManagedBean(new wl(function(t){return r.comp.setContainerWidth(t+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,Vt.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return t.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return t.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_ROWS_CHANGED,function(){return t.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this;if([Pl.STICKY_TOP_CENTER,Pl.STICKY_TOP_LEFT,Pl.STICKY_TOP_RIGHT,Pl.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var e=function(){return t.comp.setDomOrder(t.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,la.PROP_DOM_LAYOUT,e),e()}},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([Pl.TOP_CENTER,Pl.STICKY_TOP_CENTER,Pl.BOTTOM_CENTER],function(){t.addManagedListener(t.eViewport,"scroll",function(){return t.eViewport.scrollLeft=0})})},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([Pl.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([Pl.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onScrollVisibilityChanged=function(){if(this.name===Pl.CENTER){var t=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==t?"100%":"calc(100% + "+t+"px)")}},e.prototype.addPreventScrollWhileDragging=function(){var t=this,e=function(e){t.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",e)})},e.prototype.onHorizontalViewportChanged=function(){var t=this.getCenterWidth(),e=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,e)},e.prototype.getCenterWidth=function(){return nn(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return an(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var e=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return e()})},e.prototype.isViewportVisible=function(){return pn(this.eViewport)},e.prototype.isViewportHScrollShowing=function(){return vn(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return an(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||vn(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX("+t+"px)"},e.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},e.prototype.setCenterViewportScrollLeft=function(t){ln(this.eViewport,t,this.enableRtl)},e.prototype.onDisplayedRowsChanged=function(){var t=this,e=this.name===Pl.TOP_FULL_WIDTH||this.name===Pl.STICKY_TOP_FULL_WIDTH||this.name===Pl.BOTTOM_FULL_WIDTH||this.name===Pl.FULL_WIDTH,n=this.getRowCtrls().filter(function(n){var o=n.isFullWidth(),r=t.gridOptionsWrapper.getDomLayout()===et.DOM_LAYOUT_PRINT,i=t.embedFullWidthRows||r;return e?!i&&o:i||!o});this.comp.setRowCtrls(n)},e.prototype.getRowCtrls=function(){switch(this.name){case Pl.TOP_CENTER:case Pl.TOP_LEFT:case Pl.TOP_RIGHT:case Pl.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Pl.STICKY_TOP_CENTER:case Pl.STICKY_TOP_LEFT:case Pl.STICKY_TOP_RIGHT:case Pl.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Pl.BOTTOM_CENTER:case Pl.BOTTOM_LEFT:case Pl.BOTTOM_RIGHT:case Pl.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},bl([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),bl([K("dragService")],e.prototype,"dragService",void 0),bl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),bl([K("columnModel")],e.prototype,"columnModel",void 0),bl([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),bl([K("rowRenderer")],e.prototype,"rowRenderer",void 0),bl([$],e.prototype,"postConstruct",null),e}(kt),xl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Il=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ll='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+Pl.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+Pl.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+Pl.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+Pl.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+Pl.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+Pl.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+Pl.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+Pl.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+Pl.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+Pl.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+Pl.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+Pl.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+Pl.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+Pl.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+Pl.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+Pl.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',Fl=function(t){function e(){return t.call(this,Ll)||this}return xl(e,t),e.prototype.init=function(){var t=this,e=function(t,e){var n=t+"px";e.style.minHeight=n,e.style.height=n},n={setRowAnimationCssOnBodyViewport:function(e,n){return t.setRowAnimationCssOnBodyViewport(e,n)},setColumnCount:function(e){return to(t.getGui(),e)},setRowCount:function(e){return Qn(t.getGui(),e)},setTopHeight:function(n){return e(n,t.eTop)},setBottomHeight:function(n){return e(n,t.eBottom)},setTopDisplay:function(e){return t.eTop.style.display=e},setBottomDisplay:function(e){return t.eBottom.style.display=e},setStickyTopHeight:function(e){return t.eStickyTop.style.height=e},setStickyTopTop:function(e){return t.eStickyTop.style.top=e},setStickyTopWidth:function(e){return t.eStickyTop.style.width=e},setColumnMovingCss:function(e,n){return t.addOrRemoveCssClass(Da,n)},updateLayoutClasses:function(e,n){var o=t.eBodyViewport.classList;o.toggle(pa.AUTO_HEIGHT,n.autoHeight),o.toggle(pa.NORMAL,n.normal),o.toggle(pa.PRINT,n.print),t.addOrRemoveCssClass(pa.AUTO_HEIGHT,n.autoHeight),t.addOrRemoveCssClass(pa.NORMAL,n.normal),t.addOrRemoveCssClass(pa.PRINT,n.print)},setAlwaysVerticalScrollClass:function(e,n){return t.eBodyViewport.classList.toggle(Pa,n)},registerBodyViewportResizeListener:function(e){var n=t.resizeObserverService.observeResize(t.eBodyViewport,e);t.addDestroyFunc(function(){return n()})},setPinnedTopBottomOverflowY:function(e){return t.eTop.style.overflowY=t.eBottom.style.overflowY=e},setCellSelectableCss:function(e,n){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(t){return t.classList.toggle(Sa,n)})}};this.ctrl=this.createManagedBean(new Ta),this.ctrl.setComp(n,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&Zn(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,e){var n=this.eBodyViewport.classList;n.toggle(ba.ANIMATION_ON,e),n.toggle(ba.ANIMATION_OFF,!e)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Il([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Il([Y("rangeService")],e.prototype,"rangeService",void 0),Il([tr("eBodyViewport")],e.prototype,"eBodyViewport",void 0),Il([tr("eStickyTop")],e.prototype,"eStickyTop",void 0),Il([tr("eTop")],e.prototype,"eTop",void 0),Il([tr("eBottom")],e.prototype,"eBottom",void 0),Il([tr("gridHeader")],e.prototype,"headerRootComp",void 0),Il([$],e.prototype,"init",null),e}(Jo),Nl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),kl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Gl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nl(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}},e.prototype.setScrollsVisible=function(t){this.horizontalScrollShowing===t.horizontalScrollShowing&&this.verticalScrollShowing===t.verticalScrollShowing||(this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing,this.eventService.dispatchEvent({type:Vt.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},kl([K("columnApi")],e.prototype,"columnApi",void 0),kl([K("gridApi")],e.prototype,"gridApi",void 0),kl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),kl([$],e.prototype,"postConstruct",null),kl([j("scrollVisibleService")],e)}(kt),Bl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridInstanceId=n.gridInstanceSequence.next(),e}var n;return Bl(e,t),n=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(t){t[n.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(t){return Rt(this.gridOptionsWrapper,t,Xa.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(t){return this.isElementInThisGrid(t.target)},e.prototype.isElementInThisGrid=function(t){for(var e=t;e;){var o=e[n.GRID_DOM_KEY];if(r(o))return o===this.gridInstanceId;e=e.parentElement}return!1},e.prototype.getCellPositionForEvent=function(t){var e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null},e.prototype.getNormalisedPosition=function(t){var e,n,o=this.gridOptionsWrapper.getDomLayout()===et.DOM_LAYOUT_NORMAL;if(null!=t.clientX||null!=t.clientY?(e=t.clientX,n=t.clientY):(e=t.x,n=t.y),o){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature().getVScrollPosition();e+=r.getScrollFeature().getHScrollPosition().left,n+=i.top}return{x:e,y:n}},e.gridInstanceSequence=new Vo,e.GRID_DOM_KEY="__ag_grid_instance",Wl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),n=Wl([j("mouseEventService")],e)}(kt),Hl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ul=function(){return(Ul=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},$l=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zl=function(t){function e(){var e=t.call(this)||this;return e.onPageDown=G(e.onPageDown,100),e.onPageUp=G(e.onPageUp,100),e}return Hl(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(e){t.gridBodyCon=e.gridBodyCtrl})},e.prototype.handlePageScrollingKey=function(t){var e=t.key,n=t.altKey,o=t.ctrlKey||t.metaKey,r=!!this.rangeService&&t.shiftKey,i=this.mouseEventService.getCellPositionForEvent(t);if(!i)return!1;var s=!1;switch(e){case To.PAGE_HOME:case To.PAGE_END:o||n||(this.onHomeOrEndKey(e),s=!0);break;case To.LEFT:case To.RIGHT:case To.UP:case To.DOWN:!o||n||r||(this.onCtrlUpDownLeftRight(e,i),s=!0);break;case To.PAGE_DOWN:o||n||(this.onPageDown(i),s=!0);break;case To.PAGE_UP:o||n||(this.onPageUp(i),s=!0)}return s&&t.preventDefault(),s},e.prototype.navigateTo=function(t){var e=t.scrollIndex,n=t.scrollType,o=t.scrollColumn,i=t.focusIndex,s=t.focusColumn;r(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),r(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,n),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(i),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell({rowIndex:i,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:i,rowPinned:null,column:s})},e.prototype.onPageDown=function(t){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),o=this.paginationProxy.getPixelOffset(),r=this.paginationProxy.getRowIndexAtPixel(e.top+n+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,r):this.navigateToNextPage(t,r)},e.prototype.onPageUp=function(t){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),o=this.paginationProxy.getRowIndexAtPixel(e.top+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,o,!0):this.navigateToNextPage(t,o,!0)},e.prototype.navigateToNextPage=function(t,e,n){var o,r;void 0===n&&(n=!1);var i,s=this.getViewportHeight(),a=this.paginationProxy.getPageFirstRow(),l=this.paginationProxy.getPageLastRow(),c=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(t.rowIndex),p=n?(null===(o=u)||void 0===o?void 0:o.rowHeight)-s-c:s-c,d=(null===(r=u)||void 0===r?void 0:r.rowTop)+p,h=this.paginationProxy.getRowIndexAtPixel(d+c);h===t.rowIndex&&(e=h=t.rowIndex+(n?-1:1)),n?(i="bottom",h<a&&(h=a),e<a&&(e=a)):(i="top",h>l&&(h=l),e>l&&(e=l)),this.isRowTallerThanView(h)&&(e=h,i="top"),this.navigateTo({scrollIndex:e,scrollType:i,scrollColumn:null,focusIndex:h,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,e,n){var o=this;void 0===n&&(n=!1),this.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout(function(){var r=o.getNextFocusIndexForAutoHeight(t,n);o.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:t.column,isAsync:!0})},50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,e){var n;void 0===e&&(e=!1);for(var o=e?-1:1,r=this.getViewportHeight(),i=this.paginationProxy.getPageLastRow(),s=0,a=t.rowIndex;a>=0&&a<=i;){var l=this.paginationProxy.getRow(a);if(l){var c=null!=(n=l.rowHeight)?n:0;if(s+c>r)break;s+=c}a+=o}return Math.max(0,Math.min(a,i))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),e=this.gridOptionsWrapper.getScrollbarWidth(),n=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=e),n},e.prototype.isRowTallerThanView=function(t){var e=this.paginationProxy.getRow(t);if(!e)return!1;var n=e.rowHeight;return"number"==typeof n&&n>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,e){var n=this.cellNavigationService.getNextCellToFocus(t,e,!0),o=n.rowIndex,r=n.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:r,focusIndex:o,focusColumn:r})},e.prototype.onHomeOrEndKey=function(t){var e=t===To.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),o=e?n[0]:lt(n),r=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:o,focusIndex:r,focusColumn:o})},e.prototype.onTabKeyDown=function(t,e){var n=e.shiftKey;if(this.tabToNextCellCommon(t,n,e))e.preventDefault();else if(n){var o=t.getRowPosition(),r=o.rowIndex;(o.rowPinned?0===r:r===this.paginationProxy.getPageFirstRow())&&(e.preventDefault(),this.focusService.focusLastHeader(e))}else t instanceof Xa&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&e.preventDefault()},e.prototype.tabToNextCell=function(t,e){var n=this.focusService.getFocusedCell();if(!n)return!1;var o=this.getCellByPosition(n);return!!(o||(o=this.rowRenderer.getRowByPosition(n))&&o.isFullWidth())&&this.tabToNextCellCommon(o,t,e)},e.prototype.tabToNextCellCommon=function(t,e,n){var o=t.isEditing();if(!o&&t instanceof Xa){var r=t.getRowCtrl();r&&(o=r.isEditing())}return(o?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(t,e,n):this.moveToNextEditingCell(t,e,n):this.moveToNextCellNotEditing(t,e))||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,e,n){void 0===n&&(n=null);var o=t.getCellPosition();t.stopEditing();var r=this.findNextCellToFocusOn(o,e,!0);return null!=r&&(r.startEditing(null,null,!0,n),r.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,e,n){void 0===n&&(n=null);var o=t.getCellPosition(),r=this.findNextCellToFocusOn(o,e,!0);if(null==r)return!1;var i=r.getCellPosition(),s=this.isCellEditable(o),a=this.isCellEditable(i),l=i&&o.rowIndex===i.rowIndex&&o.rowPinned===i.rowPinned;return s&&t.setFocusOutOnEditor(),l||(t.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,void 0,n)),a?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,e){var n,o=this.columnModel.getAllDisplayedColumns();n=t instanceof el?Ul(Ul({},t.getRowPosition()),{column:e?o[0]:lt(o)}):t.getCellPosition();var i=this.findNextCellToFocusOn(n,e,!1);if(i instanceof Xa)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),e);return r(i)},e.prototype.findNextCellToFocusOn=function(t,e,n){for(var o=t;;){t!==o&&(t=o),e||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,e);var i=this.gridOptionsWrapper.getTabToNextCellFunc();if(r(i)){var s=i({backwards:e,editing:n,previousCellPosition:t,nextCellPosition:o||null});r(s)?(s.floating&&(R(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),s.rowPinned=s.floating),o={rowIndex:s.rowIndex,column:s.column,rowPinned:s.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+o.rowIndex,column:o.column}}),null}var l=this.gridOptionsWrapper.isFullRowEdit();if(!n||l||this.isCellEditable(o)){this.ensureCellVisible(o);var c=this.getCellByPosition(o);if(c){if(!c.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),c}else{var u=this.rowRenderer.getRowByPosition(o);if(u&&u.isFullWidth())return u}}}},e.prototype.isCellEditable=function(t){var e=this.lookupRowNodeForCell(t);return!!e&&t.column.isCellEditable(e)},e.prototype.getCellByPosition=function(t){var e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned===et.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned===et.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,e,n,o){for(var s=n,a=!1;s&&(s===n||!this.isValidNavigateCell(s));)this.gridOptionsWrapper.isEnableRtl()?e===To.LEFT&&(s=this.getLastCellOfColSpan(s)):e===To.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=i(s=this.cellNavigationService.getNextCellToFocus(e,s));if(a&&t&&t.key===To.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),o){var l=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(r(l)){var c=l({key:e,previousCellPosition:n,nextCellPosition:s||null,event:t});r(c)?(c.floating&&(R(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(s)if(s.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+s.rowIndex,column:n.column},event:t||void 0})}else{var p=this.getNormalisedPosition(s);p?this.focusPosition(p):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,e){void 0===e&&(e=!1);var n=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var r=this.focusService.getFocusedCell(),i={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?lt(n):n[0])};this.focusPosition(i);var s=null!=r&&this.rowPositionUtils.before(i,r);return this.eventService.dispatchEvent({type:Vt.EVENT_FULL_WIDTH_ROW_FOCUSED,api:this.gridApi,columnApi:this.columnApi,rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column,isFullWidthCell:!0,floating:i.rowPinned,fromBelow:s}),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){return!!this.rowPositionUtils.getRowNode(t)},e.prototype.getLastCellOfColSpan=function(t){var e=this.getCellByPosition(t);if(!e)return t;var n=e.getColSpanningList();return 1===n.length?t:{rowIndex:t.rowIndex,column:lt(n),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var e,n=this.gridOptionsWrapper.isGroupRowsSticky(),o=this.rowModel.getRow(t.rowIndex);!(n&&(null===(e=o)||void 0===e?void 0:e.sticky))&&i(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},$l([K("columnApi")],e.prototype,"columnApi",void 0),$l([K("gridApi")],e.prototype,"gridApi",void 0),$l([K("mouseEventService")],e.prototype,"mouseEventService",void 0),$l([K("paginationProxy")],e.prototype,"paginationProxy",void 0),$l([K("focusService")],e.prototype,"focusService",void 0),$l([K("animationFrameService")],e.prototype,"animationFrameService",void 0),$l([Y("rangeService")],e.prototype,"rangeService",void 0),$l([K("columnModel")],e.prototype,"columnModel",void 0),$l([K("rowModel")],e.prototype,"rowModel",void 0),$l([K("ctrlsService")],e.prototype,"ctrlsService",void 0),$l([K("rowRenderer")],e.prototype,"rowRenderer",void 0),$l([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),$l([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),$l([K("cellNavigationService")],e.prototype,"cellNavigationService",void 0),$l([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),$l([$],e.prototype,"postConstruct",null),$l([j("navigationService")],e)}(kt),jl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kl=function(t){function e(e){var n=t.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=e,n}return jl(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,e=this.getGui(),n=this.params;this.addManagedListener(e,"keydown",function(e){Ao(t.gridOptionsWrapper,e,n.node,n.column,!0)||n.onKeyDown(e)})},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([$],e.prototype,"postConstruct",null),e}(Ci),Yl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ql=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=n.getColumn(),s.rowNode=n.getRowNode(),s.rowCtrl=n.getRowCtrl(),s.eRow=r,s.setTemplate('<div comp-id="'+s.getCompId()+'"/>');var a=s.getGui();s.forceWrapper=n.isForceWrapper(),s.refreshWrapper(!1);var l=function(t,e,n){var o=n||a;null!=e&&""!=e?o.setAttribute(t,e):o.removeAttribute(t)},c={addOrRemoveCssClass:function(t,e){return s.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return _n(a,t)},getFocusableElement:function(){return s.getFocusableElement()},setTabIndex:function(t){return l("tabindex",t.toString())},setRole:function(t){return kn(a,t)},setColId:function(t){return l("col-id",t)},setTitle:function(t){return l("title",t)},setIncludeSelection:function(t){return s.includeSelection=t},setIncludeRowDrag:function(t){return s.includeRowDrag=t},setIncludeDndSource:function(t){return s.includeDndSource=t},setRenderDetails:function(t,e,n){return s.setRenderDetails(t,e,n)},setEditDetails:function(t,e,n){return s.setEditDetails(t,e,n)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return s.cellCtrl=n,n.setComp(c,s.getGui(),s.eCellWrapper,o,i),s}return Yl(e,t),e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,e,n){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var o=this.refreshWrapper(!1);t?!n&&!o&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(e))}},e.prototype.setEditDetails=function(t,e,n){t?this.createCellEditorInstance(t,e,n):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var e=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=e||this.forceWrapper,o=n&&null==this.eCellWrapper;o&&(this.eCellWrapper=dn('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var r=!n&&null!=this.eCellWrapper;r&&(un(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);var i=!t&&n,s=i&&null==this.eCellValue;s&&(this.eCellValue=dn('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var a=!i&&null!=this.eCellValue;a&&(un(this.eCellValue),this.eCellValue=void 0);var l=o||r||s||a;return l&&this.removeControls(),!t&&e&&this.addControls(),l},e.prototype.addControls=function(){var t=this.eCellValue.id="cell-"+this.getCompId(),e=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),e.push(this.checkboxSelectionComp.getCheckboxId())),e.push(t),$n(this.getGui(),e.join(" "))},e.prototype.createCellEditorInstance=function(t,e,n){var o=this,r=this.editorVersion,s=t.newAgStackInstance();if(s){var a=t.params;s.then(function(t){return o.afterCellEditorCreated(r,t,a,e,n)}),i(this.cellEditor)&&a.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var e=this.getParentOfValue();cn(e);var n=null!=t?Yt(t):null;null!=n&&(e.innerHTML=n)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),un(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),un(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==t.componentClass)return!1;var e=this.cellRenderer.refresh(t.params);return!0===e||void 0===e},e.prototype.createCellRendererInstance=function(t){var e=this,n=this.beans.gridOptionsWrapper.isAngularCompileRows(),o=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),r=this.rendererVersion,i=t.componentClass,s=function(){if(e.rendererVersion===r&&e.isAlive()){var n=t.newAgStackInstance(),o=e.afterCellRendererCreated.bind(e,r,i);n&&n.then(o)}};n||o||!this.firstRender?s():this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2")},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,e,n){if(this.isAlive()&&t===this.rendererVersion){if(this.cellRenderer=n,this.cellRendererClass=e,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var o=this.getParentOfValue();cn(o),o.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(n)},e.prototype.afterCellEditorCreated=function(t,e,n,o,r){if(t!==this.editorVersion)this.beans.context.destroyBean(e);else{if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void this.cellCtrl.stopEditing();if(!e.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(e);this.cellEditor=e,this.cellEditorGui=e.getGui(),o||void 0!==e.isPopup&&e.isPopup()?(o||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(n,r)):this.addInCellEditor(),e.afterGuiAttached&&e.afterGuiAttached()}},e.prototype.addInCellEditor=function(){var t=this.getGui(),e=this.beans.gridOptionsWrapper.getDocument();t.contains(e.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},e.prototype.addPopupCellEditor=function(t,e){var n=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Kl(t));var r=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&r.appendChild(this.cellEditorGui);var i=this.beans.popupService,s=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),a=null!=e?e:o.getPopupPosition?o.getPopupPosition():"over",l={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:r,keepWithinBounds:!0},c="under"===a?i.positionPopupUnderComponent.bind(i,l):i.positionPopupOverComponent.bind(i,l),u=this.beans.gridOptionsWrapper.getLocaleTextFunc(),p=i.addPopup({modal:s,eChild:r,closeOnEsc:!0,closedCallback:function(){n.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:u("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),t.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),e=this.beans.gridOptionsWrapper.getDocument();t.contains(e.activeElement)&&t.focus({preventScroll:!0}),cn(this.getParentOfValue())},e}(Jo),Xl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zl=function(t){function e(e,n,o){var r=t.call(this)||this;r.cellComps={},r.beans=n,r.rowCtrl=e,r.setTemplate('<div comp-id="'+r.getCompId()+'" style="'+r.getInitialStyle()+'"/>');var i=r.getGui(),s=i.style;return e.setComp({setDomOrder:function(t){return r.domOrder=t},setCellCtrls:function(t){return r.setCellCtrls(t)},showFullWidth:function(t){return r.showFullWidth(t)},getFullWidthCellRenderer:function(){return r.getFullWidthCellRenderer()},addOrRemoveCssClass:function(t,e){return r.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return _n(i,t)},setTop:function(t){return s.top=t},setTransform:function(t){return s.transform=t},setRowIndex:function(t){return i.setAttribute("row-index",t)},setRole:function(t){return kn(i,t)},setRowId:function(t){return i.setAttribute("row-id",t)},setRowBusinessKey:function(t){return i.setAttribute("row-business-key",t)},setTabIndex:function(t){return i.setAttribute("tabindex",t.toString())}},r.getGui(),o),r}return Xl(e,t),e.prototype.getInitialStyle=function(){var t=this.rowCtrl.getInitialTransform(),e=this.rowCtrl.getInitialRowTop();return t?"transform: "+t:"top: "+e},e.prototype.showFullWidth=function(t){var e=this,n=t.newAgStackInstance();n&&n.then(function(t){if(e.isAlive()){var n=t.getGui();e.getGui().appendChild(n),e.rowCtrl.setupDetailRowAutoHeight(n),e.setFullWidthRowComp(t)}else e.beans.context.destroyBean(t)})},e.prototype.setCellCtrls=function(t){var e=this,n=Object.assign({},this.cellComps);t.forEach(function(t){var o=t.getInstanceId();null==e.cellComps[o]?e.newCellComp(t):n[o]=null});var o=C(n).filter(function(t){return null!=t});this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var e=this;if(this.domOrder){var n=[];t.forEach(function(t){var o=e.cellComps[t.getInstanceId()];o&&n.push(o.getGui())}),mn(this.getGui(),n)}},e.prototype.newCellComp=function(t){var e=new ql(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=e,this.getGui().appendChild(e.getGui())},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=C(this.cellComps).filter(function(t){return null!=t});this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var e=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){e.fullWidthCellRenderer=e.beans.context.destroyBean(e.fullWidthCellRenderer)})},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var e=this;t.forEach(function(t){if(t){var n=t.getCtrl().getInstanceId();e.cellComps[n]===t&&(t.detach(),t.destroy(),e.cellComps[n]=null)}})},e}(Jo),Ql=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jl=function(){return(Jl=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},tc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ec=function(t){function e(){var e=t.call(this,function(){var t=Jo.elementGettingCreated.getAttribute("name"),e=Ml.getRowContainerCssClasses(t);return t===Pl.CENTER?'<div class="'+e.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+e.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+e.container+'" ref="eContainer"></div>\n                </div>\n            </div>':t===Pl.TOP_CENTER||t===Pl.STICKY_TOP_CENTER||t===Pl.BOTTOM_CENTER?'<div class="'+e.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+e.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+e.container+'" ref="eContainer"></div>'}())||this;return e.rowComps={},e.name=Jo.elementGettingCreated.getAttribute("name"),e.type=function(t){switch(t){case Pl.CENTER:case Pl.TOP_CENTER:case Pl.STICKY_TOP_CENTER:case Pl.BOTTOM_CENTER:return Dl.CENTER;case Pl.LEFT:case Pl.TOP_LEFT:case Pl.STICKY_TOP_LEFT:case Pl.BOTTOM_LEFT:return Dl.LEFT;case Pl.RIGHT:case Pl.TOP_RIGHT:case Pl.STICKY_TOP_RIGHT:case Pl.BOTTOM_RIGHT:return Dl.RIGHT;case Pl.FULL_WIDTH:case Pl.TOP_FULL_WIDTH:case Pl.STICKY_TOP_FULL_WIDTH:case Pl.BOTTOM_FULL_WIDTH:return Dl.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(e.name),e}return Ql(e,t),e.prototype.postConstruct=function(){var t=this,e={setViewportHeight:function(e){return t.eViewport.style.height=e},setRowCtrls:function(e){return t.setRowCtrls(e)},setDomOrder:function(e){t.domOrder=e},setContainerWidth:function(e){return t.eContainer.style.width=e}};this.createManagedBean(new Ml(this.name)).setComp(e,this.eContainer,this.eViewport,this.eWrapper)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var e=this,n=Jl({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,t.forEach(function(t){var o=t.getInstanceId(),r=n[o];if(r)e.rowComps[o]=r,delete n[o],e.ensureDomOrder(r.getGui());else{var i=e.newRowComp(t);e.rowComps[o]=i,e.appendRow(i.getGui())}}),C(n).forEach(function(t){e.eContainer.removeChild(t.getGui()),t.destroy()}),kn(this.eContainer,t.length?"rowgroup":"presentation")},e.prototype.appendRow=function(t){this.domOrder?yn(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(gn(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},e.prototype.newRowComp=function(t){return Ml.getPinned(this.name),new Zl(t,this.beans,this.type)},tc([K("beans")],e.prototype,"beans",void 0),tc([tr("eViewport")],e.prototype,"eViewport",void 0),tc([tr("eContainer")],e.prototype,"eContainer",void 0),tc([tr("eWrapper")],e.prototype,"eWrapper",void 0),tc([$],e.prototype,"postConstruct",null),tc([z],e.prototype,"preDestroy",null),e}(Jo),nc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},oc=function(){function t(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return t.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var n=t.dragItem.columns;n&&n.forEach(function(t){t.isPrimary()&&(t.isAnyFunctionActive()||(t.isAllowValue()?e.columnsToAggregate.push(t):t.isAllowRowGroup()?e.columnsToGroup.push(t):t.isAllowPivot()&&e.columnsToPivot.push(t)))})}},t.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ki.ICON_PINNED:Ki.ICON_MOVE:null},t.prototype.onDragLeave=function(t){this.clearColumnsList()},t.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},t.prototype.onDragging=function(t){},t.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},nc([K("columnModel")],t.prototype,"columnModel",void 0),nc([K("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(),rc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ic=function(){function t(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=t,this.eContainer=e,this.centerContainer=!r(t)}return t.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},t.prototype.getIconName=function(){return this.pinned?Ki.ICON_PINNED:Ki.ICON_MOVE},t.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===$i.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var n=t.dragItem.visibleState,o=(e||[]).filter(function(t){return n[t.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},t.prototype.onDragLeave=function(t){this.ensureIntervalCleared()},t.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var o=t.filter(function(t){return!t.getColDef().lockVisible});this.columnModel.setColumnsVisible(o,e,n)}},t.prototype.setColumnsPinned=function(t,e,n){if(void 0===n&&(n="api"),t){var o=t.filter(function(t){return!t.getColDef().lockPinned});this.columnModel.setColumnsPinned(o,e,n)}},t.prototype.onDragStop=function(){this.ensureIntervalCleared()},t.prototype.normaliseX=function(t){return this.gridOptionsWrapper.isEnableRtl()&&(t=this.eContainer.clientWidth-t),this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},t.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},t.prototype.onDragging=function(t,e,n){var o=this;if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.lastDraggingEvent=t,!i(t.hDirection)){var r=this.normaliseX(t.x);e||this.checkCenterForScrolling(r);var s=this.normaliseDirection(t.hDirection),a=t.dragSource.type,l=t.dragSource.getDragItem().columns;l=l.filter(function(t){return!t.getColDef().lockPinned||t.getPinned()==o.pinned}),this.attemptMoveColumns(a,l,s,r,e,n)}},t.prototype.normaliseDirection=function(t){if(!this.gridOptionsWrapper.isEnableRtl())return t;switch(t){case ji.Left:return ji.Right;case ji.Right:return ji.Left;default:console.error("AG Grid: Unknown direction "+t)}},t.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),n=ut(t.map(function(t){return e.indexOf(t)})),o=n[0];return lt(n)-o!=n.length-1?null:o},t.prototype.attemptMoveColumns=function(t,e,n,o,r,i){var s=n===ji.Left,a=n===ji.Right;if(t===$i.HeaderCell){var l=[];e.forEach(function(t){for(var e=null,n=t.getParent();null!=n&&1===n.getDisplayedLeafColumns().length;)e=n,n=n.getParent();null!=e?e.getLeafColumns().forEach(function(t){l.includes(t)||l.push(t)}):l.includes(t)||l.push(t)}),e=l}var c=e.slice();this.columnModel.sortColumnsLikeGridColumns(c);var u=this.calculateValidMoves(c,a,o),p=this.calculateOldIndex(c);if(0!==u.length){var d=u[0],h=null!==p&&!r;if(t==$i.HeaderCell&&(h=null!==p),h&&!i){if(s&&d>=p)return;if(a&&d<=p)return}for(var f=this.columnModel.getAllDisplayedColumns(),g=[],m=null,y=0;y<u.length;y++){var _=u[y],v=this.columnModel.getProposedColumnOrder(c,_);if(this.columnModel.doesOrderPassRules(v)){var C=v.filter(function(t){return f.includes(t)});if(null===m)m=C;else if(!Wo.areEqual(C,m))break;var E=this.groupFragCount(v);g.push({move:_,fragCount:E})}}0!==g.length&&(g.sort(function(t,e){return t.fragCount-e.fragCount}),this.columnModel.moveColumns(c,g[0].move,"uiColumnDragged"))}},t.prototype.groupFragCount=function(t){function e(t){for(var e=[],n=t.getOriginalParent();null!=n;)e.push(n),n=n.getOriginalParent();return e}for(var n=0,o=function(o){var r,i=e(t[o]),s=e(t[o+1]);r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}(i.length>s.length?[i,s]:[s,i],2),s=r[1],(i=r[0]).forEach(function(t){-1===s.indexOf(t)&&n++})},r=0;r<t.length-1;r++)o(r);return n},t.prototype.calculateValidMoves=function(t,e,n){if(this.gridOptionsWrapper.isSuppressMovableColumns()||t.some(function(t){return t.getColDef().suppressMovable}))return[];var o,r=this.columnModel.getDisplayedColumns(this.pinned),i=this.columnModel.getAllGridColumns(),s=r.filter(function(e){return gt(t,e)}),a=r.filter(function(e){return!gt(t,e)}),l=i.filter(function(e){return!gt(t,e)}),c=0,u=n;if(e){var p=0;s.forEach(function(t){return p+=t.getActualWidth()}),u-=p}if(u>0){for(var d=0;d<a.length&&!((u-=a[d].getActualWidth())<0);d++)c++;e&&c++}c>0?o=l.indexOf(a[c-1])+1:-1===(o=l.indexOf(a[0]))&&(o=0);var h=[o],f=function(t,e){return t-e};if(e){for(var g=o+1,m=i.length-1;g<=m;)h.push(g),g++;h.sort(f)}else{m=i.length-1;for(var y=i[g=o];g<=m&&this.isColumnHidden(r,y);)g++,h.push(g),y=i[g];for(g=o-1;g>=0;)h.push(g),g--;h.sort(f).reverse()}return h},t.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Ki.ICON_LEFT:Ki.ICON_RIGHT,!0))},t.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ki.ICON_MOVE))},t.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter(function(t){return!t.getColDef().lockPinned});o.length>0&&(this.dragAndDropService.setGhostIcon(Ki.ICON_PINNED),this.failedMoveAttempts>7&&(this.setColumnsPinned(o,this.needToMoveLeft?et.PINNED_LEFT:et.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge()))}},rc([K("columnModel")],t.prototype,"columnModel",void 0),rc([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),rc([K("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),rc([K("ctrlsService")],t.prototype,"ctrlsService",void 0),rc([$],t.prototype,"init",null),t}(),sc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ac=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lc=function(t){function e(e,n){var o=t.call(this)||this;return o.pinned=e,o.eContainer=n,o}return sc(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(e){switch(t.pinned){case et.PINNED_LEFT:t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case et.PINNED_RIGHT:t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]]}})},e.prototype.isInterestedIn=function(t){return t===$i.HeaderCell||t===$i.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new ic(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new oc(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===$i.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},ac([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ac([K("columnModel")],e.prototype,"columnModel",void 0),ac([K("ctrlsService")],e.prototype,"ctrlsService",void 0),ac([$],e.prototype,"postConstruct",null),ac([$],e.prototype,"init",null),e}(kt),cc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},uc=function(){function t(){}return t.getHeaderClassesFromColDef=function(t,e,n,o){return i(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,o)},t.getToolPanelClassesFromColDef=function(t,e,n,o){return i(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,o)},t.getClassParams=function(t,e,n,o){return{colDef:t,column:n,columnGroup:o,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()}},t.getColumnClassesFromCollDef=function(t,e,n,o,r){return i(t)?[]:"string"==typeof(s="function"==typeof t?t(this.getClassParams(e,n,o,r)):t)?[s]:Array.isArray(s)?function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cc(arguments[e]));return t}(s):[];var s},t}(),pc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},hc=function(t){function e(n){var o=t.call(this,e.TEMPLATE,n)||this;return o.headerCompVersion=0,o.column=n.getColumnGroupChild(),o.pinned=n.getPinned(),o}return pc(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),n=function(t,n,o){var r=o||e;null!=n&&""!=n?r.setAttribute(t,n):r.removeAttribute(t)};this.ctrl.setComp({setWidth:function(t){return e.style.width=t},addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setColId:function(t){return n("col-id",t)},setTitle:function(t){return n("title",t)},setAriaDescription:function(t){return Un(e,t)},setAriaSort:function(t){return t?oo(e,t):ro(e)},setUserCompDetails:function(e){return t.setUserCompDetails(e)},getUserCompInstance:function(){return t.headerComp}},this.getGui(),this.eResize,this.eHeaderCompWrapper);var o=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",o)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var e=this;this.headerCompVersion++;var n=this.headerCompVersion;t.newAgStackInstance().then(function(t){return e.afterCompCreated(n,t)})},e.prototype.afterCompCreated=function(t,e){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=e,this.headerCompGui=e.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(e)},e.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',dc([tr("eResize")],e.prototype,"eResize",void 0),dc([tr("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),dc([$],e.prototype,"postConstruct",null),dc([z],e.prototype,"destroyHeaderComp",null),e}(qs),fc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mc=function(t){function e(n){return t.call(this,e.TEMPLATE,n)||this}return fc(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),n=function(t,n){return null!=n?e.setAttribute(t,n):e.removeAttribute(t)};this.ctrl.setComp({addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},addOrRemoveResizableCssClass:function(e,n){return t.eResize.classList.toggle(e,n)},setWidth:function(t){return e.style.width=t},setColId:function(t){return e.setAttribute("col-id",t)},setAriaExpanded:function(t){return n("aria-expanded",t)},setTitle:function(t){return n("title",t)},setUserCompDetails:function(e){return t.setUserCompDetails(e)}},e,this.eResize)},e.prototype.setUserCompDetails=function(t){var e=this;t.newAgStackInstance().then(function(t){return e.afterHeaderCompCreated(t)})},e.prototype.afterHeaderCompCreated=function(t){var e=this,n=function(){return e.destroyBean(t)};this.isAlive()?(this.getGui().appendChild(t.getGui()),this.addDestroyFunc(n),this.ctrl.setDragSource(t.getGui())):n()},e.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',gc([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),gc([tr("eResize")],e.prototype,"eResize",void 0),gc([$],e.prototype,"postConstruct",null),e}(qs),yc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_c=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vc=(()=>(function(t){t.COLUMN_GROUP="group",t.COLUMN="column",t.FLOATING_FILTER="filter"}(vc||(vc={})),vc))(),Cc=function(t){function e(e){var n=t.call(this)||this;n.headerComps={};var o=e.getType()==vc.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==vc.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return n.setTemplate('<div class="ag-header-row '+o+'" role="row"></div>'),n.ctrl=e,n}return yc(e,t),e.prototype.init=function(){var t=this;this.ctrl.setComp({setTransform:function(e){return t.getGui().style.transform=e},setHeight:function(e){return t.getGui().style.height=e},setTop:function(e){return t.getGui().style.top=e},setHeaderCtrls:function(e){return t.setHeaderCtrls(e)},setWidth:function(e){return t.getGui().style.width=e},setAriaRowIndex:function(e){return Jn(t.getGui(),e)}})},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},e.prototype.setHeaderCtrls=function(t){var e=this;if(this.isAlive()){var n=this.headerComps;if(this.headerComps={},t.forEach(function(t){var o=t.getInstanceId(),r=n[o];delete n[o],null==r&&(r=e.createHeaderComp(t),e.getGui().appendChild(r.getGui())),e.headerComps[o]=r}),h(n,function(t,n){e.getGui().removeChild(n.getGui()),e.destroyBean(n)}),this.gridOptionsWrapper.isEnsureDomOrder()){var o=C(this.headerComps);o.sort(function(t,e){return t.getCtrl().getColumnGroupChild().getLeft()-e.getCtrl().getColumnGroupChild().getLeft()});var r=o.map(function(t){return t.getGui()});mn(this.getGui(),r)}}},e.prototype.createHeaderComp=function(t){var e;switch(this.ctrl.getType()){case vc.COLUMN_GROUP:e=new mc(t);break;case vc.FLOATING_FILTER:e=new Qs(t);break;default:e=new hc(t)}return this.createBean(e),e.setParentComponent(this),e},_c([$],e.prototype,"init",null),_c([z],e.prototype,"destroyHeaderCtrls",null),e}(Jo),Ec=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Oc=0,bc=function(t){function e(e,n){var o=t.call(this)||this;return o.lastFocusEvent=null,o.columnGroupChild=e,o.parentRowCtrl=n,o.instanceId=e.getUniqueId()+"-"+Oc++,o}return Ec(e,t),e.prototype.shouldStopEventPropagation=function(t){var e=this.focusService.getFocusedHeader();return Mo(this.gridOptionsWrapper,t,e.headerRowIndex,e.column)},e.prototype.getWrapperHasFocus=function(){return this.gridOptionsWrapper.getDocument().activeElement===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData()},e.prototype.handleKeyDown=function(t){var e=this.getWrapperHasFocus();switch(t.key){case To.PAGE_DOWN:case To.PAGE_UP:case To.PAGE_HOME:case To.PAGE_END:e&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,n=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return t.gridOptionsWrapper.setDomData(t.eGui,n,null)})},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",wc([K("focusService")],e.prototype,"focusService",void 0),wc([K("beans")],e.prototype,"beans",void 0),wc([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(kt),Sc=(()=>(function(t){t.EVERYTHING="group",t.FILTER="filter",t.SORT="sort",t.MAP="map",t.AGGREGATE="aggregate",t.FILTER_AGGREGATES="filter_aggregates",t.PIVOT="pivot",t.NOTHING="nothing"}(Sc||(Sc={})),Sc))(),Pc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function Dc(t){return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():t}var Tc=function(){function t(){this.detailGridInfoMap={},this.destroyCalled=!1}return t.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},t.prototype.registerSideBarComp=function(t){this.sideBarComp=t},t.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case et.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case et.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case et.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},t.prototype.__getAlignedGridService=function(){return this.alignedGridsService},t.prototype.__getContext=function(){return this.context},t.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},t.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},t.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},t.prototype.forEachDetailGridInfo=function(t){var e=0;h(this.detailGridInfoMap,function(n,o){r(o)&&(t(o,e),e++)})},t.prototype.getDataAsCsv=function(t){if(ot.assertRegistered(nt.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},t.prototype.exportDataAsCsv=function(t){ot.assertRegistered(nt.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},t.prototype.getExcelExportMode=function(t){var e=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},e,t).exportMode},t.prototype.getDataAsExcel=function(t){if(ot.assertRegistered(nt.ExcelExportModule,"api.getDataAsExcel")){var e=this.getExcelExportMode(t);if(this.excelCreator.getFactoryMode(e)!==Ws.MULTI_SHEET)return this.excelCreator.getDataAsExcel(t);console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`")}},t.prototype.exportDataAsExcel=function(t){if(ot.assertRegistered(nt.ExcelExportModule,"api.exportDataAsExcel")){var e=this.getExcelExportMode(t);this.excelCreator.getFactoryMode(e)!==Ws.MULTI_SHEET?this.excelCreator.exportDataAsExcel(t):console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`")}},t.prototype.getSheetDataForExcel=function(t){if(ot.assertRegistered(nt.ExcelExportModule,"api.getSheetDataForExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(Ws.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},t.prototype.getMultipleSheetsAsExcel=function(t){if(ot.assertRegistered(nt.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(t)},t.prototype.exportMultipleSheetsAsExcel=function(t){if(ot.assertRegistered(nt.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(t)},t.prototype.setEnterpriseDatasource=function(t){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(t)},t.prototype.setGridAriaProperty=function(t,e){if(t){var n=this.ctrlsService.getGridBodyCtrl().getGui(),o="aria-"+t;null===e?n.removeAttribute(o):n.setAttribute(o,e)}},t.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+et.ROW_MODEL_TYPE_SERVER_SIDE+"'")},t.prototype.setDatasource=function(t){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(t):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+et.ROW_MODEL_TYPE_INFINITE+"'")},t.prototype.setViewportDatasource=function(t){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(t):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+et.ROW_MODEL_TYPE_VIEWPORT+"'")},t.prototype.setRowData=function(t){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},t.prototype.setFloatingTopRowData=function(t){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(t)},t.prototype.setFloatingBottomRowData=function(t){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(t)},t.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},t.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},t.prototype.getFloatingTopRow=function(t){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(t)},t.prototype.getFloatingBottomRow=function(t){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(t)},t.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},t.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},t.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},t.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},t.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnModel.setColumnDefs(t,e)},t.prototype.setAutoGroupColumnDef=function(t,e){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",t,!0)},t.prototype.setDefaultColDef=function(t,e){this.gridOptionsWrapper.setProperty("defaultColDef",t,!0)},t.prototype.expireValueCache=function(){this.valueCache.expire()},t.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},t.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},t.prototype.setAlwaysShowHorizontalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",t)},t.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",t)},t.prototype.refreshToolPanel=function(){this.sideBarComp&&this.sideBarComp.refresh()},t.prototype.refreshCells=function(t){void 0===t&&(t={}),Array.isArray(t)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(t)},t.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},t.prototype.redrawRows=function(t){void 0===t&&(t={}),this.rowRenderer.redrawRows(t?t.rowNodes:void 0)},t.prototype.setFunctionsReadOnly=function(t){this.gridOptionsWrapper.setProperty("functionsReadOnly",t)},t.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.rowModel},t.prototype.setRowNodeExpanded=function(t,e){t&&t.setExpanded(e)},t.prototype.onGroupExpandedOrCollapsed=function(t){i(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),r(t)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:Sc.MAP})},t.prototype.refreshInMemoryRowModel=function(t){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(t)},t.prototype.refreshClientSideRowModel=function(t){i(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var e=Sc.EVERYTHING,n={group:Sc.EVERYTHING,filter:Sc.FILTER,map:Sc.MAP,aggregate:Sc.AGGREGATE,sort:Sc.SORT,pivot:Sc.PIVOT};if(r(t)&&(e=n[t]),i(e))console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(n).join(", "));else{var o=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},t.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},t.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},t.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},t.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},t.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},t.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},t.prototype.getToolPanelInstance=function(t){if(this.sideBarComp)return Dc(this.sideBarComp.getToolPanelInstance(t));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},t.prototype.addVirtualRowListener=function(t,e,n){"string"!=typeof t&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(t,e,n)},t.prototype.addRenderedRowListener=function(t,e,n){"virtualRowSelected"===t&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(t,e,n)},t.prototype.setQuickFilter=function(t){this.filterManager.setQuickFilter(t)},t.prototype.selectIndex=function(t,e,n){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(t,e)},t.prototype.deselectIndex=function(t,e){void 0===e&&(e=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(t)},t.prototype.selectNode=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!0,clearSelection:!e})},t.prototype.deselectNode=function(t,e){void 0===e&&(e=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!1})},t.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},t.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},t.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},t.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},t.prototype.recomputeAggregates=function(){i(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:Sc.AGGREGATE})},t.prototype.sizeColumnsToFit=function(){this.gridBodyCtrl.sizeColumnsToFit()},t.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},t.prototype.isNodeSelected=function(t){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),t.isSelected()},t.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},t.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColIndexVisible=function(t){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},t.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},t.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},t.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},t.prototype.forEachLeafNode=function(t){i(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(t)},t.prototype.forEachNode=function(t){this.rowModel.forEachNode(t)},t.prototype.forEachNodeAfterFilter=function(t){i(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(t)},t.prototype.forEachNodeAfterFilterAndSort=function(t){i(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},t.prototype.getFilterInstance=function(t,e){var n=this.getFilterInstanceImpl(t,function(t){if(e){var n=Dc(t);e(n)}});return Dc(n)},t.prototype.getFilterInstanceImpl=function(t,e){var n=this.columnModel.getPrimaryColumn(t);if(n){var o=this.filterManager.getFilterComponent(n,"NO_UI"),r=o&&o.resolveNow(null,function(t){return t});return r?setTimeout(e,0,r):o&&o.then(function(t){e(t)}),r}},t.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"filterDestroyed")},t.prototype.getStatusPanel=function(t){if(this.statusBarService)return Dc(this.statusBarService.getStatusPanel(t))},t.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},t.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},t.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},t.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},t.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},t.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},t.prototype.setFocusedCell=function(t,e,n){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:n,forceBrowserFocus:!0})},t.prototype.setSuppressRowDrag=function(t){this.gridOptionsWrapper.setProperty(la.PROP_SUPPRESS_ROW_DRAG,t)},t.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsWrapper.setProperty(la.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,t)},t.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsWrapper.setProperty(la.PROP_SUPPRESS_ROW_CLICK_SELECTION,t)},t.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},t.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},t.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},t.prototype.setHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(la.PROP_HEADER_HEIGHT,t)},t.prototype.setDomLayout=function(t){this.gridOptionsWrapper.setProperty(la.PROP_DOM_LAYOUT,t)},t.prototype.setEnableCellTextSelection=function(t){this.gridBodyCtrl.setCellTextSelection(t)},t.prototype.setFillHandleDirection=function(t){this.gridOptionsWrapper.setProperty(la.PROP_FILL_HANDLE_DIRECTION,t)},t.prototype.setGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GROUP_HEADER_HEIGHT,t)},t.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsWrapper.setProperty(la.PROP_FLOATING_FILTERS_HEIGHT,t)},t.prototype.setPivotHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(la.PROP_PIVOT_HEADER_HEIGHT,t)},t.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(la.PROP_PIVOT_GROUP_HEADER_HEIGHT,t)},t.prototype.setIsExternalFilterPresent=function(t){this.gridOptionsWrapper.setProperty(la.PROP_IS_EXTERNAL_FILTER_PRESENT,t)},t.prototype.setDoesExternalFilterPass=function(t){this.gridOptionsWrapper.setProperty(la.PROP_DOES_EXTERNAL_FILTER_PASS,t)},t.prototype.setNavigateToNextCell=function(t){this.gridOptionsWrapper.setProperty(la.PROP_NAVIGATE_TO_NEXT_CELL,t)},t.prototype.setTabToNextCell=function(t){this.gridOptionsWrapper.setProperty(la.PROP_TAB_TO_NEXT_CELL,t)},t.prototype.setTabToNextHeader=function(t){this.gridOptionsWrapper.setProperty(la.PROP_TAB_TO_NEXT_HEADER,t)},t.prototype.setNavigateToNextHeader=function(t){this.gridOptionsWrapper.setProperty(la.PROP_NAVIGATE_TO_NEXT_HEADER,t)},t.prototype.setGroupRowAggNodes=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GROUP_ROW_AGG_NODES,t)},t.prototype.setGetGroupRowAgg=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_GROUP_ROW_AGG,t)},t.prototype.setGetBusinessKeyForNode=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_BUSINESS_KEY_FOR_NODE,t)},t.prototype.setGetChildCount=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_CHILD_COUNT,t)},t.prototype.setProcessRowPostCreate=function(t){this.gridOptionsWrapper.setProperty(la.PROP_PROCESS_ROW_POST_CREATE,t)},t.prototype.setGetRowNodeId=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_ROW_NODE_ID,t)},t.prototype.setGetRowId=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_ROW_ID,t)},t.prototype.setGetRowClass=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_ROW_CLASS,t)},t.prototype.setIsFullWidthCell=function(t){this.gridOptionsWrapper.setProperty(la.PROP_IS_FULL_WIDTH_CELL,t)},t.prototype.setIsFullWidthRow=function(t){this.gridOptionsWrapper.setProperty(la.PROP_IS_FULL_WIDTH_ROW,t)},t.prototype.setIsRowSelectable=function(t){this.gridOptionsWrapper.setProperty(la.PROP_IS_ROW_SELECTABLE,t)},t.prototype.setIsRowMaster=function(t){this.gridOptionsWrapper.setProperty(la.PROP_IS_ROW_MASTER,t)},t.prototype.setPostSort=function(t){this.gridOptionsWrapper.setProperty(la.PROP_POST_SORT,t)},t.prototype.setPostSortRows=function(t){this.gridOptionsWrapper.setProperty(la.PROP_POST_SORT_ROWS,t)},t.prototype.setGetDocument=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_DOCUMENT,t)},t.prototype.setGetContextMenuItems=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_CONTEXT_MENU_ITEMS,t)},t.prototype.setGetMainMenuItems=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_MAIN_MENU_ITEMS,t)},t.prototype.setProcessCellForClipboard=function(t){this.gridOptionsWrapper.setProperty(la.PROP_PROCESS_CELL_FOR_CLIPBOARD,t)},t.prototype.setSendToClipboard=function(t){this.gridOptionsWrapper.setProperty(la.PROP_SEND_TO_CLIPBOARD,t)},t.prototype.setProcessCellFromClipboard=function(t){this.gridOptionsWrapper.setProperty(la.PROP_PROCESS_CELL_FROM_CLIPBOARD,t)},t.prototype.setProcessSecondaryColDef=function(t){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColDef has been renamed, please use setProcessPivotResultColDef instead"),this.setProcessPivotResultColDef(t)},t.prototype.setProcessSecondaryColGroupDef=function(t){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColGroupDef has been renamed, please use setProcessPivotResultColGroupDef instead"),this.setProcessPivotResultColGroupDef(t)},t.prototype.setProcessPivotResultColDef=function(t){this.gridOptionsWrapper.setProperty(la.PROP_PROCESS_PIVOT_RESULT_COL_DEF,t)},t.prototype.setProcessPivotResultColGroupDef=function(t){this.gridOptionsWrapper.setProperty(la.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF,t)},t.prototype.setPostProcessPopup=function(t){this.gridOptionsWrapper.setProperty(la.PROP_POST_PROCESS_POPUP,t)},t.prototype.setDefaultGroupOrderComparator=function(t){this.gridOptionsWrapper.setProperty(la.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,t)},t.prototype.setInitialGroupOrderComparator=function(t){this.gridOptionsWrapper.setProperty(la.PROP_INITIAL_GROUP_ORDER_COMPARATOR,t)},t.prototype.setGetChartToolbarItems=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_CHART_TOOLBAR_ITEMS,t)},t.prototype.setPaginationNumberFormatter=function(t){this.gridOptionsWrapper.setProperty(la.PROP_PAGINATION_NUMBER_FORMATTER,t)},t.prototype.setGetServerSideStoreParams=function(t){this.setGetServerSideGroupLevelParams(t)},t.prototype.setGetServerSideGroupLevelParams=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_SERVER_SIDE_GROUP_PARAMS,t)},t.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gridOptionsWrapper.setProperty(la.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,t)},t.prototype.setIsApplyServerSideTransaction=function(t){this.gridOptionsWrapper.setProperty(la.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,t)},t.prototype.setIsServerSideGroup=function(t){this.gridOptionsWrapper.setProperty(la.PROP_IS_SERVER_SIDE_GROUP,t)},t.prototype.setGetServerSideGroupKey=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_SERVER_SIDE_GROUP_KEY,t)},t.prototype.setGetRowStyle=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_ROW_STYLE,t)},t.prototype.setGetRowHeight=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GET_ROW_HEIGHT,t)},t.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},t.prototype.setSideBarVisible=function(t){this.sideBarComp?this.sideBarComp.setDisplayed(t):t&&console.warn("AG Grid: sideBar is not loaded")},t.prototype.setSideBarPosition=function(t){this.sideBarComp?this.sideBarComp.setSideBarPosition(t):console.warn("AG Grid: sideBar is not loaded")},t.prototype.openToolPanel=function(t){this.sideBarComp?this.sideBarComp.openToolPanel(t):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},t.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},t.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},t.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},t.prototype.setSideBar=function(t){this.gridOptionsWrapper.setProperty("sideBar",Js.parse(t))},t.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsWrapper.setProperty(la.PROP_SUPPRESS_CLIPBOARD_PASTE,t)},t.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},t.prototype.doLayout=function(){R(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},t.prototype.resetRowHeights=function(){if(r(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},t.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GROUP_REMOVE_SINGLE_CHILDREN,t)},t.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsWrapper.setProperty(la.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,t)},t.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},t.prototype.getValue=function(t,e){var n=this.columnModel.getPrimaryColumn(t);return i(n)&&(n=this.columnModel.getGridColumn(t)),i(n)?null:this.valueService.getValue(n,e)},t.prototype.addEventListener=function(t,e){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(t,e,n)},t.prototype.addGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(t,e)},t.prototype.removeEventListener=function(t,e){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(t,e,n)},t.prototype.removeGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},t.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},t.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(O.bind(window,this,"Grid API"),100)},t.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},t.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(t){return t.quickFilterAggregateText=null})},t.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},t.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},t.prototype.camelCaseToHumanReadable=function(t){return qt(t)},t.prototype.addRangeSelection=function(t){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},t.prototype.addCellRange=function(t){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(t)},t.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},t.prototype.undoCellEditing=function(){this.undoRedoService.undo()},t.prototype.redoCellEditing=function(){this.undoRedoService.redo()},t.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},t.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},t.prototype.getChartModels=function(){if(ot.assertRegistered(nt.RangeSelectionModule,"api.getChartModels")&&ot.assertRegistered(nt.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},t.prototype.getChartRef=function(t){if(ot.assertRegistered(nt.RangeSelectionModule,"api.getChartRef")&&ot.assertRegistered(nt.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(t)},t.prototype.getChartImageDataURL=function(t){if(ot.assertRegistered(nt.RangeSelectionModule,"api.getChartImageDataURL")&&ot.assertRegistered(nt.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(t)},t.prototype.createRangeChart=function(t){if(ot.assertRegistered(nt.RangeSelectionModule,"api.createRangeChart")&&ot.assertRegistered(nt.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},t.prototype.createCrossFilterChart=function(t){if(ot.assertRegistered(nt.RangeSelectionModule,"api.createCrossFilterChart")&&ot.assertRegistered(nt.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(t)},t.prototype.restoreChart=function(t,e){if(ot.assertRegistered(nt.RangeSelectionModule,"api.restoreChart")&&ot.assertRegistered(nt.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(t,e)},t.prototype.createPivotChart=function(t){if(ot.assertRegistered(nt.RangeSelectionModule,"api.createPivotChart")&&ot.assertRegistered(nt.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},t.prototype.copySelectedRowsToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(t)},t.prototype.copySelectedRangeToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(t)},t.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},t.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e,"columnMenu")},t.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnModel.getGridColumn(t);n||(n=this.columnModel.getPrimaryColumn(t)),n?this.menuFactory.showMenuAfterMouseEvent(n,e):console.error("AG Grid: column '"+t+"' not found")},t.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},t.prototype.setPopupParent=function(t){this.gridOptionsWrapper.setProperty(la.PROP_POPUP_PARENT,t)},t.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},t.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},t.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(Dc)},t.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(Dc)},t.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},t.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var o=this.navigationService.getCellByPosition(n);o&&o.startRowOrCellEdit(t.key,t.charPress)}else console.warn("AG Grid: no column found for "+t.colKey)},t.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},t.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},t.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},t.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},t.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},t.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},t.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},t.prototype.applyTransaction=function(t){if(this.clientSideRowModel){var e=this.clientSideRowModel.updateRowData(t);return this.rowRenderer.refreshFullWidthRows(e.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),e}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},t.prototype.setDeltaSort=function(t){this.gridOptionsWrapper.setProperty("deltaSort",t)},t.prototype.updateRowData=function(t){return R(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(t)},t.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},t.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},t.prototype.batchUpdateRowData=function(t,e){R(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(t,e)},t.prototype.insertItemsAtIndex=function(t,e,n){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:t,update:null,remove:null})},t.prototype.removeItems=function(t,e){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var n=t.map(function(t){return t.data});this.updateRowData({add:null,addIndex:null,update:null,remove:n})},t.prototype.addItems=function(t,e){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:null,update:null,remove:null})},t.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},t.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},t.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},t.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},t.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},t.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},t.prototype.purgeEnterpriseCache=function(t){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(t)},t.prototype.purgeServerSideCache=function(t){void 0===t&&(t=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSide({purge: true}) instead."),this.refreshServerSide({route:t,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},t.prototype.refreshServerSide=function(t){this.serverSideRowModel||console.warn("AG Grid: api.refreshServerSide is only available when rowModelType='serverSide'."),this.serverSideRowModel.refreshStore(t)},t.prototype.refreshServerSideStore=function(t){return R(function(){return console.warn("AG Grid: Grid API refreshServerSideStore() was renamed to refreshServerSide() in v28.0")},"refreshServerSideStore-renamed"),this.refreshServerSide(t)},t.prototype.getServerSideStoreState=function(){return R(function(){return console.warn("AG Grid: Grid API getServerSideStoreState() was renamed to getServerSideGroupLevelState() in v28.0")},"getServerSideStoreState-renamed"),this.getServerSideGroupLevelState()},t.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideGroupLevelState is only available when rowModelType='serverSide'."),[])},t.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},t.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},t.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},t.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},t.prototype.setVirtualRowCount=function(t,e){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(t,e)},t.prototype.setInfiniteRowCount=function(t,e){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(t,e)},t.prototype.setRowCount=function(t,e){this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},t.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},t.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},t.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},t.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},t.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},t.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},t.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},t.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},t.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},t.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},t.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},t.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},t.prototype.paginationSetPageSize=function(t){this.gridOptionsWrapper.setProperty("paginationPageSize",t)},t.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},t.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},t.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},t.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},t.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},t.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},t.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},t.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},t.prototype.setRowClass=function(t){this.gridOptionsWrapper.setProperty(la.PROP_ROW_CLASS,t)},Pc([Y("immutableService")],t.prototype,"immutableService",void 0),Pc([Y("csvCreator")],t.prototype,"csvCreator",void 0),Pc([Y("excelCreator")],t.prototype,"excelCreator",void 0),Pc([K("rowRenderer")],t.prototype,"rowRenderer",void 0),Pc([K("navigationService")],t.prototype,"navigationService",void 0),Pc([K("filterManager")],t.prototype,"filterManager",void 0),Pc([K("columnModel")],t.prototype,"columnModel",void 0),Pc([K("selectionService")],t.prototype,"selectionService",void 0),Pc([K("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Pc([K("valueService")],t.prototype,"valueService",void 0),Pc([K("alignedGridsService")],t.prototype,"alignedGridsService",void 0),Pc([K("eventService")],t.prototype,"eventService",void 0),Pc([K("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Pc([K("context")],t.prototype,"context",void 0),Pc([K("rowModel")],t.prototype,"rowModel",void 0),Pc([K("sortController")],t.prototype,"sortController",void 0),Pc([K("paginationProxy")],t.prototype,"paginationProxy",void 0),Pc([K("focusService")],t.prototype,"focusService",void 0),Pc([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Pc([Y("rangeService")],t.prototype,"rangeService",void 0),Pc([Y("clipboardService")],t.prototype,"clipboardService",void 0),Pc([Y("aggFuncService")],t.prototype,"aggFuncService",void 0),Pc([K("menuFactory")],t.prototype,"menuFactory",void 0),Pc([Y("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Pc([K("valueCache")],t.prototype,"valueCache",void 0),Pc([K("animationFrameService")],t.prototype,"animationFrameService",void 0),Pc([Y("statusBarService")],t.prototype,"statusBarService",void 0),Pc([Y("chartService")],t.prototype,"chartService",void 0),Pc([Y("undoRedoService")],t.prototype,"undoRedoService",void 0),Pc([Y("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Pc([Y("ssrmTransactionManager")],t.prototype,"serverSideTransactionManager",void 0),Pc([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Pc([Y("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),Pc([$],t.prototype,"init",null),Pc([z],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Pc([j("gridApi")],t)}(),Rc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ac=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.columnOrGroup=e,i.eCell=n,i.ariaEl=i.eCell.querySelector("[role=columnheader]")||i.eCell,i.colsSpanning=r,i.beans=o,i}return Rc(e,t),e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?lt(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,st.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,la.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),e=r(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,e=this.getColumnOrGroup(),n=e.getLeft(),o=e.getOldLeft(),r=this.modifyLeftForPrintLayout(e,o),i=this.modifyLeftForPrintLayout(e,n);this.setLeft(r),this.actualLeft=i,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===i&&t.setLeft(i)})},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,e){if(this.beans.gridOptionsWrapper.getDomLayout()!==et.DOM_LAYOUT_PRINT)return e;if(t.getPinned()===et.PINNED_LEFT)return e;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();return t.getPinned()===et.PINNED_RIGHT?n+this.beans.columnModel.getBodyContainerWidth()+e:n+e},e.prototype.setLeft=function(t){var e;if(r(t)&&(this.eCell.style.left=t+"px"),this.columnOrGroup instanceof st)e=this.columnOrGroup;else{var n=this.columnOrGroup.getLeafColumns();if(!n.length)return;n.length>1&&no(this.ariaEl,n.length),e=n[0]}var o=this.beans.columnModel.getAriaColumnIndex(e);eo(this.ariaEl,o)},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([$],e.prototype,"postConstruct",null),e}(kt),Mc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ic=function(t){function e(e,n){var o=t.call(this)||this;return o.columns=e,o.element=n,o}return Mc(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},xc([K("columnHoverService")],e.prototype,"columnHoverService",void 0),xc([$],e.prototype,"postConstruct",null),e}(kt),Lc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Nc=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.column=e,o}return Lc(e,t),e.prototype.setComp=function(e,n,o,r){t.prototype.setGui.call(this,n),this.comp=e,this.eButtonShowMainFilter=o,this.eFloatingFilterBody=r;var i=this.column.getColDef();this.active=!(!i.filter&&!i.filterFramework||!i.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},e.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var t=Po("filter",this.gridOptionsWrapper,this.column);t&&this.eButtonShowMainFilter.appendChild(t)}},e.prototype.setupFocus=function(){this.createManagedBean(new dr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.onTabKeyDown=function(t){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var e=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(e)return this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),void e.focus();var n=this.findNextColumnWithFloatingFilter(t.shiftKey);n&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:n},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var e=this.beans.columnModel,n=this.column;do{if(!(n=t?e.getDisplayedColBefore(n):e.getDisplayedColAfter(n)))break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();switch(e.key){case To.UP:case To.DOWN:n||e.preventDefault();case To.LEFT:case To.RIGHT:if(n)return;e.stopPropagation();case To.ENTER:n&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case To.ESCAPE:n||this.eGui.focus()}},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var e=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),n=!!t.relatedTarget&&Je(t.relatedTarget,"ag-floating-filter");if(e&&n&&t.target===this.eGui){var o=this.lastFocusEvent;o&&o&&o.key===To.TAB&&this.focusService.focusInto(this.eGui,o.shiftKey)}var r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new Ic([this.column],this.eGui));var e=function(){if(t.gridOptionsWrapper.isColumnHoverHighlight()){var e=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",e)}};this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_HOVER_CHANGED,e),e()},e.prototype.setupLeft=function(){var t=new Ac(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupUserComp=function(){var t=this;if(this.active){var e=this.column.getColDef(),n=this.filterManager.createFilterParams(this.column,e),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(e,Ts,n),r=this.userComponentFactory.getDefaultFloatingFilterType(e);null==r&&(r="agReadOnlyFloatingFilter");var i={column:this.column,filterParams:o,currentParentModel:function(){return t.currentParentModel()},parentFilterInstance:function(e){return t.parentFilterInstance(e)},showParentFilter:function(){return t.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton;var s=this.userComponentFactory.getFloatingFilterCompDetails(e,i,r);s&&this.comp.setCompDetails(s)}},e.prototype.currentParentModel=function(){var t=this.getFilterComponent(!1);return t?t.resolveNow(null,function(t){return t&&t.getModel()}):null},e.prototype.getFilterComponent=function(t){return void 0===t&&(t=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",t)},e.prototype.parentFilterInstance=function(t){var e=this.getFilterComponent();null!=e&&e.then(function(e){t(Dc(e))})},e.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var e=function(e){var n=t.comp.getFloatingFilterComp();if(n){var o=t.currentParentModel();n.then(function(t){t&&t.onParentModelChanged(o,e)})}};this.addManagedListener(this.column,st.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)}},e.prototype.setupWidth=function(){var t=this,e=function(){var e=t.column.getActualWidth()+"px";t.comp.setWidth(e)};this.addManagedListener(this.column,st.EVENT_WIDTH_CHANGED,e),e()},Fc([K("filterManager")],e.prototype,"filterManager",void 0),Fc([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Fc([K("menuFactory")],e.prototype,"menuFactory",void 0),e}(bc),kc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Bc=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.pinned=e,s.column=n,s.eResize=o,s.comp=r,s.ctrl=i,s}return kc(e,t),e.prototype.postConstruct=function(){var t,e,n=this,o=this.column.getColDef(),r=[],i=function(){r.forEach(function(t){return t()}),r.length=0},s=function(){var s=n.column.isResizable(),a=!n.gridOptionsWrapper.isSuppressAutoSize()&&!o.suppressAutoSize;(s!==t||a!==e)&&(t=s,e=a,i(),function(){if(Xe(n.eResize,t),t){var o=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(r.push(o),e){var i=n.gridOptionsWrapper.isSkipHeaderOnAutoSize(),s=function(){n.columnModel.autoSizeColumn(n.column,i,"uiColumnResized")};n.eResize.addEventListener("dblclick",s);var a=new ci(n.eResize);a.addEventListener(ci.EVENT_DOUBLE_TAP,s),n.addDestroyFunc(function(){n.eResize.removeEventListener("dblclick",s),a.removeEventListener(ci.EVENT_DOUBLE_TAP,s),a.destroy()})}}}())};s(),this.addDestroyFunc(i),this.ctrl.addRefreshFunction(s)},e.prototype.onResizing=function(t,e){var n=this.normaliseResizeAmount(e);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+n}],this.resizeWithShiftKey,t,"uiColumnDragged"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.normaliseResizeAmount=function(t){var e=t,n=this.pinned!==et.PINNED_LEFT,o=this.pinned===et.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?n&&(e*=-1):o&&(e*=-1),e},Gc([K("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Gc([K("columnModel")],e.prototype,"columnModel",void 0),Gc([$],e.prototype,"postConstruct",null),e}(kt),Wc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vc=function(t){function e(e,n,o){void 0===n&&(n="ag-checkbox"),void 0===o&&(o="checkbox");var r=t.call(this,e,n,o)||this;return r.labelAlignment="right",r.selected=!1,r.readOnly=!1,r.passive=!1,r}return Wc(e,t),e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),t.prototype.setDisabled.call(this,e)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this},e.prototype.setName=function(t){return this.getInputElement().name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,n,o){this.dispatchEvent({type:e.EVENT_CHANGED,selected:t,previousValue:n,event:o});var r=this.getInputElement();this.eventService.dispatchEvent({type:Vt.EVENT_CHECKBOX_CHANGED,id:r.id,name:r.name,selected:t,previousValue:n})},e.prototype.onCheckboxClick=function(t){if(!this.passive&&!this.eInput.disabled){var e=this.isSelected(),n=this.selected=t.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,e,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",!0===t),this.eWrapper.classList.toggle("ag-indeterminate",null==t)},e}(Ar),Hc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Uc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$c=function(t){function e(e){var n=t.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=e;var o=e.getColDef();return n.filteredOnly=!!o&&!!o.headerCheckboxSelectionFilteredOnly,n}return Hc(e,t),e.prototype.onSpaceKeyPressed=function(t){var e=this.cbSelectAll,n=this.gridOptionsWrapper.getDocument();e.isDisplayed()&&!e.getGui().contains(n.activeElement)&&(t.preventDefault(),e.setValue(!e.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new Vc),this.cbSelectAll.addCssClass("ag-header-select-all"),kn(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Vt.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Vc.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.getNextCheckboxState=function(t){return(0!==t.selected||0!==t.notSelected)&&(t.selected>0&&t.notSelected>0?null:t.selected>0)},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.getSelectionCount(),e=this.getNextCheckboxState(t);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),n=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",n+" ("+e+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null);this.headerCellCtrl.refreshAriaDescription()},e.prototype.getSelectionCount=function(){var t=this,e=0,n=0,o=function(o){t.gridOptionsWrapper.isGroupSelectsChildren()&&o.group||(o.isSelected()?e++:o.selectable&&n++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(o):this.gridApi.forEachNode(o),{notSelected:n,selected:e}},e.prototype.checkRightRowModelType=function(){var t=this.rowModel.getType();t===et.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+t)},e.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;return"function"==typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()})),!(!t||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Uc([K("gridApi")],e.prototype,"gridApi",void 0),Uc([K("columnApi")],e.prototype,"columnApi",void 0),Uc([K("rowModel")],e.prototype,"rowModel",void 0),Uc([K("selectionService")],e.prototype,"selectionService",void 0),e}(kt),zc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Kc=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=e,o}return zc(e,t),e.prototype.setComp=function(e,n,o,r){var i=this;t.prototype.setGui.call(this,n),this.comp=e,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.setupAutoHeight(r),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Bc(this.getPinned(),this.column,o,e,this)),this.createManagedBean(new Ic([this.column],n)),this.createManagedBean(new Ac(this.column,n,this.beans)),this.createManagedBean(new dr(n,{shouldStopEventPropagation:function(t){return i.shouldStopEventPropagation(t)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Vt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)},e.prototype.createParams=function(){var t=this,e=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(e){t.gridApi.showColumnMenuAfterButtonClick(t.column,e)},progressSort:function(e){t.sortController.progressSort(t.column,!!e,"uiColumnSorted")},setSort:function(e,n){t.sortController.setSortForColumn(t.column,e,!!n,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new $c(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e),e.key===To.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===To.ENTER&&this.onEnterKeyPressed(e)},e.prototype.onEnterKeyPressed=function(t){var e=this.comp.getUserCompInstance();e&&(t.ctrlKey||t.metaKey?this.menuEnabled&&e.showMenu&&(t.preventDefault(),e.showMenu()):this.sortable&&this.sortController.progressSort(this.column,t.shiftKey,"uiColumnSorted"))},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,e=this.createManagedBean(new ka({getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return t.column.getColDef().headerTooltip}},this.beans));e.setComp(this.comp),this.refreshFunctions.push(function(){return e.refreshToolTip()})},e.prototype.setupClassesFromColDef=function(){var t=this,e=function(){var e=t.column.getColDef(),n=uc.getHeaderClassesFromColDef(e,t.gridOptionsWrapper,t.column,null),o=t.userHeaderClasses;t.userHeaderClasses=new Set(n),n.forEach(function(e){o.has(e)?o.delete(e):t.comp.addOrRemoveCssClass(e,!0)}),o.forEach(function(e){return t.comp.addOrRemoveCssClass(e,!1)})};this.refreshFunctions.push(e),e()},e.prototype.setDragSource=function(t){var e=this;if(this.dragSourceElement=t,this.removeDragSource(),t&&this.draggable){var n=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns();this.moveDragSource={type:$i.HeaderCell,eElement:t,defaultIconName:n?Ki.ICON_HIDE:Ki.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return e.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return e.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(t){var o,r;if(n){var i=(null===(r=null===(o=t)||void 0===o?void 0:o.columns)||void 0===r?void 0:r.filter(function(t){return!t.getColDef().lockVisible}))||[];e.columnModel.setColumnsVisible(i,!0,"uiColumnMoved")}},onGridExit:function(t){var o,r;if(n){var i=(null===(r=null===(o=t)||void 0===o?void 0:o.columns)||void 0===r?void 0:r.filter(function(t){return!t.getColDef().lockVisible}))||[];e.columnModel.setColumnsVisible(i,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},e.prototype.onNewColumnsLoaded=function(){var t=this.columnModel.getColDefVersion();t!=this.colDefVersion&&(this.colDefVersion=t,this.refresh())},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(t){return t()})},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var e=this.comp.getUserCompInstance();return!!e&&!!e.refresh&&e.refresh(t)},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||t.suppressMovable||t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,e=function(){t.comp.setWidth(t.column.getActualWidth()+"px")};this.addManagedListener(this.column,st.EVENT_WIDTH_CHANGED,e),e()},e.prototype.setupMovingCss=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,st.EVENT_MOVING_CHANGED,e),e()},e.prototype.setupMenuClass=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,st.EVENT_MENU_VISIBLE_CHANGED,e),e()},e.prototype.setupSortableClass=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.column,st.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupWrapTextClass=function(){var t=this,e=function(){var e=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.addRefreshFunction(e)},e.prototype.setupAutoHeight=function(t){var e,n=this,o=function(e){if(n.isAlive()){var r=tn(n.getGui()),i=t.offsetHeight+r.paddingTop+r.paddingBottom;if(e<5){var s=n.beans.gridOptionsWrapper.getDocument();if(!s||!s.contains(t)||0==i)return void n.beans.frameworkOverrides.setTimeout(function(){return o(e+1)},0)}n.columnModel.setColumnHeaderHeight(n.column,i)}},r=!1,i=function(){var t=n.column.isAutoHeaderHeight();t&&!r&&s(),!t&&r&&a()},s=function(){r=!0,o(0),e=n.resizeObserverService.observeResize(t,function(){return o(0)})},a=function(){r=!1,e&&e(),e=void 0};i(),this.addDestroyFunc(function(){return a()}),this.addManagedListener(this.column,st.EVENT_WIDTH_CHANGED,function(){return r&&o(0)}),this.addManagedListener(this.column,st.EVENT_SORT_CHANGED,function(){r&&n.beans.frameworkOverrides.setTimeout(function(){return o(0)})}),this.addRefreshFunction(i)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(Gn(this.column)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.setAriaDescriptionProperty=function(t,e){null!=e?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(t.length?t.join(" "):void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,e=function(){if(t.gridOptionsWrapper.isColumnHoverHighlight()){var e=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",e)}};this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_HOVER_CHANGED,e),e()},e.prototype.setupFilterCss=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-filtered",t.column.isFilterActive())};this.addManagedListener(this.column,st.EVENT_FILTER_ACTIVE_CHANGED,e),e()},e.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,e=function(e){return t.setActiveHeader("mouseenter"===e.type)};this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},jc([K("columnModel")],e.prototype,"columnModel",void 0),jc([K("columnHoverService")],e.prototype,"columnHoverService",void 0),jc([K("sortController")],e.prototype,"sortController",void 0),jc([K("menuFactory")],e.prototype,"menuFactory",void 0),jc([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),jc([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),jc([K("gridApi")],e.prototype,"gridApi",void 0),jc([K("columnApi")],e.prototype,"columnApi",void 0),jc([z],e.prototype,"removeDragSource",null),e}(bc),Yc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xc=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.eResize=n,i.comp=e,i.pinned=o,i.columnGroup=r,i}return Yc(e,t),e.prototype.postConstruct=function(){var t=this;if(this.columnGroup.isResizable()){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsWrapper.isSuppressAutoSize()){var n=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var e=[];t.columnGroup.getDisplayedLeafColumns().forEach(function(t){t.getColDef().suppressAutoSize||e.push(t.getColId())}),e.length>0&&t.columnModel.autoSizeColumns({columns:e,skipHeader:n,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},e.prototype.onResizeStart=function(t){var e=this;this.calculateInitialValues();var n=null;if(t&&(n=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),n){var o=n.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter(function(t){return t.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(t){return e.resizeTakeFromStartWidth+=t.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(t){return e.resizeTakeFromRatios.push(t.getActualWidth()/e.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.onResizing=function(t,e){var n=this.normaliseDragChange(e);this.resizeColumns(this.resizeStartWidth+n,t)},e.prototype.resizeLeafColumnsToFit=function(){var t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),t>this.resizeStartWidth&&this.resizeColumns(t,!0)},e.prototype.resizeColumns=function(t,e){void 0===e&&(e=!0);var n=[];n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols&&n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(t-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:n,finished:e,source:"uiColumnDragged"}),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.calculateInitialValues=function(){var t=this,e=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=e.filter(function(t){return t.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(e){return t.resizeStartWidth+=e.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(e){return t.resizeRatios.push(e.getActualWidth()/t.resizeStartWidth)})},e.prototype.normaliseDragChange=function(t){var e=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==et.PINNED_LEFT&&(e*=-1):this.pinned===et.PINNED_RIGHT&&(e*=-1),e},qc([K("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),qc([K("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),qc([K("columnModel")],e.prototype,"columnModel",void 0),qc([$],e.prototype,"postConstruct",null),e}(kt),Zc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qc=function(t){function e(e,n){var o=t.call(this)||this;return o.removeChildListenersFuncs=[],o.columnGroup=n,o.comp=e,o}return Zc(e,t),e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,vt.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(n){n.addEventListener(st.EVENT_WIDTH_CHANGED,e),n.addEventListener(st.EVENT_VISIBLE_CHANGED,e),t.removeChildListenersFuncs.push(function(){n.removeEventListener(st.EVENT_WIDTH_CHANGED,e),n.removeEventListener(st.EVENT_VISIBLE_CHANGED,e)})})},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([$],e.prototype,"postConstruct",null),e}(kt),Jc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),tu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},eu=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.columnGroup=e,o}return Jc(e,t),e.prototype.setComp=function(e,n,o){t.prototype.setGui.call(this,n),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var r=this.getParentRowCtrl().getPinned(),i=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Ic(i,n)),this.createManagedBean(new Ac(this.columnGroup,n,this.beans)),this.createManagedBean(new Qc(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Xc(e,o,r,this.columnGroup)),this.createManagedBean(new dr(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},e.prototype.setupUserComp=function(){var t=this,e=this.displayName,n={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(e){t.columnModel.setColumnGroupOpened(t.columnGroup.getProvidedColumnGroup(),e,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!e){for(var o=this.columnGroup,r=o.getLeafColumns();o.getParent()&&o.getParent().getLeafColumns().length===r.length;)o=o.getParent();var i=o.getColGroupDef();i&&(e=i.headerName),e||(e=r?this.columnModel.getDisplayNameForColumn(r[0],"header",!0):"")}var s=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(s)},e.prototype.setupTooltip=function(){var t=this,e=this.columnGroup.getColGroupDef(),n={getColumn:function(){return t.columnGroup},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return e&&e.headerTooltip}};e&&(n.getColDef=function(){return e}),this.createManagedBean(new ka(n,this.beans)).setComp(this.comp)},e.prototype.setupExpandable=function(){var t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,Ct.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,Ct.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.columnGroup;this.expandable=t.isExpandable();var e=t.isExpanded();this.comp.setAriaExpanded(this.expandable?e?"true":"false":void 0)},e.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},e.prototype.addClasses=function(){var t=this,e=this.columnGroup.getColGroupDef(),n=uc.getHeaderClassesFromColDef(e,this.gridOptionsWrapper,null,this.columnGroup);n.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),n.forEach(function(e){return t.comp.addOrRemoveCssClass(e,!0)})},e.prototype.setupMovingCss=function(){var t=this,e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.columnGroup.isMoving())};e.forEach(function(e){t.addManagedListener(e,st.EVENT_MOVING_CHANGED,n)}),n()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.columnGroup)}},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();if(this.expandable&&n&&e.key===To.ENTER){var o=this.columnGroup,r=!o.isExpanded();this.columnModel.setColumnGroupOpened(o.getProvidedColumnGroup(),r,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var e=this;if(!this.isSuppressMoving()){var n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),r={type:$i.HeaderCell,eElement:t,defaultIconName:o?Ki.ICON_HIDE:Ki.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return n.forEach(function(t){return t.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return n.forEach(function(t){return t.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(t){var n,r;if(o){var i=(null===(r=null===(n=t)||void 0===n?void 0:n.columns)||void 0===r?void 0:r.filter(function(t){return!t.getColDef().lockVisible}))||[];e.columnModel.setColumnsVisible(i,!0,"uiColumnMoved")}},onGridExit:function(t){var n,r;if(o){var i=(null===(r=null===(n=t)||void 0===n?void 0:n.columns)||void 0===r?void 0:r.filter(function(t){return!t.getColDef().lockVisible}))||[];e.columnModel.setColumnsVisible(i,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})}},e.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),e={};t.forEach(function(t){return e[t.getId()]=t.isVisible()});var n=[];return this.columnModel.getAllDisplayedColumns().forEach(function(e){t.indexOf(e)>=0&&(n.push(e),pt(t,e))}),t.forEach(function(t){return n.push(t)}),{columns:n,visibleState:e}},e.prototype.isSuppressMoving=function(){var t=!1;return this.columnGroup.getLeafColumns().forEach(function(e){(e.getColDef().suppressMovable||e.getColDef().lockPosition)&&(t=!0)}),t||this.gridOptionsWrapper.isSuppressMovableColumns()},tu([K("columnModel")],e.prototype,"columnModel",void 0),tu([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),tu([K("gridApi")],e.prototype,"gridApi",void 0),tu([K("columnApi")],e.prototype,"columnApi",void 0),e}(bc),nu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ou=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ru=0,iu=function(t){function e(e,n,o){var r=t.call(this)||this;return r.instanceId=ru++,r.headerCellCtrls={},r.rowIndex=e,r.pinned=n,r.type=o,r}return nu(e,t),e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t){this.comp=t,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Le()&&this.comp.setTransform("translateZ(0)"),t.setAriaRowIndex(this.rowIndex+1)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,la.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,la.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,la.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,la.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,la.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,la.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){return u(this.headerCellCtrls).find(function(e){return e.getColumnGroupChild()===t})},e.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth(t+"px")},e.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===et.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(et.PINNED_RIGHT)+this.columnModel.getContainerWidth(et.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.columnModel.getHeaderRowCount(),e=[],n=0;this.columnModel.hasFloatingFilters()&&(t++,n=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),i=t-(1+n),s=0;s<i;s++)e.push(o);for(e.push(r),s=0;s<n;s++)e.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.rowIndex;s++)a+=e[s];var l=e[this.rowIndex]+"px";this.comp.setTop(a+"px"),this.comp.setHeight(l)},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(){var t=this,e=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(n){if(!n.isEmptyGroup()){var o=n.getUniqueId(),r=e[o];if(delete e[o],r&&r.getColumnGroupChild()!=n&&(t.destroyBean(r),r=void 0),null==r)switch(t.type){case vc.FLOATING_FILTER:r=t.createBean(new Nc(n,t));break;case vc.COLUMN_GROUP:r=t.createBean(new eu(n,t));break;default:r=t.createBean(new Kc(n,t))}t.headerCellCtrls[o]=r}}),h(e,function(e,n){var o;t.focusService.isHeaderWrapperFocused(o=n)&&t.columnModel.isDisplayed(o.getColumnGroupChild())?t.headerCellCtrls[e]=n:t.destroyBean(n)});var n=C(this.headerCellCtrls);this.comp.setHeaderCtrls(n)},e.prototype.destroyCtrls=function(){var t=this;h(this.headerCellCtrls,function(e,n){t.destroyBean(n)}),this.headerCellCtrls={}},e.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===et.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(null!=this.pinned)return[];var e=[],n=this.getActualDepth();return[et.PINNED_LEFT,null,et.PINNED_RIGHT].forEach(function(o){var r=t.columnModel.getVirtualHeaderGroupRow(o,n);e=e.concat(r)}),e},e.prototype.getActualDepth=function(){return this.type==vc.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,e){var n=C(this.headerCellCtrls).find(function(e){return e.getColumnGroupChild()==t});return!!n&&(n.focus(e),!0)},ou([K("columnModel")],e.prototype,"columnModel",void 0),ou([K("focusService")],e.prototype,"focusService",void 0),ou([z],e.prototype,"destroyCtrls",null),e}(kt),su=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),au=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},cu=function(t){function e(e){var n=t.call(this)||this;return n.groupsRowCtrls=[],n.pinned=e,n}return su(e,t),e.prototype.setComp=function(t,e){this.comp=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(e),this.addManagedListener(this.eventService,Vt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var e=new lc(this.pinned,t);this.createManagedBean(e)},e.prototype.refresh=function(t){var e=this;void 0===t&&(t=!1);var n,o=new Vo,r=this.focusService.getFocusHeaderToUseAfterRefresh();!function(){var t=e.columnModel.getHeaderRowCount()-1;e.groupsRowCtrls=e.destroyBeans(e.groupsRowCtrls);for(var n=0;n<t;n++){var r=e.createBean(new iu(o.next(),e.pinned,vc.COLUMN_GROUP));e.groupsRowCtrls.push(r)}}(),n=o.next(),(null==e.columnsRowCtrl||!t||e.columnsRowCtrl.getRowIndex()!==n)&&(e.destroyBean(e.columnsRowCtrl),e.columnsRowCtrl=e.createBean(new iu(n,e.pinned,vc.COLUMN))),function(){var n=function(){e.filtersRowCtrl=e.destroyBean(e.filtersRowCtrl)};if(e.columnModel.hasFloatingFilters()){var r=o.next();if(e.filtersRowCtrl){var i=e.filtersRowCtrl.getRowIndex()!==r;t&&!i||n()}e.filtersRowCtrl||(e.filtersRowCtrl=e.createBean(new iu(r,e.pinned,vc.FLOATING_FILTER)))}else n()}();var i=this.getAllCtrls();this.comp.setCtrls(i),this.restoreFocusOnHeader(r)},e.prototype.restoreFocusOnHeader=function(t){null!=t&&t.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lu(arguments[e]));return t}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;null==this.pinned&&this.createManagedBean(new wl(function(e){return t.comp.setCenterWidth(e+"px")}))},e.prototype.setHorizontalScroll=function(t){this.comp.setContainerTransform("translateX("+t+"px)")},e.prototype.setupPinnedWidth=function(){var t=this;if(null!=this.pinned){var e=this.pinned===et.PINNED_LEFT,n=this.pinned===et.PINNED_RIGHT,o=function(){var o=e?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(null!=o){var r=0==o,i=t.gridOptionsWrapper.isEnableRtl(),s=t.gridOptionsWrapper.getScrollbarWidth(),a=t.scrollVisibleService.isVerticalScrollShowing()&&(i&&e||!i&&n);t.comp.setPinnedContainerWidth((a?o+s:o)+"px"),t.comp.addOrRemoveCssClass("ag-hidden",r)}};this.addManagedListener(this.eventService,Vt.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,Vt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,Vt.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,Vt.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof st){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(t)}if(0!==this.groupsRowCtrls.length)for(var e=0;e<this.groupsRowCtrls.length;e++){var n=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(n)return n}},e.prototype.getHtmlElementForColumnHeader=function(t){var e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null},e.prototype.getRowType=function(t){var e=this.getAllCtrls()[t];return e?e.getType():void 0},e.prototype.focusHeader=function(t,e,n){var o=this.getAllCtrls()[t];return!!o&&o.focusHeader(e,n)},e.prototype.getRowCount=function(){return this.getAllCtrls().length},au([K("ctrlsService")],e.prototype,"ctrlsService",void 0),au([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),au([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),au([K("columnModel")],e.prototype,"columnModel",void 0),au([K("focusService")],e.prototype,"focusService",void 0),e}(kt),uu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},du=function(t){function e(e){var n=t.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=e,n}return uu(e,t),e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var e={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setCtrls:function(e){return t.setCtrls(e)},setCenterWidth:function(e){return t.eCenterContainer.style.width=e},setContainerTransform:function(e){return t.eCenterContainer.style.transform=e},setPinnedContainerWidth:function(e){var n=t.getGui();n.style.width=e,n.style.maxWidth=e,n.style.minWidth=e}};this.createManagedBean(new cu(this.pinned)).setComp(e,this.getGui())},e.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==et.PINNED_LEFT?e.PINNED_LEFT_TEMPLATE:this.pinned==et.PINNED_RIGHT?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var e,n=this,o=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],t.forEach(function(t){var r=t.getInstanceId(),i=o[r];delete o[r];var s=i||n.createBean(new Cc(t));n.headerRowComps[r]=s,n.rowCompsList.push(s),function(t){var o=t.getGui();o.parentElement!=n.eRowContainer&&n.eRowContainer.appendChild(o),e&&gn(n.eRowContainer,o,e),e=o}(s)}),C(o).forEach(function(t){return n.destroyRowComp(t)})},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',e.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',pu([tr("eCenterContainer")],e.prototype,"eCenterContainer",void 0),pu([$],e.prototype,"init",null),pu([z],e.prototype,"destroyRowComps",null),e}(Jo),hu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gu=(()=>(function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(gu||(gu={})),gu))(),mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hu(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(e){t.gridBodyCon=e.gridBodyCtrl})},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.getHeaderRowType=function(t){var e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)},e.prototype.navigateVertically=function(t,e,n){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;var o=e.headerRowIndex,r=e.column,i=this.getHeaderRowCount(),s=t===gu.UP,a=s?o-1:o+1,l=null,c=!1;a<0&&(a=0,l=r,c=!0),a>=i&&(a=-1);var u=this.getHeaderRowType(o);if(!c){if(u===vc.COLUMN_GROUP){var p=r;l=s?r.getParent():p.getDisplayedChildren()[0]}else u===vc.FLOATING_FILTER?l=r:(p=r,l=s?p.getParent():p);if(!l)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:n})},e.prototype.navigateHorizontally=function(t,e,n){void 0===e&&(e=!1);var o,r,i=this.focusService.getFocusedHeader(),s=t===gu.LEFT,a=this.gridOptionsWrapper.isEnableRtl();return(o=this.headerPositionUtils.findHeader(i,r=s!==a?"Before":"After"))?this.focusService.focusHeaderPosition({headerPosition:o,direction:r,fromTab:e,allowUserOverride:!0,event:n}):!e||this.focusNextHeaderRow(i,r,n)},e.prototype.focusNextHeaderRow=function(t,e,n){var o=t.headerRowIndex,r=null;return"Before"===e?o>0&&(r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o-1,"end")):r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o+1,"start"),this.focusService.focusHeaderPosition({headerPosition:r,direction:e,fromTab:!0,allowUserOverride:!0,event:n})},e.prototype.scrollToColumn=function(t,e){if(void 0===e&&(e="After"),!t.getPinned()){var n;if(t instanceof vt){var o=t.getDisplayedLeafColumns();n="Before"===e?lt(o):o[0]}else n=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},fu([K("focusService")],e.prototype,"focusService",void 0),fu([K("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),fu([K("animationFrameService")],e.prototype,"animationFrameService",void 0),fu([K("ctrlsService")],e.prototype,"ctrlsService",void 0),fu([$],e.prototype,"postConstruct",null),fu([j("headerNavigationService")],e)}(kt),yu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_u=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yu(e,t),e.prototype.setComp=function(t,e,n){this.comp=t,this.eGui=e,this.createManagedBean(new dr(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedListener(this.gridOptionsWrapper,la.PROP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,la.PROP_PIVOT_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,la.PROP_GROUP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,la.PROP_PIVOT_GROUP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,la.PROP_FLOATING_FILTERS_HEIGHT,t),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t,e=this.columnModel,n=this.gridOptionsWrapper,o=0,r=e.getHeaderRowCount();e.hasFloatingFilters()&&(r++,o=1);var i=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=r-(1+o);t=o*n.getFloatingFiltersHeight(),t+=a*i,this.headerHeight!==(t+=s)&&(this.headerHeight=t,this.comp.setHeightAndMinHeight(t+1+"px"),this.eventService.dispatchEvent({type:Vt.EVENT_HEADER_HEIGHT_CHANGED}))},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onTabKeyDown=function(t){var e=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(t.shiftKey!==e?gu.LEFT:gu.RIGHT,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var e=null;switch(t.key){case To.LEFT:e=gu.LEFT;case To.RIGHT:r(e)||(e=gu.RIGHT),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case To.UP:e=gu.UP;case To.DOWN:r(e)||(e=gu.DOWN),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var e=this.gridOptionsWrapper.getDocument(),n=t.relatedTarget;!n&&this.eGui.contains(e.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()},_u([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),_u([K("focusService")],e.prototype,"focusService",void 0),_u([K("columnModel")],e.prototype,"columnModel",void 0),_u([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(kt),Cu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Eu=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Cu(e,t),e.prototype.postConstruct=function(){var t=this,e={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setHeightAndMinHeight:function(e){t.getGui().style.height=e,t.getGui().style.minHeight=e}};this.createManagedBean(new vu).setComp(e,this.getGui(),this.getFocusableElement());var n=function(e){t.createManagedBean(e),t.appendChild(e)};n(new du(et.PINNED_LEFT)),n(new du(null)),n(new du(et.PINNED_RIGHT))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([$],e.prototype,"postConstruct",null),e}(Jo),wu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ou=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wu(e,t),e.prototype.addResizeBar=function(t){var e=this,n={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};return this.dragService.addDragSource(n,!0),function(){return e.dragService.removeDragSource(n)}},e.prototype.onDragStart=function(t,e){this.dragStartX=e.clientX,this.setResizeIcons();var n=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(n)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},Ou([K("dragService")],e.prototype,"dragService",void 0),Ou([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Ou([j("horizontalResizeService")],e)}(kt),Su=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Su(e,t),e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,e){var n=this;this.showPopup(t,function(o){n.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:e,ePopup:o})},e.target)},e.prototype.showMenuAfterButtonClick=function(t,e,n){var o=this;this.showPopup(t,function(r){o.popupService.positionPopupUnderComponent({type:n,eventSource:e,ePopup:r,keepWithinBounds:!0,column:t})},e)},e.prototype.showPopup=function(t,e,n){var o=this,r=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!r)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var i,s=document.createElement("div");kn(s,"presentation"),s.classList.add("ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",function(t){return o.trapFocusWithin(t,s)}),r.guiPromise.then(function(t){return s.appendChild(t)});var a=n||this.ctrlsService.getGridBodyCtrl().getGui(),l=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(e){t.setMenuVisible(!1,"contextMenu");var r=e instanceof KeyboardEvent;if(o.tabListener&&(o.tabListener=o.tabListener()),r&&n&&pn(n)){var i=o.focusService.findTabbableParent(n);i&&i.focus()}},positionCallback:function(){return e(s)},anchorToElement:a,ariaLabel:l("ariaLabelColumnMenu","Column Menu")});c&&(this.hidePopup=i=c.hideFunc),r.filterPromise.then(function(t){e(s),t.afterGuiAttached&&t.afterGuiAttached({container:"columnMenu",hidePopup:i})}),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,e){t.key!==To.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()},Pu([K("filterManager")],e.prototype,"filterManager",void 0),Pu([K("popupService")],e.prototype,"popupService",void 0),Pu([K("focusService")],e.prototype,"focusService",void 0),Pu([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Pu([j("menuFactory")],e)}(kt),Tu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ru=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Au=function(t){function e(n){var o=t.call(this,e.getTemplate(n.cssClass))||this;return o.items=[],o.tabbedItemScrollMap=new Map,o.params=n,n.items&&n.items.forEach(function(t){return o.addItem(t)}),o}return Tu(e,t),e.prototype.postConstruct=function(){this.createManagedBean(new dr(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},e.getTemplate=function(t){return'<div class="ag-tabs '+t+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(t?t+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(t?t+"-body":"")+'"></div>\n        </div>'},e.prototype.handleKeyDown=function(t){var e=this.gridOptionsWrapper.getDocument();switch(t.key){case To.RIGHT:case To.LEFT:if(!this.eHeader.contains(e.activeElement))return;var n=this.items.indexOf(this.activeItem),o=t.key===To.RIGHT?Math.min(n+1,this.items.length-1):Math.max(n-1,0);if(n===o)return;t.preventDefault();var r=this.items[o];this.showItemWrapper(r),r.eHeaderButton.focus();break;case To.UP:case To.DOWN:t.stopPropagation()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this,n=e.focusService,o=e.eHeader,r=e.eBody,i=e.activeItem,s=this.gridOptionsWrapper.getDocument().activeElement;if(t.preventDefault(),o.contains(s))n.focusInto(r,t.shiftKey);else if(n.isFocusUnderManagedComponent(r))i.eHeaderButton.focus();else{var a=n.findNextFocusableElement(r,!1,t.shiftKey);a?a.focus():i.eHeaderButton.focus()}}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var e=document.createElement("span");kn(e,"tab"),e.setAttribute("tabIndex","-1"),e.appendChild(t.title),e.classList.add("ag-tab"),this.eHeader.appendChild(e),Vn(e,t.titleLabel);var n={tabbedItem:t,eHeaderButton:e};this.items.push(n),e.addEventListener("click",this.showItemWrapper.bind(this,n))},e.prototype.showItem=function(t){var e=this.items.find(function(e){return e.tabbedItem===t});e&&this.showItemWrapper(e)},e.prototype.showItemWrapper=function(t){var e=this,n=t.tabbedItem,o=t.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:n}),this.activeItem!==t?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),cn(this.eBody),n.bodyPromise.then(function(t){e.eBody.appendChild(t);var o=!e.focusService.isKeyboardMode();if(e.focusService.focusInto(e.eBody,!1,o),n.afterAttachedCallback&&n.afterAttachedCallback(e.afterAttachedParams),e.params.keepScrollPosition){var r=n.getScrollableContainer&&n.getScrollableContainer()||t;e.lastScrollListener=e.addManagedListener(r,"scroll",function(){e.tabbedItemScrollMap.set(n.name,r.scrollTop)});var i=e.tabbedItemScrollMap.get(n.name);void 0!==i&&setTimeout(function(){r.scrollTop=i},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),o.classList.add("ag-tab-selected"),this.activeItem=t):W(this.params.onActiveItemClicked)},Ru([K("focusService")],e.prototype,"focusService",void 0),Ru([tr("eHeader")],e.prototype,"eHeader",void 0),Ru([tr("eBody")],e.prototype,"eBody",void 0),Ru([$],e.prototype,"postConstruct",null),e}(Jo),Mu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return Mu(e,t),e.prototype.observeResize=function(t,e){var n,o,r,i,s,a=this,l=this.gridOptionsWrapper.getDocument().defaultView||window,c=k(e,50),u=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return l.ResizeObserver&&!u?((n=new l.ResizeObserver(c)).observe(t),function(){return n.disconnect()}):(o=fn(t),r=hn(t),i=!0,(s=function(){if(i){var n=fn(t),l=hn(t);(n!==o||l!==r)&&(o=n,r=l,e()),a.doNextPolyfillTurn(s)}})(),function(){return i=!1})},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var e=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],e.forEach(function(t){return t()})},50))},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([j("resizeObserverService")],e)}(kt),Iu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Lu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return Iu(e,t),e.prototype.setScrollTop=function(t){this.scrollGoingDown=t>this.lastScrollTop,this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,e,n){this.verifyAnimationFrameOn(n);var o={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[n],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,e){t.list.push(e),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var e=this.scrollGoingDown?1:-1;t.list.sort(function(t,n){return t.index!==n.index?e*(n.index-t.index):n.createOrder-t.createOrder}),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var e=this.createTasksP1,n=e.list,o=this.createTasksP2,r=o.list,i=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=t<=0,c=this.ctrlsService.getGridBodyCtrl();l||a<t;){if(!c.getScrollFeature().executeAnimationFrameScroll()){var u=void 0;if(n.length)this.sortTaskList(e),u=n.pop().task;else if(r.length)this.sortTaskList(o),u=r.pop().task;else{if(!i.length){this.cancelledTasks.clear();break}u=i.pop()}this.cancelledTasks.has(u)||u()}a=(new Date).getTime()-s}n.length||r.length||i.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60),e=this.gridOptionsWrapper.getDocument().defaultView||window;e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var e=this,n=!1;return function(){e.isOn()?n||(n=!0,e.addDestroyTask(function(){n=!1,t()})):e.getFrameworkOverrides().setTimeout(t,0)}},Lu([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Lu([$],e.prototype,"init",null),Lu([j("animationFrameService")],e)}(kt),Nu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ku=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Gu=function(t){function e(e,n){var o=t.call(this)||this;return o.element=e,o.dragStartPosition={x:0,y:0},o.position={x:0,y:0},o.lastSize={width:-1,height:-1},o.positioned=!1,o.resizersAdded=!1,o.resizeListeners=[],o.boundaryEl=null,o.isResizing=!1,o.isMoving=!1,o.resizable={},o.movable=!1,o.currentResizer=null,o.config=Object.assign({},{popup:!1},n),o}return Nu(e,t),e.prototype.center=function(){var t=this.offsetParent,e=t.clientHeight,n=t.clientWidth/2-this.getWidth()/2,o=e/2-this.getHeight()/2;this.offsetElement(n,o)},e.prototype.initialisePosition=function(){var t=this.config,e=t.centered,n=t.forcePopupParentAsOffsetParent,o=t.minWidth,r=t.width,i=t.minHeight,s=t.height,a=t.x,l=t.y;this.offsetParent||this.setOffsetParent();var c=0,u=0,p=!!this.element.offsetParent;if(p){var d=this.findBoundaryElement(),h=window.getComputedStyle(d);if(null!=h.minWidth){var f=d.offsetWidth-this.element.offsetWidth;u=parseInt(h.minWidth,10)-f}if(null!=h.minHeight){var g=d.offsetHeight-this.element.offsetHeight;c=parseInt(h.minHeight,10)-g}}if(this.minHeight=i||c,this.minWidth=o||u,r&&this.setWidth(r),s&&this.setHeight(s),r&&s||this.refreshSize(),e)this.center();else if(a||l)this.offsetElement(a,l);else if(p&&n&&this.boundaryEl){var m=parseFloat(this.boundaryEl.style.top),y=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(y)?0:y,isNaN(m)?0:m)}this.positioned=!!this.offsetParent},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,e){if(this.config.popup&&t!==this.movable){this.movable=t;var n=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var e=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),"boolean"==typeof t){if(!1===t)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(n){var o=!!t[n],r=e.getResizerElement(n),i={dragStartPixels:0,eElement:r,onDragStart:function(t){return e.onResizeStart(t,n)},onDragging:e.onResize.bind(e),onDragStop:function(t){return e.onResizeEnd(t,n)}};!!e.resizable[n]===o&&(e.isAlive()||o)||(o?(e.dragService.addDragSource(i),e.resizeListeners.push(i),r.style.pointerEvents="all"):r.style.pointerEvents="none")})},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,e=t.height,n=t.width;-1!==n&&(this.element.style.width=n+"px"),-1!==e&&(this.element.style.height=e+"px")},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var e=this.config.popup,n=this.element,o=!1;if("string"==typeof t&&-1!==t.indexOf("%"))On(n,t),t=on(n),o=!0;else if(this.positioned){var r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect();t=Math.max(this.minHeight,t);var s=this.offsetParent.clientHeight,a=e?this.position.y:r.top;s&&t+a>s+(e?0:i.top)&&(t=s-a)}this.getHeight()!==t&&(o?(n.style.maxHeight="unset",n.style.minHeight="unset"):e?On(n,t):(n.style.height=t+"px",n.style.flex="0 0 auto",this.lastSize.height="number"==typeof t?t:parseFloat(t)))},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var e=this.element,n=this.config.popup,o=!1;if("string"==typeof t&&-1!==t.indexOf("%"))wn(e,t),t=rn(e),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var r=this.offsetParent.clientWidth,i=n?this.position.x:this.element.getBoundingClientRect().left;r&&t+i>r&&(t=r-i)}this.getWidth()!==t&&(o?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?wn(e,t):(e.style.width=t+"px",e.style.flex=" unset",this.lastSize.width="number"==typeof t?t:parseFloat(t)))},e.prototype.offsetElement=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:n,x:t,y:e,keepWithinBounds:!0}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top))},e.prototype.setPosition=function(t,e){this.position.x=t,this.position.y=e},e.prototype.updateDragStartPosition=function(t,e){this.dragStartPosition={x:t,y:e}},e.prototype.calculateMouseMovement=function(t){var e=t.e,n=t.isTop,o=t.topBuffer,r=e.clientX-this.dragStartPosition.x,i=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!t.isLeft,!!t.anywhereWithin,r)?0:r,movementY:this.shouldSkipY(e,!!n,o,i)?0:i}},e.prototype.shouldSkipX=function(t,e,n,o){var r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;return!!(a<=0&&i.left>=t.clientX||i.right<=t.clientX&&i.right<=s.right)||(e?o<0&&t.clientX>a+i.left||o>0&&t.clientX<a+i.left:n?o<0&&t.clientX>s.right||o>0&&t.clientX<a+i.left:o<0&&t.clientX>s.right||o>0&&t.clientX<s.right)},e.prototype.shouldSkipY=function(t,e,n,o){void 0===n&&(n=0);var r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;return!!(a<=0&&i.top>=t.clientY||i.bottom<=t.clientY&&i.bottom<=s.bottom)||(e?o<0&&t.clientY>a+i.top+n||o>0&&t.clientY<a+i.top:o<0&&t.clientY>s.bottom||o>0&&t.clientY<s.bottom)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var e=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;t.appendChild(e.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector(".ag-resizer-wrapper");t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");var n=this.config;n.popup||n.forcePopupParentAsOffsetParent||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(function(t){return!t.classList.contains("ag-hidden")}):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],e=0,n=0,o=0;o<t.length;o++){var r=t[o];if(r!==this.element){var i=this.minHeight||0,s=this.minWidth||0;if(r.style.flex&&"0 0 auto"!==r.style.flex){var a=window.getComputedStyle(r);a.minHeight&&(i=parseInt(a.minHeight,10)),a.minWidth&&(s=parseInt(a.minWidth,10))}else i=r.offsetHeight,s=r.offsetWidth;e+=i,n+=s}}return{height:e,width:n}},e.prototype.applySizeToSiblings=function(t){var e=null,n=this.getSiblings();if(n){for(var o=0;o<n.length;o++){var r=n[o];r!==e&&(t?r.style.height=r.offsetHeight+"px":r.style.width=r.offsetWidth+"px",r.style.flex="0 0 auto",r===this.element&&(e=n[o+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}},e.prototype.onResize=function(t){if(this.isResizing&&this.currentResizer){var e=this.config,n=e.popup,o=e.forcePopupParentAsOffsetParent,r=this.currentResizer,i=r.isTop,s=r.isLeft,a=r.isRight||s,l=r.isBottom||i,c=this.calculateMouseMovement({e:t,isLeft:s,isTop:i}),u=c.movementX,p=c.movementY,d=this.position.x,h=this.position.y,f=0,g=0;if(a&&u){var m=s?-1:1,y=this.getWidth(),_=y+u*m,v=!1;s&&(d+(f=y-_)<=0||_<=this.minWidth)&&(v=!0,f=0),v||this.setWidth(_)}if(l&&p){m=i?-1:1;var C=this.getHeight(),E=C+p*m,w=!1;i?(h+(g=C-E)<=0||E<=this.minHeight)&&(w=!0,g=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<E&&this.getMinSizeOfSiblings().height+E>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(E)}this.updateDragStartPosition(t.clientX,t.clientY),((n||o)&&f||g)&&this.offsetElement(d+f,h+g)}},e.prototype.onResizeEnd=function(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var n={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchEvent(n)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var e,n=this.position,o=n.x,r=n.y;this.config.calculateTopBuffer&&(e=this.config.calculateTopBuffer());var i=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:e});this.offsetElement(o+i.movementX,r+i.movementY),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if("static"!==window.getComputedStyle(t).position)return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},ku([K("popupService")],e.prototype,"popupService",void 0),ku([K("dragService")],e.prototype,"dragService",void 0),e}(kt),Bu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bu(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(e){t.centerRowContainerCtrl=e.centerRowContainerCtrl})},e.prototype.getPreferredWidthForColumn=function(t,e){var n=this.getHeaderCellForColumn(t);if(!n)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return e||o.push(n),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var e=this,n=document.createElement("span");n.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();o.appendChild(n),t.forEach(function(t){return e.cloneItemIntoDummy(t,n)});var r=n.offsetWidth;return o.removeChild(n),r+this.gridOptionsWrapper.getAutoSizePadding()},e.prototype.getHeaderCellForColumn=function(t){var e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(n){var o=n.getHtmlElementForColumnHeader(t);null!=o&&(e=o)}),e},e.prototype.cloneItemIntoDummy=function(t,e){var n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var o=document.createElement("div"),r=o.classList;["ag-header-cell","ag-header-group-cell"].some(function(t){return n.classList.contains(t)})?(r.add("ag-header","ag-header-row"),o.style.position="static"):r.add("ag-row");for(var i=t.parentElement;i;){if(["ag-header-row","ag-row"].some(function(t){return i.classList.contains(t)})){for(var s=0;s<i.classList.length;s++){var a=i.classList[s];"ag-row-position-absolute"!=a&&r.add(a)}break}i=i.parentElement}o.appendChild(n),e.appendChild(o)},Wu([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Wu([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Wu([K("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Wu([$],e.prototype,"postConstruct",null),Wu([j("autoWidthCalculator")],e)}(kt),Hu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Uu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},zu=function(t){function e(e,n){var o=t.call(this)||this;return o.createRowCon=e,o.destroyRowCtrls=n,o.stickyRowCtrls=[],o.containerHeight=0,o}return Hu(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(e){t.gridBodyCtrl=e.gridBodyCtrl})},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=0;if(this.gridOptionsWrapper.isGroupRowsSticky()){for(var e=[],n=this.rowRenderer.getFirstVisibleVerticalPixel(),o=function(o){e.push(o);for(var r=o;r.expanded;)r=lt(r.childrenAfterSort);var i=r.rowTop+r.rowHeight,s=n+t+o.rowHeight;o.stickyRowTop=i<s?t+(i-s):t,t=0,e.forEach(function(e){var n=e.stickyRowTop+e.rowHeight;t<n&&(t=n)})};;){var r=n+t,i=this.rowModel.getRowIndexAtPixel(r),s=this.rowModel.getRow(i);if(null==s)break;if(s.level<0)break;for(var a=[],l=s.parent;l.level>=0;)a.push(l),l=l.parent;var c=a.reverse().find(function(t){return e.indexOf(t)<0});if(c)o(c);else{if(!(s.group&&s.expanded&&!s.footer&&s.rowTop<r))break;o(s)}}this.refreshNodesAndContainerHeight(e,t)}else this.refreshNodesAndContainerHeight([],t)},e.prototype.refreshNodesAndContainerHeight=function(t,e){var n,o,r,i=this,s=this.stickyRowCtrls.filter(function(e){return-1===t.indexOf(e.getRowNode())}),a=t.filter(function(t){return-1===i.stickyRowCtrls.findIndex(function(e){return e.getRowNode()===t})}),l={};s.forEach(function(t){l[t.getRowNode().id]=t,i.stickyRowCtrls=i.stickyRowCtrls.filter(function(e){return e!==t})});try{for(var c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(l)),u=c.next();!u.done;u=c.next())u.value.getRowNode().sticky=!1}catch(d){n={error:d}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}this.destroyRowCtrls(l,!1);var p=a.map(function(t){return t.sticky=!0,i.createRowCon(t,!1,!1)});(r=this.stickyRowCtrls).push.apply(r,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($u(arguments[e]));return t}(p)),this.stickyRowCtrls.forEach(function(t){return t.setRowTop(t.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(t,e){return e.getRowNode().rowIndex-t.getRowNode().rowIndex}),this.containerHeight!==e&&(this.containerHeight=e,this.gridBodyCtrl.setStickyTopHeight(e))},Uu([K("rowModel")],e.prototype,"rowModel",void 0),Uu([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Uu([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Uu([$],e.prototype,"postConstruct",null),e}(kt),ju=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ku=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},qu=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yu(arguments[e]));return t},Xu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e}return ju(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},e.prototype.initialise=function(){this.addManagedListener(this.eventService,Vt.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,la.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,la.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isGroupRowsSticky()&&(this.stickyRowFeature=this.createManagedBean(new zu(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===et.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var t=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new Zu(null!=t?t:3)}},e.prototype.getRowCtrls=function(){return this.allRowCtrls},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=C(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&t.sort(function(t,e){return t.getRowNode().rowIndex-e.getRowNode.rowIndex});var e=C(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=qu(t,e,n)},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,Vt.EVENT_CELL_FOCUSED,function(e){t.getAllCellCtrls().forEach(function(t){return t.onCellFocused(e)}),t.getFullWidthRowCtrls().forEach(function(t){t.onFullWidthRowFocused(e)})}),this.addManagedListener(this.eventService,Vt.EVENT_FLASH_CELLS,function(e){t.getAllCellCtrls().forEach(function(t){return t.onFlashCells(e)})}),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(t){return t.onColumnHover()})}),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(t){return t.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(t){return t.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,Vt.EVENT_RANGE_SELECTION_CHANGED,function(){t.getAllCellCtrls().forEach(function(t){return t.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_MOVED,function(){t.getAllCellCtrls().forEach(function(t){return t.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PINNED,function(){t.getAllCellCtrls().forEach(function(t){return t.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_VISIBLE,function(){t.getAllCellCtrls().forEach(function(t){return t.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Vt.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var e=this.columnModel.getAllGridColumns();e&&e.forEach(function(e){var n=function(n){t.getAllCellCtrls().forEach(function(t){t.getColumn()===e&&n(t)})},o=function(){n(function(t){return t.onLeftChanged()})},r=function(){n(function(t){return t.onWidthChanged()})},i=function(){n(function(t){return t.onFirstRightPinnedChanged()})},s=function(){n(function(t){return t.onLastLeftPinnedChanged()})};e.addEventListener(st.EVENT_LEFT_CHANGED,o),e.addEventListener(st.EVENT_WIDTH_CHANGED,r),e.addEventListener(st.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),e.addEventListener(st.EVENT_LAST_LEFT_PINNED_CHANGED,s),t.destroyFuncsForColumnListeners.push(function(){e.removeEventListener(st.EVENT_LEFT_CHANGED,o),e.removeEventListener(st.EVENT_WIDTH_CHANGED,r),e.removeEventListener(st.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),e.removeEventListener(st.EVENT_LAST_LEFT_PINNED_CHANGED,s)})})},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===et.DOM_LAYOUT_PRINT,e=t||this.gridOptionsWrapper.isEmbedFullWidthRows(),n=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,n&&this.redrawAfterModelUpdate()},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){this.redrawAfterModelUpdate({recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0})},e.prototype.getAllCellsForColumn=function(t){var e=[];return this.getAllRowCtrls().forEach(function(n){var o=n.getCellElement(t);o&&e.push(o)}),e},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,e){var n=this;t.forEach(function(t){t.destroyFirstPass(),t.destroySecondPass()}),t.length=0,e&&e.forEach(function(e){var o=new el(e,n.beans,!1,!1,n.printLayout);t.push(o)})},e.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},e.prototype.getRenderedIndexesForRowNodes=function(t){var e=[];return i(t)||h(this.rowCtrlsByRowIndex,function(n,o){var r=o.getRowNode();t.indexOf(r)>=0&&e.push(n)}),e},e.prototype.redrawRows=function(t){var e=null!=t&&t.length>0;if(e){var n=this.getRenderedIndexesForRowNodes(t);this.removeRowCtrls(n)}this.redrawAfterModelUpdate({recycleRows:e})},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var e,n=(null===(e=t)||void 0===e?void 0:e.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==n)return null;var o=this.gridOptionsWrapper.getDocument().activeElement,r=this.gridOptionsWrapper.getDomData(o,Xa.DOM_DATA_KEY_CELL_CTRL),i=this.gridOptionsWrapper.getDomData(o,el.DOM_DATA_KEY_ROW_CTRL);return r||i?n:null},e.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var n=!this.printLayout&&!!t.recycleRows,o=t.animate&&this.gridOptionsWrapper.isAnimateRows(),r=n?this.recycleRows():null;n||this.removeAllRowComps();var i=function(){if(null==e||null==r)return!1;var t=!1;return h(r,function(n,o){var r=o.getRowNode();r.rowIndex==e.rowIndex&&r.rowPinned==e.rowPinned&&(t=!0)}),t}();this.redraw(r,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),i||this.restoreFocusedCell(e),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var e=t.newData||t.newPage,n=this.gridOptionsWrapper.isSuppressScrollOnNewData();e&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t)}},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})},e.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.getAllRowCtrls().forEach(function(e){e.stopEditing(t)})},e.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(t){return t.onNewColumnsLoaded()})},e.prototype.getAllCellCtrls=function(){var t=[];return this.getAllRowCtrls().forEach(function(e){return t=t.concat(e.getAllCellCtrls())}),t},e.prototype.getAllRowCtrls=function(){var t=this,e=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],n=qu(this.topRowCtrls,this.bottomRowCtrls,e);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(e){return n.push(t.rowCtrlsByRowIndex[e])}),n},e.prototype.addRenderedRowListener=function(t,e,n){var o=this.rowCtrlsByRowIndex[e];o&&o.addEventListener(t,n)},e.prototype.flashCells=function(t){void 0===t&&(t={});var e=t.flashDelay,n=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach(function(t){return t.flashCell({flashDelay:e,fadeDelay:n})})},e.prototype.refreshCells=function(t){void 0===t&&(t={});var e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(t){if(t.refreshShouldDestroy()){var n=t.getRowCtrl();n&&n.refreshCell(t)}else t.refreshCell(e)}),this.getFullWidthRowCtrls(t.rowNodes).forEach(function(t){t.refreshFullWidth()})},e.prototype.getCellRendererInstances=function(t){return this.getCellCtrls(t.rowNodes,t.columns).map(function(t){return t.getCellRenderer()}).filter(function(t){return null!=t})},e.prototype.getCellEditorInstances=function(t){var e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(t){var n=t.getCellEditor();n&&e.push(n)}),e},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(e){if(e.isEditing()){var n=e.getCellPosition();t.push(n)}}),t},e.prototype.mapRowNodes=function(t){if(t){var e={top:{},bottom:{},normal:{}};return t.forEach(function(t){var n=t.id;t.rowPinned===et.PINNED_TOP?e.top[n]=t:t.rowPinned===et.PINNED_BOTTOM?e.bottom[n]=t:e.normal[n]=t}),e}},e.prototype.isRowInMap=function(t,e){var n=t.id,o=t.rowPinned;return o===et.PINNED_BOTTOM?null!=e.bottom[n]:o===et.PINNED_TOP?null!=e.top[n]:null!=e.normal[n]},e.prototype.getCellCtrls=function(t,e){var n,o=this,i=this.mapRowNodes(t),s=[];r(e)&&(n={},e.forEach(function(t){var e=o.columnModel.getGridColumn(t);r(e)&&(n[e.getId()]=!0)}));var a=function(t){var e=t.getRowNode();(null==i||o.isRowInMap(e,i))&&t.getAllCellCtrls().forEach(function(t){var e=t.getColumn().getId();n&&!n[e]||s.push(t)})};return h(this.rowCtrlsByRowIndex,function(t,e){a(e)}),this.topRowCtrls&&this.topRowCtrls.forEach(a),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(a),s},e.prototype.destroy=function(){this.removeAllRowComps(),t.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.recycleRows=function(){var t=[];h(this.rowCtrlsByRowIndex,function(e,n){null==n.getRowNode().id&&t.push(e)}),this.removeRowCtrls(t);var e={};return h(this.rowCtrlsByRowIndex,function(t,n){var o=n.getRowNode();e[o.id]=n}),this.rowCtrlsByRowIndex={},e},e.prototype.removeRowCtrls=function(t){var e=this;t.forEach(function(t){var n=e.rowCtrlsByRowIndex[t];n&&(n.destroyFirstPass(),n.destroySecondPass()),delete e.rowCtrlsByRowIndex[t]})},e.prototype.redrawAfterScroll=function(){var t;if(this.stickyRowFeature&&Be()&&(t=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(),null!=t){var e=this.getCellToRestoreFocusToAfterRefresh();null!=t&&null==e&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(t))}},e.prototype.removeRowCompsNotToDraw=function(t){var e={};t.forEach(function(t){return e[t]=!0});var n=Object.keys(this.rowCtrlsByRowIndex).filter(function(t){return!e[t]});this.removeRowCtrls(n)},e.prototype.calculateIndexesToDraw=function(t){var e=this,n=co(this.firstRenderedRow,this.lastRenderedRow),o=function(t,o){var r=o.getRowNode().rowIndex;null!=r&&(r<e.firstRenderedRow||r>e.lastRenderedRow)&&e.doNotUnVirtualiseRow(o)&&n.push(r)};return h(this.rowCtrlsByRowIndex,o),h(t,o),n.sort(function(t,e){return t-e}),n=n.filter(function(t){var n=e.paginationProxy.getRow(t);return n&&!n.sticky})},e.prototype.redraw=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var i=this.calculateIndexesToDraw(t);this.removeRowCompsNotToDraw(i),this.printLayout&&(e=!1),i.forEach(function(i){r(o.createOrUpdateRowCtrl(i,t,e,n))}),t&&(!n||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(t,e):this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(t,e),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:Vt.EVENT_DISPLAYED_ROWS_CHANGED})},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),e=this.columnModel.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach(function(e){var n=e.getRowNode().rowIndex;t.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redrawAfterScroll()},e.prototype.getFullWidthRowCtrls=function(t){var e=this,n=this.mapRowNodes(t);return C(this.rowCtrlsByRowIndex).filter(function(t){if(!t.isFullWidth())return!1;var o=t.getRowNode();return!(null!=n&&!e.isRowInMap(o,n))})},e.prototype.refreshFullWidthRows=function(t){var e=[],n=!!t,o=n?{}:void 0;n&&o&&t.forEach(function(t){return o[t.id]=!0}),this.getFullWidthRowCtrls().forEach(function(t){var r=t.getRowNode();if((!n||!o||o[r.id]||o[r.level>0&&r.parent?r.parent.id:void 0])&&!t.refreshFullWidth()){var i=t.getRowNode().rowIndex;e.push(i.toString())}}),this.removeRowCtrls(e),this.redrawAfterScroll()},e.prototype.createOrUpdateRowCtrl=function(t,e,n,o){var i,s=this.rowCtrlsByRowIndex[t];if(s||r(i=this.paginationProxy.getRow(t))&&r(e)&&e[i.id]&&i.alreadyRendered&&(s=e[i.id],e[i.id]=null),!s){if(i||(i=this.paginationProxy.getRow(t)),!r(i))return;s=this.createRowCon(i,n,o)}return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s},e.prototype.destroyRowCtrls=function(t,e){var n=this,o=[];h(t,function(t,r){r&&(n.cachedRowCtrls&&r.isCacheable()?n.cachedRowCtrls.addRow(r):(r.destroyFirstPass(),e?(n.zombieRowCtrls[r.getInstanceId()]=r,o.push(function(){r.destroySecondPass(),delete n.zombieRowCtrls[r.getInstanceId()]})):r.destroySecondPass()))}),e&&(o.push(function(){n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()}),x(o))},e.prototype.workOutFirstAndLastRowsToRender=function(){var t,e,n=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{var o=this.gridOptionsWrapper.getRowBufferInPixels(),r=this.ctrlsService.getGridBodyCtrl(),i=this.gridOptionsWrapper.isSuppressRowVirtualisation(),s=!1,a=void 0,l=void 0;do{var c=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getCurrentPagePixelRange(),p=u.pageFirstPixel,d=u.pageLastPixel,h=this.rowContainerHeightService.getDivStretchOffset(),f=r.getScrollFeature().getVScrollPosition(),g=f.top,m=f.bottom;i?(a=p+h,l=d+h):(a=Math.max(g+c-o,p)+h,l=Math.min(m+c+o,d)+h),this.firstVisibleVPixel=Math.max(g+c,p)+h,s=this.ensureAllRowsInRangeHaveHeightsCalculated(a,l)}while(s);var y=this.paginationProxy.getRowIndexAtPixel(a),_=this.paginationProxy.getRowIndexAtPixel(l),v=this.paginationProxy.getPageFirstRow(),C=this.paginationProxy.getPageLastRow();y<v&&(y=v),_>C&&(_=C),t=y,e=_}else t=0,e=-1;var E=this.gridOptionsWrapper.getDomLayout()===et.DOM_LAYOUT_NORMAL,w=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),O=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(E&&!w&&e-t>O&&(e=t+O),(t!==this.firstRenderedRow||e!==this.lastRenderedRow)&&(this.firstRenderedRow=t,this.lastRenderedRow=e,this.eventService.dispatchEvent({type:Vt.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var b={type:Vt.EVENT_FIRST_DATA_RENDERED,firstRow:t,lastRow:e,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return n.eventService.dispatchEventOnce(b)},50)}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,e){var n=this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1);return n&&this.updateContainerHeights(),n},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var e=t.getRowNode(),n=this.focusService.isRowNodeFocused(e),o=t.isEditing();return!!(n||o||e.detail)&&!!this.paginationProxy.isRowPresent(e)},e.prototype.createRowCon=function(t,e,n){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var r=this.gridOptionsWrapper.isSuppressAnimationFrame();return new el(t,this.beans,e,n&&!r&&!this.printLayout,this.printLayout)},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(e){return t[e].getRowNode()})},e.prototype.getRowByPosition=function(t){var e,n=t.rowIndex;switch(t.rowPinned){case et.PINNED_TOP:e=this.topRowCtrls[n];break;case et.PINNED_BOTTOM:e=this.bottomRowCtrls[n];break;default:(e=this.rowCtrlsByRowIndex[n])||(e=this.getStickyTopRowCtrls().find(function(t){return t.getRowNode().rowIndex===n})||null)}return e},e.prototype.getRowNode=function(t){switch(t.rowPinned){case et.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case et.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,e){return!(null==t||null==e||e<this.firstRenderedRow||t>this.lastRenderedRow)},Ku([K("animationFrameService")],e.prototype,"animationFrameService",void 0),Ku([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Ku([K("columnModel")],e.prototype,"columnModel",void 0),Ku([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ku([K("rowModel")],e.prototype,"rowModel",void 0),Ku([K("focusService")],e.prototype,"focusService",void 0),Ku([K("columnApi")],e.prototype,"columnApi",void 0),Ku([K("gridApi")],e.prototype,"gridApi",void 0),Ku([K("beans")],e.prototype,"beans",void 0),Ku([K("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Ku([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Ku([$],e.prototype,"postConstruct",null),Ku([j("rowRenderer")],e)}(kt),Zu=function(){function t(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return t.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},t.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},t.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],pt(this.entriesList,t)},t.prototype.getEntries=function(){return this.entriesList},t}(),Qu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ju=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qu(e,t),e.prototype.formatValue=function(t,e,n,o,r){void 0===r&&(r=!0);var i,s=null,a=t.getColDef();if(o?i=o:r&&(i=e&&e.rowPinned&&a.pinnedRowValueFormatter?a.pinnedRowValueFormatter:a.valueFormatter),i){var l={value:n,node:e,data:e?e.data:null,colDef:a,column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};s=this.expressionService.evaluate(i,l)}else if(a.refData)return a.refData[n]||"";return null==s&&Array.isArray(n)&&(s=n.join(", ")),s},Ju([K("expressionService")],e.prototype,"expressionService",void 0),Ju([j("valueFormatterService")],e)}(kt),ep=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),np=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},op=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ep(e,t),e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},e.prototype.isEmpty=function(t){return s(t===et.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,e){var n=e===et.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(s(n))return 0;for(var o=0;o<n.length;o++){var r=n[o];if(r.rowTop+r.rowHeight-1>=t)return o}return n.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0),this.eventService.dispatchEvent({type:Vt.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1),this.eventService.dispatchEvent({type:Vt.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.createNodesFromData=function(t,e){var n=this,o=[];if(t){var r=0;t.forEach(function(t,i){var s=new ki(n.beans);s.data=t,s.id=(e?ki.ID_PREFIX_TOP_PINNED:ki.ID_PREFIX_BOTTOM_PINNED)+i,s.rowPinned=e?et.PINNED_TOP:et.PINNED_BOTTOM,s.setRowTop(r),s.setRowHeight(n.gridOptionsWrapper.getRowHeightForNode(s).height),s.setRowIndex(i),r+=s.rowHeight,o.push(s)})}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){s(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){s(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||0===t.length)return 0;var e=lt(t);return e.rowTop+e.rowHeight},np([K("columnApi")],e.prototype,"columnApi",void 0),np([K("gridApi")],e.prototype,"gridApi",void 0),np([K("beans")],e.prototype,"beans",void 0),np([$],e.prototype,"init",null),np([j("pinnedRowModel")],e)}(kt),rp=(()=>(function(t){t.Applied="Applied",t.StoreNotFound="StoreNotFound",t.StoreLoading="StoreLoading",t.StoreWaitingToLoad="StoreWaitingToLoad",t.StoreLoadingFailed="StoreLoadingFailed",t.StoreWrongType="StoreWrongType",t.Cancelled="Cancelled"}(rp||(rp={})),rp))(),ip=function(){function t(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return t.prototype.setInactive=function(){this.active=!1},t.prototype.isActive=function(){return this.active},t.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},t.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var o=0;o<t.childrenAfterGroup.length;o++){var r=t.childrenAfterGroup[o];r.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[o],e,n):n&&e(r)}e(t)},t.prototype.forEachChangedNodeDepthFirst=function(t,e){void 0===e&&(e=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},t.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},t.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},n++,e=e.parent;return n},t.prototype.populateColumnsMap=function(t,e){var n=this;if(this.keepingColumns&&e)for(var o=t;o;)this.nodeIdsToColumns[o.id]||(this.nodeIdsToColumns[o.id]={}),e.forEach(function(t){return n.nodeIdsToColumns[o.id][t.getId()]=!0}),o=o.parent},t.prototype.linkPathItems=function(t,e){for(var n=t,o=0;o<e;o++){var r=this.mapToItems[n.id],i=this.mapToItems[n.parent.id];i.children||(i.children=[]),i.children.push(r),n=n.parent}},t.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},t.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},t.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id];return e.filter(function(t){return n[t.getId()]})},t.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id];return e.filter(function(t){return!n[t.getId()]})},t}(),sp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ap=function(t){function e(n){var o=t.call(this)||this;return o.state=e.STATE_WAITING_TO_LOAD,o.version=0,o.id=n,o}return sp(e,t),e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,e){this.successCommon(t,e)},e.prototype.pageLoaded=function(t,e,n){this.successCommon(t,{rowData:e,rowCount:n})},e.prototype.isRequestMostRecentAndLive=function(t){var e=t===this.version,n=this.isAlive();return e&&n},e.prototype.successCommon=function(t,n){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_LOADED,this.processServerResult(n))},e.prototype.dispatchLoadCompleted=function(t){void 0===t&&(t=!0),this.dispatchEvent({type:e.EVENT_LOAD_COMPLETE,success:t,block:this})},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(kt),lp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),cp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},up=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeBlockLoadsCount=0,e.blocks=[],e.active=!0,e}var n,o;return lp(e,t),n=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var t=this.gridOptionsWrapper.getBlockLoadDebounceMillis();t&&t>0&&(this.checkBlockToLoadDebounce=Wo.debounce(this.performCheckBlocksToLoad.bind(this),t))},e.prototype.setBeans=function(t){this.logger=t.create("RowNodeBlockLoader")},e.prototype.addBlock=function(t){this.blocks.push(t),t.addEventListener(ap.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(t){Wo.removeFromArray(this.blocks,t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:n.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var t=void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0,e=this.blocks.filter(function(t){return t.getState()===ap.STATE_WAITING_TO_LOAD}).slice(0,t);this.activeBlockLoadsCount+=e.length,e.forEach(function(t){return t.load()}),this.printCacheStatus()}},e.prototype.getBlockState=function(){var t={};return this.blocks.forEach(function(e){var n=e.getBlockStateJson();t[n.id]=n.state}),t},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",cp([$],e.prototype,"postConstruct",null),cp([(0,o=X("loggerFactory"),function(t,e){o(t,e,0)})],e.prototype,"setBeans",null),n=cp([j("rowNodeBlockLoader")],e)}(kt),pp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},hp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return pp(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Vt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,e,n,o){var r=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return r&&this.calculatePages(),r},e.prototype.onModelUpdated=function(t){this.calculatePages(),this.eventService.dispatchEvent({type:Vt.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},e.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:Vt.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},e.prototype.goToPage=function(t){this.active&&this.currentPage!==t&&(this.currentPage=t,this.onModelUpdated({type:Vt.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return i(this.topRowBounds)||i(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},e.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.getNodesInRangeForSelection=function(t,e){return this.rowModel.getNodesInRangeForSelection(t,e)},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var e=this.getPageForIndex(t);this.goToPage(e)}},e.prototype.isRowInPage=function(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(r(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:Vt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!uo(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var e=this.pageSize*(this.currentPage+1)-1;if(e>t&&(e=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),e===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var n=this.rowModel.getTopLevelRowDisplayedIndex(e+1);this.bottomDisplayedRowIndex=n-1}}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!uo(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},dp([K("rowModel")],e.prototype,"rowModel",void 0),dp([K("columnApi")],e.prototype,"columnApi",void 0),dp([K("gridApi")],e.prototype,"gridApi",void 0),dp([$],e.prototype,"postConstruct",null),dp([j("paginationProxy")],e)}(kt),fp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fp(e,t),e.prototype.processAllCellClasses=function(t,e,n,o){this.processClassRules(t.cellClassRules,e,n,o),this.processStaticCellClasses(t,e,n)},e.prototype.processClassRules=function(t,e,n,o){if(null!=t){for(var r=Object.keys(t),i={},s={},a=function(n){var o,a=r[n],c=t[a];"string"==typeof c?o=l.expressionService.evaluate(c,e):"function"==typeof c&&(o=c(e)),a.split(" ").forEach(function(t){null!=t&&""!=t.trim()&&(o?i[t]=!0:s[t]=!0)})},l=this,c=0;c<r.length;c++)a(c);o&&Object.keys(s).forEach(o),Object.keys(i).forEach(n)}},e.prototype.getStaticCellClasses=function(t,e){var n,o=t.cellClass;return o?("string"==typeof(n="function"==typeof o?o(e):o)&&(n=[n]),n||[]):[]},e.prototype.processStaticCellClasses=function(t,e,n){this.getStaticCellClasses(t,e).forEach(function(t){n(t)})},gp([K("expressionService")],e.prototype,"expressionService",void 0),gp([j("stylingService")],e)}(kt),yp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_p=function(t){function e(e){return t.call(this,e,"ag-radio-button","radio")||this}return yp(e,t),e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){t.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Vt.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(Vc),vp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cp=function(t){function e(e){return t.call(this,e,"ag-toggle-button")||this}return vp(e,t),e.prototype.setValue=function(e,n){return t.prototype.setValue.call(this,e,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(Vc),Ep=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wp=function(t){function e(e,n,o){return void 0===n&&(n="ag-text-field"),void 0===o&&(o="text"),t.call(this,e,n,o)||this}return Ep(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(e,n){var o=t.prototype.setValue.call(this,e,n);return this.eInput.value!==e&&(this.eInput.value=r(e)?e:""),o},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(e){e.key&&!t.test(e.key)&&e.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(e){var n,o=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text");o&&o.split("").some(function(e){return!t.test(e)})&&e.preventDefault()})},e}(Ar),Op=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bp=function(t){function e(e){return t.call(this,e,"ag-text-area",null,"textarea")||this}return Op(e,t),e.prototype.setValue=function(e,n){var o=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,o},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Ar),Sp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pp=function(t){function e(e){return t.call(this,e,"ag-number-field","number")||this}return Sp(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var t=parseFloat(e.eInput.value),n=isNaN(t)?"":e.normalizeValue(t.toString());e.value!==n&&e.setValue(n)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(""===t)return"";this.precision&&(t=this.adjustPrecision(t));var e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t){if(this.precision){var e=parseFloat(t).toFixed(this.precision);t=parseFloat(e).toString()}return t},e.prototype.setMin=function(t){return this.min===t||(this.min=t,An(this.eInput,"min",t)),this},e.prototype.setMax=function(t){return this.max===t||(this.max=t,An(this.eInput,"max",t)),this},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t||(this.step=t,An(this.eInput,"step",t)),this},e.prototype.setValue=function(e,n){return(e=this.adjustPrecision(e))!=this.normalizeValue(e)?this:t.prototype.setValue.call(this,e,n)},e}(wp),Dp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tp=function(t){function e(e){return t.call(this,e,"ag-range-field","range")||this}return Dp(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this);var e=this.config,n=e.min,o=e.max,r=e.step;null!=n&&this.setMinValue(n),null!=o&&this.setMaxValue(o),this.setStep(r||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(e){t.setValue(e.target.value)})},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(e,n){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var o=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,o},e}(Ar),Rp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ap=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Mp=function(t){function e(n){var o=t.call(this,n,e.TEMPLATE)||this;return o.labelAlignment="top",o}return Rp(e,t),e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var e=this,n=vr.EVENT_CHANGED;return this.addManagedListener(this.eText,n,function(){var n=parseFloat(e.eText.getValue());e.eSlider.setValue(n.toString(),!0),t(n||0)}),this.addManagedListener(this.eSlider,n,function(){var n=e.eSlider.getValue();e.eText.setValue(n,!0),t(parseFloat(n))}),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:vr.EVENT_CHANGED})),this},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Ap([tr("eLabel")],e.prototype,"eLabel",void 0),Ap([tr("eSlider")],e.prototype,"eSlider",void 0),Ap([tr("eText")],e.prototype,"eText",void 0),Ap([$],e.prototype,"init",null),e}(yr),xp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ip=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Lp=function(t){function e(n){var o=t.call(this,n,e.TEMPLATE)||this;return o.radius=0,o.offsetX=0,o.offsetY=0,o}return xp(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(t){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(t){return e.calculateAngleDrag(t)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(t){null!=t&&""!==t||(t="0"),t=e.eAngleValue.normalizeValue(t);var n=parseFloat(t);n>180&&(n-=360),e.setValue(n)}),this.updateNumberInput(),r(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,vr.EVENT_CHANGED,function(){var t=e.gridOptionsWrapper.getDocument();e.eAngleValue.getInputElement().contains(t.activeElement)||e.updateNumberInput()})},e.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},e.prototype.positionChildCircle=function(t){var e=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,o=e.height/2;n.style.left=e.width/2+8*Math.cos(t)+"px",n.style.top=o+8*Math.sin(t)+"px"},e.prototype.calculatePolar=function(){var t=this.offsetX,e=this.offsetY,n=Math.atan2(e,t);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(t*t+e*e),this.positionChildCircle(n)},e.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),e=this.getRadius();this.setOffsetX(Math.cos(t)*e).setOffsetY(Math.sin(t)*e)},e.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},e.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},e.prototype.calculateAngleDrag=function(t){var e=this.parentCircleRect,n=Math.atan2(t.clientY-e.top-e.height/2,t.clientX-e.left-e.width/2);this.setValue(n,!0)},e.prototype.toDegrees=function(t){return t/Math.PI*180},e.prototype.toRadians=function(t){return t/180*Math.PI},e.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},e.prototype.normalizeAngle180=function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},e.prototype.getRadius=function(){return this.radius},e.prototype.setRadius=function(t){return this.radius===t||(this.radius=t,this.calculateCartesian()),this},e.prototype.onValueChange=function(t){var e=this;return this.addManagedListener(this,vr.EVENT_CHANGED,function(){t(e.degrees)}),this},e.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},e.prototype.setValue=function(t,e){var n;return n=e?t:this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(n),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:vr.EVENT_CHANGED})),this},e.prototype.setWidth=function(t){return wn(this.getGui(),t),this},e.prototype.setDisabled=function(e){return t.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},e.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Ip([tr("eLabel")],e.prototype,"eLabel",void 0),Ip([tr("eParentCircle")],e.prototype,"eParentCircle",void 0),Ip([tr("eChildCircle")],e.prototype,"eChildCircle",void 0),Ip([tr("eAngleValue")],e.prototype,"eAngleValue",void 0),Ip([K("dragService")],e.prototype,"dragService",void 0),e}(yr),Fp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Np=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kp=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.H=1,o.S=1,o.B=1,o.A=1,o.isSpectrumDragging=!1,o.isSpectrumHueDragging=!1,o.isSpectrumAlphaDragging=!1,o.colorChanged=!1,o.picker=n.picker,o}return Fp(e,t),e.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},e.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},e.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},e.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},e.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},e.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},e.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},e.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},e.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},e.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},e.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},e.prototype.moveDragger=function(t){var e=this.spectrumValRect;if(e){var n=t.clientX-e.left,o=t.clientY-e.top;n=Math.max(n,0),n=Math.min(n,e.width),o=Math.max(o,0),o=Math.min(o,e.height),this.setSpectrumValue(n/e.width,1-o/e.height)}},e.prototype.moveHueSlider=function(t){var e=this.spectrumHueRect;if(e){var n=this.spectrumHueSlider,o=n.getBoundingClientRect(),r=t.clientX-e.left;r=Math.max(r,0),r=Math.min(r,e.width),this.H=1-r/e.width,n.style.left=r+o.width/2+"px",this.update()}},e.prototype.moveAlphaSlider=function(t){var e=this.spectrumAlphaRect;if(e){var n=this.spectrumAlphaSlider,o=n.getBoundingClientRect(),r=t.clientX-e.left;r=Math.max(r,0),r=Math.min(r,e.width),this.A=r/e.width,n.style.left=r+o.width/2+"px",this.update()}},e.prototype.update=function(){var t=Ae.fromHSB(360*this.H,this.S,this.B,this.A),e=Ae.fromHSB(360*this.H,1,1),n=t.toRgbaString(),o=this.picker;Ae.fromString(o.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),o.setValue(n),this.spectrumColor.style.backgroundColor=e.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},e.prototype.setSpectrumValue=function(t,e){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var o=this.spectrumDragger,r=o.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),e=Math.max(0,e),e=Math.min(1,e),this.S=t,this.B=e,o.style.left=t*n.width-r.width/2+"px",o.style.top=(1-e)*n.height-r.height/2+"px",this.update()}},e.prototype.initRecentColors=function(){var t=e.recentColors.map(function(t,e){return'<div class="ag-recent-color" id='+e+' style="background-color: '+t+'; width: 15px; height: 15px;" recent-color="'+t+'"></div>'});this.recentColors.innerHTML=t.join("")},e.prototype.setValue=function(t){var e=Ae.fromString(t),n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}(e.toHSB(),3),o=n[0],r=n[1],i=n[2];this.H=(isNaN(o)?0:o)/360,this.A=e.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(r,i)},e.prototype.onRecentColorClick=function(t){var n=t.target;if(r(n.id)){var o=parseInt(n.id,10);this.setValue(e.recentColors[o]),this.destroy()}},e.prototype.addRecentColor=function(){var t=Ae.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=e.recentColors;this.colorChanged&&n[0]!==t&&(n=n.filter(function(e){return e!=t}),(n=[t].concat(n)).length>e.maxRecentColors&&(n=n.slice(0,e.maxRecentColors)),e.recentColors=n)},e.prototype.destroy=function(){this.addRecentColor(),t.prototype.destroy.call(this)},e.maxRecentColors=8,e.recentColors=[],e.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Np([tr("spectrumColor")],e.prototype,"spectrumColor",void 0),Np([tr("spectrumVal")],e.prototype,"spectrumVal",void 0),Np([tr("spectrumDragger")],e.prototype,"spectrumDragger",void 0),Np([tr("spectrumHue")],e.prototype,"spectrumHue",void 0),Np([tr("spectrumHueSlider")],e.prototype,"spectrumHueSlider",void 0),Np([tr("spectrumAlpha")],e.prototype,"spectrumAlpha",void 0),Np([tr("spectrumAlphaSlider")],e.prototype,"spectrumAlphaSlider",void 0),Np([tr("recentColors")],e.prototype,"recentColors",void 0),Np([$],e.prototype,"postConstruct",null),e}(Jo),Gp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wp=function(t){function e(n){var o=t.call(this,e.getTemplate(n))||this;return o.closable=!0,o.config=n,o}return Gp(e,t),e.getTemplate=function(t){var e=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+e+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+e+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+e+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+e+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+e+'-panel-content-wrapper"></div>\n        </div>'},e.prototype.postConstruct=function(){var t=this,e=this.config,n=e.component,o=e.closable,r=e.hideTitleBar,i=e.title,s=e.minWidth,a=void 0===s?250:s,l=e.width,c=e.minHeight,u=void 0===c?250:c,p=e.height,d=e.centered,h=e.popup,f=e.x,g=e.y;this.positionableFeature=new Gu(this.getGui(),{minWidth:a,width:l,minHeight:u,height:p,centered:d,x:f,y:g,popup:h,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var m=this.getGui();n&&this.setBodyComponent(n),r?this.eTitleBar.classList.add("ag-hidden"):(i&&this.setTitle(i),this.setClosable(null!=o?o:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(e){var n=t.gridOptionsWrapper.getDocument();if(m.contains(e.relatedTarget)||m.contains(n.activeElement)||t.eTitleBarButtons.contains(e.target))e.preventDefault();else{var o=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");o&&o.focus()}}),h&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,e=this.getGui();e.focus(),this.close=function(){e.parentElement.removeChild(e),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new Jo(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var o=n.getGui(),r=Po("close",this.gridOptionsWrapper);r.classList.add("ag-panel-title-bar-button-icon"),o.appendChild(r),this.addTitleBarButton(n),n.addManagedListener(o,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((o=this.closeButtonComp.getGui()).parentElement.removeChild(o),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,e){var n=this.eTitleBarButtons,o=n.children,r=o.length;null==e&&(e=r),e=Math.max(0,Math.min(e,r)),t.addCssClass("ag-panel-title-bar-button");var i=t.getGui();0===e?n.insertAdjacentElement("afterbegin",i):e===r?n.insertAdjacentElement("beforeend",i):o[e-1].insertAdjacentElement("afterend",i),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return en(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return nn(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),t.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Bp([tr("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Bp([tr("eTitleBar")],e.prototype,"eTitleBar",void 0),Bp([tr("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Bp([tr("eTitle")],e.prototype,"eTitle",void 0),Bp([$],e.prototype,"postConstruct",null),e}(Jo),Vp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hp=function(){return(Hp=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Up=function(t){function e(e){var n=t.call(this,Hp(Hp({},e),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return Vp(e,t),e.prototype.postConstruct=function(){var e=this,n=this.getGui(),o=this.config,r=o.movable,i=o.resizable,s=o.maximizable;this.addCssClass("ag-dialog"),t.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(t){n.contains(t.relatedTarget)||e.popupService.bringPopupToFront(n)}),r&&this.setMovable(r),s&&this.setMaximizable(s),i&&this.setResizable(i)},e.prototype.renderComponent=function(){var t=this.getGui(),e=this.config,n=e.alwaysOnTop,o=e.modal,r=e.title,i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n,ariaLabel:r||i("ariaLabelDialog","Dialog")});s&&(this.close=s.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var e=this.lastPosition,n=e.x,o=e.y,r=e.height;this.setWidth(e.width),this.setHeight(r),this.positionableFeature.offsetElement(n,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){Xe(this.maximizeIcon,!this.isMaximized),Xe(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),t.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var e=this;if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&t!==this.isMaximizable){var o=this.maximizeButtonComp=this.createBean(new Jo('<div class="ag-dialog-button"></span>')),r=o.getGui();r.appendChild(this.maximizeIcon=Po("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(this.minimizeIcon=Po("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),o.addManagedListener(r,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){e.isMaximized=!1,e.refreshMaximizeIcon()})}},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([K("popupService")],e.prototype,"popupService",void 0),e}(Wp),$p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zp=function(t){function e(e){var n=t.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(n.value=e.color),n}return $p(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},e.prototype.showPicker=function(){var t=this,e=this.getGui().getBoundingClientRect(),n=this.createBean(new Up({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}));this.isPickerDisplayed=!0,n.addCssClass("ag-color-dialog"),Kn(this.eWrapper,!0);var o=this.createBean(new kp({picker:this}));return o.addDestroyFunc(function(){n.isAlive()&&t.destroyBean(n)}),n.setParentComponent(this),n.setBodyComponent(o),o.setValue(this.getValue()),n.addDestroyFunc(function(){t.isDestroyingPicker?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,o.isAlive()&&t.destroyBean(o)),t.isAlive()&&(Kn(t.eWrapper,!1),t.getFocusableElement().focus()),t.isPickerDisplayed=!1}),n},e.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,t.prototype.setValue.call(this,e))},e.prototype.getValue=function(){return this.value},e}(wr),jp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yp=function(t){function e(n){void 0===n&&(n={});var o=t.call(this,e.getTemplate(n))||this;o.suppressEnabledCheckbox=!0,o.suppressOpenCloseIcons=!1;var r=n.enabled,i=n.items,s=n.suppressEnabledCheckbox,a=n.suppressOpenCloseIcons;return o.title=n.title,o.cssIdentifier=n.cssIdentifier||"default",o.enabled=null==r||r,o.items=i||[],o.alignItems=n.alignItems||"center",null!=s&&(o.suppressEnabledCheckbox=s),null!=a&&(o.suppressOpenCloseIcons=a),o}return jp(e,t),e.getTemplate=function(t){var e=t.cssIdentifier||"default";return'<div class="ag-group ag-'+e+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+e+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+e+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+e+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(t.direction||"vertical")+" ag-"+e+'-group-container"></div>\n        </div>'},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(So("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(So("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(e){switch(e.key){case To.ENTER:case To.SPACE:e.preventDefault(),t.toggleGroupExpand();break;case To.RIGHT:case To.LEFT:e.preventDefault(),t.toggleGroupExpand(e.key===To.RIGHT)}})},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Kn(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;Xe(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Xe(this.eGroupOpenedIcon,t&&this.expanded),Xe(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){return this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=t,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Xe(this.eContainer,!0),this):(this.expanded===(t=null!=t?t:!this.expanded)||(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),Xe(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED})),this)},e.prototype.addItems=function(t){var e=this;t.forEach(function(t){return e.addItem(t)})},e.prototype.addItem=function(t){var e=this.eContainer,n=t instanceof Jo?t.getGui():t;n.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),e.appendChild(n),this.items.push(n)},e.prototype.hideItem=function(t,e){this.items[e].classList.toggle("ag-hidden",t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,e){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),e||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var e=this;return this.cbGroupEnabled.onValueChange(function(n){e.setEnabled(n,!0),t(n)}),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",Kp([tr("eTitleBar")],e.prototype,"eTitleBar",void 0),Kp([tr("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),Kp([tr("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),Kp([tr("eToolbar")],e.prototype,"eToolbar",void 0),Kp([tr("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),Kp([tr("eTitle")],e.prototype,"eTitle",void 0),Kp([tr("eContainer")],e.prototype,"eContainer",void 0),Kp([$],e.prototype,"postConstruct",null),e}(Jo),qp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zp=function(t){function e(e){var n=t.call(this)||this;n.skipTabGuardFocus=!1;var o=e.eTopGuard,r=e.eBottomGuard,i=e.focusInnerElement,s=e.onFocusIn,a=e.onFocusOut,l=e.shouldStopEventPropagation,c=e.onTabKeyDown,u=e.handleKeyDown,p=e.eFocusableElement;return n.comp=e.comp,n.eTopGuard=o,n.eBottomGuard=r,n.providedFocusInnerElement=i,n.eFocusableElement=p,n.providedFocusIn=s,n.providedFocusOut=a,n.providedShouldStopEventPropagation=l,n.providedOnTabKeyDown=c,n.providedHandleKeyDown=u,n}return qp(e,t),e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new dr(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)},onFocusIn:function(e){return t.onFocusIn(e)},onFocusOut:function(e){return t.onFocusOut(e)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(e){return t.addManagedListener(e,"focus",t.onFocus.bind(t))})},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},e.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}},e.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},e.prototype.onTabKeyDown=function(t){var e=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(t);else if(!t.defaultPrevented){var n=this.tabGuardsAreActive();n&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);n&&setTimeout(function(){return e.activateTabGuards()},0),o&&(o.focus(),t.preventDefault())}},e.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},e.prototype.focusInnerElement=function(t){void 0===t&&(t=!1);var e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus()},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1);var e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,e.focus()},Xp([K("focusService")],e.prototype,"focusService",void 0),Xp([$],e.prototype,"postConstruct",null),e}(kt),Qp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qp(e,t),e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var e=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:function(t){e.forEach(function(e){return null!=t?e.setAttribute("tabIndex",t):e.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Zp({comp:n,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var e=document.createElement("div");return e.classList.add("ag-tab-guard","ag-tab-guard-"+t),kn(e,"presentation"),e},e.prototype.addTabGuards=function(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];cn(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Jp(arguments[e]));return t}(t))},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(e,n){Dn(e)||(e=e.getGui());var o=this.eBottomGuard;o?o.insertAdjacentElement("beforebegin",e):t.prototype.appendChild.call(this,e,n)},e}(Jo),ed=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),nd=function(){return(nd=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},od=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rd=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=e,n.menuItems=[],n}return ed(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}})},e.prototype.onTabKeyDown=function(t){var e=this.getParentComponent(),n=e&&e.getGui();n&&n.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case To.UP:case To.RIGHT:case To.DOWN:case To.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case To.ESCAPE:var e=this.findTopMenu();e&&this.focusService.focusInto(e.getGui())}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var e=this;null!=t&&t.forEach(function(t){"separator"===t?e.addSeparator():"string"==typeof t?console.warn("AG Grid: unrecognised menu item "+t):e.addItem(t)})},e.prototype.addItem=function(t){var e=this,n=this.createManagedBean(new cd(nd(nd({},t),{isAnotherSubMenuOpen:function(){return e.menuItems.some(function(t){return t.isSubMenuOpen()})}})));n.setParentComponent(this),zn(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,cd.EVENT_MENU_ITEM_SELECTED,function(t){e.dispatchEvent(t)}),this.addManagedListener(n,cd.EVENT_MENU_ITEM_ACTIVATED,function(t){e.activeMenuItem&&e.activeMenuItem!==t.menuItem&&e.activeMenuItem.deactivate(),e.activeMenuItem=t.menuItem})},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(t){return!t.isDisabled()})[0];t&&t.activate()},e.prototype.addSeparator=function(){this.appendChild(dn('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var n=t&&t.getParentComponent&&t.getParentComponent();if(!n||!(n instanceof e||n instanceof cd))break;t=n}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case To.UP:case To.DOWN:var e=this.findNextItem(t===To.UP);return void(e&&e!==this.activeMenuItem&&e.activate())}t===(this.gridOptionsWrapper.isEnableRtl()?To.RIGHT:To.LEFT)?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var e=this.getParentComponent();e&&e instanceof cd&&(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var e=this.menuItems.filter(function(t){return!t.isDisabled()});if(e.length){if(!this.activeMenuItem)return t?lt(e):e[0];var n;t&&e.reverse();for(var o=!1,r=0;r<e.length;r++){var i=e[r];if(o){n=i;break}i===this.activeMenuItem&&(o=!0)}return n||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),t.prototype.destroy.call(this)},od([K("focusService")],e.prototype,"focusService",void 0),od([$],e.prototype,"postConstruct",null),e}(td),id=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sd=function(t){function e(e){var n=t.call(this)||this;return n.wrappedComponent=e,n.setTemplateFromElement(e.getGui()),n}return id(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}})},e.prototype.handleKeyDown=function(t){t.key===To.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);i>3&&s&&Object.defineProperty(e,n,s)}([$],e.prototype,"postConstruct",null),e}(td),ad=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ld=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cd=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return ad(e,t),e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var e=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),jn(e,!0)):(this.addGuiEventListener("click",function(e){return t.onItemSelected(e)}),this.addGuiEventListener("keydown",function(e){e.key!==To.ENTER&&e.key!==To.SPACE||(e.preventDefault(),t.onItemSelected(e))}),this.addGuiEventListener("mousedown",function(t){t.stopPropagation(),t.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return t.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return t.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(e){return t.addCssClass(e)})},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var n=this;if(void 0===t&&(t=!1),this.closeSubMenu(),this.params.subMenu){var o,r=dn('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var i=Bn(this.getGui()),s=isNaN(i)?1:i+1,a=this.createBean(new rd(s));a.setParentComponent(this),a.addMenuItems(this.params.subMenu),r.appendChild(a.getGui()),this.addManagedListener(a,e.EVENT_MENU_ITEM_SELECTED,function(t){return n.dispatchEvent(t)}),a.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),o=function(){return n.destroyBean(a)},t&&setTimeout(function(){return a.activateFirstItem()},0)}else{var l=this.params.subMenu,c=this.createBean(new sd(l));c.setParentComponent(this);var u=c.getGui(),p="mouseenter",d=function(){return n.cancelDeactivate()};u.addEventListener(p,d),o=function(){return u.removeEventListener(p,d)},r.appendChild(u),l.afterGuiAttached&&setTimeout(function(){return l.afterGuiAttached()},0)}var h=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:h,ePopup:r}),g=this.gridOptionsWrapper.getLocaleTextFunc(),m=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:f,anchorToElement:h,ariaLabel:g("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Kn(h,!0),this.hideSubMenu=function(){m&&m.hideFunc(),n.subMenuIsOpen=!1,Kn(h,!1),o()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,Kn(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var e=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(function(){e.isAlive()&&e.isActive&&e.openSubMenu()},300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var t=dn('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(Po("check",this.gridOptionsWrapper)):this.params.icon&&(Dn(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var t=dn('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Yo(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var t=dn('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var t=dn('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),e=this.getGui();if(this.params.subMenu){var n=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Kn(e,!1),t.appendChild(Po(n,this.gridOptionsWrapper))}e.appendChild(t)}},e.prototype.onItemSelected=function(t){this.params.action?this.params.action():this.openSubMenu(t&&"keydown"===t.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t})},e.prototype.onItemActivated=function(){this.dispatchEvent({type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var e=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?e+"-"+t:e},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,ld([K("popupService")],e.prototype,"popupService",void 0),ld([$],e.prototype,"init",null),e}(Jo),ud=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dd=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return ud(e,t),n=e,e.addKeyboardModeEvents=function(t,e){var o=n.instancesMonitored.get(t);o&&o.length>0?-1===o.indexOf(e)&&o.push(e):(n.instancesMonitored.set(t,[e]),t.addEventListener("keydown",n.toggleKeyboardMode),t.addEventListener("mousedown",n.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(t,e){var o=n.instancesMonitored.get(t),r=[];o&&o.length&&(r=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(dd(arguments[e]));return t}(o).filter(function(t){return t!==e}),n.instancesMonitored.set(t,r)),0===r.length&&(t.removeEventListener("keydown",n.toggleKeyboardMode),t.removeEventListener("mousedown",n.toggleKeyboardMode))},e.toggleKeyboardMode=function(t){var e=n.keyboardModeActive,o="keydown"===t.type;if(!(o&&(t.ctrlKey||t.metaKey||t.altKey)||e&&o||!e&&!o)){n.keyboardModeActive=o;var r=t.target.ownerDocument;if(r){var i=n.instancesMonitored.get(r);i&&i.forEach(function(t){t.dispatchEvent({type:o?Vt.EVENT_KEYBOARD_FOCUS:Vt.EVENT_MOUSE_FOCUS})})}}},e.prototype.init=function(){var t=this,e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,Vt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.ctrlsService.whenReady(function(e){t.gridCtrl=e.gridCtrl;var o=t.gridOptionsWrapper.getDocument();n.addKeyboardModeEvents(o,t.gridCtrl),t.addDestroyFunc(function(){return t.unregisterGridCompController(t.gridCtrl)})})},e.prototype.unregisterGridCompController=function(t){var e=this.gridOptionsWrapper.getDocument();n.removeKeyboardModeEvents(e,t)},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var t=this.focusedCellPosition.column,e=this.columnModel.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return n.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var t=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(t.activeElement,el.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var t=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(t.activeElement,bc.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(t,e){for(var n=t;n;){if(this.gridOptionsWrapper.getDomData(n,e))return!1;n=n.parentNode}return!0},e.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1,!1)},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.setFocusedCell=function(t){var e=t.rowIndex,n=t.rowPinned,r=t.forceBrowserFocus,i=void 0!==r&&r,s=t.preventScrollOnBrowserFocus,a=void 0!==s&&s,l=this.columnModel.getGridColumn(t.column);l?(this.focusedCellPosition=l?{rowIndex:e,rowPinned:o(n),column:l}:null,this.onCellFocused(i,a)):this.focusedCellPosition=null},e.prototype.isCellFocused=function(t){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===t.column&&this.isRowFocused(t.rowIndex,t.rowPinned)},e.prototype.isRowNodeFocused=function(t){return this.isRowFocused(t.rowIndex,t.rowPinned)},e.prototype.isHeaderWrapperFocused=function(t){if(null==this.focusedHeaderPosition)return!1;var e=t.getColumnGroupChild(),n=t.getRowIndex(),o=t.getPinned(),r=this.focusedHeaderPosition,i=r.column;return e===i&&n===r.headerRowIndex&&o==i.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}},e.prototype.focusHeaderPosition=function(t){var e=t.direction,n=t.fromTab,o=t.event,r=t.headerPosition;if(t.allowUserOverride){var i,s=this.gridOptionsWrapper,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();n?(i=s.getTabToNextHeaderFunc())&&(r=i({backwards:"Before"===e,previousHeaderPosition:a,nextHeaderPosition:r,headerRowCount:l})):(i=s.getNavigateToNextHeaderFunc())&&o&&(r=i({key:o.key,previousHeaderPosition:a,nextHeaderPosition:r,headerRowCount:l,event:o}))}return!!r&&(-1===r.headerRowIndex?this.focusGridView(r.column):(this.headerNavigationService.scrollToColumn(r.column,e),this.ctrlsService.getHeaderRowContainerCtrl(r.column.getPinned()).focusHeader(r.headerRowIndex,r.column,o)))},e.prototype.focusFirstHeader=function(){var t=this.columnModel.getAllDisplayedColumns()[0];return!!t&&(t.getParent()&&(t=this.columnModel.getColumnGroupAtLevel(t,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:t}}))},e.prototype.focusLastHeader=function(t){var e=this.headerNavigationService.getHeaderRowCount()-1,n=lt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:n},event:t})},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(t,e){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===o(e)},e.prototype.findFocusableElements=function(t,e,n){void 0===n&&(n=!1);var o=et.FOCUSABLE_EXCLUDE;e&&(o+=", "+e),n&&(o+=', [tabindex="-1"]');var r,i=Array.prototype.slice.apply(t.querySelectorAll(et.FOCUSABLE_SELECTOR)),s=Array.prototype.slice.apply(t.querySelectorAll(o));return s.length?(r=s,i.filter(function(t){return-1===r.indexOf(t)})):i},e.prototype.focusInto=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=this.findFocusableElements(t,null,n),r=e?lt(o):o[0];return!!r&&(r.focus(),!0)},e.prototype.findNextFocusableElement=function(t,e,n){void 0===t&&(t=this.eGridDiv);var o=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),r=this.gridOptionsWrapper.getDocument().activeElement,i=(e?o.findIndex(function(t){return t.contains(r)}):o.indexOf(r))+(n?-1:1);return i<0||i>=o.length?null:o[i]},e.prototype.isFocusUnderManagedComponent=function(t){var e=this.gridOptionsWrapper.getDocument(),n=t.querySelectorAll("."+dr.FOCUS_MANAGED_CLASS);if(!n.length)return!1;for(var o=0;o<n.length;o++)if(n[o].contains(e.activeElement))return!0;return!1},e.prototype.findTabbableParent=function(t,e){void 0===e&&(e=5);for(var n=0;t&&null===We(t)&&++n<=e;)t=t.parentElement;return null===We(t)?null:t},e.prototype.onCellFocused=function(t,e){var n={type:Vt.EVENT_CELL_FOCUSED,forceBrowserFocus:t,preventScrollOnBrowserFocus:e,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var o=n.rowIndex=this.focusedCellPosition.rowIndex,r=n.rowPinned=this.focusedCellPosition.rowPinned;n.column=this.focusedCellPosition.column;var i=this.rowRenderer.getRowByPosition({rowIndex:o,rowPinned:r});i&&(n.isFullWidthCell=i.isFullWidth())}this.eventService.dispatchEvent(n)},e.prototype.focusGridView=function(t,e){if(this.gridOptionsWrapper.isSuppressCellFocus())return e?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var n=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;var r=n.rowIndex,i=n.rowPinned,s=this.getFocusedHeader();return!t&&s&&(t=s.column),!(null==r||!t||(this.navigationService.ensureCellVisible({rowIndex:r,column:t,rowPinned:i}),this.setFocusedCell({rowIndex:r,column:t,rowPinned:o(i),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:r,rowPinned:i,column:t}),0))},e.prototype.focusNextGridCoreContainer=function(t){return!!this.gridCtrl.focusNextInnerContainer(t)||(t||this.gridCtrl.isDetailGrid()||this.gridCtrl.forceFocusOutOfContainer(),!1)},e.AG_KEYBOARD_FOCUS="ag-keyboard-focus",e.keyboardModeActive=!1,e.instancesMonitored=new Map,pd([K("eGridDiv")],e.prototype,"eGridDiv",void 0),pd([K("columnModel")],e.prototype,"columnModel",void 0),pd([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),pd([K("columnApi")],e.prototype,"columnApi",void 0),pd([K("gridApi")],e.prototype,"gridApi",void 0),pd([K("rowRenderer")],e.prototype,"rowRenderer",void 0),pd([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),pd([Y("rangeService")],e.prototype,"rangeService",void 0),pd([K("navigationService")],e.prototype,"navigationService",void 0),pd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),pd([$],e.prototype,"init",null),n=pd([j("focusService")],e)}(kt),fd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},md=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},yd=(()=>(function(t){t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal"}(yd||(yd={})),yd))(),_d=0,vd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popupList=[],e}return fd(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(e){t.gridCtrl=e.gridCtrl,t.addManagedListener(t.gridCtrl,Vt.EVENT_KEYBOARD_FOCUS,function(){t.popupList.forEach(function(t){return t.element.classList.add(hd.AG_KEYBOARD_FOCUS)})}),t.addManagedListener(t.gridCtrl,Vt.EVENT_MOUSE_FOCUS,function(){t.popupList.forEach(function(t){return t.element.classList.remove(hd.AG_KEYBOARD_FOCUS)})})})},e.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(t){var e=t.eventSource.getBoundingClientRect(),n=this.getParentRect(),o=this.keepXYWithinBounds(t.ePopup,e.top-n.top,yd.vertical),r=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=r+"px";var i,s=n.right-n.left-r;function a(){return e.right-n.left-2}function l(){return e.left-n.left-r}this.gridOptionsWrapper.isEnableRtl()?((i=l())<0&&(i=a()),i>s&&(i=0)):((i=a())>s&&(i=l()),i<0&&(i=0)),t.ePopup.style.left=i+"px",t.ePopup.style.top=o+"px"},e.prototype.positionPopupUnderMouseEvent=function(t){var e=t.ePopup,n=t.nudgeX,o=t.nudgeY,r=this.calculatePointerAlign(t.mouseEvent);this.positionPopup({ePopup:e,x:r.x,y:r.y,nudgeX:n,nudgeY:o,keepWithinBounds:!0}),this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)},e.prototype.calculatePointerAlign=function(t){var e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},e.prototype.positionPopupUnderComponent=function(t){var e=t.eventSource.getBoundingClientRect(),n=t.alignSide||"left",o=this.getParentRect(),r=e.left-o.left;"right"===n&&(r-=t.ePopup.offsetWidth-e.width),this.positionPopup({ePopup:t.ePopup,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:r,y:e.top-o.top+e.height,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},e.prototype.positionPopupOverComponent=function(t){var e=t.eventSource.getBoundingClientRect(),n=this.getParentRect();this.positionPopup({ePopup:t.ePopup,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:e.left-n.left,y:e.top-n.top,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},e.prototype.callPostProcessPopup=function(t,e,n,o,r,i){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:r,rowNode:i,ePopup:e,type:t,eventSource:n,mouseEvent:o})},e.prototype.positionPopup=function(t){var e=t.ePopup,n=t.nudgeX,o=t.nudgeY,r=t.x,i=t.y;n&&(r+=n),o&&(i+=o),t.keepWithinBounds&&(r=this.keepXYWithinBounds(e,r,yd.horizontal),i=this.keepXYWithinBounds(e,i,yd.vertical)),e.style.left=r+"px",e.style.top=i+"px"},e.prototype.getActivePopups=function(){return this.popupList.map(function(t){return t.element})},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var t=this.gridOptionsWrapper.getDocument(),e=this.getPopupParent();e===t.body&&(e=t.documentElement);var n=getComputedStyle(e),o=e.getBoundingClientRect();return{top:o.top+parseFloat(n.borderTopWidth)||0,left:o.left+parseFloat(n.borderLeftWidth)||0,right:o.right+parseFloat(n.borderRightWidth)||0,bottom:o.bottom+parseFloat(n.borderBottomWidth)||0}},e.prototype.keepXYWithinBounds=function(t,e,n){var o=n===yd.vertical,r=o?"clientHeight":"clientWidth",i=o?"top":"left",s=o?"offsetHeight":"offsetWidth",a=o?"scrollTop":"scrollLeft",l=this.gridOptionsWrapper.getDocument(),c=l.documentElement,u=this.getPopupParent(),p=u.getBoundingClientRect(),d=l.documentElement.getBoundingClientRect(),h=u===l.body,f=t[s],g=h?(o?on:rn)(c)+c[a]:u[r];h&&(g-=Math.abs(d[i]-p[i]));var m=g-f;return Math.min(Math.max(e,0),Math.abs(m))},e.prototype.keepPopupPositionedRelativeTo=function(t){var e=this,n=this.getPopupParent(),o=n.getBoundingClientRect(),r=t.element.getBoundingClientRect(),i=o.top-r.top,s=o.left-r.left,a=i,l=s,c=t.ePopup.style.top,u=parseInt(c.substring(0,c.length-1),10),p=t.ePopup.style.left,d=parseInt(p.substring(0,p.length-1),10);return new Uo(function(o){e.getFrameworkOverrides().setInterval(function(){var o=n.getBoundingClientRect(),r=t.element.getBoundingClientRect();if(0==r.top&&0==r.left&&0==r.height&&0==r.width)t.hidePopup();else{var c=o.top-r.top;if(c!=a){var p=e.keepXYWithinBounds(t.ePopup,u+i-c,yd.vertical);t.ePopup.style.top=p+"px"}a=c;var h=o.left-r.left;if(h!=l){var f=e.keepXYWithinBounds(t.ePopup,d+s-h,yd.horizontal);t.ePopup.style.left=f+"px"}l=h}},200).then(function(t){o(function(){null!=t&&window.clearInterval(t)})})})},e.prototype.addPopup=function(t){var e,n=this,o=t.modal,r=t.eChild,i=t.closeOnEsc,s=t.closedCallback,a=t.click,l=t.alwaysOnTop,c=t.afterGuiAttached,u=t.positionCallback,p=t.anchorToElement,d=t.ariaLabel,h=this.gridOptionsWrapper.getDocument(),f=new Uo(function(t){return t(function(){})});if(!h)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:f};var g=this.popupList.findIndex(function(t){return t.element===r});if(-1!==g){var m=this.popupList[g];return{hideFunc:m.hideFunc,stopAnchoringPromise:m.stopAnchoringPromise}}var y=this.getPopupParent();null==r.style.top&&(r.style.top="0px"),null==r.style.left&&(r.style.left="0px");var _=document.createElement("div"),v=this.environment.getTheme().allThemes;v.length&&(e=_.classList).add.apply(e,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(md(arguments[e]));return t}(v)),_.classList.add("ag-popup"),r.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),r.hasAttribute("role")||kn(r,"dialog"),Vn(r,d),this.focusService.isKeyboardMode()&&r.classList.add(hd.AG_KEYBOARD_FOCUS),_.appendChild(r),y.appendChild(_),l?this.setAlwaysOnTop(_,!0):this.bringPopupToFront(_);var C=!1,E=function(t){_.contains(h.activeElement)&&t.key===To.ESCAPE&&b({keyboardEvent:t})},w=function(t){return b({mouseEvent:t})},O=function(t){return b({touchEvent:t})},b=function(t){void 0===t&&(t={});var e=t.mouseEvent,o=t.touchEvent,i=t.keyboardEvent;n.isEventFromCurrentPopup({mouseEvent:e,touchEvent:o},r)||n.isEventSameChainAsOriginalEvent({originalMouseEvent:a,mouseEvent:e,touchEvent:o})||C||(C=!0,y.removeChild(_),h.removeEventListener("keydown",E),h.removeEventListener("mousedown",w),h.removeEventListener("touchstart",O),h.removeEventListener("contextmenu",w),n.eventService.removeEventListener(Vt.EVENT_DRAG_STARTED,w),s&&s(e||o||i),n.popupList=n.popupList.filter(function(t){return t.element!==r}),f&&f.then(function(t){return t&&t()}))};return c&&c({hidePopup:b}),window.setTimeout(function(){i&&h.addEventListener("keydown",E),o&&(h.addEventListener("mousedown",w),n.eventService.addEventListener(Vt.EVENT_DRAG_STARTED,w),h.addEventListener("touchstart",O),h.addEventListener("contextmenu",w))},0),u&&u(),p&&(f=this.keepPopupPositionedRelativeTo({element:p,ePopup:r,hidePopup:b})),this.popupList.push({element:r,wrapper:_,hideFunc:b,stopAnchoringPromise:f,instanceId:_d++,isAnchored:!!p}),{hideFunc:b,stopAnchoringPromise:f}},e.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(t){return t.isAnchored})},e.prototype.isEventFromCurrentPopup=function(t,e){var n=t.mouseEvent||t.touchEvent;if(!n)return!1;var o=this.popupList.findIndex(function(t){return t.element===e});if(-1===o)return!1;for(var r=o;r<this.popupList.length;r++)if(At(this.popupList[r].element,n))return!0;return this.isElementWithinCustomPopup(n.target)},e.prototype.isElementWithinCustomPopup=function(t){for(var e=this.gridOptionsWrapper.getDocument();t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1},e.prototype.isEventSameChainAsOriginalEvent=function(t){var e=t.originalMouseEvent,n=t.mouseEvent,o=t.touchEvent,r=null;if(n?r=n:o&&(r=o.touches[0]),r&&e){var i=n?n.screenY:0,s=Math.abs(e.screenX-(n?n.screenX:0))<5,a=Math.abs(e.screenY-i)<5;if(s&&a)return!0}return!1},e.prototype.getWrapper=function(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null},e.prototype.setAlwaysOnTop=function(t,e){var n=this.getWrapper(t);n&&(n.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(n))},e.prototype.bringPopupToFront=function(t){var e=this.getPopupParent(),n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),o=n.length,r=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),i=r.length,s=this.getWrapper(t);if(s&&!(o<=1)&&e.contains(t)){var a=n.indexOf(s),l=s.querySelectorAll("div"),c=[];for(l.forEach(function(t){0!==t.scrollTop&&c.push([t,t.scrollTop])}),i?s.classList.contains("ag-always-on-top")?a!==o-1&&lt(r).insertAdjacentElement("afterend",s):a!==o-i-1&&r[0].insertAdjacentElement("beforebegin",s):a!==o-1&&lt(n).insertAdjacentElement("afterend",s);c.length;){var u=c.pop();u[0].scrollTop=u[1]}var p={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:s};this.eventService.dispatchEvent(p)}},gd([K("environment")],e.prototype,"environment",void 0),gd([K("focusService")],e.prototype,"focusService",void 0),gd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),gd([$],e.prototype,"postConstruct",null),gd([j("popupService")],e)}(kt),Cd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ed=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wd=function(t){function e(n,o,r){void 0===n&&(n="default"),void 0===o&&(o="listbox");var i=t.call(this,e.getTemplate(n))||this;return i.cssIdentifier=n,i.ariaRole=o,i.listName=r,i.renderedRows=new Map,i.rowHeight=20,i.isDestroyed=!1,i}return Cd(e,t),e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(e){return t.onFocusIn(e)},onFocusOut:function(e){return t.onFocusOut(e)},focusInnerElement:function(e){return t.focusInnerElement(e)},onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}}),this.setAriaProperties()},e.prototype.setAriaProperties=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),e=this.eContainer;kn(e,this.ariaRole),Vn(e,t)},e.prototype.addResizeObserver=function(){var t=this.drawVirtualRows.bind(this),e=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(e)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var e=t.target;return e.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Wn(e)-1),!1},e.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},e.prototype.handleKeyDown=function(t){switch(t.key){case To.UP:case To.DOWN:this.navigate(t.key===To.UP)&&t.preventDefault()}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():this.focusService.focusInto(this.getGui(),!t.shiftKey)},e.prototype.navigate=function(t){if(null==this.lastFocusedRowIndex)return!1;var e=this.lastFocusedRowIndex+(t?-1:1);return!(e<0||e>=this.model.getRowCount()||(this.focusRow(e),0))},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var e=this;this.ensureIndexVisible(t),window.setTimeout(function(){var n=e.renderedRows.get(t);n&&n.eDiv.focus()},10)},e.prototype.getComponentAt=function(t){var e=this.renderedRows.get(t);return e&&e.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach(function(e,n){return t(e.rowComponent,n)})},e.getTemplate=function(t){return'\n            <div class="ag-virtual-list-viewport ag-'+t+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+t+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},e.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},e.prototype.ensureIndexVisible=function(t){var e=this.model.getRowCount();if("number"!=typeof t||t<0||t>=e)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t);else{var n=t*this.rowHeight,o=n+this.rowHeight,r=this.getGui(),i=r.scrollTop,s=r.offsetHeight,a=i+s<o;i>n?r.scrollTop=n:a&&(r.scrollTop=o-s)}},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(){var t=this;if(null!=this.model&&!this.isDestroyed){var e=this.model.getRowCount();this.eContainer.style.height=e*this.rowHeight+"px",B(function(){return t.eContainer.clientHeight>=e*t.rowHeight},function(){t.isDestroyed||(t.clearVirtualRows(),t.drawVirtualRows())})}},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(e,n){return t.removeRow(n)})},e.prototype.drawVirtualRows=function(){if(this.isAlive()){var t=this.getGui(),e=t.scrollTop,n=e+t.offsetHeight,o=Math.floor(e/this.rowHeight),r=Math.floor(n/this.rowHeight);this.ensureRowsRendered(o,r)}},e.prototype.ensureRowsRendered=function(t,e){var n=this;this.renderedRows.forEach(function(o,r){(r<t||r>e)&&r!==n.lastFocusedRowIndex&&n.removeRow(r)});for(var o=t;o<=e;o++)this.renderedRows.has(o)||o<this.model.getRowCount()&&this.insertRow(o)},e.prototype.insertRow=function(t){var e=this,n=this.model.getRow(t),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),kn(o,"tree"===this.ariaRole?"treeitem":"option"),qn(o,this.model.getRowCount()),Xn(o,t+1),o.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var r=this.model.isRowSelected(t);io(o,!!r),so(o,r)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*t+"px";var i=this.componentCreator(n,o);i.addGuiEventListener("focusin",function(){return e.lastFocusedRowIndex=t}),o.appendChild(i.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:i,eDiv:o})},e.prototype.removeRow=function(t){var e=this.renderedRows.get(t);this.eContainer.removeChild(e.eDiv),this.destroyBean(e.rowComponent),this.renderedRows.delete(t)},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()})},e.prototype.setModel=function(t){this.model=t},e.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,t.prototype.destroy.call(this))},Ed([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Ed([K("focusService")],e.prototype,"focusService",void 0),Ed([tr("eContainer")],e.prototype,"eContainer",void 0),Ed([$],e.prototype,"postConstruct",null),e}(td),Od=["mouseover","mouseout","mouseenter","mouseleave"],bd=["touchstart","touchend","touchmove","touchcancel"],Sd=function(){function t(){this.isOutsideAngular=function(t){return gt(Od,t)}}return t.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},t.prototype.setInterval=function(t,e){return new Uo(function(n){n(window.setInterval(t,e))})},t.prototype.addEventListener=function(t,e,n,o){var r=gt(bd,e);t.addEventListener(e,n,{capture:!!o,passive:r})},t.prototype.dispatchEvent=function(t,e,n){e()},t.prototype.frameworkComponent=function(t){return null},t.prototype.isFrameworkComponent=function(t){return!1},t}(),Pd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Td=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Rd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pd(e,t),e.prototype.getNextCellToFocus=function(t,e,n){return void 0===n&&(n=!1),n?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,e){var n,o,r=t===To.UP,i=t===To.LEFT;if(r||t===To.DOWN)o=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),n=e.column;else{var s=this.columnModel.getAllDisplayedColumns(),a=this.gridOptionsWrapper.isEnableRtl();o=e.rowIndex,n=i!==a?s[0]:lt(s)}return{rowIndex:o,rowPinned:null,column:n}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,e){for(var n=e,o=!1;!o;){switch(t){case To.UP:n=this.getCellAbove(n);break;case To.DOWN:n=this.getCellBelow(n);break;case To.RIGHT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(n):this.getCellToRight(n);break;case To.LEFT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+t)}o=!n||this.isCellGoodToFocusOn(n)}return n},e.prototype.isCellGoodToFocusOn=function(t){var e,n=t.column;switch(t.rowPinned){case et.PINNED_TOP:e=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case et.PINNED_BOTTOM:e=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:e=this.rowModel.getRow(t.rowIndex)}return!!e&&!n.isSuppressNavigable(e)},e.prototype.getCellToLeft=function(t){if(!t)return null;var e=this.columnModel.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var e=this.columnModel.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var e=t.rowIndex,n=t.rowPinned;if(this.isLastRowInContainer(t))switch(n){case et.PINNED_BOTTOM:return null;case et.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(et.PINNED_BOTTOM)?{rowIndex:0,rowPinned:et.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(et.PINNED_BOTTOM)?{rowIndex:0,rowPinned:et.PINNED_BOTTOM}:null}var o=this.rowModel.getRow(t.rowIndex);return this.getNextStickyPosition(o)||{rowIndex:e+1,rowPinned:n}},e.prototype.getNextStickyPosition=function(t,e){if(this.gridOptionsWrapper.isGroupRowsSticky()&&t&&t.sticky){var n=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Td(arguments[e]));return t}(this.rowRenderer.getStickyTopRowCtrls()).sort(function(t,e){return t.getRowNode().rowIndex-e.getRowNode().rowIndex}),o=e?-1:1,r=n.findIndex(function(e){return e.getRowNode().rowIndex===t.rowIndex}),i=n[r+o];return i?{rowIndex:i.getRowNode().rowIndex,rowPinned:null}:void 0}},e.prototype.getCellBelow=function(t){if(!t)return null;var e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var e=t.rowPinned,n=t.rowIndex;return e===et.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:e===et.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},e.prototype.getRowAbove=function(t){var e=t.rowIndex,n=t.rowPinned;if(n?0===e:e===this.paginationProxy.getPageFirstRow())return n===et.PINNED_TOP?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(et.PINNED_TOP)?this.getLastFloatingTopRow():null;var o=this.rowModel.getRow(t.rowIndex);return this.getNextStickyPosition(o,!0)||{rowIndex:e-1,rowPinned:n}},e.prototype.getCellAbove=function(t){if(!t)return null;var e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:et.PINNED_TOP}},e.prototype.getNextTabbedCell=function(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.rowIndex,o=t.rowPinned,r=this.columnModel.getDisplayedColAfter(t.column);if(!r){r=e[0];var s=this.getRowBelow(t);if(i(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.rowIndex,o=t.rowPinned,r=this.columnModel.getDisplayedColBefore(t.column);if(!r){r=lt(e);var s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(i(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}},Dd([K("columnModel")],e.prototype,"columnModel",void 0),Dd([K("rowModel")],e.prototype,"rowModel",void 0),Dd([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Dd([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Dd([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Dd([j("cellNavigationService")],e)}(kt),Ad=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Md=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.consuming=!1,e}return Ad(e,t),e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.init=function(){this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var e=this.gridOptionsWrapper.getAlignedGrids();e&&e.forEach(function(e){if(e.api){var n=e.api.__getAlignedGridService();t(n)}})}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent(function(e){e.onColumnEvent(t)})},e.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent(function(e){e.onScrollEvent(t)})},e.prototype.onScrollEvent=function(t){var e=this;this.onEvent(function(){e.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left)})},e.prototype.getMasterColumns=function(t){var e=[];return t.columns?t.columns.forEach(function(t){e.push(t)}):t.column&&e.push(t.column),e},e.prototype.getColumnIds=function(t){var e=[];return t.columns?t.columns.forEach(function(t){e.push(t.getColId())}):t.column&&e.push(t.column.getColId()),e},e.prototype.onColumnEvent=function(t){var e=this;this.onEvent(function(){switch(t.type){case Vt.EVENT_COLUMN_MOVED:case Vt.EVENT_COLUMN_VISIBLE:case Vt.EVENT_COLUMN_PINNED:case Vt.EVENT_COLUMN_RESIZED:e.processColumnEvent(t);break;case Vt.EVENT_COLUMN_GROUP_OPENED:e.processGroupOpenedEvent(t);break;case Vt.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},e.prototype.processGroupOpenedEvent=function(t){var e=t.columnGroup,n=null;if(e){var o=e.getGroupId();n=this.columnModel.getProvidedColumnGroup(o)}e&&!n||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+e.isExpanded()),this.columnModel.setColumnGroupOpened(n,e.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var e,n=this,o=t.column,r=null;if(o&&(r=this.columnModel.getPrimaryColumn(o.getColId())),!o||r){var i=this.getMasterColumns(t);switch(t.type){case Vt.EVENT_COLUMN_MOVED:var s=t,a=t.columnApi.getColumnState().map(function(t){return{colId:t.colId}});this.columnModel.applyColumnState({state:a,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+s.toIndex);break;case Vt.EVENT_COLUMN_VISIBLE:var l=t;a=t.columnApi.getColumnState().map(function(t){return{colId:t.colId,hide:t.hide}}),this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+l.visible);break;case Vt.EVENT_COLUMN_PINNED:var c=t;a=t.columnApi.getColumnState().map(function(t){return{colId:t.colId,pinned:t.pinned}}),this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+c.pinned);break;case Vt.EVENT_COLUMN_RESIZED:var u=t,p={};i.forEach(function(e){n.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+e.getActualWidth()),p[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}}),null===(e=u.flexColumns)||void 0===e||e.forEach(function(t){p[t.getId()]&&delete p[t.getId()]}),this.columnModel.setColumnWidths(Object.values(p),!1,u.finished,"alignedGridChanged")}var d=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),h=this.gridOptionsWrapper.getAlignedGrids();h&&h.forEach(function(t){t.api&&t.api.setAlwaysShowVerticalScroll(d)})}},Md([K("columnModel")],e.prototype,"columnModel",void 0),Md([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Md([(0,n=X("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Md([$],e.prototype,"init",null),Md([j("alignedGridsService")],e);var n}(kt),Id=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ld=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Id(e,t),e.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.reset()},e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Vt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return h(this.selectedNodes,function(e,n){n&&t.push(n)}),t},e.prototype.getSelectedRows=function(){var t=[];return h(this.selectedNodes,function(e,n){n&&n.data&&t.push(n.data)}),t},e.prototype.removeGroupsFromSelection=function(){var t=this;h(this.selectedNodes,function(e,n){n&&n.group&&(t.selectedNodes[n.id]=void 0)})},e.prototype.updateGroupsFromChildrenSelections=function(t){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===et.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getRootNode();t||(t=new ip(!0,e)).setInactive(),t.forEachChangedNodeDepthFirst(function(t){if(t!==e){var n=t.calculateSelectedFromChildren();t.selectThisNode(null!==n&&n)}})}},e.prototype.getNodeForIdIfSelected=function(t){return this.selectedNodes[t]},e.prototype.clearOtherNodes=function(t){var e=this,n={},o=0;return h(this.selectedNodes,function(r,i){i&&i.id!==t.id&&(o+=e.selectedNodes[i.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),e.groupSelectsChildren&&i.parent&&(n[i.parent.id]=i.parent))}),h(n,function(t,e){var n=e.calculateSelectedFromChildren();e.selectThisNode(null!==n&&n)}),o},e.prototype.onRowSelected=function(t){var e=t.node;this.groupSelectsChildren&&e.group||(this.selectedNodes[e.id]=e.isSelected()?e:void 0)},e.prototype.syncInRowNode=function(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,e){r(e)&&t.id!==e.id&&e&&this.selectedNodes[e.id]==t&&(this.selectedNodes[e.id]=e)},e.prototype.syncInNewRowNode=function(t){r(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===et.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getTopLevelNodes();if(null!==t){var e=[];return function t(n){for(var o=0,r=n.length;o<r;o++){var i=n[o];i.isSelected()?e.push(i):i.group&&i.children&&t(i.children)}}(t),e}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},e.prototype.setRowModel=function(t){this.rowModel=t},e.prototype.isEmpty=function(){var t=0;return h(this.selectedNodes,function(e,n){n&&t++}),0===t},e.prototype.deselectAllRowNodes=function(t){void 0===t&&(t=!1);var e=function(t){return t.selectThisNode(!1)},n=this.rowModel.getType()===et.ROW_MODEL_TYPE_CLIENT_SIDE;if(t){if(!n)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(e)}else h(this.selectedNodes,function(t,n){n&&e(n)}),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Vt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.selectAllRowNodes=function(t){if(void 0===t&&(t=!1),this.rowModel.getType()!==et.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var e=this.rowModel,n=function(t){return t.selectThisNode(!0)};t?e.forEachNodeAfterFilter(n):e.forEachNode(n),this.rowModel.getType()===et.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Vt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.selectNode=function(t,e){t&&t.setSelectedParams({newValue:!0,clearSelection:!e})},e.prototype.deselectIndex=function(t){var e=this.rowModel.getRow(t);this.deselectNode(e)},e.prototype.deselectNode=function(t){t&&t.setSelectedParams({newValue:!1,clearSelection:!1})},e.prototype.selectIndex=function(t,e){var n=this.rowModel.getRow(t);this.selectNode(n,e)},Ld([K("rowModel")],e.prototype,"rowModel",void 0),Ld([K("columnApi")],e.prototype,"columnApi",void 0),Ld([K("gridApi")],e.prototype,"gridApi",void 0),Ld([(0,n=X("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Ld([$],e.prototype,"init",null),Ld([j("selectionService")],e);var n}(kt),Nd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kd=function(){function t(){}return t.prototype.sizeColumnsToFit=function(t){void 0===t&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},t.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},t.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},t.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},t.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},t.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},t.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},t.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},t.prototype.getColumnState=function(){return this.columnModel.getColumnState()},t.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},t.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},t.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},t.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},t.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},t.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},t.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},t.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},t.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},t.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},t.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},t.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},t.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},t.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},t.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},t.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},t.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},t.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},t.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},t.prototype.moveColumn=function(t,e){"number"==typeof t?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(t,e,"api")):this.columnModel.moveColumn(t,e,"api")},t.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},t.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},t.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},t.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},t.prototype.setColumnWidth=function(t,e,n,o){void 0===n&&(n=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,o)},t.prototype.setColumnWidths=function(t,e,n){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,n)},t.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.getSecondaryPivotColumn=function(t,e){return console.warn("AG Grid: since version 28.0.x getSecondaryPivotColumn has been renamed, please use getPivotResultColumn instead"),this.getPivotResultColumn(t,e)},t.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},t.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},t.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},t.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},t.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},t.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},t.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},t.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},t.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},t.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},t.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},t.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},t.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},t.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},t.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},t.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},t.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},t.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},t.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},t.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},t.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},t.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},t.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},t.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},t.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},t.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},t.prototype.setSecondaryColumns=function(t){console.warn("AG Grid: since version 28.0.x setSecondaryColumns has been renamed, please use setPivotResultColumns instead"),this.setPivotResultColumns(t)},t.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},t.prototype.getSecondaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getSecondaryColumns has been renamed, please use getPivotResultColumns instead"),this.getPivotResultColumns()},t.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},t.prototype.getPrimaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getPrimaryColumns has been renamed, please use getColumns instead"),this.getColumns()},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Wo.removeAllReferences.bind(window,this,"Column API"),100)},t.prototype.getAllColumns=function(){return console.warn("AG Grid: since version 28.0.x getAllColumns has been renamed, please use getColumns instead"),this.getColumns()},t.prototype.columnGroupOpened=function(t,e){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(t,e)},t.prototype.hideColumns=function(t,e){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(t,!e,"api")},t.prototype.hideColumn=function(t,e){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(t,!e,"api")},t.prototype.setState=function(t){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(t)},t.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},t.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},t.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},t.prototype.removeAggregationColumn=function(t){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(t,"api")},t.prototype.removeAggregationColumns=function(t){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(t,"api")},t.prototype.addAggregationColumn=function(t){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(t,"api")},t.prototype.addAggregationColumns=function(t){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(t,"api")},t.prototype.setColumnAggFunction=function(t,e){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(t,e,"api")},t.prototype.getDisplayNameForCol=function(t){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(t,null)},t.prototype.setColumnState=function(t){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:t,applyOrder:!0},"api")},t.prototype.getOriginalColumnGroup=function(t){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(t)},Nd([K("columnModel")],t.prototype,"columnModel",void 0),Nd([z],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Nd([j("columnApi")],t)}(),Gd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initialised=!1,e}return Gd(e,t),e.prototype.init=function(){var t=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(Vt.EVENT_CELL_VALUE_CHANGED,function(e){return t.callColumnCellValueChangedHandler(e)},this.gridOptionsWrapper.useAsyncEvents())},e.prototype.getValue=function(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=!1),this.initialised||this.init(),e){var r,i=t.getColDef(),s=i.field,a=t.getId(),l=e.data,c=e.groupData&&void 0!==e.groupData[a],u=!o&&e.aggData&&void 0!==e.aggData[a];if(n&&i.filterValueGetter?r=this.executeFilterValueGetter(i.filterValueGetter,l,t,e):this.gridOptionsWrapper.isTreeData()&&u?r=e.aggData[a]:this.gridOptionsWrapper.isTreeData()&&i.valueGetter?r=this.executeValueGetter(i.valueGetter,l,t,e):this.gridOptionsWrapper.isTreeData()&&s&&l?r=w(l,s,t.isFieldContainsDots()):c?r=e.groupData[a]:u?r=e.aggData[a]:i.valueGetter?r=this.executeValueGetter(i.valueGetter,l,t,e):s&&l&&(r=w(l,s,t.isFieldContainsDots())),this.cellExpressions&&"string"==typeof r&&0===r.indexOf("=")){var p=r.substring(1);r=this.executeValueGetter(p,l,t,e)}if(null==r){var d=this.getOpenedGroup(e,t);if(null!=d)return d}return r}},e.prototype.getOpenedGroup=function(t,e){if(this.gridOptionsWrapper.isShowOpenedGroup()&&e.getColDef().showRowGroup)for(var n=e.getColDef().showRowGroup,o=t.parent;null!=o;){if(o.rowGroupColumn&&(!0===n||n===o.rowGroupColumn.getId()))return o.key;o=o.parent}},e.prototype.setValue=function(t,e,n,o){var s=this.columnModel.getPrimaryColumn(e);if(!t||!s)return!1;i(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,c=a.newValueHandler,u=a.valueSetter;if(i(l)&&i(c)&&i(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var p,d={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:n,colDef:s.getColDef(),column:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return d.newValue=n,void 0===(p=c&&r(c)?c(d):r(u)?this.expressionService.evaluate(u,d):this.setValueUsingField(t.data,l,n,s.isFieldContainsDots()))&&(p=!0),!!p&&(t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),d.newValue=this.getValue(s,t),this.eventService.dispatchEvent({type:Vt.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:d.column,api:d.api,columnApi:d.columnApi,colDef:d.colDef,context:d.context,data:t.data,node:t,oldValue:d.oldValue,newValue:d.newValue,value:d.newValue,source:o}),!0)},e.prototype.callColumnCellValueChangedHandler=function(t){var e=t.colDef.onCellValueChanged;"function"==typeof e&&e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,e,n,o){if(!e)return!1;if(o)for(var r=e.split("."),i=t;r.length>0&&i;){var s=r.shift();0===r.length?i[s]=n:i=i[s]}else t[e]=n;return!0},e.prototype.executeFilterValueGetter=function(t,e,n,o){var r={data:e,node:o,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,o)};return this.expressionService.evaluate(t,r)},e.prototype.executeValueGetter=function(t,e,n,o){var r=n.getId(),i=this.valueCache.getValue(o,r);if(void 0!==i)return i;var s={data:e,node:o,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,o)},a=this.expressionService.evaluate(t,s);return this.valueCache.setValue(o,r,a),a},e.prototype.getValueCallback=function(t,e){var n=this.columnModel.getPrimaryColumn(e);return n?this.getValue(n,t):null},e.prototype.getKeyForNode=function(t,e){var n=this.getValue(t,e),o=t.getColDef().keyCreator,r=n;return o&&(r=o({value:n,colDef:t.getColDef(),column:t,node:e,data:e.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof r||null==r||"[object Object]"===(r=String(r))&&R(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),r},Bd([K("expressionService")],e.prototype,"expressionService",void 0),Bd([K("columnModel")],e.prototype,"columnModel",void 0),Bd([K("valueCache")],e.prototype,"valueCache",void 0),Bd([$],e.prototype,"init",null),Bd([j("valueService")],e)}(kt),Vd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ud=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return Vd(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,e){return"function"==typeof t?t(e):"string"==typeof t?this.evaluateExpression(t,e):void console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+n),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var e=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=n,n},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},Hd([(0,n=X("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Hd([j("expressionService")],e);var n}(kt),$d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return $d(e,t),e.prototype.getTemplate=function(t,e){var n=this.templateCache[t];if(n)return n;var o=this.waitingCallbacks[t],r=this;if(!o){this.waitingCallbacks[t]=o=[];var i=new XMLHttpRequest;i.onload=function(){r.handleHttpResult(this,t)},i.open("GET",t),i.send()}return e&&o.push(e),null},e.prototype.handleHttpResult=function(t,e){if(200===t.status&&null!==t.response){this.templateCache[e]=t.response||t.responseText;for(var n=this.waitingCallbacks[e],o=0;o<n.length;o++)(0,n[o])()}else console.warn("AG Grid: Unable to get template error "+t.status+" - "+e)},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([j("templateService")],e)}(kt),jd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jd(e,t),e.prototype.setBeans=function(t){this.logging=t.isDebug()},e.prototype.create=function(t){return new qd(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},Kd([(0,n=X("gridOptionsWrapper"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),Kd([j("loggerFactory")],e);var n}(kt),qd=function(){function t(t,e){this.name=t,this.isLoggingFunc=e}return t.prototype.isLogging=function(){return this.isLoggingFunc()},t.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},t}(),Xd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xd(e,t),e.prototype.setComp=function(t,e,n){var o=this;this.view=t,this.eGridHostDiv=e,this.eGui=n,this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(t){return t===$i.HeaderCell||t===$i.ToolPanel},getIconName:function(){return Ki.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new da(this.view)),this.addRtlSupport(),this.addManagedListener(this,Vt.EVENT_KEYBOARD_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,Vt.EVENT_MOUSE_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!1)});var r=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return r()}),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,e;return(null===(e=null===(t=this.focusService.findTabbableParent(this.getGui()))||void 0===t?void 0:t.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return ot.isRegistered(nt.RowGroupingModule)},e.prototype.showSideBar=function(){return ot.isRegistered(nt.SideBarModule)},e.prototype.showStatusBar=function(){return ot.isRegistered(nt.StatusBarModule)},e.prototype.showWatermark=function(){return ot.isRegistered(nt.EnterpriseCoreModule)},e.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:Vt.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},e.prototype.addRtlSupport=function(){var t=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var e=this.gridOptionsWrapper.getDocument(),n=this.view.getFocusableContainers(),o=n.findIndex(function(t){return t.contains(e.activeElement)})+(t?-1:1);return!(o<=0||o>=n.length)&&this.focusService.focusInto(n[o])},e.prototype.focusInnerElement=function(t){var e=this.view.getFocusableContainers();if(t){if(e.length>1)return this.focusService.focusInto(lt(e),!0);var n=lt(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(n,!0))return!0}return this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.view.forceFocusOutOfContainer(t)},Zd([K("columnApi")],e.prototype,"columnApi",void 0),Zd([K("gridApi")],e.prototype,"gridApi",void 0),Zd([K("focusService")],e.prototype,"focusService",void 0),Zd([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Zd([K("columnModel")],e.prototype,"columnModel",void 0),Zd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Zd([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Zd([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(kt),Jd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),th=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},eh=function(t){function e(e){var n=t.call(this,void 0)||this;return n.eGridDiv=e,n}return Jd(e,t),e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var e={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(e){return t.addCssClass(e)},addOrRemoveKeyboardFocusClass:function(e){return t.addOrRemoveCssClass(hd.AG_KEYBOARD_FOCUS,e)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(e){t.getGui().style.userSelect=null!=e?e:"",t.getGui().style.webkitUserSelect=null!=e?e:""},setCursor:function(e){t.getGui().style.cursor=null!=e?e:""}};this.ctrl=this.createManagedBean(new Qd);var n=this.createTemplate();this.setTemplate(n),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(e){return t.ctrl.focusInnerElement(e)}})},e.prototype.insertGridIntoDom=function(){var t=this,e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(function(){t.eGridDiv.removeChild(e),t.logger.log("Grid removed from DOM")})},e.prototype.updateLayoutClasses=function(t,e){var n=this.eRootWrapperBody.classList;n.toggle(pa.AUTO_HEIGHT,e.autoHeight),n.toggle(pa.NORMAL,e.normal),n.toggle(pa.PRINT,e.print),this.addOrRemoveCssClass(pa.AUTO_HEIGHT,e.autoHeight),this.addOrRemoveCssClass(pa.NORMAL,e.normal),this.addOrRemoveCssClass(pa.PRINT,e.print)},e.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(t){return pn(t)})},th([K("loggerFactory")],e.prototype,"loggerFactory",void 0),th([tr("gridBody")],e.prototype,"gridBodyComp",void 0),th([tr("sideBar")],e.prototype,"sideBarComp",void 0),th([tr("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),th([$],e.prototype,"postConstruct",null),e}(td),nh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ih=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rh(arguments[e]));return t},sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return nh(e,t),n=e,e.prototype.progressSort=function(t,e,n){var o=this.getNextSortDirection(t);this.setSortForColumn(t,o,e,n)},e.prototype.setSortForColumn=function(t,e,n,o){var r;e!==et.SORT_ASC&&e!==et.SORT_DESC&&(e=null);var i=[t];if(this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()&&t.getColDef().showRowGroup){var s=null===(r=this.columnModel.getSourceColumnsForGroupColumn(t))||void 0===r?void 0:r.filter(function(t){return t.getColDef().sortable});s&&(i=ih([t],s))}i.forEach(function(t){return t.setSort(e,o)}),(n||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarTheseColumns(i,o),this.updateSortIndex(t),this.dispatchSortChangedEvents(o)},e.prototype.updateSortIndex=function(t){var e=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),n=this.columnModel.getGroupDisplayColumnForGroup(t.getId()),o=e&&n||t,r=this.getIndexableColumnsOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(t){return t.setSortIndex(null)});var i=r.filter(function(e){return e!==t});ih(i,[o]).forEach(function(t,e){return t.setSortIndex(e)})},e.prototype.onSortChanged=function(t){this.dispatchSortChangedEvents(t)},e.prototype.isSortActive=function(){var t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(t){return!!t.getSort()});return t&&t.length>0},e.prototype.dispatchSortChangedEvents=function(t){this.eventService.dispatchEvent({type:Vt.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t})},e.prototype.clearSortBarTheseColumns=function(t,e){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(n){t.includes(n)||n.setSort(void 0,e)})},e.prototype.getNextSortDirection=function(t){var e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():n.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+e),null;var o,r=e.indexOf(t.getSort());return n.DEFAULT_SORTING_ORDER.indexOf(o=r<0||r==e.length-1?e[0]:e[r+1])<0?(console.warn("AG Grid: invalid sort type "+o),null):o},e.prototype.getColumnsOrderedForSort=function(){var t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),e={};return t.forEach(function(t,n){return e[t.getId()]=n}),t.sort(function(t,n){var o=t.getSortIndex(),r=n.getSortIndex();return null!=o&&null!=r?o-r:null==o&&null==r?e[t.getId()]>e[n.getId()]?1:-1:null==r?-1:1}),t},e.prototype.getIndexableColumnsOrdered=function(){var t=this;return this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()?this.getColumnsOrderedForSort().filter(function(e){var n;return e.getColDef().showRowGroup?!(!e.getColDef().field||!e.getSort())||(null===(n=t.columnModel.getSourceColumnsForGroupColumn(e))||void 0===n?void 0:n.some(function(t){return!!t.getSort()})):!!e.getSort()}):this.getColumnsWithSortingOrdered()},e.prototype.getColumnsWithSortingOrdered=function(){return this.getColumnsOrderedForSort().filter(function(t){return!!t.getSort()})},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(t){return{sort:t.getSort(),colId:t.getId()}})},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(t){return{sort:t.getSort(),column:t}})},e.prototype.canColumnDisplayMixedSort=function(t){var e=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),n=!!t.getColDef().showRowGroup;return e&&n},e.prototype.getDisplaySortForColumn=function(t){var e,n=this.columnModel.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!(null===(e=n)||void 0===e?void 0:e.length))return t.getSort();var o=t.getColDef().field?ih([t],n):n,r=o[0].getSort();return o.every(function(t){return t.getSort()==r})?r:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(t){var e=this;if(!this.gridOptionsWrapper.isColumnsSortingCoupledToGroup())return this.getColumnsWithSortingOrdered().indexOf(t);var n=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return n?t.getSort()?this.getDisplaySortIndexForColumn(n):null:this.getIndexableColumnsOrdered().filter(function(t){return!e.columnModel.getGroupDisplayColumnForGroup(t.getId())}).indexOf(t)},e.DEFAULT_SORTING_ORDER=[et.SORT_ASC,et.SORT_DESC,null],oh([K("columnModel")],e.prototype,"columnModel",void 0),oh([K("columnApi")],e.prototype,"columnApi",void 0),oh([K("gridApi")],e.prototype,"gridApi",void 0),n=oh([j("sortController")],e)}(kt),ah=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ah(e,t),e.prototype.setMouseOver=function(t){this.selectedColumns=t,this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:Vt.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},lh([K("columnApi")],e.prototype,"columnApi",void 0),lh([K("gridApi")],e.prototype,"gridApi",void 0),lh([j("columnHoverService")],e)}(kt),uh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ph=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return uh(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(e){return t.gridBodyCtrl=e.gridBodyCtrl})},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===e&&t.gridBodyCtrl.setColumnMovingCss(!1)})},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var e=this.executeLaterFuncs;this.executeLaterFuncs=[],0===t.length&&0===e.length||(window.setTimeout(function(){return t.forEach(function(t){return t()})},0),window.setTimeout(function(){return e.forEach(function(t){return t()})},300))},ph([K("ctrlsService")],e.prototype,"ctrlsService",void 0),ph([$],e.prototype,"postConstruct",null),ph([j("columnAnimationService")],e)}(kt),hh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return hh(e,t),n=e,e.prototype.createAutoGroupColumns=function(t,e){var n=this,o=[],r=this.gridOptionsWrapper.isTreeData(),i=this.gridOptionsWrapper.isGroupMultiAutoColumn();return r&&i&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),i=!1),i?e.forEach(function(e,r){o.push(n.createOneAutoGroupColumn(t,e,r))}):o.push(this.createOneAutoGroupColumn(t)),o},e.prototype.createOneAutoGroupColumn=function(t,e,o){var r,s=this.generateDefaultColDef(e);r=e?et.GROUP_AUTO_COLUMN_ID+"-"+e.getId():n.GROUP_AUTO_COLUMN_BUNDLE_ID,E(s,this.gridOptionsWrapper.getAutoGroupColumnDef()),(s=this.columnFactory.mergeColDefs(s)).colId=r,this.gridOptionsWrapper.isTreeData()||i(s.field)&&i(s.valueGetter)&&i(s.filterValueGetter)&&(s.filter=!1),o&&o>0&&(s.headerCheckboxSelection=!1);var a=t.find(function(t){return t.getId()==r});if(a)return a.setColDef(s,null),this.columnFactory.applyColumnState(a,s),a;var l=new st(s,null,r,!0);return this.context.createBean(l),l},e.prototype.generateDefaultColDef=function(t){var e=this.gridOptionsWrapper.getAutoGroupColumnDef(),n={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererFramework||e.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),t){var o=t.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:o.headerValueGetter}),(o.cellRenderer||o.cellRendererFramework)&&Object.assign(n,{cellRendererParams:{innerRenderer:o.cellRenderer,innerRendererFramework:o.cellRendererFramework,innerRendererParams:o.cellRendererParams}}),n.showRowGroup=t.getColId()}else n.showRowGroup=!0;return n},e.GROUP_AUTO_COLUMN_BUNDLE_ID=et.GROUP_AUTO_COLUMN_ID,fh([K("columnModel")],e.prototype,"columnModel",void 0),fh([K("columnFactory")],e.prototype,"columnFactory",void 0),n=fh([j("autoGroupColService")],e)}(kt),mh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mh(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(e){t.centerRowContainerCon=e.centerRowContainerCtrl,t.addManagedListener(t.eventService,Vt.EVENT_BODY_HEIGHT_CHANGED,t.onBodyHeightChanged.bind(t)),t.addManagedListener(t.eventService,Vt.EVENT_SCROLL_VISIBILITY_CHANGED,t.onScrollVisibilityChanged.bind(t)),t.checkPageSize()})},e.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},e.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},e.prototype.onBodyHeightChanged=function(){this.checkPageSize()},e.prototype.checkPageSize=function(){if(!this.notActive()){var t=this.gridOptionsWrapper.getRowHeightAsNumber(),e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){var n=Math.floor(e/t);this.gridOptionsWrapper.setProperty("paginationPageSize",n)}}},yh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),yh([$],e.prototype,"postConstruct",null),yh([j("paginationAutoPageSizeService")],e)}(kt),vh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ch=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Eh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheVersion=0,e}return vh(e,t),e.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,e,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=n)},e.prototype.getValue=function(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]},Ch([$],e.prototype,"init",null),Ch([j("valueCache")],e)}(kt),wh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Oh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wh(e,t),e.prototype.init=function(){this.rowModel.getType()===et.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Vt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==et.SOURCE_PASTE&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,e){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!t.isRowPinned()){var n=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),o=new ip(n,this.clientSideRowModel.getRootNode());o.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(o)}this.rowRenderer.refreshCells()}},Oh([K("rowModel")],e.prototype,"rowModel",void 0),Oh([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Oh([$],e.prototype,"init",null),Oh([j("changeDetectionService")],e)}(kt),Sh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ph=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sh(e,t),e.prototype.adaptFunction=function(t,e){var n=this.componentMetadataProvider.retrieve(t);return n&&n.functionAdapter?n.functionAdapter(e):null},e.prototype.adaptCellRendererFunction=function(t){return function(){function e(){}return e.prototype.refresh=function(t){return!1},e.prototype.getGui=function(){return this.eGui},e.prototype.init=function(e){var n=t(e),o=typeof n;this.eGui="string"!==o&&"number"!==o&&"boolean"!==o?null!=n?n:dn("<span></span>"):dn("<span>"+n+"</span>")},e}()},e.prototype.doesImplementIComponent=function(t){return!!t&&t.prototype&&"getGui"in t.prototype},Ph([K("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Ph([j("agComponentUtils")],e)}(kt),Th=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Th(e,t),e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},Rh([K("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Rh([$],e.prototype,"postConstruct",null),Rh([j("componentMetadataProvider")],e)}(kt),Mh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ih={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Lh={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Fh={},Nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mh(e,t),e.prototype.getSassVariable=function(t,e){var n="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),o=Ih[n][e],r=0;Fh[t]||(Fh[t]={});var i=Fh[t][e];if(null!=i)return i;if(Lh[e]){var s=Lh[e],a=document.createElement("div");a.classList.add(t),a.style.position="absolute";var l=s.reduce(function(t,e){var n=document.createElement("div");return n.style.position="static",n.classList.add(e),t.appendChild(n),n},a);if(document.body){document.body.appendChild(a);var c=-1!==e.toLowerCase().indexOf("height")?"height":"width";r=parseInt(window.getComputedStyle(l)[c],10),document.body.removeChild(a)}}return Fh[t][e]=r||o,Fh[t][e]},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){var t=this.getTheme().themeFamily;return this.getSassVariable(t,"chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,e=this.eGridDiv,n=null,o=[];e;){if(n=t.exec(e.className)){var r=e.className.match(t);r&&(o=r);break}e=e.parentElement||void 0}if(!n)return{allThemes:o};var i=n[0];if(void 0===n[2]){var s=i.replace("ag-","ag-theme-");R(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+i+" with "+s+".")},"using-old-theme")}return{theme:i,el:e,themeFamily:i.replace(/-dark$/,""),allThemes:o}},xh([K("eGridDiv")],e.prototype,"eGridDiv",void 0),xh([j("environment")],e)}(kt),kh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Bh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return kh(e,t),e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Vt.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Ve(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,e=this.getUiBodyHeight();(t!==this.scrollY||e!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=e,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+e+" ("+this.pixelsToShave+" * "+t+")"),this.setDivStretchOffset(e)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:Vt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var e="number"==typeof t?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:Vt.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=null!=t&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var e=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(t/e)},Gh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Gh([(0,n=X("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"agWire",null),Gh([$],e.prototype,"postConstruct",null),Gh([j("rowContainerHeightService")],e);var n}(kt),Wh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wh(e,t),e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},e.prototype.updateSelectableAfterGrouping=function(t){this.isRowSelectableFunc&&this.recurseDown(t.childrenAfterGroup,function(t){return t.childrenAfterGroup})},e.prototype.recurseDown=function(t,e){var n=this;t&&t.forEach(function(t){var o;t.group&&(t.hasChildren()&&n.recurseDown(e(t),e),o=n.groupSelectsChildren?r((e(t)||[]).find(function(t){return!0===t.selectable})):!!n.isRowSelectableFunc&&n.isRowSelectableFunc(t),t.setRowSelectable(o))})},Vh([$],e.prototype,"init",null),Vh([j("selectableService")],e)}(kt),Uh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$h=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zh=function(t){function e(){var e=t.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e}return Uh(e,t),e.prototype.postConstruct=function(){var t=this,e=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Po(e?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",Po(e?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",Po(e?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",Po(e?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,Vt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(e){var n=e.el,o=e.fn;t.addManagedListener(n,"click",o),t.addManagedListener(n,"keydown",function(t){t.key!==To.ENTER&&t.key!==To.SPACE||(t.preventDefault(),o())})}),this.onPaginationChanged()):this.setDisplayed(!1)},e.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(t?e+1:0)},e.prototype.formatNumber=function(t){var e=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(e)return e({value:t});var n=this.gridOptionsWrapper.getLocaleTextFunc();return po(t,n("thousandSeparator",","),n("decimalSeparator","."))},e.prototype.getTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=t("page","Page"),n=t("to","to"),o=t("of","of"),r=t("firstPage","First Page"),i=t("previousPage","Previous Page"),s=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+n+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+o+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+r+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+i+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+l+'-start-page">'+e+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+o+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'"></div>\n                </span>\n            </div>'},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay();this.nextButtonDisabled=e&&t===n-1||o,this.lastButtonDisabled=!e||o||t===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,e){jn(t,e),t.classList.toggle("ag-disabled",e),e?t.removeAttribute("tabindex"):t.setAttribute("tabindex","0")},e.prototype.updateRowLabels=function(){var t,e,n=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?t=e=0:(e=(t=o*n+1)+o-1,r&&e>i&&(e=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(t),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(e)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),n=t?this.paginationProxy.getMasterRowCount():null;if(1===n){var o=this.paginationProxy.getRow(0);if(o&&o.group&&!o.groupData&&!o.aggData)return void this.setTotalLabelsToZero()}if(t)this.lbTotal.innerHTML=this.formatNumber(e),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var r=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},$h([K("paginationProxy")],e.prototype,"paginationProxy",void 0),$h([K("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),$h([tr("btFirst")],e.prototype,"btFirst",void 0),$h([tr("btPrevious")],e.prototype,"btPrevious",void 0),$h([tr("btNext")],e.prototype,"btNext",void 0),$h([tr("btLast")],e.prototype,"btLast",void 0),$h([tr("lbRecordCount")],e.prototype,"lbRecordCount",void 0),$h([tr("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),$h([tr("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),$h([tr("lbCurrent")],e.prototype,"lbCurrent",void 0),$h([tr("lbTotal")],e.prototype,"lbTotal",void 0),$h([$],e.prototype,"postConstruct",null),e}(Jo),jh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yh=(()=>(function(t){t[t.Loading=0]="Loading",t[t.NoRows=1]="NoRows"}(Yh||(Yh={})),Yh))(),qh=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n.manuallyDisplayed=!1,n}return jh(e,t),e.prototype.updateLayoutClasses=function(t,e){var n=this.eOverlayWrapper.classList;n.toggle(pa.AUTO_HEIGHT,e.autoHeight),n.toggle(pa.NORMAL,e.normal),n.toggle(pa.PRINT,e.print)},e.prototype.postConstruct=function(){this.createManagedBean(new da(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,Vt.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var e=this.eOverlayWrapper.classList;e.toggle("ag-overlay-loading-wrapper",t===Yh.Loading),e.toggle("ag-overlay-no-rows-wrapper",t===Yh.NoRows)},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var t=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(t,Yh.Loading)}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var t=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(t,Yh.NoRows)}},e.prototype.showOverlay=function(t,e){var n=this;this.inProgress||(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(t){n.inProgress=!1,n.eOverlayWrapper.appendChild(t.getGui()),n.activeOverlay=t,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},e.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),cn(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},e.prototype.destroy=function(){this.destroyActiveOverlay(),t.prototype.destroy.call(this)},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),e=this.gridOptionsWrapper.isSuppressNoRowsOverlay();t&&!e?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()},e.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Kh([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Kh([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Kh([K("gridApi")],e.prototype,"gridApi",void 0),Kh([K("columnModel")],e.prototype,"columnModel",void 0),Kh([tr("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Kh([$],e.prototype,"postConstruct",null),e}(Jo),Xh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xh(e,t),e.prototype.getFirstRow=function(){var t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t=et.PINNED_TOP:this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t=et.PINNED_BOTTOM),void 0===t?null:{rowIndex:e,rowPinned:t}},e.prototype.getLastRow=function(){var t,e=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return n?(e=et.PINNED_BOTTOM,t=n-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):o&&(e=et.PINNED_TOP,t=o-1),void 0===t?null:{rowIndex:t,rowPinned:e}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case et.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case et.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,e){return!t&&!e||!(t&&!e||!t&&e)&&t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned},e.prototype.before=function(t,e){switch(t.rowPinned){case et.PINNED_TOP:if(e.rowPinned!==et.PINNED_TOP)return!0;break;case et.PINNED_BOTTOM:if(e.rowPinned!==et.PINNED_BOTTOM)return!1;break;default:if(r(e.rowPinned))return e.rowPinned!==et.PINNED_TOP}return t.rowIndex<e.rowIndex},e.prototype.rowMax=function(t){var e,n=this;return t.forEach(function(t){(void 0===e||n.before(e,t))&&(e=t)}),e},e.prototype.rowMin=function(t){var e,n=this;return t.forEach(function(t){(void 0===e||n.before(t,e))&&(e=t)}),e},Zh([K("rowModel")],e.prototype,"rowModel",void 0),Zh([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Zh([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Zh([j("rowPositionUtils")],e)}(kt),Jh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),tf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jh(e,t),e.prototype.createId=function(t){return this.createIdFromValues(t.rowIndex,t.column,t.rowPinned)},e.prototype.createIdFromValues=function(t,e,n){return t+"."+(null==n?"null":n)+"."+e.getId()},e.prototype.equals=function(t,e){return t.column===e.column&&t.rowPinned===e.rowPinned&&t.rowIndex===e.rowIndex},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([j("cellPositionUtils")],e)}(kt),ef=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),nf=function(t){this.cellValueChanges=t},of=function(t){function e(e,n,o){var r=t.call(this,e)||this;return r.initialRange=n,r.finalRange=o,r}return ef(e,t),e}(nf),rf=function(){function t(e){this.actionStack=[],this.maxStackSize=e||t.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return t.prototype.pop=function(){return this.actionStack.pop()},t.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},t.prototype.clear=function(){this.actionStack=[]},t.prototype.getCurrentStackSize=function(){return this.actionStack.length},t.DEFAULT_STACK_SIZE=10,t}(),sf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),af=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isFilling=!1,e.onCellValueChanged=function(t){var n={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},o=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,n),r=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,n);if(o||r||e.isPasting||e.isFilling){var i=t.oldValue,s=t.value,a={rowPinned:t.rowPinned,rowIndex:t.rowIndex,columnId:t.column.getColId(),newValue:s,oldValue:i};e.cellValueChanges.push(a)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return sf(e,t),e.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var t=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();t<=0||(this.undoStack=new rf(t),this.redoStack=new rf(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,Vt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Vt.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Vt.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Vt.EVENT_ROW_DRAG_END,this.clearStacks))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(){if(this.undoStack){var t=this.undoStack.pop();t&&t.cellValueChanges&&(this.processAction(t,function(t){return t.oldValue}),t instanceof of?this.processRangeAndCellFocus(t.cellValueChanges,t.initialRange):this.processRangeAndCellFocus(t.cellValueChanges),this.redoStack.push(t))}},e.prototype.redo=function(){if(this.redoStack){var t=this.redoStack.pop();t&&t.cellValueChanges&&(this.processAction(t,function(t){return t.newValue}),t instanceof of?this.processRangeAndCellFocus(t.cellValueChanges,t.finalRange):this.processRangeAndCellFocus(t.cellValueChanges),this.undoStack.push(t))}},e.prototype.processAction=function(t,e){var n=this;t.cellValueChanges.forEach(function(t){var o=t.columnId,r=n.getRowNode({rowIndex:t.rowIndex,rowPinned:t.rowPinned});r.displayed&&r.setDataValue(o,e(t))})},e.prototype.processRangeAndCellFocus=function(t,e){var n;if(e){var o=e.startRow,r=e.endRow;return n={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:e.startColumn.getColId()},this.setLastFocusedCell(n),void this.gridApi.addCellRange({rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:e.startColumn,columns:e.columns})}var i=t[0],s=this.getRowNode({rowIndex:i.rowIndex,rowPinned:i.rowPinned});this.setLastFocusedCell(n={rowPinned:i.rowPinned,rowIndex:s.rowIndex,columnId:i.columnId})},e.prototype.setLastFocusedCell=function(t){var e=t.rowIndex,n=t.columnId,o=t.rowPinned;this.gridApi.ensureIndexVisible(e),this.gridApi.ensureColumnVisible(n),ot.isRegistered(nt.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell({rowIndex:e,column:n,rowPinned:o,forceBrowserFocus:!0})},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,Vt.EVENT_ROW_EDITING_STARTED,function(e){t.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,Vt.EVENT_ROW_EDITING_STOPPED,function(){var e=new nf(t.cellValueChanges);t.pushActionsToUndoStack(e),t.activeRowEdit=null})},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,Vt.EVENT_CELL_EDITING_STARTED,function(e){t.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,Vt.EVENT_CELL_EDITING_STOPPED,function(){if(t.activeCellEdit=null,!t.activeRowEdit&&!t.isPasting&&!t.isFilling){var e=new nf(t.cellValueChanges);t.pushActionsToUndoStack(e)}})},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,Vt.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,Vt.EVENT_PASTE_END,function(){var e=new nf(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isPasting=!1})},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,Vt.EVENT_FILL_START,function(){t.isFilling=!0}),this.addManagedListener(this.eventService,Vt.EVENT_FILL_END,function(e){var n=new of(t.cellValueChanges,e.initialRange,e.finalRange);t.pushActionsToUndoStack(n),t.isFilling=!1})},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case et.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case et.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},af([K("focusService")],e.prototype,"focusService",void 0),af([K("gridApi")],e.prototype,"gridApi",void 0),af([K("rowModel")],e.prototype,"rowModel",void 0),af([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),af([K("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),af([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),af([$],e.prototype,"init",null),af([j("undoRedoService")],e)}(kt),cf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),uf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cf(e,t),e.prototype.findHeader=function(t,e){var n;if(n=t.column instanceof vt?this.columnModel["getDisplayedGroup"+e](t.column):this.columnModel["getDisplayedCol"+e](t.column))return{column:n,headerRowIndex:t.headerRowIndex}},e.prototype.findColAtEdgeForHeaderRow=function(t,e){var n=this.columnModel.getAllDisplayedColumns(),o=n["start"===e?0:n.length-1];if(o){var r=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(t);return r==vc.COLUMN_GROUP?{headerRowIndex:t,column:this.columnModel.getColumnGroupAtLevel(o,t)}:{headerRowIndex:null==r?-1:t,column:o}}},uf([K("columnModel")],e.prototype,"columnModel",void 0),uf([K("ctrlsService")],e.prototype,"ctrlsService",void 0),uf([j("headerPositionUtils")],e)}(kt),df=function(){function t(){}return t.prototype.buildColumnDefs=function(t,e,n){var o=this,r=[],i={};return t.forEach(function(t){for(var s=!0,a=o.createDefFromColumn(t,e,n),l=t.getOriginalParent();l;){var c=null;if(l.isPadding())l=l.getOriginalParent();else{var u=i[l.getGroupId()];if(u){u.children.push(a),s=!1;break}(c=o.createDefFromGroup(l))&&(c.children=[a],i[c.groupId]=c,a=c,l=l.getOriginalParent())}}s&&r.push(a)}),r},t.prototype.createDefFromGroup=function(t){var e=g(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},t.prototype.createDefFromColumn=function(t,e,n){var o=g(t.getColDef());return o.colId=t.getColId(),o.width=t.getActualWidth(),o.rowGroup=t.isRowGroupActive(),o.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,o.pivot=t.isPivotActive(),o.pivotIndex=t.isPivotActive()?n.indexOf(t):null,o.aggFunc=t.isValueActive()?t.getAggFunc():null,o.hide=!t.isVisible()||void 0,o.pinned=t.isPinned()?t.getPinned():null,o.sort=t.getSort()?t.getSort():null,o.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,o},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([j("columnDefFactory")],t)}(),hf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ff=function(){function t(){}return t.prototype.getInitialRowClasses=function(t){var e=[];return r(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),yt(e,this.processClassesFromGridOptions(t.rowNode)),yt(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned===et.PINNED_LEFT&&e.push("ag-cell-last-left-pinned"),t.pinned===et.PINNED_RIGHT&&e.push("ag-cell-first-right-pinned")),e},t.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(t){"string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach(function(t){return e.push(t)})},o=this.gridOptionsWrapper.getRowClass();if(o){if("function"==typeof o)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(o)}var r=this.gridOptionsWrapper.getRowClassFunc();return r&&n(r({data:t.data,node:t,rowIndex:t.rowIndex})),e},t.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(t){e.push(t)},function(t){}),e},t.prototype.processRowClassRules=function(t,e,n){var o={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),o,e,n)},t.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},hf([K("stylingService")],t.prototype,"stylingService",void 0),hf([K("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),hf([j("rowCssClassCalculator")],t)}(),gf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mf=function(){function t(){}return t.prototype.doFullSort=function(t,e){var n=t.map(function(t,e){return{currentPos:e,rowNode:t}});return n.sort(this.compareRowNodes.bind(this,e)),n.map(function(t){return t.rowNode})},t.prototype.compareRowNodes=function(t,e,n){for(var o=e.rowNode,r=n.rowNode,i=0,s=t.length;i<s;i++){var a,l=t[i],c=l.sort===et.SORT_DESC,u=this.getValue(o,l.column),p=this.getValue(r,l.column),d=this.getComparator(l,o);if(a=d?d(u,p,o,r,c):Wo.defaultComparator(u,p,this.gridOptionsWrapper.isAccentedSort()),!isNaN(a)&&0!==a)return l.sort===et.SORT_ASC?a:-1*a}return e.currentPos-n.currentPos},t.prototype.getComparator=function(t,e){var n=t.column,o=n.getColDef().comparator;if(null!=o)return o;if(n.getColDef().showRowGroup){var r=!e.group&&n.getColDef().field;if(r){var i=this.columnModel.getPrimaryColumn(r);if(i)return i.getColDef().comparator}}},t.prototype.getValue=function(t,e){var n;if(!this.gridOptionsWrapper.isColumnsSortingCoupledToGroup())return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){var o=this.columnModel.getGroupDisplayColumnForGroup(e.getId());if(!o)return;return null===(n=t.groupData)||void 0===n?void 0:n[o.getId()]}return t.group&&e.getColDef().showRowGroup?void 0:this.valueService.getValue(e,t,!1,!1)},gf([K("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),gf([K("valueService")],t.prototype,"valueService",void 0),gf([K("columnModel")],t.prototype,"columnModel",void 0),gf([j("rowNodeSorter")],t)}(),yf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ready=!1,e.readyCallbacks=[],e}var n;return yf(e,t),n=e,e.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var t=this.createReadyParams();this.readyCallbacks.forEach(function(e){return e(t)}),this.readyCallbacks.length=0}},e.prototype.whenReady=function(t){this.ready?t(this.createReadyParams()):this.readyCallbacks.push(t)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollCtrl=function(t){this.fakeHScrollCtrl=t,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(t){this.gridHeaderCtrl=t,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(t){this.centerRowContainerCtrl=t,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(t){this.leftRowContainerCtrl=t,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(t){this.rightRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(t){this.topCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(t){this.topLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(t){this.topRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(t){this.stickyTopCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(t){this.stickyTopLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(t){this.stickyTopRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(t){this.bottomCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(t){this.bottomLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(t){this.bottomRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerHeaderContainer=function(t,e){switch(e){case et.PINNED_LEFT:this.leftHeaderRowContainerCtrl=t;break;case et.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=t;break;default:this.centerHeaderRowContainerCtrl=t}this.checkReady()},e.prototype.registerGridBodyCtrl=function(t){this.gridBodyCtrl=t,this.checkReady()},e.prototype.registerGridCtrl=function(t){this.gridCtrl=t,this.checkReady()},e.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(t){switch(t){case et.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case et.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},e.NAME="ctrlsService",function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([j(n.NAME)],e)}(kt),vf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.registry={},e}return vf(e,t),e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var e=this.registry[t];if(null!=e)return new e},function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([j("ctrlsFactory")],e)}(kt),Ef=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Of=function(t){function e(){return t.call(this)||this}return Ef(e,t),e.prototype.setComp=function(t,e,n,o){this.view=t,this.eViewport=n,this.eContainer=o,this.eGui=e,this.addManagedListener(this.eventService,Vt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var r=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.gridOptionsWrapper,la.PROP_DOM_LAYOUT,r),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this),this.view.addOrRemoveCssClass("ag-apple-scrollbar",ke()||Ge())},e.prototype.addActiveListenerToggles=function(){var t=this;["mouseenter","mousedown","touchstart"].forEach(function(e){return t.addManagedListener(t.eGui,e,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(e){return t.addManagedListener(t.eGui,e,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},e.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=$e()},e.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,Vt.EVENT_BODY_SCROLL,function(e){"horizontal"===e.direction&&t.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,Vt.EVENT_BODY_SCROLL_END,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.columnModel.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&t,o=this.gridOptionsWrapper.getScrollbarWidth();n&&(e+=o),this.view.setRightSpacerFixedWidth(e),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",e<=o);var r=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(r+=o),this.view.setLeftSpacerFixedWidth(r),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",r<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),e=this.invisibleScrollbar,n=this.gridOptionsWrapper.isSuppressHorizontalScroll(),o=t&&this.gridOptionsWrapper.getScrollbarWidth()||0,r=n?0:0===o&&e?15:o;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",e),this.view.setHeight(r),this.view.setViewportHeight(r),this.view.setContainerHeight(r)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},wf([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),wf([K("columnModel")],e.prototype,"columnModel",void 0),wf([K("ctrlsService")],e.prototype,"ctrlsService",void 0),wf([$],e.prototype,"postConstruct",null),e}(kt),bf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Pf=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return bf(e,t),e.prototype.postConstruct=function(){var t=this,e={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setHeight:function(e){return On(t.getGui(),e)},setContainerHeight:function(e){return On(t.eContainer,e)},setViewportHeight:function(e){return On(t.eViewport,e)},setRightSpacerFixedWidth:function(e){return wn(t.eRightSpacer,e)},setLeftSpacerFixedWidth:function(e){return wn(t.eLeftSpacer,e)},includeLeftSpacerScrollerCss:function(e,n){return t.eLeftSpacer.classList.toggle(e,n)},includeRightSpacerScrollerCss:function(e,n){return t.eRightSpacer.classList.toggle(e,n)}};this.createManagedBean(new Of).setComp(e,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new wl(function(e){return t.eContainer.style.width=e+"px"}))},e.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Sf([tr("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),Sf([tr("eRightSpacer")],e.prototype,"eRightSpacer",void 0),Sf([tr("eViewport")],e.prototype,"eViewport",void 0),Sf([tr("eContainer")],e.prototype,"eContainer",void 0),Sf([$],e.prototype,"postConstruct",null),e}(Jo),Df=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Df(e,t),e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,Vt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.gridOptionsWrapper,la.PROP_DOM_LAYOUT,t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsWrapper.getDomLayout()===et.DOM_LAYOUT_PRINT,e=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=t?0:this.columnModel.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:Vt.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:Vt.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Tf([K("columnModel")],e.prototype,"columnModel",void 0),Tf([$],e.prototype,"postConstruct",null),Tf([j("pinnedWidthService")],e)}(kt),Af=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events=[],e}return Af(e,t),e.prototype.postConstruct=function(){this.rowModel.getType()==et.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var e=this;null!=this.clientSideRowModel?(this.events.push(t),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){e.clientSideRowModel&&e.clientSideRowModel.onRowGroupOpened(),e.events.forEach(function(t){return e.eventService.dispatchEvent(t)}),e.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(t)},Mf([K("animationFrameService")],e.prototype,"animationFrameService",void 0),Mf([K("rowModel")],e.prototype,"rowModel",void 0),Mf([$],e.prototype,"postConstruct",null),Mf([j("rowNodeEventThrottle")],e)}(kt),If=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Lf=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(If(arguments[e]));return t},Ff=function(){function t(t,e,n){e?(this.gridOptions=e,(new Nf).create(t,e,function(e){var n=new eh(t);e.createBean(n)},void 0,n)):console.error("AG Grid: no gridOptions provided to the grid")}return t.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},t}(),Nf=function(){function t(){}return t.prototype.create=function(t,e,n,o,r){var i=this,s=!!e.debug,a=this.getRegisteredModules(r),l=this.createBeansList(e.rowModelType,a),c=this.createProvidedBeans(t,e,r);if(l){var u={providedBeanInstances:c,beanClasses:l,debug:s},p=new qd("AG Grid",function(){return e.debug}),d=new qd("Context",function(){return u.debug}),h=new H(u,d),f=h.getBean("beans");this.registerModuleUserComponents(f,a),this.registerStackComponents(f,a),this.registerControllers(f,a),n(h),f.ctrlsService.whenReady(function(){i.setColumnsAndData(f),i.dispatchGridReadyEvent(f,e);var t=ot.isRegistered(nt.EnterpriseCoreModule);p.log("initialised successfully, enterprise = "+t)}),o&&o(h)}},t.prototype.registerControllers=function(t,e){e.forEach(function(e){e.controllers&&e.controllers.forEach(function(e){return t.ctrlsFactory.register(e)})})},t.prototype.registerStackComponents=function(t,e){var n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)},t.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,n=ot.getRegisteredModules(),o=[],r={};function i(t,e){var n;r[(n=e).moduleName]||(r[n.moduleName]=!0,o.push(n),ot.register(n,t)),e.dependantModules&&e.dependantModules.forEach(i.bind(null,t))}return e&&e.forEach(i.bind(null,!0)),n&&n.forEach(i.bind(null,!ot.isPackageBased())),o},t.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,function(t){return t.userComponents?t.userComponents:[]}).forEach(function(e){t.userComponentRegistry.registerDefaultComponent(e.componentName,e.componentClass)})},t.prototype.createProvidedBeans=function(t,e,n){var o=n?n.frameworkOverrides:null;i(o)&&(o=new Sd);var r={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,frameworkOverrides:o};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r},t.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:Vc},{componentName:"AgRadioButton",componentClass:_p},{componentName:"AgToggleButton",componentClass:Cp},{componentName:"AgInputTextField",componentClass:wp},{componentName:"AgInputTextArea",componentClass:bp},{componentName:"AgInputNumberField",componentClass:Pp},{componentName:"AgInputRange",componentClass:Tp},{componentName:"AgSelect",componentClass:Dr},{componentName:"AgSlider",componentClass:Mp},{componentName:"AgAngleSelect",componentClass:Lp},{componentName:"AgColorPicker",componentClass:zp},{componentName:"AgGridBody",componentClass:Fl},{componentName:"AgHeaderRoot",componentClass:Eu},{componentName:"AgSortIndicator",componentClass:_i},{componentName:"AgPagination",componentClass:zh},{componentName:"AgOverlayWrapper",componentClass:qh},{componentName:"AgGroupComponent",componentClass:Yp},{componentName:"AgPanel",componentClass:Wp},{componentName:"AgDialog",componentClass:Up},{componentName:"AgRowContainer",componentClass:ec},{componentName:"AgFakeHorizontalScroll",componentClass:Pf}],n=this.extractModuleEntity(t,function(t){return t.agStackComponents?t.agStackComponents:[]});return e.concat(n)},t.prototype.createBeansList=function(t,e){var n=this.getRowModelClass(t,e);if(n){var o=[n,Ba,Qh,tf,pf,_h,Tc,_s,Dh,Ah,xu,Bs,Bh,bu,op,Us,le,tt,la,vd,Fd,Ks,re,mu,hp,Xu,Ud,Wt,zd,xd,zl,Eh,Wd,Yd,se,Vu,Du,Ki,kd,hd,Vl,Nh,Rd,tp,mp,Gl,sh,ch,dh,Hh,gh,bh,Fu,lf,Pe,df,ff,up,mf,_f,Rf,xf,Cf],r=this.extractModuleEntity(e,function(t){return t.beans?t.beans:[]});o.push.apply(o,Lf(r));var i=[];return o.forEach(function(t){i.indexOf(t)<0&&i.push(t)}),i}},t.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],Lf(t.map(e)))},t.prototype.setColumnsAndData=function(t){var e=t.gridOptionsWrapper.getColumnDefs();t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},t.prototype.dispatchGridReadyEvent=function(t,e){t.eventService.dispatchEvent({type:Vt.EVENT_GRID_READY,api:e.api,columnApi:e.columnApi})},t.prototype.getRowModelClass=function(t,e){t||(t=et.ROW_MODEL_TYPE_CLIENT_SIDE);var n={};e.forEach(function(t){h(t.rowModels,function(t,e){n[t]=e})});var o=n[t];if(r(o))return o;ot.isPackageBased()?[et.ROW_MODEL_TYPE_VIEWPORT,et.ROW_MODEL_TYPE_SERVER_SIDE].includes(t)?console.error('AG Grid: Row Model "'+t+"\" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/"):console.error("AG Grid: could not find row model for rowModelType "+t):t===et.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+nt.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===et.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+nt.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===et.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+nt.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===et.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+nt.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+t)},t}(),kf=function(){function t(){}return t.prototype.wrap=function(t,e,n,o){var r=this;void 0===n&&(n=[]);var i=this.createWrapper(t,o);return e.forEach(function(t){r.createMethod(i,t,!0)}),n.forEach(function(t){r.createMethod(i,t,!1)}),i},t.prototype.unwrap=function(t){return t},t.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},t.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},t}(),Gf="undefined"==typeof global?{}:global;Gf.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,Gf.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,Gf.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,Gf.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,Gf.Node="undefined"==typeof Node?{}:Node,Gf.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var Bf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Wf=function(){function t(e,n,o,r,i,s,a,l){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsWrapper=n,this.eventService=o,this.columnModel=r,this.gridApi=i,this.columnApi=s,this.beans=l,this.selectionService=a,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=t.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return t.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.getCopyOfNodesMap=function(){return Wo.cloneObject(this.allNodesMap)},t.prototype.getRowNode=function(t){return this.allNodesMap[t]},t.prototype.setRowData=function(e){var n=this;if("string"!=typeof e){var o=this.rootNode,r=this.rootNode.sibling;o.childrenAfterFilter=null,o.childrenAfterGroup=null,o.childrenAfterAggFilter=null,o.childrenAfterSort=null,o.childrenMapped=null,o.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?o.allLeafChildren=e.map(function(e){return n.createNode(e,n.rootNode,t.TOP_LEVEL)}):(o.allLeafChildren=[],o.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=o.childrenAfterFilter,r.childrenAfterGroup=o.childrenAfterGroup,r.childrenAfterAggFilter=o.childrenAfterAggFilter,r.childrenAfterSort=o.childrenAfterSort,r.childrenMapped=o.childrenMapped,r.allLeafChildren=o.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},t.prototype.updateRowData=function(t,e){var n={remove:[],update:[],add:[]},o=[];return this.executeRemove(t,n,o),this.executeUpdate(t,n,o),this.executeAdd(t,n),this.updateSelection(o),e&&Wo.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},t.prototype.updateSelection=function(t){var e=t.length>0;e&&t.forEach(function(t){t.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),e&&this.eventService.dispatchEvent({type:Vt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.executeAdd=function(e,n){var o=this,r=e.add,i=e.addIndex;if(!Wo.missingOrEmpty(r)){var s,a,l=r.map(function(e){return o.createNode(e,o.rootNode,t.TOP_LEVEL)});if("number"==typeof i&&i>=0){var c=this.rootNode.allLeafChildren,u=0===i?0:c.reduce(function(t,e,n){var o,r=e.rowIndex,s=null===(o=c[t])||void 0===o?void 0:o.rowIndex;return null!=r&&null!=s&&r<i&&r>s?n:t},0)+1;s=c.slice(0,u),a=c.slice(u,c.length)}else s=this.rootNode.allLeafChildren,a=[];this.rootNode.allLeafChildren=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Bf(arguments[e]));return t}(s,l,a),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),n.add=l}},t.prototype.executeRemove=function(t,e,n){var o=this,r=t.remove;if(!Wo.missingOrEmpty(r)){var i={};r.forEach(function(t){var r=o.lookupRowNode(t);r&&(r.isSelected()&&n.push(r),r.clearRowTopAndRowIndex(),i[r.id]=!0,delete o.allNodesMap[r.id],e.remove.push(r))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(t){return!i[t.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},t.prototype.executeUpdate=function(e,n,o){var r=this,i=e.update;Wo.missingOrEmpty(i)||i.forEach(function(e){var i=r.lookupRowNode(e);i&&(i.updateData(e),!i.selectable&&i.isSelected()&&o.push(i),r.setMasterForRow(i,e,t.TOP_LEVEL,!1),n.update.push(i))})},t.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsWrapper.getRowIdFunc();if(n){var o=n({data:t,level:0});if(!(e=this.allNodesMap[o]))return console.error("AG Grid: could not find row id="+o+", data item was not found for this id"),null}else if(!(e=this.rootNode.allLeafChildren.find(function(e){return e.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return e||null},t.prototype.createNode=function(t,e,n){var o=new ki(this.beans);return o.group=!1,this.setMasterForRow(o,t,n,!0),e&&!this.suppressParentsInRowNodes&&(o.parent=e),o.level=n,o.setDataAndId(t,this.nextId.toString()),this.allNodesMap[o.id]&&console.warn("AG Grid: duplicate node id '"+o.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[o.id]=o,this.nextId++,o},t.prototype.setMasterForRow=function(t,e,n,o){if(this.doingTreeData)t.setMaster(!1),o&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),o){var r=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(n+(r?r.length:0))}},t.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},t.TOP_LEVEL=0,t.ROOT_NODE_ID="ROOT_NODE_ID",t}(),Vf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Uf=(()=>(function(t){t[t.Normal=0]="Normal",t[t.AfterFilter=1]="AfterFilter",t[t.AfterFilterAndSort=2]="AfterFilterAndSort",t[t.PivotNodes=3]="PivotNodes"}(Uf||(Uf={})),Uf))(),$f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rowsToDisplay=[],e}return Vf(e,t),e.prototype.init=function(){var t=this.refreshModel.bind(this,{step:Sc.EVERYTHING}),e=!this.gridOptionsWrapper.isSuppressAnimationFrame(),n=this.refreshModel.bind(this,{step:Sc.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedListener(this.eventService,Vt.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Sc.PIVOT})),this.addManagedListener(this.eventService,Vt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_COLUMN_PIVOT_MODE_CHANGED,t);var o=this.refreshModel.bind(this,{step:Sc.MAP,keepRenderedRows:!0,animate:e});this.addManagedListener(this.gridOptionsWrapper,la.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o),this.addManagedListener(this.gridOptionsWrapper,la.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o),this.rootNode=new ki(this.beans),this.nodeManager=new Wf(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},e.prototype.start=function(){var t=this.gridOptionsWrapper.getRowData();t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,e,n,o){var r,i=!1;do{r=!1;for(var s=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(s,n),c=Math.min(a,o),u=l;u<=c;u++){var p=this.getRow(u);if(p.rowHeightEstimated){var d=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(d.height),r=!0,i=!0}}r&&this.setRowTopAndRowIndex()}while(r);return i},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.gridOptionsWrapper.getDefaultRowHeight(),e=0,n=new Set,o=this.gridOptionsWrapper.getDomLayout()===et.DOM_LAYOUT_NORMAL,r=0;r<this.rowsToDisplay.length;r++){var i=this.rowsToDisplay[r];if(null!=i.id&&n.add(i.id),null==i.rowHeight){var s=this.gridOptionsWrapper.getRowHeightForNode(i,o,t);i.setRowHeight(s.height,s.estimated)}i.setRowTop(e),i.setRowIndex(r),e+=i.rowHeight}return n},e.prototype.clearRowTopAndRowIndex=function(t,e){var n=t.isActive(),o=function(t){t&&null!=t.id&&!e.has(t.id)&&t.clearRowTopAndRowIndex()},r=function(t){o(t),o(t.detailNode),o(t.sibling),t.hasChildren()&&t.childrenAfterGroup&&(n&&-1!=t.level&&!t.expanded||t.childrenAfterGroup.forEach(r))};r(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,e,n){var o=this;void 0===n&&(n=0);var r=this.getRowIndexAtPixel(e),i=this.getRow(r),s=!this.gridOptionsWrapper.isSuppressAnimationFrame();return i!==t[0]&&(t.forEach(function(t){Wo.removeFromArray(o.rootNode.allLeafChildren,t)}),t.forEach(function(t,e){Wo.insertIntoArray(o.rootNode.allLeafChildren,t,Math.max(r+n,0)+e)}),this.refreshModel({step:Sc.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)},e.prototype.highlightRowAtPixel=function(t,e){var n=null!=e?this.getRowIndexAtPixel(e):null,o=null!=n?this.getRow(n):null;if(o&&t&&o!==t&&null!=e){var r=this.getHighlightPosition(e,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(r),this.lastHighlightedRow=o}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},e.prototype.getHighlightPosition=function(t,e){if(!e){var n=this.getRowIndexAtPixel(t);if(!(e=this.getRow(n||0)))return Ni.Below}return t-e.rowTop<e.rowHeight/2?Ni.Above:Ni.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var t=this.rootNode.childrenAfterAggFilter;return t?t.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var e=this.rootNode.childrenAfterSort[t];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;e.expanded&&e.childrenAfterSort&&e.childrenAfterSort.length>0;)e=e.childrenAfterSort[0];return e.rowIndex},e.prototype.getRowBounds=function(t){if(Wo.missing(this.rowsToDisplay))return null;var e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:Sc.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var e=this.gridOptionsWrapper.isAnimateRows(),n=0===t.columns.length||t.columns.some(function(t){return t.isPrimary()});this.refreshModel({step:n?Sc.FILTER:Sc.FILTER_AGGREGATES,keepRenderedRows:!0,animate:e})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:Sc.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return et.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Sc.PIVOT}):this.refreshModel({step:Sc.AGGREGATE})},e.prototype.createChangePath=function(t){var e=Wo.missingOrEmpty(t),n=new ip(!1,this.rootNode);return(e||this.gridOptionsWrapper.isTreeData())&&n.setInactive(),n},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction())return!1;if(null==t.rowNodeTransactions)return!1;var e=t.rowNodeTransactions.filter(function(t){return null!=t.add&&t.add.length>0||null!=t.remove&&t.remove.length>0});return null==e||0==e.length},e.prototype.refreshModel=function(t){if(!this.isSuppressModelUpdateAfterUpdateTransaction(t)){var e=this.createChangePath(t.rowNodeTransactions);switch(t.step){case Sc.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,e,!!t.afterColumnsChanged);case Sc.FILTER:this.doFilter(e);case Sc.PIVOT:this.doPivot(e);case Sc.AGGREGATE:this.doAggregate(e);case Sc.FILTER_AGGREGATES:this.doFilterAggregates(e);case Sc.SORT:this.doSort(t.rowNodeTransactions,e);case Sc.MAP:this.doRowsToDisplay()}var n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(e,n),this.eventService.dispatchEvent({type:Vt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1})}},e.prototype.isEmpty=function(){var t=Wo.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Wo.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return Wo.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,e){var n,o=!e,r=!1,i=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(a){var l=o&&!r;if(o||a!==e&&a!==t||(o=!0),!a.group||!s){var c=o&&!r,u=a.isParentOfNode(n);(c||u)&&i.push(a)}l&&(a!==e&&a!==t||(r=!0,n=a===e?e:t))}),i},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if(Wo.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(;;){var o=Math.floor((e+n)/2),r=this.rowsToDisplay[o];if(this.isRowInPixel(r,t))return o;r.rowTop<t?e=o+1:r.rowTop>t&&(n=o-1)}},e.prototype.isRowInPixel=function(t,e){return t.rowTop<=e&&t.rowTop+t.rowHeight>e},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(e,n){return t(e,n)})},e.prototype.forEachNode=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,t,Uf.Normal,0)},e.prototype.forEachNodeAfterFilter=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,t,Uf.AfterFilter,0)},e.prototype.forEachNodeAfterFilterAndSort=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,t,Uf.AfterFilterAndSort,0)},e.prototype.forEachPivotNode=function(t){this.recursivelyWalkNodesAndCallback([this.rootNode],t,Uf.PivotNodes,0)},e.prototype.recursivelyWalkNodesAndCallback=function(t,e,n,o){if(!t)return o;for(var r=0;r<t.length;r++){var i=t[r];if(e(i,o++),i.hasChildren()){var s=null;switch(n){case Uf.Normal:s=i.childrenAfterGroup;break;case Uf.AfterFilter:s=i.childrenAfterAggFilter;break;case Uf.AfterFilterAndSort:s=i.childrenAfterSort;break;case Uf.PivotNodes:s=i.leafGroup?null:i.childrenAfterSort}s&&(o=this.recursivelyWalkNodesAndCallback(s,e,n,o))}}return o},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var e=this.gridOptionsWrapper.isTreeData(),n=this.columnModel.isPivotActive(),o=function(r){r&&r.forEach(function(r){var i=function(){r.expanded=t,o(r.childrenAfterGroup)};e?Wo.exists(r.childrenAfterGroup)&&i():n?!r.leafGroup&&i():r.group&&i()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:Sc.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:Vt.EVENT_EXPAND_COLLAPSE_ALL,source:t?"expandAll":"collapseAll"})},e.prototype.doSort=function(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})},e.prototype.doRowGrouping=function(t,e,n,o,r){this.groupStage?(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:n,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:r}),this.restoreGroupState(t)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(o)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},e.prototype.restoreGroupState=function(t){t&&Wo.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(e,n){"boolean"==typeof t[n]&&(e.expanded=t[n])})},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var t={};return Wo.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(e,n){return t[n]=e.expanded}),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){if("string"==typeof t&&0==t.indexOf(ki.ID_PREFIX_ROW_GROUP)){var e=void 0;return this.forEachNode(function(n){n.id===t&&(e=n)}),e}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var e=this.getGroupState();this.nodeManager.setRowData(t),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:Vt.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:Sc.EVERYTHING,groupState:e,newData:!0})},e.prototype.batchUpdateRowData=function(t,e){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var o=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){n.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})},e.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var e=[],n=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(r){var i=t.nodeManager.updateRowData(r.rowDataTransaction,void 0);n.push(i),r.callback&&e.push(r.callback.bind(null,i)),"number"==typeof r.rowDataTransaction.addIndex&&(o=!0)}),this.commonUpdateRowData(n,void 0,o),e.length>0&&window.setTimeout(function(){e.forEach(function(t){return t()})},0),n.length>0){var r={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:Vt.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(r)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,e){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(t,e);return this.commonUpdateRowData([n],e,"number"==typeof t.addIndex),n},e.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var e=0;e<this.rootNode.allLeafChildren.length;e++)t[this.rootNode.allLeafChildren[e].id]=e;return t}},e.prototype.commonUpdateRowData=function(t,e,n){var o=!this.gridOptionsWrapper.isSuppressAnimationFrame();n&&(e=this.createRowNodeOrder()),this.refreshModel({step:Sc.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:Vt.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:Sc.MAP,keepRenderedRows:!0,keepEditingRows:!0})},e.prototype.resetRowHeights=function(){var t=!1;this.forEachNode(function(e){e.setRowHeight(e.rowHeight,!0);var n=e.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t=!0}),t&&this.onRowHeightChanged()},Hf([K("columnModel")],e.prototype,"columnModel",void 0),Hf([K("selectionService")],e.prototype,"selectionService",void 0),Hf([K("filterManager")],e.prototype,"filterManager",void 0),Hf([K("valueCache")],e.prototype,"valueCache",void 0),Hf([K("columnApi")],e.prototype,"columnApi",void 0),Hf([K("gridApi")],e.prototype,"gridApi",void 0),Hf([K("animationFrameService")],e.prototype,"animationFrameService",void 0),Hf([K("beans")],e.prototype,"beans",void 0),Hf([K("filterStage")],e.prototype,"filterStage",void 0),Hf([K("sortStage")],e.prototype,"sortStage",void 0),Hf([K("flattenStage")],e.prototype,"flattenStage",void 0),Hf([Y("groupStage")],e.prototype,"groupStage",void 0),Hf([Y("aggregationStage")],e.prototype,"aggregationStage",void 0),Hf([Y("pivotStage")],e.prototype,"pivotStage",void 0),Hf([Y("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),Hf([$],e.prototype,"init",null),Hf([j("rowModel")],e)}(kt),zf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zf(e,t),e.prototype.execute=function(t){this.filterService.filter(t.changedPath)},jf([K("filterService")],e.prototype,"filterService",void 0),jf([j("filterStage")],e)}(kt),Yf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yf(e,t),e.prototype.execute=function(t){var e=this,n=this.sortController.getSortOptions(),o=Wo.exists(n)&&n.length>0,r=o&&Wo.exists(t.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),i=n.some(function(t){return!!e.columnModel.getGroupDisplayColumnForGroup(t.column.getId())});this.sortService.sort(n,o,r,t.rowNodeTransactions,t.changedPath,i)},qf([K("sortService")],e.prototype,"sortService",void 0),qf([K("sortController")],e.prototype,"sortController",void 0),qf([K("columnModel")],e.prototype,"columnModel",void 0),qf([j("sortStage")],e)}(kt),Zf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Jf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zf(e,t),e.prototype.execute=function(t){var e=t.rowNode,n=[],o={value:0},r=this.columnModel.isPivotMode(),i=r&&e.leafGroup;return this.recursivelyAddToRowsToDisplay(i?[e]:e.childrenAfterSort,n,o,r,0),!i&&n.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(e),this.addRowNodeToRowsToDisplay(e.sibling,n,o,0)),n},e.prototype.recursivelyAddToRowsToDisplay=function(t,e,n,o,r){if(!Wo.missingOrEmpty(t))for(var i=this.gridOptionsWrapper.isGroupHideOpenParents(),s=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=!s&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),l=0;l<t.length;l++){var c=t[l],u=c.hasChildren(),p=s&&u&&1===c.childrenAfterGroup.length,d=a&&u&&c.leafGroup&&1===c.childrenAfterGroup.length;if(!(o&&!u||i&&c.expanded&&!c.master&&(!o||!c.leafGroup)||p||d)&&this.addRowNodeToRowsToDisplay(c,e,n,r),!o||!c.leafGroup)if(u){var h=p||d;(c.expanded||h)&&(this.recursivelyAddToRowsToDisplay(c.childrenAfterSort,e,n,o,h?r:r+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(c),this.addRowNodeToRowsToDisplay(c.sibling,e,n,r)))}else if(c.master&&c.expanded){var f=this.createDetailNode(c);this.addRowNodeToRowsToDisplay(f,e,n,r)}}},e.prototype.addRowNodeToRowsToDisplay=function(t,e,n,o){var r=this.gridOptionsWrapper.isGroupMultiAutoColumn();e.push(t),t.setUiLevel(r?0:o)},e.prototype.ensureFooterNodeExists=function(t){if(!Wo.exists(t.sibling)){var e=new ki(this.beans);Object.keys(t).forEach(function(n){e[n]=t[n]}),e.footer=!0,e.setRowTop(null),e.setRowIndex(null),e.oldRowTop=null,Wo.exists(e.id)&&(e.id="rowGroupFooter_"+e.id),e.sibling=t,t.sibling=e}},e.prototype.createDetailNode=function(t){if(Wo.exists(t.detailNode))return t.detailNode;var e=new ki(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,Wo.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e},Qf([K("columnModel")],e.prototype,"columnModel",void 0),Qf([K("beans")],e.prototype,"beans",void 0),Qf([j("flattenStage")],e)}(kt),tg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),eg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ng=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tg(e,t),e.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},e.prototype.sort=function(t,e,n,o,r,i){var s=this,a=this.gridOptionsWrapper.isGroupMaintainOrder(),l=this.columnModel.getAllGridColumns().some(function(t){return t.isRowGroupActive()}),c={};n&&o&&(c=this.calculateDirtyNodes(o));var u=this.columnModel.isPivotMode();r&&r.forEachChangedNodeDepthFirst(function(o){if(s.pullDownGroupDataForHideOpenParents(o.childrenAfterAggFilter,!0),!e||a&&l&&!o.leafGroup&&!i||u&&o.leafGroup){var p=o.childrenAfterAggFilter.slice(0);if(a&&o.childrenAfterSort){var d=o.childrenAfterSort.reduce(function(t,e,n){return t[e.id]=n,t},{});p.sort(function(t,e){return(d[t.id]||0)-(d[e.id]||0)})}o.childrenAfterSort=p}else o.childrenAfterSort=n?s.doDeltaSort(o,c,r,t):s.rowNodeSorter.doFullSort(o.childrenAfterAggFilter,t);o.sibling&&(o.sibling.childrenAfterSort=o.childrenAfterSort),s.updateChildIndexes(o),s.postSortFunc&&s.postSortFunc({nodes:o.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(r)},e.prototype.calculateDirtyNodes=function(t){var e={},n=function(t){t&&t.forEach(function(t){return e[t.id]=!0})};return t&&t.forEach(function(t){n(t.add),n(t.update),n(t.remove)}),e},e.prototype.doDeltaSort=function(t,e,n,o){var r=this,i=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(i,o);var a={},l=[];i.forEach(function(t){e[t.id]||!n.canSkip(t)?l.push(t):a[t.id]=!0});var c=s.filter(function(t){return a[t.id]}),u=function(t,e){return{currentPos:e,rowNode:t}},p=l.map(u).sort(function(t,e){return r.rowNodeSorter.compareRowNodes(o,t,e)});return this.mergeSortedArrays(o,p,c.map(u)).map(function(t){return t.rowNode})},e.prototype.mergeSortedArrays=function(t,e,n){for(var o=[],r=0,i=0;r<e.length&&i<n.length;){var s=this.rowNodeSorter.compareRowNodes(t,e[r],n[i]);o.push(s<0?e[r++]:n[i++])}for(;r<e.length;)o.push(e[r++]);for(;i<n.length;)o.push(n[i++]);return o},e.prototype.updateChildIndexes=function(t){if(!Wo.missing(t.childrenAfterSort))for(var e=t.childrenAfterSort,n=0;n<e.length;n++){var o=e[n],r=n===t.childrenAfterSort.length-1;o.setFirstChild(0===n),o.setLastChild(r),o.setChildIndex(n)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var e=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return Wo.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var n=function(t){e.pullDownGroupDataForHideOpenParents(t.childrenAfterSort,!1),t.childrenAfterSort.forEach(function(t){t.hasChildren()&&n(t)})};t&&t.executeFromRootNode(function(t){return n(t)})}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,e){var n=this;this.gridOptionsWrapper.isGroupHideOpenParents()&&!Wo.missing(t)&&t.forEach(function(t){n.columnModel.getGroupDisplayColumns().forEach(function(o){var r=o.getColDef().showRowGroup;if("string"==typeof r){var i=n.columnModel.getPrimaryColumn(r);if(i!==t.rowGroupColumn)if(e)t.setGroupValue(o.getId(),void 0);else{var s=t.getFirstChildOfFirstChild(i);s&&t.setGroupValue(o.getId(),s.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},eg([K("columnModel")],e.prototype,"columnModel",void 0),eg([K("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),eg([$],e.prototype,"init",null),eg([j("sortService")],e)}(kt),og=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),rg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ig=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return og(e,t),e.prototype.filter=function(t){var e=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(e,t)},e.prototype.filterNodes=function(t,e){var n=this,o=function(e,o){e.childrenAfterFilter=e.hasChildren()&&t&&!o?e.childrenAfterGroup.filter(function(t){var e=t.childrenAfterFilter&&t.childrenAfterFilter.length>0,o=t.data&&n.filterManager.doesRowPassFilter({rowNode:t});return e||o}):e.childrenAfterGroup,e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var r=function(t,e){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var s=t.childrenAfterGroup[i],a=e||n.filterManager.doesRowPassFilter({rowNode:s});s.childrenAfterGroup?r(t.childrenAfterGroup[i],a):o(s,a)}o(t,e)};e.executeFromRootNode(function(t){return r(t,!1)})}else e.forEachChangedNodeDepthFirst(function(t){return o(t,!1)},!0)},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},rg([K("filterManager")],e.prototype,"filterManager",void 0),rg([j("filterService")],e)}(kt),sg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ag=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sg(e,t),e.prototype.postConstruct=function(){this.rowModel.getType()===et.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},e.prototype.setRowData=function(t){var e=this.createTransactionForRowData(t);if(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}(e,2),o=this.clientSideRowModel.updateRowData(n[0],n[1]);o&&this.rowRenderer.refreshFullWidthRows(o.update)}},e.prototype.createTransactionForRowData=function(t){if(Wo.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var e=this.gridOptionsWrapper.getRowIdFunc();if(null!=e){var n={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),r=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return Wo.exists(t)&&t.forEach(function(t,i){var s=e({data:t,level:0}),a=o[s];r&&(r[s]=i),a?(a.data!==t&&n.update.push(t),o[s]=void 0):n.add.push(t)}),Wo.iterateObject(o,function(t,e){e&&n.remove.push(e.data)}),[n,r]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},ag([K("rowModel")],e.prototype,"rowModel",void 0),ag([K("rowRenderer")],e.prototype,"rowRenderer",void 0),ag([K("columnApi")],e.prototype,"columnApi",void 0),ag([K("gridApi")],e.prototype,"gridApi",void 0),ag([K("filterManager")],e.prototype,"filterManager",void 0),ag([$],e.prototype,"postConstruct",null),ag([j("immutableService")],e)}(kt),cg={moduleName:nt.ClientSideRowModelModule,beans:[Kf,Xf,Jf,ng,ig,lg],rowModels:{clientSide:$f}},ug=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dg=function(t){function e(e,n,o){var r=t.call(this,e)||this;return r.parentCache=n,r.params=o,r.startRow=e*o.blockSize,r.endRow=r.startRow+o.blockSize,r}return ug(e,t),e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,e,n){!t.id&&t.alreadyRendered&&(t.alreadyRendered=!1),Wo.exists(e)?t.setDataAndId(e,n.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,e=this.createLoadParams();Wo.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){t.params.datasource.getRows(e)},0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},e.prototype.forEachNode=function(t,e,n){var o=this;this.rowNodes.forEach(function(r,i){o.startRow+i<n&&t(r,e.next())})},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,e){return void 0===e&&(e=!1),e||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[t-this.startRow]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var e=this.startRow+t,n=new ki(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(e),n.setRowTop(this.params.rowHeight*e),this.rowNodes.push(n)}},e.prototype.processServerResult=function(t){var e=this;this.rowNodes.forEach(function(n,o){e.setDataAndId(n,t.rowData?t.rowData[o]:void 0,e.startRow+o)}),this.parentCache.pageLoaded(this,null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},pg([K("beans")],e.prototype,"beans",void 0),pg([$],e.prototype,"postConstruct",null),pg([z],e.prototype,"destroyRowNodes",null),e}(ap),hg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gg=function(t){function e(e){var n=t.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=e.initialRowCount,n.params=e,n}return hg(e,t),e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,e){void 0===e&&(e=!1);var n=Math.floor(t/this.params.blockSize),o=this.blocks[n];if(!o){if(e)return;o=this.createBlock(n)}return o.getRow(t)},e.prototype.createBlock=function(t){var e=this.createBean(new dg(t,this,this.params));return this.blocks[e.getId()]=e,this.blockCount++,this.purgeBlocksIfNeeded(e),this.params.rowNodeBlockLoader.addBlock(e),e},e.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(t){return t.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(e){return t.destroyBlock(e)})},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,e){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+e),this.checkRowCount(t,e),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,o=this.getBlocksInOrder().filter(function(e){return e!=t});o.sort(function(t,e){return e.getLastAccessed()-t.getLastAccessed()});var r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(t,e){if(t.getState()===dg.STATE_WAITING_TO_LOAD&&e>=s||r&&e>=i){if(n.isBlockCurrentlyDisplayed(t))return;if(n.isBlockFocused(t))return;n.removeBlockFromCache(t)}})},e.prototype.isBlockFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();if(!e)return!1;if(null!=e.rowPinned)return!1;var n=t.getStartRow(),o=t.getEndRow();return e.rowIndex>=n&&e.rowIndex<o},e.prototype.isBlockCurrentlyDisplayed=function(t){var e=t.getStartRow(),n=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(e,n)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,e){if("number"==typeof e&&e>=0)this.rowCount=e,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}},e.prototype.setRowCount=function(t,e){this.rowCount=t,Wo.exists(e)&&(this.lastRowIndexKnown=e),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var e=this,n=new Vo;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(t,n,e.rowCount)})},e.prototype.getBlocksInOrder=function(){return Wo.getAllValuesInObject(this.blocks).sort(function(t,e){return t.getId()-e.getId()})},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:Vt.EVENT_STORE_UPDATED}))},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,e=[];this.getBlocksInOrder().forEach(function(n){n.getId()*t.params.blockSize>=t.rowCount&&e.push(n)}),e.length>0&&e.forEach(function(e){return t.destroyBlock(e)})},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(e){return t.removeBlockFromCache(e)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,e){var n=this,o=[],r=-1,i=!1,s=new Vo;Wo.missing(t)&&(i=!0);var a=!1;return this.getBlocksInOrder().forEach(function(l){a||(i&&r+1!==l.getId()?a=!0:(r=l.getId(),l.forEachNode(function(n){var r=n===t||n===e;(i||r)&&o.push(n),r&&(i=!i)},s,n.rowCount)))}),a||i?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,fg([K("rowRenderer")],e.prototype,"rowRenderer",void 0),fg([K("focusService")],e.prototype,"focusService",void 0),fg([(0,n=X("loggerFactory"),function(t,e){n(t,e,0)})],e.prototype,"setBeans",null),fg([z],e.prototype,"destroyAllBlocks",null),e;var n}(kt),mg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mg(e,t),e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,e,n,o){return!1},e.prototype.init=function(){var t=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},e.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&Wo.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},e.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Vt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,Vt.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},e.prototype.isSortModelDifferent=function(){return!Wo.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return et.ROW_MODEL_TYPE_INFINITE},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]},e.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}},e.prototype.createModelUpdatedEvent=function(){return{type:Vt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Vo},this.infiniteCache=this.createBean(new gg(this.cacheParams))},e.prototype.defaultIfInvalid=function(t,e){return t>0?t:e},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var e;return this.forEachNode(function(n){n.id===t&&(e=n)}),e},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var e=Math.floor(t/this.rowHeight),n=this.getRowCount()-1;return e>n?n:e}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},e.prototype.setRowCount=function(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)},yg([K("filterManager")],e.prototype,"filterManager",void 0),yg([K("sortController")],e.prototype,"sortController",void 0),yg([K("selectionService")],e.prototype,"selectionService",void 0),yg([K("gridApi")],e.prototype,"gridApi",void 0),yg([K("columnApi")],e.prototype,"columnApi",void 0),yg([K("rowRenderer")],e.prototype,"rowRenderer",void 0),yg([K("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),yg([$],e.prototype,"init",null),yg([z],e.prototype,"destroyDatasource",null),yg([j("rowModel")],e)}(kt),vg={moduleName:nt.InfiniteRowModelModule,rowModels:{infinite:_g}},Cg=function(){function t(){}return t.prototype.setBeans=function(t){this.beans=t},t.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return null!=t&&t.length||(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},t.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},t}(),Eg=function(){function t(t){this.groupColumns=[];var e=t.valueService,n=t.gridOptionsWrapper,o=t.processCellCallback,r=t.processHeaderCallback,i=t.processGroupHeaderCallback,s=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=e,this.gridOptionsWrapper=n,this.processCellCallback=o,this.processHeaderCallback=r,this.processGroupHeaderCallback=i,this.processRowGroupCallback=s}return t.prototype.prepare=function(t){this.groupColumns=t.filter(function(t){return!!t.getColDef().showRowGroup})},t.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},t.prototype.extractRowCellValue=function(t,e,n,o,r){var i,s=this.gridOptionsWrapper.isGroupMultiAutoColumn()?r.rowGroupIndex:0;i=r&&r.group&&(e===s&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(r):this.valueService.getValue(t,r);var a=this.processCell(n,r,t,i,this.processCellCallback,o);return null!=a?a:""},t.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},t.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},t.prototype.processCell=function(t,e,n,o,r,i){return r?r({accumulatedRowIndex:t,column:n,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):null!=o?o:""},t}(),wg=function(){function t(){}return t.download=function(t,e){var n=document.defaultView||window;if(n){var o=document.createElement("a"),r=n.URL.createObjectURL(e);o.setAttribute("href",r),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(o),n.setTimeout(function(){n.URL.revokeObjectURL(r)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},t}(),Og=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bg=function(t){function e(e){var n=t.call(this,e)||this;n.isFirstLine=!0,n.result="";var o=e.columnSeparator;return n.suppressQuotes=e.suppressQuotes,n.columnSeparator=o,n}return Og(e,t),e.prototype.addCustomContent=function(t){var e=this;t&&("string"==typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach(function(t){e.beginNewLine(),t.forEach(function(t,n){0!==n&&(e.result+=e.columnSeparator),e.result+=e.putInQuotes(t.data.value||""),t.mergeAcross&&e.appendEmptyCells(t.mergeAcross)})}))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)},e.prototype.appendEmptyCells=function(t){for(var e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,e){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,e,e,et.EXPORT_TYPE_CSV,n))},e.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null==t?'""':("string"==typeof t?e=t:"function"==typeof t.toString?e=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"');var e},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},e}(Eg),Sg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sg(e,t),e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},e.prototype.getMergedParams=function(t){var e=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},e,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParams(t),n=this.getData(e),o=new Blob(["\ufeff",n],{type:"text/plain"});return wg.download(this.getFileName(e.fileName),o),n},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t){var e=this.getMergedParams(t);return this.getData(e)},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var e=this;return new bg({columnModel:e.columnModel,valueService:e.valueService,gridOptionsWrapper:e.gridOptionsWrapper,processCellCallback:t.processCellCallback||void 0,processHeaderCallback:t.processHeaderCallback||void 0,processGroupHeaderCallback:t.processGroupHeaderCallback||void 0,processRowGroupCallback:t.processRowGroupCallback||void 0,suppressQuotes:t.suppressQuotes||!1,columnSeparator:t.columnSeparator||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Pg([K("columnModel")],e.prototype,"columnModel",void 0),Pg([K("valueService")],e.prototype,"valueService",void 0),Pg([K("gridSerializer")],e.prototype,"gridSerializer",void 0),Pg([K("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Pg([$],e.prototype,"postConstruct",null),Pg([j("csvCreator")],e)}(Cg),Tg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ag=(()=>(function(t){t[t.HEADER_GROUPING=0]="HEADER_GROUPING",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"}(Ag||(Ag={})),Ag))(),Mg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tg(e,t),e.prototype.serialize=function(t,e){void 0===e&&(e={});var n=this.getColumnsToExport(e.allColumns,e.columnKeys);return Wo.compose(this.prepareSession(n),this.prependContent(e),this.exportColumnGroups(e,n),this.exportHeaders(e,n),this.processPinnedTopRows(e,n),this.processRows(e,n),this.processPinnedBottomRows(e,n),this.appendContent(e))(t).parse()},e.prototype.processRow=function(t,e,n,o){var r=this,i=e.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsWrapper,a=s.getContext(),l=s.getApi(),c=s.getColumnApi(),u=s.isGroupRemoveSingleChildren(),p=s.isGroupRemoveLowestSingleChildren(),d=e.rowNodes||e.onlySelected,h=s.isGroupHideOpenParents()&&!d,f=this.columnModel.isPivotMode()?o.leafGroup:!o.group,g=1===o.allChildrenCount&&(u||p&&o.leafGroup);(e.skipGroups||e.skipRowGroups)&&e.skipGroups&&Wo.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var m={rowIndex:o.rowIndex,rowPinned:o.rowPinned};if(!(!f&&(e.skipRowGroups||g||h)||e.onlySelected&&!o.isSelected()||e.rowNodes&&!e.rowNodes.some(function(t){return r.rowPositionUtils.sameRow(t,m)})||e.skipPinnedTop&&"top"===o.rowPinned||e.skipPinnedBottom&&"bottom"===o.rowPinned)&&(-1!==o.level||o.leafGroup)&&!i({node:o,api:l,columnApi:c,context:a})){var y=t.onNewBodyRow();if(n.forEach(function(t,e){y.onColumn(t,e,o)}),e.getCustomContentBelowRow){var _=e.getCustomContentBelowRow({node:o,api:l,columnApi:c,context:a});_&&t.addCustomContent(_)}}},e.prototype.appendContent=function(t){return function(e){var n=t.customFooter||t.appendContent;return n&&(t.customFooter&&Wo.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),e.addCustomContent(n)),e}},e.prototype.prependContent=function(t){return function(e){var n=t.customHeader||t.prependContent;return n&&(t.customHeader&&Wo.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),e.addCustomContent(n)),e}},e.prototype.prepareSession=function(t){return function(e){return e.prepare(t),e}},e.prototype.exportColumnGroups=function(t,e){var n=this;return function(o){if(t.skipColumnGroupHeaders)t.columnGroups&&Wo.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var r=new Ht,i=n.displayedGroupCreator.createDisplayedGroups(e,n.columnModel.getGridBalancedTree(),r,null);n.recursivelyAddHeaderGroups(i,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,e){return function(n){if(t.skipHeader||t.skipColumnHeaders)t.skipHeader&&Wo.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var o=n.onNewHeaderRow();e.forEach(function(t,e){o.onColumn(t,e,void 0)})}return n}},e.prototype.processPinnedTopRows=function(t,e){var n=this;return function(o){var r=n.processRow.bind(n,o,t,e);return n.pinnedRowModel.forEachPinnedTopRow(r),o}},e.prototype.processRows=function(t,e){var n=this;return function(o){var r=n.rowModel,i=r.getType(),s=i===et.ROW_MODEL_TYPE_CLIENT_SIDE,a=i===et.ROW_MODEL_TYPE_SERVER_SIDE,l=!s&&t.onlySelected,c=n.processRow.bind(n,o,t,e);return n.columnModel.isPivotMode()?s?r.forEachPivotNode(c):r.forEachNode(c):t.onlySelectedAllPages||l?n.selectionService.getSelectedNodes().forEach(c):s||a?r.forEachNodeAfterFilterAndSort(c):r.forEachNode(c),o}},e.prototype.processPinnedBottomRows=function(t,e){var n=this;return function(o){var r=n.processRow.bind(n,o,t,e);return n.pinnedRowModel.forEachPinnedBottomRow(r),o}},e.prototype.getColumnsToExport=function(t,e){void 0===t&&(t=!1);var n=this.columnModel.isPivotMode();return e&&e.length?this.columnModel.getGridColumns(e):t&&!n?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([et.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},e.prototype.recursivelyAddHeaderGroups=function(t,e,n){var o=[];t.forEach(function(t){t.getChildren&&t.getChildren().forEach(function(t){return o.push(t)})}),t.length>0&&t[0]instanceof vt&&this.doAddHeaderHeader(e,t,n),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,e,n)},e.prototype.doAddHeaderHeader=function(t,e,n){var o=this,r=t.onNewHeaderGroupingRow(),i=0;e.forEach(function(t){var e,s=t;e=n?n({columnGroup:s,api:o.gridOptionsWrapper.getApi(),columnApi:o.gridOptionsWrapper.getColumnApi(),context:o.gridOptionsWrapper.getContext()}):o.columnModel.getDisplayNameForColumnGroup(s,"header");var a=s.getLeafColumns().reduce(function(t,e,n,o){var r=Wo.last(t);return"open"===e.getColumnGroupShow()?r&&null==r[1]||t.push(r=[n]):r&&null==r[1]&&(r[1]=n-1),n===o.length-1&&r&&null==r[1]&&(r[1]=n),t},[]);r.onColumn(e||"",i++,s.getLeafColumns().length-1,a)})},Rg([K("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Rg([K("columnModel")],e.prototype,"columnModel",void 0),Rg([K("rowModel")],e.prototype,"rowModel",void 0),Rg([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Rg([K("selectionService")],e.prototype,"selectionService",void 0),Rg([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Rg([j("gridSerializer")],e)}(kt),xg={moduleName:nt.CsvExportModule,beans:[Dg,Mg]},Ig="\r\n",Lg=function(){function t(){}return t.createHeader=function(t){void 0===t&&(t={});var e=["version"];return t.version||(t.version="1.0"),t.encoding&&e.push("encoding"),t.standalone&&e.push("standalone"),"<?xml "+e.map(function(e){return e+'="'+t[e]+'"'}).join(" ")+" ?>"},t.createXml=function(t,e){var n=this,o="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(t){Object.keys(t.map).forEach(function(r){o+=n.returnAttributeIfPopulated(t.prefix+r,t.map[r],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(r){o+=n.returnAttributeIfPopulated(r,t.properties.rawMap[r],e)}));var r="<"+t.name+o;return t.children||null!=t.textNode?null!=t.textNode?r+">"+t.textNode+"</"+t.name+">"+Ig:(r+=">\r\n",t.children&&t.children.forEach(function(t){r+=n.createXml(t,e)}),r+"</"+t.name+">"+Ig):r+"/>"+Ig},t.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var o=e;return"boolean"==typeof e&&n&&(o=n(e))," "+t+'="'+o+'"'},t}(),Fg=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Ng=function(){function t(){}return t.addFolders=function(t){t.forEach(this.addFolder.bind(this))},t.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},t.addFile=function(t,e,n){void 0===n&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},t.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},t.clearStream=function(){this.folders=[],this.files=[]},t.buildFileStream=function(t){var e,n;void 0===t&&(t="");var o=this.folders.concat(this.files),r=o.length,i="",s=0,a=0;try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),c=l.next();!c.done;c=l.next()){var u=this.getHeader(c.value,s),p=u.fileHeader,d=u.folderHeader,h=u.content;s+=p.length+h.length,a+=d.length,t+=p+h,i+=d}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return t+i+this.buildFolderEnd(r,a,s)},t.getHeader=function(t,e){var n=t.content,o=t.path,r=t.created,i=t.isBase64,s=Wo.decToHex,a=(0,Wo.utf8_encode)(o),l=a!==o,c=this.convertTime(r),u=this.convertDate(r),p="";if(l){var d=s(1,1)+s(this.getFromCrc32Table(a),4)+a;p="up"+s(d.length,2)+d}var h=n?this.getConvertedContent(n,i):{size:0,content:""},f=h.size,g=h.content,m="\n\0"+(l?"\0\b":"\0\0")+"\0\0"+s(c,2)+s(u,2)+s(f?this.getFromCrc32Table(g):0,4)+s(f,4)+s(f,4)+s(a.length,2)+s(p.length,2);return{fileHeader:"PK\x03\x04"+m+a+p,folderHeader:"PK\x01\x02\x14\0"+m+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+s(e,4)+a+p,content:g||""}},t.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},t.buildFolderEnd=function(t,e,n){var o=Wo.decToHex;return"PK\x05\x06\0\0\0\0"+o(t,2)+o(t,2)+o(e,4)+o(n,4)+"\0\0"},t.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},t.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),o=0;o<e;o++)n[o]=t.charCodeAt(o);var r=-1;for(o=0;o<e;o++)r=r>>>8^Fg[255&(r^n[o])];return-1^r},t.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},t.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},t.folders=[],t.files=[],t}(),kg=[cg,vg,xg];ot.registerModules(kg)},824:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var ag_grid_community__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(839),__extends$3r=(extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),extendStatics,__decorate$1_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$T=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},LicenseManager=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watermarkMessage=void 0,e}var n;return __extends$3r(e,t),n=e,e.prototype.validateLicense=function(){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(n.licenseKey))this.outputMissingLicenseKey();else if(n.licenseKey.length>32){var t=n.extractLicenseComponents(n.licenseKey),e=t.license,o=t.version,r=t.isTrial;t.md5===this.md5.md5(e)?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)&&o?this.validateLicenseKeyForVersion(o,!!r,e):this.validateLegacyKey(e):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},e.extractExpiry=function(t){var e=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(n.decode(e),10))},e.extractLicenseComponents=function(t){var e=t.replace(/[\u200B-\u200D\uFEFF]/g,""),o=(e=e.replace(/\r?\n|\r/g,"")).length-32,r=e.substring(o),i=e.substring(0,o),s=__read$T(n.extractBracketedInformation(e),2);return{md5:r,license:i,version:s[0],isTrial:s[1]}},e.prototype.getLicenseDetails=function(t){var e=n.extractLicenseComponents(t),o=e.license,r=e.version,i=e.isTrial,s=e.md5===this.md5.md5(o),a=null;return s&&(a=n.extractExpiry(o),s=!isNaN(a.getTime())),{licenseKey:t,valid:s,expiry:s?n.formatDate(a):null,version:r||"legacy",isTrial:i}},e.prototype.isDisplayWatermark=function(){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(this.watermarkMessage)},e.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},e.formatDate=function(t){var e=t.getDate(),n=t.getMonth(),o=t.getFullYear();return e+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+o},e.getGridReleaseDate=function(){return new Date(parseInt(n.decode(n.RELEASE_INFORMATION),10))},e.decode=function(t){for(var e,o,r,i,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0,p=t.replace(/[^A-Za-z0-9+/=]/g,"");u<p.length;)r=l.indexOf(p.charAt(u++)),e=(15&(i=l.indexOf(p.charAt(u++))))<<4|(s=l.indexOf(p.charAt(u++)))>>2,o=(3&s)<<6|(a=l.indexOf(p.charAt(u++))),c+=String.fromCharCode(r<<2|i>>4),64!=s&&(c+=String.fromCharCode(e)),64!=a&&(c+=String.fromCharCode(o));return n.utf8_decode(c)},e.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},e.setLicenseKey=function(t){n.licenseKey=t},e.extractBracketedInformation=function(t){var e=t.split("[").filter(function(t){return t.indexOf("]")>-1}).map(function(t){return t.split("]")[0]});if(!e||0===e.length)return[null,null];var n=1===e.filter(function(t){return"TRIAL"===t}).length;return[e.filter(function(t){return 0===t.indexOf("v")}).map(function(t){return t.replace(/^v/,"")})[0],n]},e.prototype.validateLicenseKeyForVersion=function(t,e,n){"2"===t&&(e?this.validateForTrial(n):this.validateLegacyKey(n))},e.prototype.validateLegacyKey=function(t){var e=n.getGridReleaseDate(),o=n.extractExpiry(t),r=!1,i=!1;if(isNaN(o.getTime())||(r=!0,i=e<o),r){if(!i){var s=n.formatDate(o),a=n.formatDate(e);this.outputIncompatibleVersion(s,a)}}else this.outputInvalidLicenseKey()},e.prototype.validateForTrial=function(t){var e=n.extractExpiry(t),o=new Date,r=!1,i=!1;if(isNaN(e.getTime())||(r=!0,i=e>o),r){if(!i){var s=n.formatDate(e);this.outputExpiredTrialKey(s)}}else this.outputInvalidLicenseKey()},e.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},e.prototype.outputExpiredTrialKey=function(t){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+t+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},e.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},e.prototype.outputIncompatibleVersion=function(t,e){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+t+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+e+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},e.RELEASE_INFORMATION="MTY1NzI3NzAzNDMzNA==",__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("md5")],e.prototype,"md5",void 0),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"validateLicense",null),n=__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("licenseManager")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1Z=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MD5=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ieCompatibility=!1,e}return __extends$3q(e,t),e.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},e.prototype.md5cycle=function(t,e){var n=t[0],o=t[1],r=t[2],i=t[3];n=this.ff(n,o,r,i,e[0],7,-680876936),i=this.ff(i,n,o,r,e[1],12,-389564586),r=this.ff(r,i,n,o,e[2],17,606105819),o=this.ff(o,r,i,n,e[3],22,-1044525330),n=this.ff(n,o,r,i,e[4],7,-176418897),i=this.ff(i,n,o,r,e[5],12,1200080426),r=this.ff(r,i,n,o,e[6],17,-1473231341),o=this.ff(o,r,i,n,e[7],22,-45705983),n=this.ff(n,o,r,i,e[8],7,1770035416),i=this.ff(i,n,o,r,e[9],12,-1958414417),r=this.ff(r,i,n,o,e[10],17,-42063),o=this.ff(o,r,i,n,e[11],22,-1990404162),n=this.ff(n,o,r,i,e[12],7,1804603682),i=this.ff(i,n,o,r,e[13],12,-40341101),r=this.ff(r,i,n,o,e[14],17,-1502002290),o=this.ff(o,r,i,n,e[15],22,1236535329),n=this.gg(n,o,r,i,e[1],5,-165796510),i=this.gg(i,n,o,r,e[6],9,-1069501632),r=this.gg(r,i,n,o,e[11],14,643717713),o=this.gg(o,r,i,n,e[0],20,-373897302),n=this.gg(n,o,r,i,e[5],5,-701558691),i=this.gg(i,n,o,r,e[10],9,38016083),r=this.gg(r,i,n,o,e[15],14,-660478335),o=this.gg(o,r,i,n,e[4],20,-405537848),n=this.gg(n,o,r,i,e[9],5,568446438),i=this.gg(i,n,o,r,e[14],9,-1019803690),r=this.gg(r,i,n,o,e[3],14,-187363961),o=this.gg(o,r,i,n,e[8],20,1163531501),n=this.gg(n,o,r,i,e[13],5,-1444681467),i=this.gg(i,n,o,r,e[2],9,-51403784),r=this.gg(r,i,n,o,e[7],14,1735328473),o=this.gg(o,r,i,n,e[12],20,-1926607734),n=this.hh(n,o,r,i,e[5],4,-378558),i=this.hh(i,n,o,r,e[8],11,-2022574463),r=this.hh(r,i,n,o,e[11],16,1839030562),o=this.hh(o,r,i,n,e[14],23,-35309556),n=this.hh(n,o,r,i,e[1],4,-1530992060),i=this.hh(i,n,o,r,e[4],11,1272893353),r=this.hh(r,i,n,o,e[7],16,-155497632),o=this.hh(o,r,i,n,e[10],23,-1094730640),n=this.hh(n,o,r,i,e[13],4,681279174),i=this.hh(i,n,o,r,e[0],11,-358537222),r=this.hh(r,i,n,o,e[3],16,-722521979),o=this.hh(o,r,i,n,e[6],23,76029189),n=this.hh(n,o,r,i,e[9],4,-640364487),i=this.hh(i,n,o,r,e[12],11,-421815835),r=this.hh(r,i,n,o,e[15],16,530742520),o=this.hh(o,r,i,n,e[2],23,-995338651),n=this.ii(n,o,r,i,e[0],6,-198630844),i=this.ii(i,n,o,r,e[7],10,1126891415),r=this.ii(r,i,n,o,e[14],15,-1416354905),o=this.ii(o,r,i,n,e[5],21,-57434055),n=this.ii(n,o,r,i,e[12],6,1700485571),i=this.ii(i,n,o,r,e[3],10,-1894986606),r=this.ii(r,i,n,o,e[10],15,-1051523),o=this.ii(o,r,i,n,e[1],21,-2054922799),n=this.ii(n,o,r,i,e[8],6,1873313359),i=this.ii(i,n,o,r,e[15],10,-30611744),r=this.ii(r,i,n,o,e[6],15,-1560198380),o=this.ii(o,r,i,n,e[13],21,1309151649),n=this.ii(n,o,r,i,e[4],6,-145523070),i=this.ii(i,n,o,r,e[11],10,-1120210379),r=this.ii(r,i,n,o,e[2],15,718787259),o=this.ii(o,r,i,n,e[9],21,-343485551),t[0]=this.add32(n,t[0]),t[1]=this.add32(o,t[1]),t[2]=this.add32(r,t[2]),t[3]=this.add32(i,t[3])},e.prototype.cmn=function(t,e,n,o,r,i){return e=this.add32(this.add32(e,t),this.add32(o,i)),this.add32(e<<r|e>>>32-r,n)},e.prototype.ff=function(t,e,n,o,r,i,s){return this.cmn(e&n|~e&o,t,e,r,i,s)},e.prototype.gg=function(t,e,n,o,r,i,s){return this.cmn(e&o|n&~o,t,e,r,i,s)},e.prototype.hh=function(t,e,n,o,r,i,s){return this.cmn(e^n^o,t,e,r,i,s)},e.prototype.ii=function(t,e,n,o,r,i,s){return this.cmn(n^(e|~o),t,e,r,i,s)},e.prototype.md51=function(t){var e,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)this.md5cycle(o,this.md5blk(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(this.md5cycle(o,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,this.md5cycle(o,r),o},e.prototype.md5blk=function(t){for(var e=[],n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e},e.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),n="",o=0;o<4;o++)n+=e[t>>8*o+4&15]+e[t>>8*o&15];return n},e.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},e.prototype.md5=function(t){return this.hex(this.md51(t))},e.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},e.prototype.add32Std=function(t,e){return t+e&4294967295},e.prototype.add32Compat=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},__decorate$1Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("md5")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1Y=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},WatermarkComp=function(t){function e(){return t.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return __extends$3p(e,t),e.prototype.postConstruct=function(){var t=this,e=this.shouldDisplayWatermark();this.addOrRemoveCssClass("ag-hidden",!e),e&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return t.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return t.addCssClass("ag-hidden")},5e3))},e.prototype.shouldDisplayWatermark=function(){var t=(this.gridOptionsWrapper.getDocument().defaultView||window).location,e=t.hostname,n=void 0===e?"":e,o=t.pathname,r=this.licenseManager.isDisplayWatermark(),i=null!=n.match("^(?:127.0.0.1|localhost|(?:w+.)?ag-grid.com)$");return!!o&&-1!==o.indexOf("forceWatermark")||r&&!i},__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("licenseManager")],e.prototype,"licenseManager",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLicenseTextRef")],e.prototype,"eLicenseTextRef",void 0),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),EnterpriseCoreModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.EnterpriseCoreModule,beans:[LicenseManager,MD5],agStackComponents:[{componentName:"AgWatermark",componentClass:WatermarkComp}]},__extends$3o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1X=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$S=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$q=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$S(arguments[e]));return t},ClipboardService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.navigatorApiFailed=!1,e}return __extends$3o(e,t),e.prototype.init=function(){var t=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(e){t.gridCtrl=e.gridCtrl})},e.prototype.pasteFromClipboard=function(){var t=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn(e),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),t.navigatorApiFailed=!0,t.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},e.prototype.pasteFromClipboardLegacy=function(){var t=this;this.executeOnTempElement(function(t){return t.focus({preventScroll:!0})},function(e){t.processClipboardData(e.value)})},e.prototype.processClipboardData=function(t){var e=this;if(null!=t){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.stringToArray(t,this.gridOptionsWrapper.getClipboardDelimiter()),o=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();o&&(n=o({data:n})),null!=n&&(this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(n),this.doPasteOperation(function(t,o,r,i){e.rangeService&&e.rangeService.isMoreThanOneCell()&&!e.hasOnlyOneValueToPaste(n)?e.pasteIntoActiveRange(n,t,o,i):e.pasteStartingFromFocusedCell(n,t,o,r,i)}))}},e.prototype.doPasteOperation=function(t){var e,n=this.gridOptionsWrapper.getApi(),o=this.gridOptionsWrapper.getColumnApi(),r="clipboard";if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_START,api:n,columnApi:o,source:r}),this.clientSideRowModel){var i=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Dkq(i,this.clientSideRowModel.getRootNode())}var s={},a=[],l=this.focusService.getFocusedCell();t(s,a,l,e),e&&this.clientSideRowModel.doAggregate(e),this.rowRenderer.refreshCells(),this.dispatchFlashCells(s),this.fireRowChanged(a),l&&this.focusService.setFocusedCell({rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned,forceBrowserFocus:!0}),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_END,api:n,columnApi:o,source:r})},e.prototype.pasteIntoActiveRange=function(t,e,n,o){var r=this,i=this.getRangeSize()%t.length!=0,s=0,a=0;this.iterateActiveRanges(!1,function(l,c,u,p){if(p-s>=t.length){if(i)return;s+=a,a=0}var d=t[p-s];n.push(c);var h=r.gridOptionsWrapper.getProcessCellFromClipboardFunc();u.forEach(function(t,n){if(t.isCellEditable(c)&&!t.isSuppressPaste(c)){n>=d.length&&(n%=d.length);var i=r.processCell(c,t,d[n],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_DRAG_COPY,h);c.setDataValue(t,i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.SOURCE_PASTE),o&&o.addParentNode(c.parent,[t]);var s=r.cellPositionUtils.createIdFromValues(l.rowIndex,t,l.rowPinned);e[s]=!0}}),a++})},e.prototype.pasteStartingFromFocusedCell=function(t,e,n,o,r){if(o){var i={rowIndex:o.rowIndex,rowPinned:o.rowPinned},s=this.columnModel.getDisplayedColumnsStartingAt(o.column);this.isPasteSingleValueIntoRange(t)?this.pasteSingleValueIntoRange(t,n,e,r):this.pasteMultipleValues(t,i,n,s,e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_CLIPBOARD,r)}},e.prototype.isPasteSingleValueIntoRange=function(t){return this.hasOnlyOneValueToPaste(t)&&null!=this.rangeService&&!this.rangeService.isEmpty()},e.prototype.pasteSingleValueIntoRange=function(t,e,n,o){var r=this,i=t[0][0];this.iterateActiveRanges(!1,function(t,s,a){e.push(s),a.forEach(function(t){return r.updateCellValue(s,t,i,n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_CLIPBOARD,o)})})},e.prototype.hasOnlyOneValueToPaste=function(t){return 1===t.length&&1===t[0].length},e.prototype.copyRangeDown=function(){var t=this;if(this.rangeService&&!this.rangeService.isEmpty()){var e=[];this.doPasteOperation(function(n,o,r,i){var s=t.gridOptionsWrapper.getProcessCellForClipboardFunc(),a=t.gridOptionsWrapper.getProcessCellFromClipboardFunc();t.iterateActiveRanges(!0,function(r,l,c){e.length?(o.push(l),c.forEach(function(o,s){if(o.isCellEditable(l)&&!o.isSuppressPaste(l)){var c=t.processCell(l,o,e[s],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_DRAG_COPY,a);l.setDataValue(o,c,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.SOURCE_PASTE),i&&i.addParentNode(l.parent,[o]);var u=t.cellPositionUtils.createIdFromValues(r.rowIndex,o,r.rowPinned);n[u]=!0}})):c.forEach(function(n){var o=t.processCell(l,n,t.valueService.getValue(n,l),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_DRAG_COPY,s);e.push(o)})})})}},e.prototype.removeLastLineIfBlank=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t);e&&1===e.length&&""===e[0]&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t,e)},e.prototype.fireRowChanged=function(t){var e=this;this.gridOptionsWrapper.isFullRowEdit()&&t.forEach(function(t){var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_VALUE_CHANGED,node:t,data:t.data,rowIndex:t.rowIndex,rowPinned:t.rowPinned,context:e.gridOptionsWrapper.getContext(),api:e.gridOptionsWrapper.getApi(),columnApi:e.gridOptionsWrapper.getColumnApi()};e.eventService.dispatchEvent(n)})},e.prototype.pasteMultipleValues=function(t,e,n,o,r,i,s){var a=this,l=e,c=null!=this.clientSideRowModel&&!this.gridOptionsWrapper.isTreeData();t.forEach(function(t){var e=function(){for(;;){if(!l)return null;var t=a.rowPositionUtils.getRowNode(l);if(l=a.cellNavigationService.getRowBelow({rowPinned:l.rowPinned,rowIndex:l.rowIndex}),null==t)return null;if(!(t.detail||t.footer||c&&t.group))return t}}();e&&(t.forEach(function(t,n){return a.updateCellValue(e,o[n],t,r,i,s)}),n.push(e))})},e.prototype.updateCellValue=function(t,e,n,o,r,i){if(t&&e&&e.isCellEditable(t)&&!e.isSuppressPaste(t)){var s=this.processCell(t,e,n,r,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());t.setDataValue(e,s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.SOURCE_PASTE),o[this.cellPositionUtils.createIdFromValues(t.rowIndex,e,t.rowPinned)]=!0,i&&i.addParentNode(t.parent,[e])}},e.prototype.copyToClipboard=function(t){void 0===t&&(t={});var e=t.includeHeaders,n=t.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+e),null==e&&(e=this.gridOptionsWrapper.isCopyHeadersToClipboard()),null==n&&(n=this.gridOptionsWrapper.isCopyGroupHeadersToClipboard());var o={includeHeaders:e,includeGroupHeaders:n},r=!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();!this.rangeService||this.rangeService.isEmpty()||this.shouldSkipSingleCellRange()?r&&!this.selectionService.isEmpty()?this.copySelectedRowsToClipboard(o):this.focusService.isAnyCellFocused()&&this.copyFocusedCellToClipboard(o):this.copySelectedRangeToClipboard(o)},e.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsWrapper.isSuppressCopySingleCellRanges()&&!this.rangeService.isMoreThanOneCell()},e.prototype.iterateActiveRanges=function(t,e,n){var o=this;if(this.rangeService&&!this.rangeService.isEmpty()){var r=this.rangeService.getCellRanges();t?this.iterateActiveRange(r[0],e,n,!0):r.forEach(function(t,i){return o.iterateActiveRange(t,e,n,i===r.length-1)})}},e.prototype.iterateActiveRange=function(t,e,n,o){if(this.rangeService){var r=this.rangeService.getRangeStartRow(t),i=this.rangeService.getRangeEndRow(t);n&&t.columns&&n(t.columns);for(var s=0,a=!1;!a&&null!=r;){var l=this.rowPositionUtils.getRowNode(r);a=this.rowPositionUtils.sameRow(r,i),e(r,l,t.columns,s++,a&&o),r=this.cellNavigationService.getRowBelow(r)}}},e.prototype.copySelectedRangeToClipboard=function(t){if(void 0===t&&(t={}),this.rangeService&&!this.rangeService.isEmpty()){var e=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(t):this.buildDataFromRanges(t),n=e.cellsToFlash;this.copyDataToClipboard(e.data),this.dispatchFlashCells(n)}},e.prototype.buildDataFromMergedRanges=function(t){var e=this,n=new Set,o=this.rangeService.getCellRanges(),r=[],i={};o.forEach(function(t){t.columns.forEach(function(t){return n.add(t)});var o=e.getRangeRowPositionsAndCellsToFlash(t),s=o.cellsToFlash;r.push.apply(r,__spread$q(o.rowPositions)),Object.assign(i,s)});var s=this.columnModel.getAllDisplayedColumns(),a=Array.from(n);return a.sort(function(t,e){return s.indexOf(t)-s.indexOf(e)}),{data:this.buildExportParams({columns:a,rowPositions:r,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}),cellsToFlash:i}},e.prototype.buildDataFromRanges=function(t){var e=this,n=this.rangeService.getCellRanges(),o=[],r={};return n.forEach(function(n){var i=e.getRangeRowPositionsAndCellsToFlash(n),s=i.rowPositions;Object.assign(r,i.cellsToFlash),o.push(e.buildExportParams({columns:n.columns,rowPositions:s,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}))}),{data:o.join("\n"),cellsToFlash:r}},e.prototype.getRangeRowPositionsAndCellsToFlash=function(t){for(var e=this,n=[],o={},r=this.rangeService.getRangeStartRow(t),i=this.rangeService.getRangeEndRow(t),s=r;s&&(n.push(s),t.columns.forEach(function(t){var n=e.cellPositionUtils.createIdFromValues(s.rowIndex,t,s.rowPinned);o[n]=!0}),!this.rowPositionUtils.sameRow(s,i));)s=this.cellNavigationService.getRowBelow(s);return{rowPositions:n,cellsToFlash:o}},e.prototype.copyFocusedCellToClipboard=function(t){var e;void 0===t&&(t={});var n=this.focusService.getFocusedCell();if(null!=n){var o=this.cellPositionUtils.createId(n),r=this.buildExportParams({columns:[n.column],rowPositions:[{rowPinned:n.rowPinned,rowIndex:n.rowIndex}],includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders});this.copyDataToClipboard(r),this.dispatchFlashCells(((e={})[o]=!0,e))}},e.prototype.copySelectedRowsToClipboard=function(t){void 0===t&&(t={});var e=this.buildExportParams({columns:t.columnKeys,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders});this.copyDataToClipboard(e)},e.prototype.buildExportParams=function(t){var e=t.rowPositions,n=t.includeHeaders,o=t.includeGroupHeaders,r={columnKeys:t.columns,rowNodes:e,skipColumnHeaders:!(void 0!==n&&n),skipColumnGroupHeaders:!(void 0!==o&&o),suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDelimiter(),onlySelected:!e,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processRowGroupCallback:function(t){return t.node.key},processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),processGroupHeaderCallback:this.gridOptionsWrapper.getProcessGroupHeaderForClipboardFunc()};return this.csvCreator.getDataAsCsv(r)},e.prototype.dispatchFlashCells=function(t){var e=this;window.setTimeout(function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FLASH_CELLS,cells:t,api:e.gridApi,columnApi:e.columnApi})},0)},e.prototype.processCell=function(t,e,n,o,r){return r?r({column:e,node:t,value:n,type:o}):n},e.prototype.copyDataToClipboard=function(t){var e=this,n=this.gridOptionsWrapper.getSendToClipboardFunc();n?n({data:t}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(t).catch(function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn(n),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),e.copyDataToClipboardLegacy(t)}):this.copyDataToClipboardLegacy(t)},e.prototype.copyDataToClipboardLegacy=function(t){var e=this;this.executeOnTempElement(function(n){var o=e.gridOptionsWrapper.getDocument(),r=o.activeElement;n.value=t||" ",n.select(),n.focus({preventScroll:!0}),o.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=r&&null!=r.focus&&r.focus({preventScroll:!0})})},e.prototype.executeOnTempElement=function(t,e){var n=this.gridOptionsWrapper.getDocument(),o=n.createElement("textarea");o.style.width="1px",o.style.height="1px",o.style.top=n.documentElement.scrollTop+"px",o.style.left=n.documentElement.scrollLeft+"px",o.style.position="absolute",o.style.opacity="0";var r=this.gridCtrl.getGui();r.appendChild(o);try{t(o)}catch(i){console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}e?window.setTimeout(function(){e(o),r.removeChild(o)},100):r.removeChild(o)},e.prototype.getRangeSize=function(){var t=this.rangeService.getCellRanges(),e=0,n=0;return t.length>0&&(e=this.rangeService.getRangeStartRow(t[0]).rowIndex,n=this.rangeService.getRangeEndRow(t[0]).rowIndex),e-n+1},__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("csvCreator")],e.prototype,"csvCreator",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$1X([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("clipboardService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ClipboardModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,beans:[ClipboardService],dependantModules:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC]},__extends$3n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1W=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ExpandState=(()=>(function(t){t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t[t.INDETERMINATE=2]="INDETERMINATE"}(ExpandState||(ExpandState={})),ExpandState))(),PrimaryColsHeaderPanel=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$3n(e,t),e.prototype.postConstruct=function(){var t=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&t.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return t.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input"))},e.prototype.init=function(t){this.params=t,this.columnModel.isReady()&&this.showOrHideOptions()},e.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(ExpandState.EXPANDED)},e.prototype.showOrHideOptions=function(){var t=!this.params.suppressColumnFilter,e=!this.params.suppressColumnSelectAll,n=!this.params.suppressColumnExpandAll,o=this.columnModel.isPrimaryColumnGroupsPresent(),r=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(r("searchOoo","Search...")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSelect.getGui(),e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,n&&o)},e.prototype.onFilterTextChanged=function(){var t=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(function(){var e=t.eFilterTextField.getValue();t.dispatchEvent({type:"filterChanged",filterText:e})},e.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},e.prototype.onMiniFilterKeyPress=function(t){var n=this;t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&setTimeout(function(){return n.onSelectClicked()},e.DEBOUNCE_DELAY)},e.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},e.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===ExpandState.EXPANDED?"collapseAll":"expandAll"})},e.prototype.setExpandState=function(t){this.expandState=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.expandState===ExpandState.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.expandState===ExpandState.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.expandState===ExpandState.INDETERMINATE)},e.prototype.setSelectionState=function(t){this.selectState=t,this.eSelect.setValue(this.selectState)},e.DEBOUNCE_DELAY=300,e.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSelect")],e.prototype,"eSelect",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],e.prototype,"eFilterTextField",void 0),__decorate$1W([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),ColumnModelItem=function(){function t(t,e,n,o,r){void 0===o&&(o=!1),this.eventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.displayName=t,this.dept=n,this.group=o,o?(this.columnGroup=e,this.expanded=r,this.children=[]):this.column=e}return t.prototype.isGroup=function(){return this.group},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.getColumnGroup=function(){return this.columnGroup},t.prototype.getColumn=function(){return this.column},t.prototype.getDept=function(){return this.dept},t.prototype.isExpanded=function(){return!!this.expanded},t.prototype.getChildren=function(){return this.children},t.prototype.isPassesFilter=function(){return this.passesFilter},t.prototype.setExpanded=function(e){e!==this.expanded&&(this.expanded=e,this.eventService.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED}))},t.prototype.setPassesFilter=function(t){this.passesFilter=t},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t}(),__extends$3m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1V=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$R=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$p=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$R(arguments[e]));return t},__values$o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ToolPanelContextMenu=function(t){function e(e,n,o){var r=t.call(this,'<div class="ag-menu"></div>')||this;return r.column=e,r.mouseEvent=n,r.parentEl=o,r.displayName=null,r}return __extends$3m(e,t),e.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},e.prototype.initializeProperties=function(t){this.columns=t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?t.getLeafColumns():[t],this.allowGrouping=this.columns.some(function(t){return t.isPrimary()&&t.isAllowRowGroup()}),this.allowValues=this.columns.some(function(t){return t.isPrimary()&&t.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(t){return t.isPrimary()&&t.isAllowPivot()})},e.prototype.buildMenuItemMap=function(){var t=this,e=this.gridOptionsWrapper.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(t){return t.isPrimary()&&t.isAllowRowGroup()},activeFunction:function(t){return t.isRowGroupActive()},activateLabel:function(){return e("groupBy","Group by")+" "+t.displayName},deactivateLabel:function(){return e("ungroupBy","Un-Group by")+" "+t.displayName},activateFunction:function(){var e=t.columnModel.getRowGroupColumns();t.columnModel.setRowGroupColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getRowGroupColumns();t.columnModel.setRowGroupColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(t){return t.isPrimary()&&t.isAllowValue()},activeFunction:function(t){return t.isValueActive()},activateLabel:function(){return e("addToValues","Add "+t.displayName+" to values",[t.displayName])},deactivateLabel:function(){return e("removeFromValues","Remove "+t.displayName+" from values",[t.displayName])},activateFunction:function(){var e=t.columnModel.getValueColumns();t.columnModel.setValueColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getValueColumns();t.columnModel.setValueColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(e){return t.columnModel.isPivotMode()&&e.isPrimary()&&e.isAllowPivot()},activeFunction:function(t){return t.isPivotActive()},activateLabel:function(){return e("addToLabels","Add "+t.displayName+" to labels",[t.displayName])},deactivateLabel:function(){return e("removeFromLabels","Remove "+t.displayName+" from labels",[t.displayName])},activateFunction:function(){var e=t.columnModel.getPivotColumns();t.columnModel.setPivotColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getPivotColumns();t.columnModel.setPivotColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},e.prototype.addColumnsToList=function(t){return __spread$p(t).concat(this.columns.filter(function(e){return-1===t.indexOf(e)}))},e.prototype.removeColumnsFromList=function(t){var e=this;return t.filter(function(t){return-1===e.columns.indexOf(t)})},e.prototype.displayContextMenu=function(){var t=this,e=this.getGui(),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),o=this.getMappedMenuItems(),r=function(){};e.appendChild(n.getGui()),n.addMenuItems(o),n.addManagedListener(n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,function(){t.parentEl.focus(),r()});var i=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,afterGuiAttached:function(){return t.focusService.focusInto(n.getGui())},ariaLabel:"Foo",closedCallback:function(e){e instanceof KeyboardEvent&&t.parentEl.focus(),t.destroyBean(n)}});i&&(r=i.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:e})},e.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},e.prototype.getMappedMenuItems=function(){var t,e,n=[],o=function(t){var e=r.columns.some(function(e){return t.allowedFunction(e)&&!t.activeFunction(e)}),o=r.columns.some(function(e){return t.allowedFunction(e)&&t.activeFunction(e)});e&&n.push({name:t.activateLabel(r.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t.addIcon,r.gridOptionsWrapper,null),action:function(){return t.activateFunction()}}),o&&n.push({name:t.deactivateLabel(r.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t.removeIcon,r.gridOptionsWrapper,null),action:function(){return t.deActivateFunction()}})},r=this;try{for(var i=__values$o(this.menuItemMap.values()),s=i.next();!s.done;s=i.next())o(s.value)}catch(a){t={error:a}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$1V([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1U=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelColumnGroupComp=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.modelItem=e,i.allowDragging=n,i.eventType=o,i.focusWrapper=r,i.processingColumnStateChange=!1,i.modelItem=e,i.columnGroup=e.getColumnGroup(),i.columnDept=e.getDept(),i.allowDragging=n,i}return __extends$3l(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var n=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,ColumnModelItem.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsWrapper,null,this.columnGroup).forEach(function(e){return t.addOrRemoveCssClass(e,!0)})},e.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},e.prototype.setupTooltip=function(){var t=this,e=this.columnGroup.getColGroupDef();if(e){var n=function(){t.setTooltip(e.headerTooltip)};n(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,n)}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},e.prototype.handleKeyDown=function(t){switch(t.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:t.preventDefault(),this.modelItem.setExpanded(!1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:t.preventDefault(),this.modelItem.setExpanded(!0);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:t.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},e.prototype.onContextMenu=function(t){var e=this,n=this.columnGroup;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var o=this.createBean(new ToolPanelContextMenu(n,t,this.focusWrapper));this.addDestroyFunc(function(){o.isAlive()&&e.destroyBean(o)})}},e.prototype.addVisibilityListenersToAllChildren=function(){var t=this;this.columnGroup.getLeafColumns().forEach(function(e){t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,t.onColumnStateChanged.bind(t))})},e.prototype.setupDragging=function(){var t=this;if(this.allowDragging){var e=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},onDragStarted:function(){t.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:t.columnGroup})},onDragStopped:function(){t.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(){e&&t.onChangeCommon(!0)},onGridExit:function(){e&&t.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return t.dragAndDropService.removeDragSource(n)})}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},e.prototype.createDragItem=function(){var t={};return this.columnGroup.getLeafColumns().forEach(function(e){t[e.getId()]=e.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:t}},e.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var t=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eColumnGroupIcons,!0);this.addManagedListener(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(t.destroy.bind(t))},e.prototype.onLabelClicked=function(){var t=!this.cbSelect.getValue();this.onChangeCommon(t)},e.prototype.onCheckboxChanged=function(t){this.onChangeCommon(t.selected)},e.prototype.getVisibleLeafColumns=function(){var t=[],e=function(n){n.forEach(function(n){n.isPassesFilter()&&(n.isGroup()?e(n.getChildren()):t.push(n.getColumn()))})};return e(this.modelItem.getChildren()),t},e.prototype.onChangeCommon=function(t){this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),t,this.eventType)},e.prototype.refreshAriaLabel=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=t("ariaColumnGroup","Column Group"),n=this.cbSelect.getValue()?t("ariaVisible","visible"):t("ariaHidden","hidden"),o=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+e),this.cbSelect.setInputAriaLabel(o+" ("+n+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},e.prototype.onColumnStateChanged=function(){var t=this.workOutSelectedValue(),e=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(t),this.cbSelect.setReadOnly(e),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",e),this.processingColumnStateChange=!1},e.prototype.workOutSelectedValue=function(){var t=this,e=this.columnModel.isPivotMode(),n=this.getVisibleLeafColumns(),o=0,r=0;if(n.forEach(function(n){!e&&n.getColDef().lockVisible||(t.isColumnChecked(n,e)?o++:r++)}),!(o>0&&r>0))return o>0},e.prototype.workOutReadOnlyValue=function(){var t=this.columnModel.isPivotMode(),e=0;return this.columnGroup.getLeafColumns().forEach(function(n){t?n.isAnyFunctionAllowed()&&e++:n.getColDef().lockVisible||e++}),0===e},e.prototype.isColumnChecked=function(t,e){if(e){var n=t.isPivotActive(),o=t.isRowGroupActive(),r=t.isValueActive();return n||o||r}return t.isVisible()},e.prototype.onExpandOrContractClicked=function(){var t=this.modelItem.isExpanded();this.modelItem.setExpanded(!t)},e.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},e.prototype.setOpenClosedIcons=function(){var t=this.modelItem.isExpanded();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,!t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,t)},e.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.onSelectAllChanged=function(t){var e=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(t&&!e||!t&&e)&&this.cbSelect.toggle()},e.prototype.isSelected=function(){return this.cbSelect.getValue()},e.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},e.prototype.setSelected=function(t){this.cbSelect.setValue(t,!0)},e.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],e.prototype,"cbSelect",void 0),__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eColumnGroupIcons")],e.prototype,"eColumnGroupIcons",void 0),__decorate$1U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1T=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PRIMARY_COLS_LIST_ITEM_HOVERED="ag-list-item-hovered",PrimaryColsListPanelItemDragFeature=function(t){function e(e,n){var o=t.call(this)||this;return o.comp=e,o.virtualList=n,o.currentDragColumn=null,o.lastHoveredColumnItem=null,o}return __extends$3k(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.columnPanelItemDragStart=function(t){this.currentDragColumn=t.column,this.getCurrentColumns().find(function(t){var e=t.getColDef();return!!e.suppressMovable||!!e.lockPosition})&&(this.moveBlocked=!0)},e.prototype.columnPanelItemDragEnd=function(){var t=this;window.setTimeout(function(){t.currentDragColumn=null,t.moveBlocked=!1},10)},e.prototype.createDropTarget=function(){var t=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB[t.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return t.comp.getGui()},onDragging:function(e){return t.onDragging(e)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}})},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(e){return t.scrollTop=e}})},e.prototype.onDragging=function(t){if(this.currentDragColumn&&!this.moveBlocked){var e=this.getDragColumnItem(t),n=this.virtualList.getComponentAt(e.rowIndex);if(n){var o=n.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===e.rowIndex&&this.lastHoveredColumnItem.position===e.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredColumnItem=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(o,""+PRIMARY_COLS_LIST_ITEM_HOVERED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(o,"ag-item-highlight-"+e.position))}}},e.prototype.getDragColumnItem=function(t){var e=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(e).paddingTop),o=this.virtualList.getRowHeight(),r=this.virtualList.getScrollTop(),i=Math.max(0,(t.y-n+r)/o),s=this.comp.getDisplayedColsList().length-1,a=0|Math.min(s,i);return{rowIndex:a,position:Math.round(i)>i||i>s?"bottom":"top",component:this.virtualList.getComponentAt(a)}},e.prototype.onDragStop=function(){if(!this.moveBlocked){var t=this.getTargetIndex(),e=this.getCurrentColumns();null!=t&&this.columnModel.moveColumns(e,t),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},e.prototype.getMoveDiff=function(t){var e=this.columnModel.getAllGridColumns(),n=this.getCurrentColumns(),o=n.length;return e.indexOf(n[0])<t?o:0},e.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},e.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var t,e=this.lastHoveredColumnItem.component,n="top"===this.lastHoveredColumnItem.position;e instanceof ToolPanelColumnGroupComp?(t=e.getColumns()[0],n=!0):t=e.getColumn();var o=this.columnModel.getAllGridColumns().indexOf(t),r=n?o:o+1;return r-this.getMoveDiff(r)},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+PRIMARY_COLS_LIST_ITEM_HOVERED).forEach(function(t){[PRIMARY_COLS_LIST_ITEM_HOVERED,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(e){t.classList.remove(e)})}),this.lastHoveredColumnItem=null},__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1T([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1S=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelColumnComp=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.column=e,s.columnDept=n,s.allowDragging=o,s.groupsExist=r,s.focusWrapper=i,s.processingColumnStateChange=!1,s}return __extends$3j(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var n=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.displayName);this.eLabel.innerHTML=r;var i=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+i),this.setupDragging(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsWrapper,this.column,null).forEach(function(e){return t.addOrRemoveCssClass(e,!0)})},e.prototype.getColumn=function(){return this.column},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},e.prototype.onContextMenu=function(t){var e=this,n=this.column;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var o=this.createBean(new ToolPanelContextMenu(n,t,this.focusWrapper));this.addDestroyFunc(function(){o.isAlive()&&e.destroyBean(o)})}},e.prototype.handleKeyDown=function(t){t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(t.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},e.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var t=!this.cbSelect.getValue();this.onChangeCommon(t)}},e.prototype.onCheckboxChanged=function(t){this.onChangeCommon(t.selected)},e.prototype.onChangeCommon=function(t){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.setColumn(this.column,t,"toolPanelUi"))},e.prototype.refreshAriaLabel=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=t("ariaColumn","Column"),n=this.cbSelect.getValue()?t("ariaVisible","visible"):t("ariaHidden","hidden"),o=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+e),this.cbSelect.setInputAriaLabel(o+" ("+n+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},e.prototype.setupDragging=function(){var t=this;if(this.allowDragging){var e=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},onDragStarted:function(){t.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:t.column})},onDragStopped:function(){t.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(){e&&t.onChangeCommon(!0)},onGridExit:function(){e&&t.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return t.dragAndDropService.removeDragSource(n)})}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var t=this.columnModel.isPivotMode();if(t){var e=this.column.isAnyFunctionActive();this.cbSelect.setValue(e)}else this.cbSelect.setValue(this.column.isVisible());var n=!0,o=!0;if(t){var r=this.gridOptionsWrapper.isFunctionsReadOnly(),i=!this.column.isAnyFunctionAllowed();o=n=!r&&!i}else{var s=this.column.getColDef();n=!s.lockVisible,o=!!s.enableRowGroup||!!s.enableValue||!(s.lockPosition||s.suppressMovable)}this.cbSelect.setReadOnly(!n),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!o),this.addOrRemoveCssClass("ag-column-select-column-readonly",!o&&!n);var a=t&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(a),this.processingColumnStateChange=!1},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.onSelectAllChanged=function(t){t!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},e.prototype.isSelected=function(){return this.cbSelect.getValue()},e.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},e.prototype.isExpandable=function(){return!1},e.prototype.setExpanded=function(t){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},e.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$1S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$1S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$1S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],e.prototype,"cbSelect",void 0),__decorate$1S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1R=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},UIColumnModel=function(){function t(t){this.items=t}return t.prototype.getRowCount=function(){return this.items.length},t.prototype.getRow=function(t){return this.items[t]},t}(),PRIMARY_COLS_LIST_PANEL_CLASS="ag-column-select-list",PrimaryColsListPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.destroyColumnItemFuncs=[],n}return __extends$3i(e,t),e.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(t){return t()}),this.destroyColumnItemFuncs=[]},e.prototype.init=function(t,e,n){var o=this;this.params=t,this.allowDragging=e,this.eventType=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED].forEach(function(t){o.addManagedListener(o.eventService,t,o.fireSelectionChangedEvent.bind(o))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var r=this.gridOptionsWrapper.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("column-select","tree",r)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(t,e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(e,t.getDept()+1),o.createComponentFromItem(t,e)}),this.columnModel.isReady()&&this.onColumnsChanged(),t.suppressColumnMove||this.gridOptionsWrapper.isSuppressMovableColumns()||this.createManagedBean(new PrimaryColsListPanelItemDragFeature(this,this.virtualList))},e.prototype.createComponentFromItem=function(t,e){if(t.isGroup()){var n=new ToolPanelColumnGroupComp(t,this.allowDragging,this.eventType,e);return this.getContext().createBean(n),n}var o=new ToolPanelColumnComp(t.getColumn(),t.getDept(),this.allowDragging,this.groupsExist,e);return this.getContext().createBean(o),o},e.prototype.onColumnsChanged=function(){var t=this.getExpandedStates(),e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(t),this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.getDisplayedColsList=function(){return this.displayedColsList},e.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var t={};return this.forEachItem(function(e){if(e.isGroup()){var n=e.getColumnGroup();n&&(t[n.getId()]=e.isExpanded())}}),t},e.prototype.setExpandedStates=function(t){this.allColsTree&&this.forEachItem(function(e){if(e.isGroup()){var n=e.getColumnGroup();if(n){var o=t[n.getId()];null!=o&&e.setExpanded(o)}}})},e.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},e.prototype.setColumnLayout=function(t){var e=this.colDefService.createColumnTree(t);this.buildListModel(e),this.groupsExist=t.some(function(t){return t&&void 0!==t.children}),this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},e.prototype.buildListModel=function(t){var e=this,n=this.onColumnExpanded.bind(this),o=function(t,e,n){t.forEach(function(t){t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?r(t,e,n):i(t,e,n)})},r=function(t,r,i){var s=t.getColGroupDef();if(!s||!s.suppressColumnsToolPanel)if(t.isPadding())o(t.getChildren(),r,i);else{var a=e.columnModel.getDisplayNameForProvidedColumnGroup(null,t,e.eventType),l=new ColumnModelItem(a,t,r,!0,e.expandGroupsByDefault);i.push(l),function(t){t.addEventListener(ColumnModelItem.EVENT_EXPANDED_CHANGED,n);var o=t.removeEventListener.bind(t,ColumnModelItem.EVENT_EXPANDED_CHANGED,n);e.destroyColumnItemFuncs.push(o)}(l),o(t.getChildren(),r+1,l.getChildren())}},i=function(t,n,o){if(!t.getColDef()||!t.getColDef().suppressColumnsToolPanel){var r=e.columnModel.getDisplayNameForColumn(t,"columnToolPanel");o.push(new ColumnModelItem(r,t,n))}};this.destroyColumnTree(),o(t,0,this.allColsTree)},e.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},e.prototype.flattenAndFilterModel=function(){var t=this;this.displayedColsList=[];var e=function(n){n.isPassesFilter()&&(t.displayedColsList.push(n),n.isGroup()&&n.isExpanded()&&n.getChildren().forEach(e))};this.allColsTree.forEach(e),this.virtualList.setModel(new UIColumnModel(this.displayedColsList));var n=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=n&&this.focusRowIfAlive(n),this.notifyListeners()},e.prototype.focusRowIfAlive=function(t){var e=this;window.setTimeout(function(){e.isAlive()&&e.virtualList.focusRow(t)},0)},e.prototype.forEachItem=function(t){var e=function(n){n.forEach(function(n){t(n),n.isGroup()&&e(n.getChildren())})};e(this.allColsTree)},e.prototype.doSetExpandedAll=function(t){this.forEachItem(function(e){e.isGroup()&&e.setExpanded(t)})},e.prototype.setGroupsExpanded=function(t,e){if(e){var n=[];this.forEachItem(function(o){if(o.isGroup()){var r=o.getColumnGroup().getId();e.indexOf(r)>=0&&(o.setExpanded(t),n.push(r))}});var o=e.filter(function(t){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,t)});o.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",o)}else this.doSetExpandedAll(t)},e.prototype.getExpandState=function(){var t=0,e=0;return this.forEachItem(function(n){n.isGroup()&&(n.isExpanded()?t++:e++)}),t>0&&e>0?ExpandState.INDETERMINATE:e>0?ExpandState.COLLAPSED:ExpandState.EXPANDED},e.prototype.doSetSelectedAll=function(t){this.modelItemUtils.selectAllChildren(this.allColsTree,t,this.eventType)},e.prototype.getSelectionState=function(){var t=0,e=0,n=this.columnModel.isPivotMode();if(this.forEachItem(function(o){if(!o.isGroup()&&o.isPassesFilter()){var r,i=o.getColumn(),s=i.getColDef();if(n){if(!i.isAllowPivot()&&!i.isAllowRowGroup()&&!i.isAllowValue())return;r=i.isValueActive()||i.isPivotActive()||i.isRowGroupActive()}else{if(s.lockVisible)return;r=i.isVisible()}r?t++:e++}}),!(t>0&&e>0))return!(0===t||e>0)},e.prototype.setFilterText=function(t){this.filterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.markFilteredColumns=function(){var t=this,e=function(e){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.filterText))return!0;var n=e.getDisplayName();return null==n||-1!==n.toLowerCase().indexOf(t.filterText)},n=function(t,o){var r=!1;if(t.isGroup()){var i=e(t);t.getChildren().forEach(function(t){var e=n(t,i||o);e&&(r=e)})}var s=!(!o&&!r)||e(t);return t.setPassesFilter(s),s};this.allColsTree.forEach(function(t){return n(t,!1)})},e.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},e.prototype.fireGroupExpandedEvent=function(){var t=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:t})},e.prototype.fireSelectionChangedEvent=function(){var t=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:t})},e.TEMPLATE='<div class="'+PRIMARY_COLS_LIST_PANEL_CLASS+'" role="presentation"></div>',__decorate$1R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],e.prototype,"colDefService",void 0),__decorate$1R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$1R([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyColumnTree",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1Q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PivotModePanel=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3h(e,t),e.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},e.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(t("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},e.prototype.onBtPivotMode=function(){var t=!!this.cbPivotMode.getValue();if(t!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(t,"toolPanelUi");var e=this.gridOptionsWrapper.getApi();e&&e.refreshHeader()}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.cbPivotMode.setValue(t)},__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbPivotMode")],e.prototype,"cbPivotMode",void 0),__decorate$1Q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1P=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AggregationStage=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3g(e,t),e.prototype.execute=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(this.columnModel.getValueColumns()),n=!this.gridOptionsWrapper.getGroupRowAggFunc(),o=t.changedPath&&t.changedPath.isActive();if(!(e&&n&&o)){var r=this.createAggDetails(t);this.recursivelyCreateAggData(r)}},e.prototype.createAggDetails=function(t){var e=this.columnModel.isPivotActive(),n=this.columnModel.getValueColumns(),o=e?this.columnModel.getPivotColumns():[];return{changedPath:t.changedPath,valueColumns:n,pivotColumns:o}},e.prototype.recursivelyCreateAggData=function(t){var e=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),t.changedPath.forEachChangedNodeDepthFirst(function(n){if(n.hasChildren()){if(-1===n.level){var o=!e.columnModel.isPivotMode();if(e.gridOptionsWrapper.isSuppressAggAtRootLevel()&&o)return}e.aggregateRowNode(n,t)}else n.aggData&&n.setAggData(null)},!0)},e.prototype.aggregateRowNode=function(t,e){var n,o=0===e.valueColumns.length,r=0===e.pivotColumns.length,i=this.gridOptionsWrapper.getGroupRowAggFunc();n=i?i({nodes:t.childrenAfterFilter}):o?null:r?this.aggregateRowNodeUsingValuesOnly(t,e):this.aggregateRowNodeUsingValuesAndPivot(t),t.setAggData(n),t.sibling&&t.sibling.setAggData(n)},e.prototype.aggregateRowNodeUsingValuesAndPivot=function(t){var e=this,n={},o=this.pivotStage.getPivotColumnDefs();return o.filter(function(t){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.pivotTotalColumnIds)}).forEach(function(o){var r,i=o.pivotValueColumn,s=o.colId;r=t.leafGroup?e.getValuesFromMappedSet(t.childrenMapped,o.pivotKeys||[],i):e.getValuesPivotNonLeaf(t,s),n[s]=e.aggregateValues(r,i.getAggFunc(),i,t)}),o.filter(function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.pivotTotalColumnIds)}).forEach(function(o){var r=[],i=o.pivotValueColumn,s=o.pivotTotalColumnIds,a=o.colId;s&&s.length&&(s.forEach(function(t){r.push(n[t])}),n[a]=e.aggregateValues(r,i.getAggFunc(),i,t))}),n},e.prototype.aggregateRowNodeUsingValuesOnly=function(t,e){var n=this,o={},r=e.changedPath.isActive()?e.changedPath.getValueColumnsForNode(t,e.valueColumns):e.valueColumns,i=e.changedPath.isActive()?e.changedPath.getNotValueColumnsForNode(t,e.valueColumns):null,s=this.getValuesNormal(t,r),a=t.aggData;return r.forEach(function(e,r){o[e.getId()]=n.aggregateValues(s[r],e.getAggFunc(),e,t)}),i&&a&&i.forEach(function(t){o[t.getId()]=a[t.getId()]}),o},e.prototype.getValuesPivotNonLeaf=function(t,e){var n=[];return t.childrenAfterFilter.forEach(function(t){n.push(t.aggData[e])}),n},e.prototype.getValuesFromMappedSet=function(t,e,n){var o=this,r=t;if(e.forEach(function(t){return r=r?r[t]:null}),!r)return[];var i=[];return r.forEach(function(t){var e=o.valueService.getValue(n,t);i.push(e)}),i},e.prototype.getValuesNormal=function(t,e){var n=[];e.forEach(function(){return n.push([])});for(var o=e.length,r=this.filteredOnly?t.childrenAfterFilter:t.childrenAfterGroup,i=r.length,s=0;s<i;s++)for(var a=r[s],l=0;l<o;l++){var c=this.valueService.getValue(e[l],a);n[l].push(c)}return n},e.prototype.aggregateValues=function(t,e,n,o){var r="string"==typeof e?this.aggFuncService.getAggFunc(e):e;return"function"!=typeof r?(console.error("AG Grid: unrecognised aggregation function "+e),null):r({values:t,column:n,colDef:n?n.getColDef():void 0,rowNode:o,data:o?o.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()})},__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pivotStage")],e.prototype,"pivotStage",void 0),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggregationStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),BatchRemover=function(){function t(){this.allSets={},this.allParents=[]}return t.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},t.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},t.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},t.prototype.getAllParents=function(){return this.allParents},t.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var n=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(t){return!n.removeFromChildrenAfterGroup[t.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(t){return!n.removeFromAllLeafChildren[t.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},t}(),__extends$3f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1O=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$Q=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$o=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$Q(arguments[e]));return t},GroupStage=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groupIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,e}return __extends$3f(e,t),e.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},e.prototype.execute=function(t){var e=this.createGroupingDetails(t);e.transactions?this.handleTransaction(e):this.shotgunResetEverything(e,!0===t.afterColumnsChanged),this.positionLeafsAboveGroups(t.changedPath),this.orderGroups(e.rootNode),this.selectableService.updateSelectableAfterGrouping(e.rootNode)},e.prototype.positionLeafsAboveGroups=function(t){this.usingTreeData||t.forEachChangedNodeDepthFirst(function(t){if(t.childrenAfterGroup){var e=[],n=[];t.childrenAfterGroup.forEach(function(t){var o;(null===(o=t.childrenAfterGroup)||void 0===o?void 0:o.length)?n.push(t):e.push(t)}),t.childrenAfterGroup=__spread$o(e,n)}},!1)},e.prototype.createGroupingDetails=function(t){var e=t.rowNode,n=t.changedPath,o=t.rowNodeTransactions,r=t.rowNodeOrder,i=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:i,rootNode:e,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!i?0:i.length,rowNodeOrder:r,transactions:o,changedPath:n}},e.prototype.handleTransaction=function(t){var e=this;t.transactions.forEach(function(n){var o=e.usingTreeData?void 0:new BatchRemover;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(n.remove)&&e.removeNodes(n.remove,t,o),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(n.update)&&e.moveNodesInWrongPath(n.update,t,o),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(n.add)&&e.insertNodes(n.add,t,!1),o){var r=o.getAllParents().slice();o.flush(),e.removeEmptyGroups(r,t)}}),t.rowNodeOrder&&this.sortChildren(t)},e.prototype.sortChildren=function(t){t.changedPath.forEachChangedNodeDepthFirst(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.sortRowNodesByOrder(e.childrenAfterGroup,t.rowNodeOrder)})},e.prototype.orderGroups=function(t){if(!this.usingTreeData){var e=this.gridOptionsWrapper.getInitialGroupOrderComparator();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&function t(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.childrenAfterGroup)&&!n.leafGroup&&(n.childrenAfterGroup.sort(function(t,n){return e({nodeA:t,nodeB:n})}),n.childrenAfterGroup.forEach(function(e){return t(e)}))}(t)}},e.prototype.getExistingPathForNode=function(t,e){for(var n=[],o=this.usingTreeData?t:t.parent;o&&o!==e.rootNode;)n.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return n.reverse(),n},e.prototype.moveNodesInWrongPath=function(t,e,n){var o=this;t.forEach(function(t){e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent);var r=function(t){return t.key},i=o.getExistingPathForNode(t,e).map(r),s=o.getGroupInfo(t,e).map(r);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(i,s)||o.moveNode(t,e,n)})},e.prototype.moveNode=function(t,e,n){this.removeNodesInStages([t],e,n),this.insertOneNode(t,e,!0),t.setData(t.data),e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent)},e.prototype.removeNodes=function(t,e,n){this.removeNodesInStages(t,e,n),e.changedPath.isActive()&&t.forEach(function(t){return e.changedPath.addParentNode(t.parent)})},e.prototype.removeNodesInStages=function(t,e,n){if(this.removeNodesFromParents(t,e,n),this.usingTreeData){this.postRemoveCreateFillerNodes(t,e);var o=t.map(function(t){return t.parent});this.removeEmptyGroups(o,e)}},e.prototype.forEachParentGroup=function(t,e,n){for(var o=e;o&&o!==t.rootNode;)n(o),o=o.parent},e.prototype.removeNodesFromParents=function(t,e,n){var o=this,r=null==n,i=n||new BatchRemover;t.forEach(function(t){o.removeFromParent(t,i),o.forEachParentGroup(e,t.parent,function(e){i.removeFromAllLeafChildren(e,t)})}),r&&i.flush()},e.prototype.postRemoveCreateFillerNodes=function(t,e){var n=this;t.forEach(function(t){if(t.hasChildren()){var o=n.getExistingPathForNode(t,e),r=n.findParentForNode(t,o,e);r.expanded=t.expanded,r.allLeafChildren=t.allLeafChildren,r.childrenAfterGroup=t.childrenAfterGroup,r.childrenMapped=t.childrenMapped,r.updateHasChildren(),r.childrenAfterGroup.forEach(function(t){return t.parent=r})}})},e.prototype.removeEmptyGroups=function(t,e){for(var n=this,o=!0,r=function(){o=!1;var r=new BatchRemover;t.forEach(function(t){n.forEachParentGroup(e,t,function(t){(function(t){var e=n.getChildrenMappedKey(t.key,t.rowGroupColumn),o=t.parent;return!!(o&&o.childrenMapped&&o.childrenMapped[e]&&t.isEmptyRowGroupNode())})(t)&&(o=!0,n.removeFromParent(t,r),t.setSelected(!1))})}),r.flush()};o;)r()},e.prototype.removeFromParent=function(t,e){t.parent&&(e?e.removeFromChildrenAfterGroup(t.parent,t):(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t.parent.childrenAfterGroup,t),t.parent.updateHasChildren()));var n=this.getChildrenMappedKey(t.key,t.rowGroupColumn);t.parent&&t.parent.childrenMapped&&(t.parent.childrenMapped[n]=void 0),t.setRowTop(null),t.setRowIndex(null)},e.prototype.addToParent=function(t,e){var n=this.getChildrenMappedKey(t.key,t.rowGroupColumn);e&&(null!=e.childrenMapped&&(e.childrenMapped[n]=t),e.childrenAfterGroup.push(t),e.updateHasChildren())},e.prototype.areGroupColsEqual=function(t,e){return null!=t&&null!=e&&t.pivotMode===e.pivotMode&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(t.groupedCols,e.groupedCols)},e.prototype.checkAllGroupDataAfterColsChanged=function(t){var e=this,n=function(t){t&&t.forEach(function(t){!e.usingTreeData&&!t.group||(e.setGroupData(t,{field:t.field,key:t.key,rowGroupColumn:t.rowGroupColumn}),n(t.childrenAfterGroup))})};n(t.rootNode.childrenAfterGroup)},e.prototype.shotgunResetEverything=function(t,e){if(!this.noChangeInGroupingColumns(t,e)){this.selectionService.removeGroupsFromSelection();var n=t.rootNode;n.leafGroup=!this.usingTreeData&&0===t.groupedCols.length,n.childrenAfterGroup=[],n.childrenMapped={},n.updateHasChildren();var o=n.sibling;o&&(o.childrenAfterGroup=n.childrenAfterGroup,o.childrenMapped=n.childrenMapped),this.insertNodes(n.allLeafChildren,t,!1)}},e.prototype.noChangeInGroupingColumns=function(t,e){var n=!1,o=this.columnModel.getGroupDisplayColumns(),r=o?o.map(function(t){return t.getId()}).join("-"):"";return e&&(n=this.usingTreeData||this.areGroupColsEqual(t,this.oldGroupingDetails),this.oldGroupDisplayColIds!==r&&this.checkAllGroupDataAfterColsChanged(t)),this.oldGroupingDetails=t,this.oldGroupDisplayColIds=r,n},e.prototype.insertNodes=function(t,e,n){var o=this;t.forEach(function(t){o.insertOneNode(t,e,n),e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent)})},e.prototype.insertOneNode=function(t,e,n){var o=this.getGroupInfo(t,e),r=this.findParentForNode(t,o,e);r.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[r.data,t.data]),this.usingTreeData?this.swapGroupWithUserNode(r,t,n):(t.parent=r,t.level=o.length,r.childrenAfterGroup.push(t),r.updateHasChildren())},e.prototype.findParentForNode=function(t,e,n){var o=this,r=n.rootNode;return e.forEach(function(e,i){(r=o.getOrCreateNextNode(r,e,i,n)).allLeafChildren.push(t)}),r},e.prototype.swapGroupWithUserNode=function(t,e,n){e.parent=t.parent,e.key=t.key,e.field=t.field,e.groupData=t.groupData,e.level=t.level,n||(e.expanded=t.expanded),e.leafGroup=t.leafGroup,e.rowGroupIndex=t.rowGroupIndex,e.allLeafChildren=t.allLeafChildren,e.childrenAfterGroup=t.childrenAfterGroup,e.childrenMapped=t.childrenMapped,e.updateHasChildren(),this.removeFromParent(t),e.childrenAfterGroup.forEach(function(t){return t.parent=e}),this.addToParent(e,t.parent)},e.prototype.getOrCreateNextNode=function(t,e,n,o){var r=this.getChildrenMappedKey(e.key,e.rowGroupColumn),i=t.childrenMapped?t.childrenMapped[r]:void 0;return i||(i=this.createGroup(e,t,n,o),this.addToParent(i,t)),i},e.prototype.createGroup=function(t,e,n,o){var r=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return r.group=!0,r.field=t.field,r.rowGroupColumn=t.rowGroupColumn,this.setGroupData(r,t),r.id=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),r.key=t.key,r.level=n,r.leafGroup=!this.usingTreeData&&n===o.groupedColCount-1,r.allLeafChildren=[],r.setAllChildrenCount(0),r.rowGroupIndex=this.usingTreeData?null:n,r.childrenAfterGroup=[],r.childrenMapped={},r.updateHasChildren(),r.parent=o.includeParents?e:null,this.setExpandedInitialValue(o,r),r},e.prototype.setGroupData=function(t,e){var n=this;t.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(o){(n.usingTreeData||t.rowGroupColumn&&o.isRowGroupDisplayed(t.rowGroupColumn.getId()))&&(t.groupData[o.getColId()]=e.key)})},e.prototype.getChildrenMappedKey=function(t,e){return e?e.getId()+"-"+t:t},e.prototype.setExpandedInitialValue=function(t,e){if(t.pivotMode&&e.leafGroup)e.expanded=!1;else{var n=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();e.expanded=n?1==n({rowNode:e,field:e.field,key:e.key,level:e.level,rowGroupColumn:e.rowGroupColumn}):-1===t.expandByDefault||e.level<t.expandByDefault}},e.prototype.getGroupInfo=function(t,e){return this.usingTreeData?this.getGroupInfoFromCallback(t):this.getGroupInfoFromGroupColumns(t,e)},e.prototype.getGroupInfoFromCallback=function(t){var e=this.getDataPath?this.getDataPath(t.data):null;return null!=e&&0!==e.length||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",t.data)},"groupStage.getGroupInfoFromCallback"),e?e.map(function(t){return{key:t,field:null,rowGroupColumn:null}}):[]},e.prototype.getGroupInfoFromGroupColumns=function(t,e){var n=this,o=[];return e.groupedCols.forEach(function(r){var i=n.valueService.getKeyForNode(r,t),s=null!=i;if(e.pivotMode&&!s&&(i=" ",s=!0),s){var a={key:i,field:r.getColDef().field,rowGroupColumn:r};o.push(a)}}),o},__decorate$1O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectableService")],e.prototype,"selectableService",void 0),__decorate$1O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$1O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$1O([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$1O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("groupStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3e=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$B=function(){return(__assign$B=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$1N=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$P=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$n=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$P(arguments[e]));return t},PivotColDefService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$3e(e,t),n=e,e.prototype.createPivotColumnDefs=function(t){var e=this.columnModel.getPivotColumns(),n=this.columnModel.getValueColumns(),o=this.recursiveBuildGroup(0,t,[],e.length,e),r=function t(e,n){return void 0===n&&(n=[]),e.forEach(function(e){void 0!==e.children?t(e.children,n):n.push(e)}),n}(o);return this.addRowGroupTotals(o,r,n),this.addExpandablePivotGroups(o,r),this.addPivotTotalsToGroups(o,r),{pivotColumnGroupDefs:o,pivotColumnDefs:r.map(function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(t)})}},e.prototype.recursiveBuildGroup=function(t,e,n,o,r){var i=this,s=this.columnModel.getValueColumns();if(t>=o)return this.buildMeasureCols(n);var a=r[t].getColDef(),l=this.headerNameComparator.bind(this,a.pivotComparator);if(1===s.length&&this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&t===o-1){var c=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,function(t){var e=__spread$n(n,[t]);c.push(__assign$B(__assign$B({},i.createColDef(s[0],t,e)),{columnGroupShow:"open"}))}),c.sort(l),c}var u=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,function(e,s){var a=__spread$n(n,[e]);u.push({children:i.recursiveBuildGroup(t+1,s,a,o,r),headerName:e,pivotKeys:a,columnGroupShow:"open",groupId:i.generateColumnGroupId(a)})}),u.sort(l),u},e.prototype.buildMeasureCols=function(t){var e=this,n=this.columnModel.getValueColumns();return 0===n.length?[this.createColDef(null,"-",t)]:n.map(function(n){var o=e.columnModel.getDisplayNameForColumn(n,"header");return __assign$B(__assign$B({},e.createColDef(n,o,t)),{columnGroupShow:"open"})})},e.prototype.addExpandablePivotGroups=function(t,e){var n=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var o=function(t,e,r){var i=t;if(i.children){var s=new Map;i.children.forEach(function(t){o(t,e,s)});var a=!i.children.some(function(t){return t.children});n.columnModel.getValueColumns().forEach(function(o){var r=n.columnModel.getDisplayNameForColumn(o,"header"),i=n.createColDef(o,r,t.pivotKeys);i.pivotTotalColumnIds=s.get(o.getColId()),i.columnGroupShow="closed",i.aggFunc=o.getAggFunc(),a||(t.children.push(i),e.push(i))}),n.merge(r,s)}else{var l=t;if(!l.pivotValueColumn)return;var c=l.pivotValueColumn.getColId(),u=r.has(c)?r.get(c):[];u.push(l.colId),r.set(c,u)}};t.forEach(function(t){o(t,e,new Map)})}},e.prototype.addPivotTotalsToGroups=function(t,e){var n=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var o="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),r=this.columnModel.getValueColumns(),i=r.map(function(t){return t.getAggFunc()});if(i&&!(i.length<1)&&this.sameAggFuncs(i)){var s=r[0];t.forEach(function(t){n.recursivelyAddPivotTotal(t,e,s,o)})}}},e.prototype.recursivelyAddPivotTotal=function(t,e,n,o){var r=this,i=t;if(!i.children)return t.colId?[t.colId]:null;var s=[];if(i.children.forEach(function(t){var i=r.recursivelyAddPivotTotal(t,e,n,o);i&&(s=s.concat(i))}),i.children.length>1){var a=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),l=this.createColDef(n,a,t.pivotKeys,!0);l.pivotTotalColumnIds=s,l.aggFunc=n.getAggFunc();var c=t.children;o?c.push(l):c.unshift(l),e.push(l)}return s},e.prototype.addRowGroupTotals=function(t,e,n){var o=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var r="after"===this.gridOptionsWrapper.getPivotRowTotals(),i=r?n.slice():n.slice().reverse(),s=function(n){var s=i[n],l=[];t.forEach(function(t){l=l.concat(o.extractColIdsForValueColumn(t,s))}),a.createRowGroupTotal(t,e,s,l,r)},a=this,l=0;l<i.length;l++)s(l)},e.prototype.extractColIdsForValueColumn=function(t,e){var n=this;if(!t.children)return t.pivotValueColumn===e&&t.colId?[t.colId]:[];var o=[];return t.children.forEach(function(t){n.extractColIdsForValueColumn(t,e);var r=n.extractColIdsForValueColumn(t,e);o=o.concat(r)}),o},e.prototype.createRowGroupTotal=function(t,e,o,r,i){var s;if(0===this.columnModel.getValueColumns().length)s=this.createColDef(null,"-",[]);else{var a=this.columnModel.getDisplayNameForColumn(o,"header");(s=this.createColDef(o,a,[])).pivotTotalColumnIds=r}s.colId=n.PIVOT_ROW_TOTAL_PREFIX+s.colId,e.push(s),i?t.push(s):t.unshift(s)},e.prototype.createColDef=function(t,e,n,o){void 0===o&&(o=!1);var r={};if(t){var i=t.getColDef();Object.assign(r,i),r.hide=!1}return r.headerName=e,r.colId=this.generateColumnId(n||[],t&&!o?t.getColId():""),r.field=r.colId,r.pivotKeys=n,r.pivotValueColumn=t,!0===r.filter&&(r.filter="agNumberColumnFilter"),r},e.prototype.sameAggFuncs=function(t){if(1==t.length)return!0;for(var e=1;e<t.length;e++)if(t[e]!==t[0])return!1;return!0},e.prototype.headerNameComparator=function(t,e,n){return t?t(e.headerName,n.headerName):e.headerName&&!n.headerName?1:!e.headerName&&n.headerName?-1:e.headerName&&n.headerName?e.headerName<n.headerName?-1:e.headerName>n.headerName?1:0:0},e.prototype.merge=function(t,e){e.forEach(function(e,n,o){var r=t.has(n)?t.get(n):[],i=__spread$n(r,e);t.set(n,i)})},e.prototype.generateColumnGroupId=function(t){return"pivotGroup_"+this.columnModel.getPivotColumns().map(function(t){return t.getColId()}).join("-")+"_"+t.join("-")},e.prototype.generateColumnId=function(t,e){return"pivot_"+this.columnModel.getPivotColumns().map(function(t){return t.getColId()}).join("-")+"_"+t.join("-")+"_"+e},e.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",__decorate$1N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),n=__decorate$1N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotColDefService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1M=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PivotStage=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uniqueValues={},e}return __extends$3d(e,t),e.prototype.execute=function(t){var e=t.rowNode,n=t.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(e,n):this.executePivotOff(n)},e.prototype.executePivotOff=function(t){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),t&&t.setInactive())},e.prototype.executePivotOn=function(t,e){var n=this.bucketUpRowNodes(t),o=this.setUniqueValues(n),r=this.columnModel.getValueColumns(),i=r.map(function(t){return t.getId()+"-"+t.getColDef().headerName}).join("#"),s=r.map(function(t){return t.getAggFunc().toString()}).join("#"),a=this.aggregationColumnsHashLastTime!==i,l=this.aggregationFuncsHashLastTime!==s;if(this.aggregationColumnsHashLastTime=i,this.aggregationFuncsHashLastTime=s,o||a||l){var c=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),u=c.pivotColumnGroupDefs;this.pivotColumnDefs=c.pivotColumnDefs,this.columnModel.setSecondaryColumns(u,"rowModelUpdated"),e&&e.setInactive()}},e.prototype.setUniqueValues=function(t){return!(JSON.stringify(t)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=t,0))},e.prototype.bucketUpRowNodes=function(t){var e=this,n={},o=function(t){t.leafGroup?e.bucketRowNode(t,n):t.childrenAfterFilter.forEach(function(t){o(t)})};return o(t),n},e.prototype.bucketRowNode=function(t,e){var n=this.columnModel.getPivotColumns();t.childrenMapped=0===n.length?null:this.bucketChildren(t.childrenAfterFilter,n,0,e),t.sibling&&(t.sibling.childrenMapped=t.childrenMapped)},e.prototype.bucketChildren=function(t,e,n,o){var r=this,i={},s=e[n];if(t.forEach(function(t){var e=r.valueService.getKeyForNode(s,t);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)&&(e=""),o[e]||(o[e]={}),i[e]||(i[e]=[]),i[e].push(t)}),n===e.length-1)return i;var a={};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(i,function(t,i){a[t]=r.bucketChildren(i,e,n+1,o[t])}),a},e.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},__decorate$1M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pivotColDefService")],e.prototype,"pivotColDefService",void 0),__decorate$1M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1L=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AGBigInt="undefined"==typeof BigInt?null:BigInt,AggFuncService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aggFuncsMap={},e.initialised=!1,e}var n;return __extends$3c(e,t),n=e,e.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},e.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[n.AGG_SUM]=aggSum,this.aggFuncsMap[n.AGG_FIRST]=aggFirst,this.aggFuncsMap[n.AGG_LAST]=aggLast,this.aggFuncsMap[n.AGG_MIN]=aggMin,this.aggFuncsMap[n.AGG_MAX]=aggMax,this.aggFuncsMap[n.AGG_COUNT]=aggCount,this.aggFuncsMap[n.AGG_AVG]=aggAvg,this.initialised=!0},e.prototype.isAggFuncPossible=function(t,e){var n=this.getFuncNames(t),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,e),r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.aggFuncsMap[e]);return o&&r},e.prototype.getDefaultAggFunc=function(t){var e=t.getColDef().defaultAggFunc;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&this.isAggFuncPossible(t,e))return e;if(this.isAggFuncPossible(t,n.AGG_SUM))return n.AGG_SUM;var o=this.getFuncNames(t);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(o)?o[0]:null},e.prototype.addAggFuncs=function(t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(t,this.addAggFunc.bind(this))},e.prototype.addAggFunc=function(t,e){this.init(),this.aggFuncsMap[t]=e},e.prototype.getAggFunc=function(t){return this.init(),this.aggFuncsMap[t]},e.prototype.getFuncNames=function(t){var e=t.getColDef().allowedAggFuncs;return null==e?Object.keys(this.aggFuncsMap).sort():e},e.prototype.clear=function(){this.aggFuncsMap={}},e.AGG_SUM="sum",e.AGG_FIRST="first",e.AGG_LAST="last",e.AGG_MIN="min",e.AGG_MAX="max",e.AGG_COUNT="count",e.AGG_AVG="avg",__decorate$1L([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),n=__decorate$1L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggFuncService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9);function aggSum(t){for(var e=t.values,n=null,o=0;o<e.length;o++){var r=e[o];"number"==typeof r?null===n?n=r:n+=AGBigInt?"number"==typeof n?r:AGBigInt(r):r:"bigint"==typeof r&&(n=null===n?r:("bigint"==typeof n?n:AGBigInt(n))+r)}return n}function aggFirst(t){return t.values.length>0?t.values[0]:null}function aggLast(t){return t.values.length>0?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.values):null}function aggMin(t){for(var e=t.values,n=null,o=0;o<e.length;o++){var r=e[o];"number"!=typeof r&&"bigint"!=typeof r||!(null===n||n>r)||(n=r)}return n}function aggMax(t){for(var e=t.values,n=null,o=0;o<e.length;o++){var r=e[o];"number"!=typeof r&&"bigint"!=typeof r||!(null===n||n<r)||(n=r)}return n}function aggCount(t){for(var e=t.values,n=0,o=0;o<e.length;o++){var r=e[o];n+=null!=r&&"number"==typeof r.value?r.value:1}return{value:n,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function aggAvg(t){for(var e=t.values,n=0,o=0,r=0;r<e.length;r++){var i=e[r],s=null;"number"==typeof i||"bigint"==typeof i?(s=i,o++):null==i||"number"!=typeof i.value&&"bigint"!=typeof i.value||"number"!=typeof i.count||(s=AGBigInt?i.value*("number"==typeof i.value?i.count:AGBigInt(i.count)):i.value*i.count,o+=i.count),"number"==typeof s?n+=AGBigInt?"number"==typeof n?s:AGBigInt(s):s:"bigint"==typeof s&&(n=("bigint"==typeof n?n:AGBigInt(n))+s)}var a=null;return o>0&&(a=AGBigInt?n/("number"==typeof n?o:AGBigInt(o)):n/o),{count:o,value:a,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var __extends$3b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1K=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},DropZoneColumnComp=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.column=e,s.dragSourceDropTarget=n,s.ghost=o,s.dropZonePurpose=r,s.horizontal=i,s.popupShowing=!1,s}return __extends$3b(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE);var n=this.getGui(),o=this.gridOptionsWrapper.isFunctionsReadOnly();this.addElementClasses(n),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||o||this.addDragSource(),this.setupAria(),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_SORT_CHANGED,function(){t.setupAria()}),this.setupTooltip()},e.prototype.setupAria=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.getColumnAndAggFuncName(),n=e.name,o=e.aggFuncName,r=t("ariaDropZoneColumnComponentAggFuncSeperator"," of "),i={asc:t("ariaDropZoneColumnComponentSortAscending","ascending"),desc:t("ariaDropZoneColumnComponentSortDescending","descending")},s=this.column.getSort(),a=[[o&&""+o+r,n,this.isGroupingZone()&&s&&", "+i[s]].filter(function(t){return!!t}).join("")],l=this.gridOptionsWrapper.isFunctionsReadOnly();if(this.isAggregationZone()&&!l){var c=t("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");a.push(c)}if(this.isGroupingZone()&&this.column.getColDef().sortable){var u=t("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");a.push(u)}var p=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");a.push(p),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.getGui(),a.join(". "))},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)},e.prototype.setupSort=function(){var t=this,e=this.column.getColDef().sortable,n=this.isGroupingZone();if(e&&n){this.eSortIndicator.setupSort(this.column,!0);var o=function(e){e.preventDefault();var n=t.gridOptionsWrapper.isMultiSortKeyCtrl();t.sortController.progressSort(t.column,n?e.ctrlKey||e.metaKey:e.shiftKey,"uiColumnSorted")};this.addGuiEventListener("click",o),this.addGuiEventListener("keydown",function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&t.isGroupingZone()&&o(e)})}},e.prototype.addDragSource=function(){var t=this,e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,defaultIconName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(e,!0),this.addDestroyFunc(function(){return t.dragAndDropService.removeDragSource(e)})},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},e.prototype.setupRemove=function(){var t=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly());var n={type:e.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(e){var o=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER;e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DELETE&&(e.preventDefault(),t.dispatchEvent(n)),o&&t.isAggregationZone()&&!t.gridOptionsWrapper.isFunctionsReadOnly()&&(e.preventDefault(),t.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(e){t.dispatchEvent(n),e.stopPropagation()});var o=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eButton);this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,function(){t.dispatchEvent(n)}),this.addDestroyFunc(o.destroy.bind(o))},e.prototype.getColumnAndAggFuncName=function(){var t=this.displayName,e="";if(this.isAggregationZone()){var n=this.column.getAggFunc(),o="string"==typeof n?n:"agg";e=this.gridOptionsWrapper.getLocaleTextFunc()(o,o)}return{name:t,aggFuncName:e}},e.prototype.setTextValue=function(){var t=this.getColumnAndAggFuncName(),e=t.name,n=t.aggFuncName,o=this.isAggregationZone()?n+"("+e+")":e,r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(o);this.eText.innerHTML=r},e.prototype.onShowAggFuncSelection=function(){var t=this;if(!this.popupShowing){this.popupShowing=!0;var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("select-agg-func"),n=this.aggFuncService.getFuncNames(this.column),o=this.getGui(),r=e.getGui();e.setModel({getRow:function(t){return n[t]},getRowCount:function(){return n.length}}),this.getContext().createBean(e);var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');i.style.top="0px",i.style.left="0px",i.appendChild(r),i.style.width=o.clientWidth+"px";var s=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:i,closeOnEsc:!0,closedCallback:function(){t.destroyBean(e),t.popupShowing=!1,o.focus()},ariaLabel:s("ariaLabelAggregationFunction","Aggregation Function")});a&&e.setComponentCreator(this.createAggSelect.bind(this,a.hideFunc)),e.addGuiEventListener("keydown",function(t){if(t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE){var n=e.getLastFocusedRow();if(null==n)return;var o=e.getComponentAt(n);o&&o.selectItem()}}),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:o,ePopup:i,keepWithinBounds:!0,column:this.column}),e.refresh();var l=n.findIndex(function(e){return e===t.column.getAggFunc()});-1===l&&(l=0),e.focusRow(l)}},e.prototype.createAggSelect=function(t,e){var n=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),r=e.toString(),i=o(r,r);return new AggItemComp(function(){t(),n.gridOptionsWrapper.isFunctionsPassive()?n.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[n.column],aggFunc:e,api:n.gridApi,columnApi:n.columnApi}):n.columnModel.setColumnAggFunc(n.column,e,"toolPanelDragAndDrop")},i)},e.prototype.addElementClasses=function(t,e){t.classList.add("ag-column-drop-cell"+(e=e?"-"+e:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+e)},e.prototype.isAggregationZone=function(){return"aggregation"===this.dropZonePurpose},e.prototype.isGroupingZone=function(){return"rowGroup"===this.dropZonePurpose},e.EVENT_COLUMN_REMOVE="columnRemove",e.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eText")],e.prototype,"eText",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDragHandle")],e.prototype,"eDragHandle",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eButton")],e.prototype,"eButton",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSortIndicator")],e.prototype,"eSortIndicator",void 0),__decorate$1K([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),AggItemComp=function(t){function e(e,n){var o=t.call(this,'<div class="ag-select-agg-func-item"/>')||this;return o.selectItem=e,o.getGui().innerText=n,o.addGuiEventListener("click",o.selectItem),o}return __extends$3b(e,t),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1J=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},BaseDropZonePanel=function(t){function e(n,o){var r=t.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return r.horizontal=n,r.dropZonePurpose=o,r.state=e.STATE_NOT_DRAGGING,r.guiDestroyFunctions=[],r.childColumnComponents=[],r.resizeEnabled=!1,r.addElementClasses(r.getGui()),r.eColumnDropList=document.createElement("div"),r.addElementClasses(r.eColumnDropList,"list"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(r.eColumnDropList,"listbox"),r}return __extends$3a(e,t),e.prototype.isHorizontal=function(){return this.horizontal},e.prototype.toggleResizable=function(t){this.positionableFeature.setResizable(!!t&&{bottom:!0}),this.resizeEnabled=t},e.prototype.setBeans=function(t){this.beans=t},e.prototype.destroy=function(){this.destroyGui(),t.prototype.destroy.call(this)},e.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(t){return t()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eColumnDropList)},e.prototype.init=function(t){this.params=t,this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},e.prototype.handleKeyDown=function(t){var e=t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN,n=t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP;if(this.horizontal){var o=this.gridOptionsWrapper.isEnableRtl();e=!o&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT||o&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT,n=!o&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT||o&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT}if(e||n){var r=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,n);r&&(t.preventDefault(),r.focus())}},e.prototype.addElementClasses=function(t,e){t.classList.add("ag-column-drop"+(e=e?"-"+e:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+e)},e.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},e.prototype.isInterestedIn=function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.HeaderCell||t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},e.prototype.checkInsertIndex=function(t){var e=this.horizontal?this.getNewHorizontalInsertIndex(t):this.getNewVerticalInsertIndex(t);if(e<0)return!1;var n=e!==this.insertIndex;return n&&(this.insertIndex=e),n},e.prototype.getNewHorizontalInsertIndex=function(t){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t.hDirection))return-1;var e=0,n=t.event,o=this.beans.gridOptionsWrapper.isEnableRtl(),r=t.hDirection===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.poj.Left,i=n.clientX;return this.childColumnComponents.forEach(function(t){var n=t.getGui().getBoundingClientRect(),s=r?n.right:n.left;(o?i<=s:i>=s)&&e++}),e},e.prototype.getNewVerticalInsertIndex=function(t){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t.vDirection))return-1;var e=0,n=t.event;return this.childColumnComponents.forEach(function(o){var r=o.getGui().getBoundingClientRect();n.clientY>=(t.vDirection===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.HO_.Down?r.top:r.bottom)&&e++}),e},e.prototype.checkDragStartedBySelf=function(t){this.state===e.STATE_NOT_DRAGGING&&(this.state=e.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=t.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())},e.prototype.onDragging=function(t){this.checkDragStartedBySelf(t),this.checkInsertIndex(t)&&this.refreshGui()},e.prototype.onDragEnter=function(t){var n=t.dragSource.getDragItem().columns||[];this.state=e.STATE_NEW_COLUMNS_IN;var o=n.filter(this.isColumnDroppable.bind(this));if(o.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsWrapper.isSuppressRowGroupHidesColumns()&&!t.fromNudge){var r=t.dragSource.getDragItem();this.setColumnsVisible(r.columns,!1,"uiColumnDragged")}this.potentialDndColumns=o,this.checkInsertIndex(t),this.refreshGui()}},e.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var o=t.filter(function(t){return!t.getColDef().lockVisible});this.colModel.setColumnsVisible(o,e,n)}},e.prototype.isPotentialDndColumns=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.potentialDndColumns)},e.prototype.isRowGroupPanel=function(){return"rowGroup"===this.dropZonePurpose},e.prototype.onDragLeave=function(t){if(this.state===e.STATE_REARRANGE_COLUMNS){var n=t.dragSource.getDragItem().columns||[];this.removeColumns(n)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&!t.fromNudge){var o=t.dragSource.getDragItem(),r=this.potentialDndColumns.filter(function(t){var e,n;return null!=(n=null===(e=o.visibleState)||void 0===e?void 0:e[t.getId()])&&n}),i=this.potentialDndColumns.filter(function(t){var e,n;return!(null!=(n=null===(e=o.visibleState)||void 0===e?void 0:e[t.getId()])&&n)});this.setColumnsVisible(r,!1,"uiColumnDragged"),this.setColumnsVisible(i,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=e.STATE_NOT_DRAGGING},e.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var t=!1;this.state===e.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),t=!0):t=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsWrapper.isFunctionsPassive()&&t||this.refreshGui()}this.state=e.STATE_NOT_DRAGGING},e.prototype.removeColumns=function(t){var e=this.getExistingColumns().filter(function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t,e)});this.updateColumns(e)},e.prototype.addColumns=function(t){if(t){var e=this.getExistingColumns().slice(),n=t.filter(function(t){return e.indexOf(t)<0});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,n,this.insertIndex),this.updateColumns(e)}},e.prototype.rearrangeColumns=function(t){var e=this.getNonGhostColumns().slice();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,t,this.insertIndex),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(e,this.getExistingColumns())&&(this.updateColumns(e),!0)},e.prototype.refreshGui=function(){var t=this.eColumnDropList.scrollTop,e=this.resizeEnabled,n=this.getFocusedItem(),o=this.focusService.findNextFocusableElement();o||(o=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=t),e&&this.toggleResizable(e),this.restoreFocus(n,o)},e.prototype.getFocusedItem=function(){var t=this.getGui(),e=this.gridOptionsWrapper.getDocument().activeElement;return t.contains(e)?Array.from(t.querySelectorAll(".ag-column-drop-cell")).indexOf(e):-1},e.prototype.restoreFocus=function(t,e){var n=this.getGui(),o=Array.from(n.querySelectorAll(".ag-column-drop-cell"));if(-1!==t){0===o.length&&e.focus();var r=o[Math.min(o.length-1,t)];r&&r.focus()}},e.prototype.getNonGhostColumns=function(){var t=this,e=this.getExistingColumns();return this.isPotentialDndColumns()?e.filter(function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t.potentialDndColumns,e)}):e},e.prototype.addColumnsToGui=function(){var t=this,e=this.getNonGhostColumns(),n=this.isPotentialDndColumns(),o=[];e.forEach(function(e,r){if(!(n&&r>=t.insertIndex)){var i=t.createColumnComponent(e,!1);o.push(i)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(e){var n=t.createColumnComponent(e,!0);o.push(n)}),e.forEach(function(e,n){if(!(n<t.insertIndex)){var r=t.createColumnComponent(e,!1);o.push(r)}})),this.appendChild(this.eColumnDropList),o.forEach(function(e,n){n>0&&t.addArrow(t.eColumnDropList),t.eColumnDropList.appendChild(e.getGui())}),this.addAriaLabelsToComponents()},e.prototype.addAriaLabelsToComponents=function(){var t=this;this.childColumnComponents.forEach(function(e,n){var o=e.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaPosInSet(o,n+1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaSetSize(o,t.childColumnComponents.length)})},e.prototype.createColumnComponent=function(t,e){var n=this,o=new DropZoneColumnComp(t,this.dropTarget,e,this.dropZonePurpose,this.horizontal);return o.addEventListener(DropZoneColumnComp.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[t])),this.beans.context.createBean(o),this.guiDestroyFunctions.push(function(){return n.destroyBean(o)}),e||this.childColumnComponents.push(o),o},e.prototype.addIconAndTitleToGui=function(){var t=this.params.icon,e=document.createElement("div");if(e.setAttribute("aria-hidden","true"),this.addElementClasses(e,"title-bar"),this.addElementClasses(t,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),e.appendChild(t),!this.horizontal){var n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=this.params.title,e.appendChild(n)}this.appendChild(e)},e.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},e.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var t=document.createElement("span");t.innerHTML=this.params.emptyMessage,this.addElementClasses(t,"empty-message"),this.eColumnDropList.appendChild(t)}},e.prototype.addArrow=function(t){if(this.horizontal){var e=this.beans.gridOptionsWrapper.isEnableRtl(),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(e?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(n,"cell-separator"),t.appendChild(n)}},e.STATE_NOT_DRAGGING="notDragging",e.STATE_NEW_COLUMNS_IN="newColumnsIn",e.STATE_REARRANGE_COLUMNS="rearrangeColumns",__decorate$1J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"colModel",void 0),__decorate$1J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$39=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1I=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},RowGroupDropZonePanel=function(t){function e(e){return t.call(this,e,"rowGroup")||this}return __extends$39(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),o=e("groups","Row Groups");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},e.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!t.isPrimary())&&t.isAllowRowGroup()&&!t.isRowGroupActive()},e.prototype.updateColumns=function(t){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:t,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setRowGroupColumns(t,"toolPanelUi")},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},__decorate$1I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$1I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$1I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1I([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$38=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1H=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PivotDropZonePanel=function(t){function e(e){return t.call(this,e,"pivot")||this}return __extends$38(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("pivotColumnsEmptyMessage","Drag here to set column labels"),o=e("pivots","Column Labels");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},e.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},e.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},e.prototype.checkVisibility=function(){var t=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":var e=this.columnModel.isPivotActive();this.setDisplayed(t&&e);break;default:this.setDisplayed(!1)}else this.setDisplayed(t)},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!t.isPrimary())&&t.isAllowPivot()&&!t.isPivotActive()},e.prototype.updateColumns=function(t){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:t,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setPivotColumns(t,"toolPanelUi")},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_PIVOT:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},__decorate$1H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$1H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$1H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1H([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$37=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1G=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},GridHeaderDropZones=function(t){function e(){return t.call(this)||this}return __extends$37(e,t),e.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},e.prototype.createNorthPanel=function(){var t=document.createElement("div"),e=this.onDropPanelVisible.bind(this);return t.classList.add("ag-column-drop-wrapper"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(t,"presentation"),this.rowGroupComp=new RowGroupDropZonePanel(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new PivotDropZonePanel(!0),this.createManagedBean(this.pivotComp),t.appendChild(this.rowGroupComp.getGui()),t.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,e),this.addManagedListener(this.pivotComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,e),this.onDropPanelVisible(),t},e.prototype.onDropPanelVisible=function(){var t=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",t),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",t)},e.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var t=this.gridOptionsWrapper.getRowGroupPanelShow();if(t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ONLY_WHEN_GROUPING){var e=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(e)}else this.rowGroupComp.setDisplayed(!1)}},__decorate$1G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1G([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$36=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1F=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FilterAggregatesStage=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$36(e,t),e.prototype.execute=function(t){var e=this,n=this.columnModel.isPivotMode(),o=this.filterManager.isAggregateFilterPresent(),r=this.gridOptionsWrapper.getGroupAggFiltering()||(n?function(t){return t.node.leafGroup}:function(t){return!t.node.group}),i=function(t,n){void 0===n&&(n=!1),t.childrenAfterFilter&&(t.childrenAfterAggFilter=t.childrenAfterFilter,n&&t.childrenAfterAggFilter.forEach(function(t){return i(t,n)}),e.setAllChildrenCount(t)),t.sibling&&(t.sibling.childrenAfterAggFilter=t.childrenAfterAggFilter)};t.changedPath.forEachChangedNodeDepthFirst(o?function(t){var n;t.childrenAfterAggFilter=(null===(n=t.childrenAfterFilter)||void 0===n?void 0:n.filter(function(t){var n;return r({node:t})&&e.filterManager.doesRowPassAggregateFilters({rowNode:t})?(i(t,!0),!0):null===(n=t.childrenAfterAggFilter)||void 0===n?void 0:n.length}))||null,e.setAllChildrenCount(t),t.sibling&&(t.sibling.childrenAfterAggFilter=t.childrenAfterAggFilter)}:i,!0)},e.prototype.setAllChildrenCountTreeData=function(t){var e=0;t.childrenAfterAggFilter.forEach(function(t){e++,e+=t.allChildrenCount}),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCountGridGrouping=function(t){var e=0;t.childrenAfterAggFilter.forEach(function(t){t.group?e+=t.allChildrenCount:e++}),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCount=function(t){t.hasChildren()?this.gridOptionsWrapper.isTreeData()?this.setAllChildrenCountTreeData(t):this.setAllChildrenCountGridGrouping(t):t.setAllChildrenCount(null)},__decorate$1F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$1F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("filterAggregatesStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),RowGroupingModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,beans:[AggregationStage,FilterAggregatesStage,GroupStage,PivotColDefService,PivotStage,AggFuncService],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:GridHeaderDropZones}],dependantModules:[EnterpriseCoreModule]},__extends$35=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1E=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ValuesDropZonePanel=function(t){function e(e){return t.call(this,e,"aggregation")||this}return __extends$35(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("valueColumnsEmptyMessage","Drag here to aggregate"),o=e("values","Values");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},e.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!t.isPrimary())&&t.isAllowValue()&&!t.isValueActive()},e.prototype.updateColumns=function(t){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:t,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setValueColumns(t,"toolPanelUi")},e.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},__decorate$1E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$1E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$1E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$1E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1E([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$34=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1D=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PrimaryColsPanel=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$34(e,t),e.prototype.postConstruct=function(){this.initialiseTabGuard({})},e.prototype.init=function(t,e,n){this.allowDragging=t,this.params=e,this.eventType=n,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},e.prototype.toggleResizable=function(t){this.positionableFeature.setResizable(!!t&&{bottom:!0})},e.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},e.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},e.prototype.expandGroups=function(t){this.primaryColsListPanel.setGroupsExpanded(!0,t)},e.prototype.collapseGroups=function(t){this.primaryColsListPanel.setGroupsExpanded(!1,t)},e.prototype.setColumnLayout=function(t){this.primaryColsListPanel.setColumnLayout(t)},e.prototype.onFilterChanged=function(t){this.primaryColsListPanel.setFilterText(t.filterText)},e.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},e.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},e.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},e.prototype.onGroupExpanded=function(t){this.primaryColsHeaderPanel.setExpandState(t.state)},e.prototype.onSelectionChange=function(t){this.primaryColsHeaderPanel.setSelectionState(t.state)},e.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',__decorate$1D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsHeaderPanel")],e.prototype,"primaryColsHeaderPanel",void 0),__decorate$1D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsListPanel")],e.prototype,"primaryColsListPanel",void 0),__decorate$1D([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$33=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1C=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ColumnToolPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.childDestroyFuncs=[],n}return __extends$33(e,t),e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.init=function(t){var e=this,n={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(n,t),this.params=n,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.childDestroyFuncs.push(function(){return e.destroyBean(e.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new PrimaryColsPanel),this.childDestroyFuncs.push(function(){return e.destroyBean(e.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new RowGroupDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return e.destroyBean(e.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new ValuesDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return e.destroyBean(e.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new PivotDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return e.destroyBean(e.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var o=this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){e.resetChildrenHeight(),e.setLastVisible()});this.childDestroyFuncs.push(function(){return o()})}this.initialised=!0},e.prototype.setPivotModeSectionVisible=function(t){var e=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(t):t&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return e.destroyBean(e.pivotModePanel)})),this.setLastVisible())},e.prototype.setRowGroupsSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(t):t&&(this.rowGroupDropZonePanel=this.createManagedBean(new RowGroupDropZonePanel(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},e.prototype.setValuesSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(t):t&&(this.valuesDropZonePanel=this.createManagedBean(new ValuesDropZonePanel(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},e.prototype.setPivotSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(t):t&&(this.pivotDropZonePanel=this.createManagedBean(new PivotDropZonePanel(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(t)),this.setLastVisible())},e.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(t){if(t){var e=t.getGui();t.toggleResizable(!e.classList.contains("ag-last-column-drop")&&!e.classList.contains("ag-hidden"))}})},e.prototype.setLastVisible=function(){var t=this.getGui();Array.prototype.slice.call(t.querySelectorAll(".ag-column-drop")).forEach(function(t){return t.classList.remove("ag-last-column-drop")});var e=t.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e);n&&n.classList.add("ag-last-column-drop"),this.setResizers()},e.prototype.resetChildrenHeight=function(){for(var t=this.getGui().children,e=0;e<t.length;e++){var n=t[e];n.style.removeProperty("height"),n.style.removeProperty("flex")}},e.prototype.isRowGroupingModuleLoaded=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Row Grouping")},e.prototype.expandColumnGroups=function(t){this.primaryColsPanel.expandGroups(t)},e.prototype.collapseColumnGroups=function(t){this.primaryColsPanel.collapseGroups(t)},e.prototype.setColumnLayout=function(t){this.primaryColsPanel.setColumnLayout(t)},e.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},e.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(t){return t()}),this.childDestroyFuncs.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},e.prototype.destroy=function(){this.destroyChildren(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-column-panel"></div>',__decorate$1C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$32=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1B=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},HorizontalResizeComp=function(t){function e(){var e=t.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return __extends$32(e,t),e.prototype.setElementToResize=function(t){this.elementToResize=t},e.prototype.postConstruct=function(){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(t),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},e.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},e.prototype.onResizing=function(t){var e=Math.max(this.minWidth,Math.floor(this.startingWidth-t*(this.inverted?-1:1)));null!=this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.elementToResize.style.width=e+"px"},e.prototype.setInverted=function(t){this.inverted=t},e.prototype.setMaxWidth=function(t){this.maxWidth=t},e.prototype.setMinWidth=function(t){this.minWidth=null!=t?t:100},__decorate$1B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),__decorate$1B([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$31=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1A=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SideBarButtonComp=function(t){function e(e){var n=t.call(this)||this;return n.toolPanelDef=e,n}return __extends$31(e,t),e.prototype.getToolPanelId=function(){return this.toolPanelDef.id},e.prototype.postConstruct=function(){var t=this.createTemplate();this.setTemplate(t),this.eIconWrapper.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},e.prototype.createTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=this.toolPanelDef;return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span class="ag-side-button-label">'+t(e.labelKey,e.labelDefault)+"</span>\n                </button>\n            </div>"},e.prototype.onButtonPressed=function(){this.dispatchEvent({type:e.EVENT_TOGGLE_BUTTON_CLICKED})},e.prototype.setSelected=function(t){this.addOrRemoveCssClass("ag-selected",t)},e.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",__decorate$1A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eToggleButton")],e.prototype,"eToggleButton",void 0),__decorate$1A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eIconWrapper")],e.prototype,"eIconWrapper",void 0),__decorate$1A([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$30=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1z=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SideBarButtonsComp=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.buttonComps=[],n}return __extends$30(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){if(t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB&&t.shiftKey){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(e,!0)&&t.preventDefault()}},e.prototype.setToolPanelDefs=function(t){t.forEach(this.addButtonComp.bind(this))},e.prototype.setActiveButton=function(t){this.buttonComps.forEach(function(e){e.setSelected(t===e.getToolPanelId())})},e.prototype.addButtonComp=function(t){var n=this,o=this.createBean(new SideBarButtonComp(t));this.buttonComps.push(o),this.appendChild(o),o.addEventListener(SideBarButtonComp.EVENT_TOGGLE_BUTTON_CLICKED,function(){n.dispatchEvent({type:e.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:t.id})})},e.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",e.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',__decorate$1z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$1z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$1z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"clearButtons",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1y=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelWrapper=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$2$(e,t),e.prototype.setupResize=function(){var t=this.getGui(),e=this.resizeBar=new HorizontalResizeComp;this.getContext().createBean(e),e.setElementToResize(t),this.appendChild(e)},e.prototype.getToolPanelId=function(){return this.toolPanelId},e.prototype.setToolPanelDef=function(t){var e=t.id,n=t.minWidth,o=t.maxWidth,r=t.width;this.toolPanelId=e,this.width=r;var i=this.userComponentFactory.getToolPanelCompDetails(t,{}).newAgStackInstance();null!=i?(i.then(this.setToolPanelComponent.bind(this)),null!=n&&this.resizeBar.setMinWidth(n),null!=o&&this.resizeBar.setMaxWidth(o)):console.warn("AG Grid: error processing tool panel component "+e+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},e.prototype.setToolPanelComponent=function(t){var e=this;this.toolPanelCompInstance=t,this.appendChild(t.getGui()),this.addDestroyFunc(function(){e.destroyBean(t)}),this.width&&(this.getGui().style.width=this.width+"px")},e.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},e.prototype.setResizerSizerSide=function(t){var e=this.gridOptionsWrapper.isEnableRtl(),n="left"===t;this.resizeBar.setInverted(e?n:!n)},e.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},e.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',__decorate$1y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$1y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"setupResize",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1x=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SideBarComp=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.toolPanelWrappers=[],n}return __extends$2_(e,t),e.prototype.postConstruct=function(){var t=this;this.sideBarButtonsComp.addEventListener(SideBarButtonsComp.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){t.clearDownUi(),t.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this.focusService,n=this.sideBarButtonsComp,o=this.getGui(),r=n.getGui(),i=this.gridOptionsWrapper.getDocument().activeElement,s=o.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)");if(s)if(r.contains(i))e.focusInto(s,t.shiftKey)&&t.preventDefault();else if(!e.isFocusUnderManagedComponent(s)&&t.shiftKey){var a=e.findFocusableElements(s)[0];if(this.gridOptionsWrapper.getDocument().activeElement===a){var l=r.querySelector(".ag-selected button");l&&(t.preventDefault(),l.focus())}}}},e.prototype.handleKeyDown=function(t){var e=this.gridOptionsWrapper.getDocument();if(this.sideBarButtonsComp.getGui().contains(e.activeElement)){var n=this.sideBarButtonsComp.getGui(),o=Array.prototype.slice.call(n.querySelectorAll(".ag-side-button")),r=e.activeElement,i=o.findIndex(function(t){return t.contains(r)}),s=null;switch(t.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:s=Math.max(0,i-1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:s=Math.min(i+1,o.length-1)}if(null!==s){var a=o[s].querySelector("button");a&&(a.focus(),t.preventDefault())}}},e.prototype.onToolPanelButtonClicked=function(t){var e=t.toolPanelId,n=this.openedItem();this.openToolPanel(n===e?void 0:e)},e.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},e.prototype.setSideBarDef=function(){this.setDisplayed(!1);var t=this.gridOptionsWrapper.getSideBar(),e=!!t&&!!t.toolPanels;if(e){this.setDisplayed(e&&!t.hiddenByDefault);var n=t.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(n),this.setupToolPanels(n),this.setSideBarPosition(t.position),t.hiddenByDefault||this.openToolPanel(t.defaultToolPanel)}},e.prototype.setSideBarPosition=function(t){t||(t="right");var e="left"===t,n=e?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",e),this.addOrRemoveCssClass("ag-side-bar-right",!e),this.toolPanelWrappers.forEach(function(t){t.setResizerSizerSide(n)}),this},e.prototype.setupToolPanels=function(t){var e=this;t.forEach(function(t){if(null!=t.id){if("agColumnsToolPanel"===t.toolPanel&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===t.toolPanel&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,"Filters Tool Panel"))return;var n=new ToolPanelWrapper;e.getContext().createBean(n),n.setToolPanelDef(t),n.setDisplayed(!1),e.getGui().appendChild(n.getGui()),e.toolPanelWrappers.push(n)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},e.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(t){return t.refresh()})},e.prototype.openToolPanel=function(t){var e=this.openedItem();e!==t&&(this.toolPanelWrappers.forEach(function(e){var n=t===e.getToolPanelId();e.setDisplayed(n)}),e!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(t),this.raiseToolPanelVisibleEvent(t)))},e.prototype.getToolPanelInstance=function(t){var e=this.toolPanelWrappers.filter(function(e){return e.getToolPanelId()===t})[0];if(e)return e.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+t)},e.prototype.raiseToolPanelVisibleEvent=function(t){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(e)},e.prototype.close=function(){this.openToolPanel(void 0)},e.prototype.isToolPanelShowing=function(){return!!this.openedItem()},e.prototype.openedItem=function(){var t=null;return this.toolPanelWrappers.forEach(function(e){e.isDisplayed()&&(t=e.getToolPanelId())}),t},e.prototype.destroyToolPanelWrappers=function(){var t=this;this.toolPanelWrappers.forEach(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}),this.toolPanelWrappers.length=0},e.prototype.destroy=function(){this.destroyToolPanelWrappers(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',__decorate$1x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$1x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sideBarButtons")],e.prototype,"sideBarButtonsComp",void 0),__decorate$1x([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1w=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelColDefService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isColGroupDef=function(t){return t&&void 0!==t.children},e.getId=function(t){return e.isColGroupDef(t)?t.groupId:t.colId},e}return __extends$2Z(e,t),e.prototype.createColumnTree=function(t){var e=this,n=[],o=function(t,r){if(e.isColGroupDef(t)){var i=t,s=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm(i,void 0!==i.groupId?i.groupId:i.headerName,!1,r),a=[];return i.children.forEach(function(t){var e=o(t,r+1);e&&a.push(e)}),s.setChildren(a),s}var l=t,c=e.columnModel.getPrimaryColumn(l.colId?l.colId:l.field);return c||n.push(l),c},r=[];return t.forEach(function(t){var e=o(t,0);e&&r.push(e)}),n.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",n),r},e.prototype.syncLayoutWithGrid=function(t){var e=this.getLeafPathTrees();t(this.mergeLeafPathTrees(e))},e.prototype.getLeafPathTrees=function(){var t=function(e,n){var o;if(e instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)if(e.isPadding())o=n;else{var r=Object.assign({},e.getColGroupDef());r.groupId=e.getGroupId(),r.children=[n],o=r}else{var i=Object.assign({},e.getColDef());i.colId=e.getColId(),o=i}var s=e.getOriginalParent();return s?t(s,o):o};return this.columnModel.getAllGridColumns().filter(function(t){var e=t.getColDef();return t.isPrimary()&&!e.showRowGroup}).map(function(e){return t(e,e.getColDef())})},e.prototype.mergeLeafPathTrees=function(t){for(var e,n,o=this,r=function(t,e){if(!o.isColGroupDef(e))return t;var n=t,i=e;return i.children&&i.groupId&&o.addChildrenToGroup(n,i.groupId,i.children[0])||i.children.forEach(function(t){return r(n,t)}),n},i=[],s=1;s<=t.length;s++){var a=t[s-1],l=t[s];n=l,o.isColGroupDef(e=a)&&o.isColGroupDef(n)&&o.getId(e)===o.getId(n)?t[s]=r(a,l):i.push(a)}return i},e.prototype.addChildrenToGroup=function(t,e,n){var o=this;if(!this.isColGroupDef(t))return!0;var r=t,i=n;if(function(t,e){var n=t.children.map(o.getId),r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,o.getId(e)),i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.children),s=i&&o.getId(i)!==o.getId(e);return r&&s}(r,i))return r.children.push(i),!0;if(r.groupId===e){var s=r.children.map(this.getId);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(s,this.getId(i)))return r.children.push(i),!0}return r.children.forEach(function(t){return o.addChildrenToGroup(t,e,n)}),!1},__decorate$1w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("toolPanelColDefService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),SideBarModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SideBarModule,beans:[ToolPanelColDefService],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:HorizontalResizeComp},{componentName:"AgSideBar",componentClass:SideBarComp},{componentName:"AgSideBarButtons",componentClass:SideBarButtonsComp}],dependantModules:[EnterpriseCoreModule]},__decorate$1v=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ModelItemUtils=function(){function t(){}return t.prototype.selectAllChildren=function(t,e,n){var o=this.extractAllLeafColumns(t);this.setAllColumns(o,e,n)},t.prototype.setColumn=function(t,e,n){this.setAllColumns([t],e,n)},t.prototype.setAllColumns=function(t,e,n){this.columnModel.isPivotMode()?this.setAllPivot(t,e,n):this.setAllVisible(t,e,n)},t.prototype.extractAllLeafColumns=function(t){var e=[],n=function(t){t.forEach(function(t){t.isPassesFilter()&&(t.isGroup()?n(t.getChildren()):e.push(t.getColumn()))})};return n(t),e},t.prototype.setAllVisible=function(t,e,n){var o=[];t.forEach(function(t){t.getColDef().lockVisible||t.isVisible()!=e&&o.push({colId:t.getId(),hide:!e})}),o.length>0&&this.columnModel.applyColumnState({state:o},n)},t.prototype.setAllPivot=function(t,e,n){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,n)},t.prototype.setAllPivotPassive=function(t,e){var n=this.columnModel.getPivotColumns().slice(),o=this.columnModel.getValueColumns().slice(),r=this.columnModel.getRowGroupColumns().slice(),i=!1,s=!1,a=!1;t.forEach(e?function(t){t.isAnyFunctionActive()||(t.isAllowValue()?(o.push(t),s=!0):t.isAllowRowGroup()?(r.push(t),i=!0):t.isAllowPivot()&&(n.push(t),a=!0))}:function(t){t.isAnyFunctionActive()&&(n.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(n,t),i=!0),o.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(o,t),s=!0),r.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(r,t),a=!0))}),i&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n,api:this.gridApi,columnApi:this.columnApi}),a&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:r,api:this.gridApi,columnApi:this.columnApi}),s&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:r,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setAllPivotActive=function(t,e,n){var o=this,r=[];t.forEach(e?function(t){if(!t.isAnyFunctionActive())if(t.isAllowValue()){var e="string"==typeof t.getAggFunc()?t.getAggFunc():o.aggFuncService.getDefaultAggFunc(t);r.push({colId:t.getId(),aggFunc:e})}else t.isAllowRowGroup()?r.push({colId:t.getId(),rowGroup:!0}):t.isAllowPivot()&&r.push({colId:t.getId(),pivot:!0})}:function(t){(t.isPivotActive()||t.isRowGroupActive()||t.isValueActive())&&r.push({colId:t.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),r.length>0&&this.columnModel.applyColumnState({state:r},n)},__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],t.prototype,"aggFuncService",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("eventService")],t.prototype,"eventService",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("modelItemUtils")],t)}(),ColumnsToolPanelModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnToolPanelModule,beans:[ModelItemUtils],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:PrimaryColsHeaderPanel},{componentName:"AgPrimaryColsList",componentClass:PrimaryColsListPanel},{componentName:"AgPrimaryCols",componentClass:PrimaryColsPanel}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:ColumnToolPanel}],dependantModules:[EnterpriseCoreModule,RowGroupingModule,SideBarModule]},workbook={getTemplate:function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}}},excelWorkbook={getTemplate:function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}}},column={getTemplate:function(t){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:t.width}}]}}}},cell={getTemplate:function(t){var e,n,o=t.mergeAcross,r=t.styleId,i=t.data,s={};return o&&(s.MergeAcross=o),r&&(s.StyleID=r),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:s}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:null===(e=i)||void 0===e?void 0:e.type}}]},textNode:null===(n=i)||void 0===n?void 0:n.value}]}}},row={getTemplate:function(t){return{name:"Row",children:t.cells.map(function(t){return cell.getTemplate(t)})}}},worksheet={getTemplate:function(t){var e=t.table,n=t.name,o=e.rows,r=e.columns.map(function(t){return column.getTemplate(t)}),i=o.map(function(t){return row.getTemplate(t)});return{name:"Worksheet",children:[{name:"Table",children:r.concat(i)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:n}}]}}}},documentProperties={getTemplate:function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}}},alignment={getTemplate:function(t){var e=t.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:e.vertical,Horizontal:e.horizontal,Indent:e.indent,ReadingOrder:e.readingOrder,Rotate:e.rotate,ShrinkToFit:e.shrinkToFit,VerticalText:e.verticalText,WrapText:e.wrapText}}]}}}},borders={getTemplate:function(t){var e=t.borders;return{name:"Borders",children:[e.borderBottom,e.borderLeft,e.borderRight,e.borderTop].map(function(t,e){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==e?"Bottom":1==e?"Left":2==e?"Right":"Top",LineStyle:t.lineStyle,Weight:t.weight,Color:t.color}}]}}})}}},font={getTemplate:function(t){var e=t.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:e.bold,FontName:e.fontName,Italic:e.italic,Color:e.color,Outline:e.outline,Shadow:e.shadow,Size:e.size,StrikeThrough:e.strikeThrough,Underline:e.underline,VerticalAlign:e.verticalAlign}},{prefix:"x:",map:{CharSet:e.charSet,Family:e.family}}]}}}},interior={getTemplate:function(t){var e=t.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:e.color,Pattern:e.pattern,PatternColor:e.patternColor}}]}}}},protection={getTemplate:function(t){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:t.protection.protected,HideFormula:t.protection.hideFormula}}]}}}},numberFormat={getTemplate:function(t){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:t.numberFormat.format}}]}}}},style={getTemplate:function(t){var e=t.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:e,Name:t.name||e}}]}}}},ExcelXmlFactory=function(){function t(){}return t.createExcel=function(t,e){var n=this.excelXmlHeader(),o=documentProperties.getTemplate(),r=excelWorkbook.getTemplate(),i=this.workbook(o,r,t,e);return""+n+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(i,function(t){return t?"1":"0"})},t.workbook=function(t,e,n,o){var r=[t,e,this.stylesXmlElement(n)].concat(worksheet.getTemplate(o));return Object.assign({},workbook.getTemplate(),{children:r})},t.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},t.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map(function(t){return e.styleXmlElement(t)}):[]}},t.styleXmlElement=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},style.getTemplate(t),{children:e})},t.addProperty=function(t,e){return function(n){return e[t]?n.concat({alignment:alignment,borders:borders,font:font,interior:interior,numberFormat:numberFormat,protection:protection}[t].getTemplate(e)):n}},t.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,t}(),INCH_TO_EMU=9525,numberFormatMap={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},pixelsToPoint=function(t){return Math.round(72*t/96)},pointsToPixel=function(t){return Math.round(96*t/72)},pixelsToEMU=function(t){return Math.ceil(t*INCH_TO_EMU)},getFontFamilyId=function(t){if(void 0!==t){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(t||"Automatic");return Math.max(e,0)}},getHeightFromProperty=function(t,e){var n;if(e)return n="number"==typeof e?e:e({rowIndex:t}),pixelsToPoint(n)},setExcelImageTotalWidth=function(t,e){var n=t.position,o=n.colSpan,r=n.column;if(t.width)if(o)for(var i=e.slice(r-1,r+o-1),s=0,a=0;a<i.length;a++){var l=i[a].getActualWidth();if(t.width<s+l){t.position.colSpan=a+1,t.totalWidth=t.width,t.width=t.totalWidth-s;break}s+=l}else t.totalWidth=t.width},setExcelImageTotalHeight=function(t,e){var n=t.position,o=n.rowSpan,r=n.row;if(t.height)if(o)for(var i=0,s=0,a=r;a<r+o;a++){var l=pointsToPixel(getHeightFromProperty(a,e)||20);if(t.height<i+l){t.position.rowSpan=s+1,t.totalHeight=t.height,t.height=t.totalHeight-i;break}i+=l,s++}else t.totalHeight=t.height},createXmlPart=function(t){return""+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createHeader({encoding:"UTF-8",standalone:"yes"})+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(t)},getExcelColumnName=function(t){var e=String.fromCharCode,n=Math.floor(t/26),o=t%26;return n&&26!==t?o?n<26?e(65+n-1)+e(65+o-1):getExcelColumnName(n)+e(65+o-1):getExcelColumnName(n-1)+"Z":e(65+t-1)},__extends$2Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$A=function(){return(__assign$A=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__read$O=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$m=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$O(arguments[e]));return t},BaseExcelSerializingSession=function(t){function e(e){var n=t.call(this,e)||this;return n.mixedStyles={},n.mixedStyleCounter=0,n.rows=[],n.config=Object.assign({},e),n.stylesByIds={},n.config.baseExcelStyles.forEach(function(t){n.stylesByIds[t.id]=t}),n.excelStyles=__spread$m(n.config.baseExcelStyles),n}return __extends$2Y(e,t),e.prototype.addCustomContent=function(t){var e=this;t.forEach(function(t){var n=e.rows.length+1;e.rows.push({height:getHeightFromProperty(n,e.config.rowHeight),cells:(t.cells||[]).map(function(t,o){var r,i=e.addImage(n,e.columnsToExport[o],null===(r=t.data)||void 0===r?void 0:r.value),s=__assign$A({},t);return i&&(s.data={},null!=i.value?s.data.value=i.value:(s.data.type="e",s.data.value=null)),s}),outlineLevel:t.outlineLevel||void 0})})},e.prototype.onNewHeaderGroupingRow=function(){var t=this,e=[];return this.rows.push({cells:e,height:getHeightFromProperty(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(n,o,r,i){var s=t.config.styleLinker(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,1,"grouping-"+n,void 0,void 0);e.push(__assign$A(__assign$A({},t.createMergedCell(t.getStyleId(s),t.getDataTypeForValue("string"),n,r)),{collapsibleRanges:i}))}}},e.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},e.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},e.prototype.prepare=function(e){var n=this;t.prototype.prepare.call(this,e),this.columnsToExport=__spread$m(e),this.cols=e.map(function(t,e){return n.convertColumnToExcel(t,e)})},e.prototype.parse=function(){for(var t=this.rows.reduce(function(t,e){return Math.max(t,e.cells.length)},0);this.cols.length<t;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},e.prototype.isFormula=function(t){return null!=t&&this.config.autoConvertFormulas&&t.toString().startsWith("=")},e.prototype.getStyleById=function(t){return null==t?null:this.stylesByIds[t]||null},e.prototype.convertColumnToExcel=function(t,e){var n=this.config.columnWidth;return n?"number"==typeof n?{width:n}:{width:n({column:t,index:e})}:t?{width:Math.max(t.getActualWidth(),75)}:{}},e.prototype.onNewHeaderColumn=function(t,e){var n=this;return function(o,r){var i=n.extractHeaderValue(o),s=n.config.styleLinker(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,t,i,o,void 0);e.push(n.createCell(n.getStyleId(s),n.getDataTypeForValue("string"),i))}},e.prototype.onNewRow=function(t,e){var n=[];return this.rows.push({cells:n,height:getHeightFromProperty(this.rows.length+1,e)}),{onColumn:t.bind(this,this.rows.length,n)()}},e.prototype.onNewBodyColumn=function(t,e){var n=this,o=0;return function(r,i,s){if(o>0)o-=1;else{!n.config.gridOptionsWrapper.isGroupHideOpenParents()&&s.level&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n.rows).outlineLevel=s.level);var a=n.extractRowCellValue(r,i,t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_EXCEL,s),l=n.config.styleLinker(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.BODY,t,a,r,s),c=n.getStyleId(l),u=r.getColSpan(s),p=n.addImage(t,r,a);p?e.push(n.createCell(c,n.getDataTypeForValue(p.value),null==p.value?"":p.value)):u>1?(o=u-1,e.push(n.createMergedCell(c,n.getDataTypeForValue(a),a,u-1))):e.push(n.createCell(c,n.getDataTypeForValue(a),a))}}},e.prototype.getStyleId=function(t){if(!t||!t.length)return null;if(1===t.length)return t[0];var e=t.join("-");return this.mixedStyles[e]||this.addNewMixedStyle(t),this.mixedStyles[e].excelID},e.prototype.addNewMixedStyle=function(t){var e=this;this.mixedStyleCounter+=1;var n="mixedStyle"+this.mixedStyleCounter,o={};t.forEach(function(t){e.excelStyles.forEach(function(e){e.id===t&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.deepCloneObject(e))})}),o.id=n,o.name=n;var r=t.join("-");this.mixedStyles[r]={excelID:n,key:r,result:o},this.excelStyles.push(o),this.stylesByIds[n]=o},e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WKU),__extends$2X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ExcelXmlSerializingSession=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2X(e,t),e.prototype.createExcel=function(t){return ExcelXmlFactory.createExcel(this.excelStyles,t)},e.prototype.getDataTypeForValue=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isNumeric(t)?"Number":"String"},e.prototype.getType=function(t,e,n){if(this.isFormula(n))return"Formula";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+e.id+".dataType="+e.dataType+"]")}return t},e.prototype.addImage=function(){},e.prototype.createCell=function(t,e,n){var o=this.getStyleById(t),r=this.getType(e,o,n)||e;return{styleId:o?t:void 0,data:{type:r,value:this.getValueTransformed(r,n)}}},e.prototype.getValueTransformed=function(t,e){var n,o=this;switch(t){case"String":return function(t){if(o.config.suppressTextAsCDATA)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t);var e=new RegExp("]]>","g");return"<![CDATA["+String(t).replace(e,"]]]]><![CDATA[>")+"]]>"}(e);case"Number":return Number(e).valueOf()+"";case"Boolean":return(n=e)&&"0"!==n&&"false"!==n?"1":"0";default:return e}},e.prototype.createMergedCell=function(t,e,n,o){return{styleId:this.getStyleById(t)?t:void 0,data:{type:e,value:n},mergeAcross:o}},e}(BaseExcelSerializingSession),coreFactory={getTemplate:function(t){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:t},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},contentTypeFactory={getTemplate:function(t){return{name:t.name,properties:{rawMap:{Extension:t.Extension,PartName:t.PartName,ContentType:t.ContentType}}}}},__read$N=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$N(arguments[e]));return t},contentTypesFactory={getTemplate:function(t){var e=new Array(t).fill(void 0).map(function(t,e){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(e+1)+".xml"}}),n=ExcelXlsxFactory.worksheetImages.size,o={};ExcelXlsxFactory.workbookImageIds.forEach(function(t){o[t.type]=!0});var r=new Array(n).fill(void 0).map(function(t,e){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(e+1)+".xml"}}),i=Object.keys(o).map(function(t){return{name:"Default",ContentType:"image/"+t,Extension:t}});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:__spread$l(i,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],e,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],r,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(t){return contentTypeFactory.getTemplate(t)})}}},getAnchor=function(t,e){return{name:"xdr:"+t,children:[{name:"xdr:col",textNode:e.col.toString()},{name:"xdr:colOff",textNode:e.offsetX.toString()},{name:"xdr:row",textNode:e.row.toString()},{name:"xdr:rowOff",textNode:e.offsetY.toString()}]}},getExt=function(t){var e=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(t.recolor&&t.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":e.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:e}},getNvPicPr=function(t,e){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:e,name:t.id,descr:null!=t.altText?t.altText:void 0}},children:[getExt(t)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},getColorDetails=function(t){if(t.saturation||t.tint){var e=[];return t.saturation&&e.push({name:"a:satMod",properties:{rawMap:{val:1e3*t.saturation}}}),t.tint&&e.push({name:"a:tint",properties:{rawMap:{val:1e3*t.tint}}}),e}},getDuoTone=function(t,e){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:t.color}},children:getColorDetails(t)},{name:"a:srgbClr",properties:{rawMap:{val:e.color}},children:getColorDetails(e)}]}},getBlipFill=function(t,e){var n;if(t.transparency){var o=Math.min(Math.max(t.transparency,0),100);n=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*o)}}}]}if(t.recolor)switch(n||(n=[]),t.recolor.toLocaleLowerCase()){case"grayscale":n.push({name:"a:grayscl"});break;case"sepia":n.push(getDuoTone({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":n.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+e,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:n},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},getSpPr=function(t,e){var n={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:e.width,cy:e.height}}}]};return t.rotation&&(n.properties={rawMap:{rot:6e4*Math.min(Math.max(t.rotation,0),360)}}),{name:"xdr:spPr",children:[n,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},getImageBoxSize=function(t){t.fitCell=!!t.fitCell||!t.width||!t.height;var e=t.position,n=void 0===e?{}:e,o=t.fitCell,r=t.width,i=void 0===r?0:r,s=t.height,a=void 0===s?0:s,l=t.totalHeight,c=t.totalWidth,u=n.offsetX,p=void 0===u?0:u,d=n.offsetY,h=void 0===d?0:d,f=n.row,g=void 0===f?1:f,m=n.rowSpan,y=void 0===m?1:m,_=n.column,v=void 0===_?1:_,C=n.colSpan,E=void 0===C?1:C;return{from:{row:g-1,col:v-1,offsetX:pixelsToEMU(p),offsetY:pixelsToEMU(h)},to:{row:g-1+(o?1:y-1),col:v-1+(o?1:E-1),offsetX:pixelsToEMU(i+p),offsetY:pixelsToEMU(a+h)},height:pixelsToEMU(l||a),width:pixelsToEMU(c||i)}},getPicture=function(t,e,n,o){return{name:"xdr:pic",children:[getNvPicPr(t,e+1),getBlipFill(t,n+1),getSpPr(t,o)]}},drawingFactory={getTemplate:function(t){var e=t.sheetIndex,n=ExcelXlsxFactory.worksheetImages.get(e),o=ExcelXlsxFactory.worksheetImageIds.get(e);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:n.map(function(t,e){var n=getImageBoxSize(t);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[getAnchor("from",n.from),getAnchor("to",n.to),getPicture(t,e,o.get(t.id).index,n),{name:"xdr:clientData"}]}})}}},__read$M=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},getColorChildren=function(t){var e=__read$M(t,4);return{name:"a:"+e[0],children:[{name:"a:"+e[1],properties:{rawMap:{val:e[2],lastClr:e[3]}}}]}},colorScheme={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[getColorChildren(["dk1","sysClr","windowText","000000"]),getColorChildren(["lt1","sysClr","window","FFFFFF"]),getColorChildren(["dk2","srgbClr","44546A"]),getColorChildren(["lt2","srgbClr","E7E6E6"]),getColorChildren(["accent1","srgbClr","4472C4"]),getColorChildren(["accent2","srgbClr","ED7D31"]),getColorChildren(["accent3","srgbClr","A5A5A5"]),getColorChildren(["accent4","srgbClr","FFC000"]),getColorChildren(["accent5","srgbClr","5B9BD5"]),getColorChildren(["accent6","srgbClr","70AD47"]),getColorChildren(["hlink","srgbClr","0563C1"]),getColorChildren(["folHlink","srgbClr","954F72"])]}}},__read$L=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},getFont$3=function(t){var e=__read$L(t,4);return{name:"a:"+e[0],properties:{rawMap:{script:e[2],typeface:e[1],panose:e[3]}}}},fontScheme={getTemplate:function(){var t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[getFont$3(["latin","Calibri Light",void 0,"020F0302020204030204"]),getFont$3(["ea",""]),getFont$3(["cs",""]),getFont$3(["font",t("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),getFont$3(["font",t("\ub9d1\uc740 \uace0\ub515"),"Hang"]),getFont$3(["font",t("\u7b49\u7ebf Light"),"Hans"]),getFont$3(["font",t("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),getFont$3(["font","Times New Roman","Arab"]),getFont$3(["font","Times New Roman","Hebr"]),getFont$3(["font","Tahoma","Thai"]),getFont$3(["font","Nyala","Ethi"]),getFont$3(["font","Vrinda","Beng"]),getFont$3(["font","Shruti","Gujr"]),getFont$3(["font","MoolBoran","Khmr"]),getFont$3(["font","Tunga","Knda"]),getFont$3(["font","Raavi","Guru"]),getFont$3(["font","Euphemia","Cans"]),getFont$3(["font","Plantagenet Cherokee","Cher"]),getFont$3(["font","Microsoft Yi Baiti","Yiii"]),getFont$3(["font","Microsoft Himalaya","Tibt"]),getFont$3(["font","MV Boli","Thaa"]),getFont$3(["font","Mangal","Deva"]),getFont$3(["font","Gautami","Telu"]),getFont$3(["font","Latha","Taml"]),getFont$3(["font","Estrangelo Edessa","Syrc"]),getFont$3(["font","Kalinga","Orya"]),getFont$3(["font","Kartika","Mlym"]),getFont$3(["font","DokChampa","Laoo"]),getFont$3(["font","Iskoola Pota","Sinh"]),getFont$3(["font","Mongolian Baiti","Mong"]),getFont$3(["font","Times New Roman","Viet"]),getFont$3(["font","Microsoft Uighur","Uigh"]),getFont$3(["font","Sylfaen","Geor"]),getFont$3(["font","Arial","Armn"]),getFont$3(["font","Leelawadee UI","Bugi"]),getFont$3(["font","Microsoft JhengHei","Bopo"]),getFont$3(["font","Javanese Text","Java"]),getFont$3(["font","Segoe UI","Lisu"]),getFont$3(["font","Myanmar Text","Mymr"]),getFont$3(["font","Ebrima","Nkoo"]),getFont$3(["font","Nirmala UI","Olck"]),getFont$3(["font","Ebrima","Osma"]),getFont$3(["font","Phagspa","Phag"]),getFont$3(["font","Estrangelo Edessa","Syrn"]),getFont$3(["font","Estrangelo Edessa","Syrj"]),getFont$3(["font","Estrangelo Edessa","Syre"]),getFont$3(["font","Nirmala UI","Sora"]),getFont$3(["font","Microsoft Tai Le","Tale"]),getFont$3(["font","Microsoft New Tai Lue","Talu"]),getFont$3(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[getFont$3(["latin","Calibri",void 0,"020F0502020204030204"]),getFont$3(["ea",""]),getFont$3(["cs",""]),getFont$3(["font",t("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),getFont$3(["font",t("\ub9d1\uc740 \uace0\ub515"),"Hang"]),getFont$3(["font",t("\u7b49\u7ebf"),"Hans"]),getFont$3(["font",t("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),getFont$3(["font","Arial","Arab"]),getFont$3(["font","Arial","Hebr"]),getFont$3(["font","Tahoma","Thai"]),getFont$3(["font","Nyala","Ethi"]),getFont$3(["font","Vrinda","Beng"]),getFont$3(["font","Shruti","Gujr"]),getFont$3(["font","DaunPenh","Khmr"]),getFont$3(["font","Tunga","Knda"]),getFont$3(["font","Raavi","Guru"]),getFont$3(["font","Euphemia","Cans"]),getFont$3(["font","Plantagenet Cherokee","Cher"]),getFont$3(["font","Microsoft Yi Baiti","Yiii"]),getFont$3(["font","Microsoft Himalaya","Tibt"]),getFont$3(["font","MV Boli","Thaa"]),getFont$3(["font","Mangal","Deva"]),getFont$3(["font","Gautami","Telu"]),getFont$3(["font","Latha","Taml"]),getFont$3(["font","Estrangelo Edessa","Syrc"]),getFont$3(["font","Kalinga","Orya"]),getFont$3(["font","Kartika","Mlym"]),getFont$3(["font","DokChampa","Laoo"]),getFont$3(["font","Iskoola Pota","Sinh"]),getFont$3(["font","Mongolian Baiti","Mong"]),getFont$3(["font","Arial","Viet"]),getFont$3(["font","Microsoft Uighur","Uigh"]),getFont$3(["font","Sylfaen","Geor"]),getFont$3(["font","Arial","Armn"]),getFont$3(["font","Leelawadee UI","Bugi"]),getFont$3(["font","Microsoft JhengHei","Bopo"]),getFont$3(["font","Javanese Text","Java"]),getFont$3(["font","Segoe UI","Lisu"]),getFont$3(["font","Myanmar Text","Mymr"]),getFont$3(["font","Ebrima","Nkoo"]),getFont$3(["font","Nirmala UI","Olck"]),getFont$3(["font","Ebrima","Osma"]),getFont$3(["font","Phagspa","Phag"]),getFont$3(["font","Estrangelo Edessa","Syrn"]),getFont$3(["font","Estrangelo Edessa","Syrj"]),getFont$3(["font","Estrangelo Edessa","Syre"]),getFont$3(["font","Nirmala UI","Sora"]),getFont$3(["font","Microsoft Tai Le","Tale"]),getFont$3(["font","Microsoft New Tai Lue","Talu"]),getFont$3(["font","Ebrima","Tfng"])]}]}}},__read$K=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},getPropertyVal=function(t,e,n){return{name:"a:"+t,properties:{rawMap:{val:e}},children:n}},getGs=function(t){var e=__read$K(t,6),n=e[0],o=e[1],r=e[3],i=e[4],s=e[5],a=[];return a.push(getPropertyVal("satMod",e[2])),r&&a.push(getPropertyVal("lumMod",r)),i&&a.push(getPropertyVal("tint",i)),s&&a.push(getPropertyVal("shade",s)),{name:"a:gs",properties:{rawMap:{pos:n}},children:[{name:"a:schemeClr",properties:{rawMap:{val:o}},children:a}]}},getSolidFill=function(t,e){return{name:"a:solidFill",children:[getPropertyVal("schemeClr",t,e)]}},getGradFill=function(t){var e=__read$K(t,5),n=e[0],o=e[1],r=e[2],i=e[3],s=__read$K(e[4],2),a=s[0],l=s[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:n}},children:[{name:"a:gsLst",children:[getGs(o),getGs(r),getGs(i)]},{name:"a:lin",properties:{rawMap:{ang:a,scaled:l}}}]}},getLine=function(t){var e=__read$K(t,4);return{name:"a:ln",properties:{rawMap:{w:e[0],cap:e[1],cmpd:e[2],algn:e[3]}},children:[getSolidFill("phClr"),getPropertyVal("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},getEffectStyle=function(t){var e=[];if(t){var n=__read$K(t,5);e.push({name:"a:outerShdw",properties:{rawMap:{blurRad:n[0],dist:n[1],dir:n[2],algn:n[3],rotWithShape:n[4]}},children:[getPropertyVal("srgbClr","000000",[getPropertyVal("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},e.length?{children:e}:{})]}},getFillStyleList=function(){return{name:"a:fillStyleLst",children:[getSolidFill("phClr"),getGradFill(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),getGradFill(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},getLineStyleList=function(){return{name:"a:lnStyleLst",children:[getLine(["6350","flat","sng","ctr"]),getLine(["12700","flat","sng","ctr"]),getLine(["19050","flat","sng","ctr"])]}},getEffectStyleList=function(){return{name:"a:effectStyleLst",children:[getEffectStyle(),getEffectStyle(),getEffectStyle(["57150","19050","5400000","ctr","0"])]}},getBgFillStyleList=function(){return{name:"a:bgFillStyleLst",children:[getSolidFill("phClr"),getSolidFill("phClr",[getPropertyVal("tint","95000"),getPropertyVal("satMod","170000")]),getGradFill(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},formatScheme={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[getFillStyleList(),getLineStyleList(),getEffectStyleList(),getBgFillStyleList()]}}},themeElements={getTemplate:function(){return{name:"a:themeElements",children:[colorScheme.getTemplate(),fontScheme.getTemplate(),formatScheme.getTemplate()]}}},officeTheme={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[themeElements.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},buildSharedString=function(t){var e=[];return t.forEach(function(t,n){var o=n.toString(),r={name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(o))};o.trim().length!==o.length&&(r.properties={rawMap:{"xml:space":"preserve"}}),e.push({name:"si",children:[r]})}),e},sharedStrings={getTemplate:function(t){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:t.size,uniqueCount:t.size}},children:buildSharedString(t)}}},numberFormatFactory={getTemplate:function(t){return{name:"numFmt",properties:{rawMap:{formatCode:t.formatCode,numFmtId:t.numFmtId}}}}},numberFormatsFactory={getTemplate:function(t){return{name:"numFmts",properties:{rawMap:{count:t.length}},children:t.map(function(t){return numberFormatFactory.getTemplate(t)})}}},fontFactory={getTemplate:function(t){var e=t.color,n=t.fontName,o=t.family,r=t.scheme,i=t.italic,s=t.bold,a=t.strikeThrough,l=t.outline,c=t.shadow,u=t.underline,p=t.verticalAlign,d=[{name:"sz",properties:{rawMap:{val:t.size}}},{name:"color",properties:{rawMap:{theme:t.colorTheme,rgb:void 0===e?"FF000000":e}}},{name:"name",properties:{rawMap:{val:void 0===n?"Calibri":n}}}];return o&&d.push({name:"family",properties:{rawMap:{val:o}}}),r&&d.push({name:"scheme",properties:{rawMap:{val:r}}}),i&&d.push({name:"i"}),s&&d.push({name:"b"}),a&&d.push({name:"strike"}),l&&d.push({name:"outline"}),c&&d.push({name:"shadow"}),u&&d.push({name:"u",properties:{rawMap:{val:u}}}),p&&d.push({name:"vertAlign",properties:{rawMap:{val:p}}}),{name:"font",children:d}}},fontsFactory={getTemplate:function(t){return{name:"fonts",properties:{rawMap:{count:t.length}},children:t.map(function(t){return fontFactory.getTemplate(t)})}}},fillFactory={getTemplate:function(t){var e=t.fgTheme,n=t.fgTint,o=t.fgRgb,r=t.bgRgb,i=t.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:t.patternType}}};return(e||n||o)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:n,rgb:o}}}]),(i||r)&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:i,rgb:r}}})),{name:"fill",children:[s]}}},fillsFactory={getTemplate:function(t){return{name:"fills",properties:{rawMap:{count:t.length}},children:t.map(function(t){return fillFactory.getTemplate(t)})}}},getWeightName=function(t){switch(t){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},mappedBorderNames={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},mediumBorders=["Dashed","DashDot","DashDotDot"],colorMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},horizontalAlignmentMap={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},verticalAlignmentMap={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},convertLegacyPattern=function(t){return t?colorMap[t]||t:"none"},convertLegacyColor=function(t){return null==t?t:("#"===t.charAt(0)&&(t=t.substr(1)),6===t.length?"FF"+t:t)},convertLegacyBorder=function(t,e){if(!t)return"thin";var n=getWeightName(e),o=mappedBorderNames[t];return"Continuous"===t?n:"medium"===n&&-1!==mediumBorders.indexOf(o)?"medium"+o:o.charAt(0).toLowerCase()+o.substr(1)},convertLegacyHorizontalAlignment=function(t){return horizontalAlignmentMap[t]||"general"},convertLegacyVerticalAlignment=function(t){return verticalAlignmentMap[t]||void 0},getBorderColor=function(t){return{name:"color",properties:{rawMap:{rgb:convertLegacyColor(t||"#000000")}}}},borderFactory$1={getTemplate:function(t){var e=t.left,n=t.right,o=t.top,r=t.bottom,i=t.diagonal,s=e?[getBorderColor(e.color)]:void 0,a=n?[getBorderColor(n.color)]:void 0,l=o?[getBorderColor(o.color)]:void 0,c=r?[getBorderColor(r.color)]:void 0,u=i?[getBorderColor(i.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:e&&e.style}},children:s},{name:"right",properties:{rawMap:{style:n&&n.style}},children:a},{name:"top",properties:{rawMap:{style:o&&o.style}},children:l},{name:"bottom",properties:{rawMap:{style:r&&r.style}},children:c},{name:"diagonal",properties:{rawMap:{style:i&&i.style}},children:u}]}}},bordersFactory={getTemplate:function(t){return{name:"borders",properties:{rawMap:{count:t.length}},children:t.map(function(t){return borderFactory$1.getTemplate(t)})}}},getReadingOrderId=function(t){var e=["Context","LeftToRight","RightToLeft"].indexOf(t);return Math.max(e,0)},alignmentFactory={getTemplate:function(t){var e=t.horizontal,n=t.indent,o=t.readingOrder,r=t.rotate,i=t.shrinkToFit,s=t.vertical,a=t.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:e&&convertLegacyHorizontalAlignment(e),indent:n,readingOrder:o&&getReadingOrderId(o),textRotation:r,shrinkToFit:i,vertical:s&&convertLegacyVerticalAlignment(s),wrapText:a}}}}},protectionFactory={getTemplate:function(t){return{name:"protection",properties:{rawMap:{hidden:!0===t.hideFormula?1:0,locked:!1===t.protected?0:1}}}}},xfFactory={getTemplate:function(t){var e=t.alignment,n=t.borderId,o=t.fillId,r=t.fontId,i=t.numFmtId,s=t.protection,a=t.xfId,l=[];return e&&l.push(alignmentFactory.getTemplate(e)),s&&l.push(protectionFactory.getTemplate(s)),{name:"xf",properties:{rawMap:{applyAlignment:e?1:void 0,applyProtection:s?1:void 0,applyBorder:n?1:void 0,applyFill:o?1:void 0,borderId:n,fillId:o,applyFont:r?1:void 0,fontId:r,applyNumberFormat:i?1:void 0,numFmtId:i,xfId:a}},children:l.length?l:void 0}}},cellStylesXfsFactory={getTemplate:function(t){return{name:"cellStyleXfs",properties:{rawMap:{count:t.length}},children:t.map(function(t){return xfFactory.getTemplate(t)})}}},cellXfsFactory={getTemplate:function(t){return{name:"cellXfs",properties:{rawMap:{count:t.length}},children:t.map(function(t){return xfFactory.getTemplate(t)})}}},borderFactory={getTemplate:function(t){return{name:"cellStyle",properties:{rawMap:{builtinId:t.builtinId,name:t.name,xfId:t.xfId}}}}},cellStylesFactory={getTemplate:function(t){return{name:"cellStyles",properties:{rawMap:{count:t.length}},children:t.map(function(t){return borderFactory.getTemplate(t)})}}},__assign$z=function(){return(__assign$z=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},stylesMap,registeredNumberFmts,registeredFonts,registeredFills,registeredBorders,registeredCellStyleXfs,registeredCellXfs,registeredCellStyles,currentSheet,getStyleName=function(t,e){return-1!==t.indexOf("mixedStyle")&&e>1&&(t+="_"+e),t},resetStylesheetValues=function(){stylesMap={base:0},registeredNumberFmts=[],registeredFonts=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],registeredFills=[{patternType:"none"},{patternType:"gray125"}],registeredBorders=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],registeredCellStyleXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],registeredCellXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],registeredCellStyles=[{builtinId:0,name:"Normal",xfId:0}]},registerFill=function(t){var e=convertLegacyPattern(t.pattern),n=convertLegacyColor(t.color),o=convertLegacyColor(t.patternColor),r=registeredFills.findIndex(function(t){return t.patternType==e&&t.fgRgb==n&&t.bgRgb==o});return-1===r&&(r=registeredFills.length,registeredFills.push({patternType:e,fgRgb:n,bgRgb:o})),r},registerNumberFmt=function(t){if(t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(t),numberFormatMap[t])return numberFormatMap[t];var e=registeredNumberFmts.findIndex(function(e){return e.formatCode===t});return-1===e?registeredNumberFmts.push({formatCode:t,numFmtId:e=registeredNumberFmts.length+164}):e=registeredNumberFmts[e].numFmtId,e},registerBorders=function(t){var e,n,o,r,i,s,a,l,c=t.borderBottom,u=t.borderTop,p=t.borderLeft,d=t.borderRight;p&&(o=convertLegacyBorder(p.lineStyle,p.weight),a=convertLegacyColor(p.color)),d&&(r=convertLegacyBorder(d.lineStyle,d.weight),l=convertLegacyColor(d.color)),c&&(e=convertLegacyBorder(c.lineStyle,c.weight),i=convertLegacyColor(c.color)),u&&(n=convertLegacyBorder(u.lineStyle,u.weight),s=convertLegacyColor(u.color));var h=registeredBorders.findIndex(function(t){var c=t.left,u=t.right,p=t.top,d=t.bottom;if(!c&&(o||a))return!1;if(!u&&(r||l))return!1;if(!p&&(n||s))return!1;if(!d&&(e||i))return!1;var h=c||{},f=u||{},g=p||{},m=d||{};return h.style==o&&h.color==a&&f.style==r&&f.color==l&&g.style==n&&g.color==s&&m.style==e&&m.color==i});return-1===h&&(h=registeredBorders.length,registeredBorders.push({left:{style:o,color:a},right:{style:r,color:l},top:{style:n,color:s},bottom:{style:e,color:i},diagonal:{style:void 0,color:void 0}})),h},registerFont=function(t){var e=t.fontName,n=void 0===e?"Calibri":e,o=t.color,r=t.size,i=t.bold,s=t.italic,a=t.outline,l=t.shadow,c=t.strikeThrough,u=t.underline,p=t.family,d=t.verticalAlign,h=n?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(n):n,f=convertLegacyColor(o),g=getFontFamilyId(p),m=u?u.toLocaleLowerCase():void 0,y=d?d.toLocaleLowerCase():void 0,_=registeredFonts.findIndex(function(t){return t.fontName==h&&t.color==f&&t.size==r&&t.bold==i&&t.italic==s&&t.outline==a&&t.shadow==l&&t.strikeThrough==c&&t.underline==m&&t.verticalAlign==y&&t.family==g});return-1===_&&(_=registeredFonts.length,registeredFonts.push({fontName:h,color:f,size:r,bold:i,italic:s,outline:a,shadow:l,strikeThrough:c,underline:m,verticalAlign:y,family:null!=g?g.toString():void 0})),_},registerStyle=function(t){var e=t.alignment,n=t.borders,o=t.font,r=t.interior,i=t.numberFormat,s=t.protection,a=t.id,l=0,c=0,u=0,p=0;a&&(a=getStyleName(a,currentSheet),null==stylesMap[a]&&(r&&(l=registerFill(r)),n&&(c=registerBorders(n)),o&&(u=registerFont(o)),i&&(p=registerNumberFmt(i.format)),stylesMap[a]=registeredCellXfs.length,registeredCellXfs.push({alignment:e,borderId:c||0,fillId:l||0,fontId:u||0,numFmtId:p||0,protection:s,xfId:0})))},stylesheetFactory={getTemplate:function(t){var e=numberFormatsFactory.getTemplate(registeredNumberFmts),n=fontsFactory.getTemplate(registeredFonts.map(function(e){return __assign$z(__assign$z({},e),{size:null!=e.size?e.size:t})})),o=fillsFactory.getTemplate(registeredFills),r=bordersFactory.getTemplate(registeredBorders),i=cellStylesXfsFactory.getTemplate(registeredCellStyleXfs),s=cellXfsFactory.getTemplate(registeredCellXfs),a=cellStylesFactory.getTemplate(registeredCellStyles);return resetStylesheetValues(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[e,n,o,r,i,s,a,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},getStyleId=function(t,e){return stylesMap[getStyleName(t,e)]||0},registerStyles=function(t,e){1===(currentSheet=e)&&resetStylesheetValues(),t.forEach(registerStyle)},sheetFactory={getTemplate:function(t,e){var n=(e+1).toString();return{name:"sheet",properties:{rawMap:{name:t,sheetId:n,"r:id":"rId"+n}}}}},sheetsFactory={getTemplate:function(t){return{name:"sheets",children:t.map(function(t,e){return sheetFactory.getTemplate(t,e)})}}},workbookFactory={getTemplate:function(t){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[sheetsFactory.getTemplate(t)]}}},getExcelCellWidth=function(t){return Math.ceil((t-12)/7+1)},columnFactory={getTemplate:function(t){var e=t.min,n=t.max,o=t.outlineLevel,r=t.s,i=t.width,s=t.hidden,a=t.bestFit,l=1,c="0";return i>1&&(l=getExcelCellWidth(i),c="1"),{name:"col",properties:{rawMap:{min:e,max:n,outlineLevel:null!=o?o:void 0,width:l,style:r,hidden:s?"1":"0",bestFit:a?"1":"0",customWidth:c}}}}},convertLegacyType=function(t){var e=t.charAt(0).toLowerCase();return"s"===e?"inlineStr":e},cellFactory={getTemplate:function(t,e,n){var o=t.ref,r=t.styleId,i=t.data||{type:"empty",value:null},s=i.type,a=i.value,l=s;"f"===s?l="str":s.charAt(0)===s.charAt(0).toUpperCase()&&(l=convertLegacyType(s));var c,u={name:"c",properties:{rawMap:{r:o,t:"empty"===l?void 0:l,s:r?getStyleId(r,n):void 0}}};return"empty"===l?u:(c="str"===l&&"f"===s?[{name:"f",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(a))}]:"inlineStr"===l?[{name:"is",children:[{name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(a))}]}]:[{name:"v",textNode:a}],Object.assign({},u,{children:c}))}},__read$J=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$k=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$J(arguments[e]));return t},addEmptyCells=function(t,e){for(var n=[],o=0,r=0;r<t.length;r++)(s=t[r]).mergeAcross&&(n.push({pos:r,excelPos:o}),o+=s.mergeAcross),o++;if(n.length)for(r=n.length-1;r>=0;r--){for(var i=[],s=t[n[r].pos],a=1;a<=s.mergeAcross;a++)i.push({ref:""+getExcelColumnName(n[r].excelPos+1+a)+(e+1),styleId:s.styleId,data:{type:"empty",value:null}});i.length&&t.splice.apply(t,__spread$k([n[r].pos+1,0],i))}},shouldDisplayCell=function(t){var e;return""!==(null===(e=t.data)||void 0===e?void 0:e.value)||void 0!==t.styleId},rowFactory={getTemplate:function(t,e,n){var o=t.index,r=t.collapsed,i=t.hidden,s=t.height,a=t.outlineLevel,l=t.cells,c=void 0===l?[]:l;return addEmptyCells(c,e),{name:"row",properties:{rawMap:{r:o,collapsed:r,hidden:i?"1":"0",ht:s,customHeight:null!=s?"1":"0",spans:"1:1",outlineLevel:a||void 0}},children:c.filter(shouldDisplayCell).map(function(t,e){return cellFactory.getTemplate(t,e,n)})}}},mergeCellFactory={getTemplate:function(t){return{name:"mergeCell",properties:{rawMap:{ref:t}}}}},getMergedCellsAndAddColumnGroups=function(t,e){var n=[],o=[];t.forEach(function(t,r){var i,s=t.cells,a=0;t.index=r+1,s.forEach(function(t,s){var l=s+a+1,c=getExcelColumnName(l),u=r+1;if(t.mergeAcross){var p=getExcelColumnName(s+(a+=t.mergeAcross)+1);n.push(""+c+u+":"+p+u)}e[l-1]||(e[l-1]={});var d=t.collapsibleRanges;d&&d.forEach(function(t){o.push([l+t[0],l+t[1]])}),(i=e[l-1]).min=l,i.max=l,t.ref=""+c+u})}),o.sort(function(t,e){return t[0]!==e[0]?t[0]-e[0]:e[1]-t[1]});var r=new Map,i=new Map;return o.filter(function(t){var e=t.toString();return!r.get(e)&&(r.set(e,!0),!0)}).forEach(function(t){var n=e.find(function(e){return e.min==t[0]&&e.max==t[1]}),o=i.get(t[0]);e.push({min:t[0],max:t[1],outlineLevel:o||1,width:(n||{width:100}).width}),i.set(t[0],(o||0)+1)}),n},getPageOrientation=function(t){return!t||"Portrait"!==t&&"Landscape"!==t?"portrait":t.toLocaleLowerCase()},getPageSize=function(t){if(null==t)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(t);return-1===e?1:e+1},addColumns=function(t){return function(e){return t.length&&e.push({name:"cols",children:t.map(function(t){return columnFactory.getTemplate(t)})}),e}},addSheetData=function(t,e){return function(n){return t.length&&n.push({name:"sheetData",children:t.map(function(t,n){return rowFactory.getTemplate(t,n,e)})}),n}},addMergeCells=function(t){return function(e){return t.length&&e.push({name:"mergeCells",properties:{rawMap:{count:t.length}},children:t.map(function(t){return mergeCellFactory.getTemplate(t)})}),e}},addPageMargins=function(t){return function(e){var n=t.top,o=t.right,r=t.bottom,i=t.left,s=t.header,a=t.footer;return e.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===r?.75:r,footer:void 0===a?.3:a,header:void 0===s?.3:s,left:void 0===i?.7:i,right:void 0===o?.7:o,top:void 0===n?.75:n}}}),e}},addPageSetup=function(t){return function(e){return t&&e.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:getPageOrientation(t.orientation),paperSize:getPageSize(t.pageSize)}}}),e}},replaceHeaderFooterTokens=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,n){t=t.replace(e,n)}),t},getHeaderPosition=function(t){return"Center"===t?"C":"Right"===t?"R":"L"},applyHeaderFontStyle=function(t,e){return e?(t+="&amp;&quot;",t+=e.fontName||"Calibri",t+=e.bold!==e.italic?e.bold?",Bold":",Italic":e.bold?",Bold Italic":",Regular",t+="&quot;",e.size&&(t+="&amp;"+e.size),e.strikeThrough&&(t+="&amp;S"),e.underline&&(t+="&amp;"+("Double"===e.underline?"E":"U")),e.color&&(t+="&amp;K"+e.color.replace("#","").toUpperCase()),t):t},processHeaderFooterContent=function(t){return t.reduce(function(t,e){var n=getHeaderPosition(e.position);return""+applyHeaderFontStyle(t+"&amp;"+n,e.font)+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(replaceHeaderFooterTokens(e.value))},"")},buildHeaderFooter=function(t){var e=[];return["all","first","even"].forEach(function(n){var o=t[n],r="all"===n?"odd":n;o&&(o.header||o.footer)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(o,function(t,n){var o=""+t.charAt(0).toUpperCase()+t.slice(1);n&&e.push({name:""+r+o,properties:{rawMap:{"xml:space":"preserve"}},textNode:processHeaderFooterContent(n)})})}),e},addHeaderFooter=function(t){return function(e){return t?(e.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=t.first?1:0,differentOddEven:null!=t.even?1:0}},children:buildHeaderFooter(t)}),e):e}},addDrawingRel=function(t){return function(e){return ExcelXlsxFactory.worksheetImages.get(t)&&e.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),e}},addSheetPr=function(){return function(t){return t.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),t}},addSheetFormatPr=function(t){return function(e){var n=t.reduce(function(t,e){return e.outlineLevel&&e.outlineLevel>t?e.outlineLevel:t},0);return e.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:n||void 0}}}),e}},worksheetFactory={getTemplate:function(t){var e=t.currentSheet,n=t.margins,o=void 0===n?{}:n,r=t.pageSetup,i=t.headerFooterConfig,s=t.worksheet.table,a=s.rows,l=s.columns,c=l&&l.length?getMergedCellsAndAddColumnGroups(a,l):[];return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(addSheetPr(),addSheetFormatPr(a),addColumns(l),addSheetData(a,e+1),addMergeCells(c),addPageMargins(o),addPageSetup(r),addHeaderFooter(i),addDrawingRel(e))([])}}},relationshipFactory={getTemplate:function(t){return{name:"Relationship",properties:{rawMap:{Id:t.Id,Type:t.Type,Target:t.Target}}}}},relationshipsFactory={getTemplate:function(t){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:t.map(function(t){return relationshipFactory.getTemplate(t)})}}},__read$I=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$j=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$I(arguments[e]));return t},ExcelXlsxFactory=function(){function t(){}return t.createExcel=function(t,e,n,o,r){return this.addSheetName(e),registerStyles(t,this.sheetNames.length),this.createWorksheet(e,n,o,r)},t.buildImageMap=function(t,e,n,o,r){var i=this.sheetNames.length,s=this.images.get(t.id);t.position&&t.position.row&&t.position.column||(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:o.indexOf(n)+1}));var a=t;if(setExcelImageTotalWidth(a,o),setExcelImageTotalHeight(a,r),s){var l=s.find(function(t){return t.sheetId===i});l?l.image.push(a):s.push({sheetId:i,image:[a]})}else this.images.set(a.id,[{sheetId:i,image:[a]}]),this.workbookImageIds.set(a.id,{type:a.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(i,a)},t.buildSheetImageMap=function(t,e){var n=this.worksheetImageIds.get(t);n||(n=new Map,this.worksheetImageIds.set(t,n));var o=this.worksheetImages.get(t);o?(o.push(e),n.get(e.id)||n.set(e.id,{index:n.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),n.set(e.id,{index:0,type:e.imageType}))},t.addSheetName=function(t){for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.name)||"",n="";-1!==this.sheetNames.indexOf(""+e+n);)if(""===n)n="_1";else{var o=parseInt(n.slice(1),10);n="_"+(o+1)}t.name=""+e+n,this.sheetNames.push(t.name)},t.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},t.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET},t.createWorkbook=function(){return createXmlPart(workbookFactory.getTemplate(this.sheetNames))},t.createStylesheet=function(t){return createXmlPart(stylesheetFactory.getTemplate(t))},t.createSharedStrings=function(){return createXmlPart(sharedStrings.getTemplate(this.sharedStrings))},t.createCore=function(t){return createXmlPart(coreFactory.getTemplate(t))},t.createContentTypes=function(t){return createXmlPart(contentTypesFactory.getTemplate(t))},t.createRels=function(){var t=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return createXmlPart(t)},t.createTheme=function(){return createXmlPart(officeTheme.getTemplate())},t.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(t,e){return{Id:"rId"+(e+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(e+1)+".xml"}}),n=relationshipsFactory.getTemplate(__spread$j(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return createXmlPart(n)},t.createDrawing=function(t){return createXmlPart(drawingFactory.getTemplate({sheetIndex:t}))},t.createDrawingRel=function(t){var e=this,n=this.worksheetImageIds.get(t),o=[];return n.forEach(function(t,n){o.push({Id:"rId"+(t.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(n).index+1)+"."+t.type})}),createXmlPart(relationshipsFactory.getTemplate(o))},t.createWorksheetDrawingRel=function(t){var e=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return createXmlPart(e)},t.createWorksheet=function(t,e,n,o){return createXmlPart(worksheetFactory.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:n,headerFooterConfig:o}))},t.sharedStrings=new Map,t.sheetNames=[],t.images=new Map,t.worksheetImages=new Map,t.workbookImageIds=new Map,t.worksheetImageIds=new Map,t.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,t}(),__extends$2W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ExcelXlsxSerializingSession=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2W(e,t),e.prototype.createExcel=function(t){var e=this.config;return ExcelXlsxFactory.createExcel(this.excelStyles,t,e.margins,e.pageSetup,e.headerFooterConfig)},e.prototype.getDataTypeForValue=function(t){return void 0===t?"empty":ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isNumeric(t)?"n":"s"},e.prototype.getType=function(t,e,n){if(this.isFormula(n))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+e.id+".dataType="+e.dataType+"]")}return t},e.prototype.addImage=function(t,e,n){if(this.config.addImageToCell){var o=this.config.addImageToCell(t,e,n);if(o)return ExcelXlsxFactory.buildImageMap(o.image,t,e,this.columnsToExport,this.config.rowHeight),o}},e.prototype.createCell=function(t,e,n){var o=this.getStyleById(t),r=this.getType(e,o,n)||e;return{styleId:o?t:void 0,data:{type:r,value:this.getCellValue(r,n)}}},e.prototype.createMergedCell=function(t,e,n,o){var r=null==n?"":n;return{styleId:this.getStyleById(t)?t:void 0,data:{type:e,value:"s"===e?ExcelXlsxFactory.getStringPosition(r).toString():n},mergeAcross:o}},e.prototype.getCellValue=function(t,e){if(null==e)return ExcelXlsxFactory.getStringPosition("").toString();switch(t){case"s":return""===e?"":ExcelXlsxFactory.getStringPosition(e).toString();case"f":return e.slice(1);case"n":return Number(e).toString();default:return e}},e}(BaseExcelSerializingSession),__extends$2V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$y=function(){return(__assign$y=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$1u=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},getMultipleSheetsAsExcel=function(t){var e=t.data,n=t.fontSize,o=void 0===n?11:n,r=t.author,i=void 0===r?"AG Grid":r,s=ExcelXlsxFactory.images.size>0;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),s){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var a=0;ExcelXlsxFactory.images.forEach(function(t){var e=t[0].image[0];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/media/image"+ ++a+"."+e.imageType,e.base64,!0)})}if(!e||0===e.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void ExcelXlsxFactory.resetFactory();var l=e.length,c=0;return e.forEach(function(t,e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/worksheets/sheet"+(e+1)+".xml",t),s&&ExcelXlsxFactory.worksheetImages.get(e)&&createImageRelationsForSheet(e,c++)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/workbook.xml",ExcelXlsxFactory.createWorkbook()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/styles.xml",ExcelXlsxFactory.createStylesheet(o)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/sharedStrings.xml",ExcelXlsxFactory.createSharedStrings()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/theme/theme1.xml",ExcelXlsxFactory.createTheme()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/_rels/workbook.xml.rels",ExcelXlsxFactory.createWorkbookRels(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("docProps/core.xml",ExcelXlsxFactory.createCore(i)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("[Content_Types].xml",ExcelXlsxFactory.createContentTypes(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("_rels/.rels",ExcelXlsxFactory.createRels()),ExcelXlsxFactory.resetFactory(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.getContent(t.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},exportMultipleSheetsAsExcel=function(t){var e=t.fileName,n=void 0===e?"export.xlsx":e,o=getMultipleSheetsAsExcel(t);o&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(n,o)},createImageRelationsForSheet=function(t,e){var n="xl/drawings/drawing"+(e+1)+".xml",o="xl/worksheets/_rels/sheet"+(t+1)+".xml.rels";ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/drawings/_rels/drawing"+(e+1)+".xml.rels",ExcelXlsxFactory.createDrawingRel(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(n,ExcelXlsxFactory.createDrawing(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(o,ExcelXlsxFactory.createWorksheetDrawingRel(e))},ExcelCreator=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exportMode="xlsx",e}return __extends$2V(e,t),e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},e.prototype.getMergedParams=function(t){var e=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({},e,t)},e.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),t.prototype.getData.call(this,e)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParams(t),n=this.getData(e),o=this.packageFile({data:[n],fontSize:e.fontSize,author:e.author,mimeType:e.mimeType});return o&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(this.getFileName(e.fileName),o),n},e.prototype.exportDataAsExcel=function(t){return this.export(t)},e.prototype.getDataAsExcel=function(t){var e=this.getMergedParams(t),n=this.getData(e);return t&&"xml"===t.exportMode?n:this.packageFile({data:[n],fontSize:e.fontSize,author:e.author,mimeType:e.mimeType})},e.prototype.setFactoryMode=function(t,e){void 0===e&&(e="xlsx"),("xlsx"===e?ExcelXlsxFactory:ExcelXmlFactory).factoryMode=t},e.prototype.getFactoryMode=function(t){return("xlsx"===t?ExcelXlsxFactory:ExcelXmlFactory).factoryMode},e.prototype.getSheetDataForExcel=function(t){var e=this.getMergedParams(t);return this.getData(e)},e.prototype.getMultipleSheetsAsExcel=function(t){return getMultipleSheetsAsExcel(t)},e.prototype.exportMultipleSheetsAsExcel=function(t){return exportMultipleSheetsAsExcel(t)},e.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},e.prototype.getDefaultFileExtension=function(){return this.getExportMode()},e.prototype.createSerializingSession=function(t){var e=this,n=e.columnModel,o=e.valueService,r=e.gridOptionsWrapper,i="xlsx"===this.getExportMode(),s="ag-grid";null!=t.sheetName&&(s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(t.sheetName.toString().substr(0,31)));var a=__assign$y(__assign$y({},t),{sheetName:s,columnModel:n,valueService:o,gridOptionsWrapper:r,headerRowHeight:t.headerRowHeight||t.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(i?ExcelXlsxSerializingSession:ExcelXmlSerializingSession)(a)},e.prototype.styleLinker=function(t,e,n,o,r){if(t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER)return["header"];if(t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING)return["header","headerGroup"];var i=this.gridOptions.excelStyles,s=["cell"];if(!i||!i.length)return s;var a=i.map(function(t){return t.id});return this.stylingService.processAllCellClasses(o.getColDef(),{value:n,data:r.data,node:r,colDef:o.getColDef(),rowIndex:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()},function(t){a.indexOf(t)>-1&&s.push(t)}),s.sort(function(t,e){return a.indexOf(t)<a.indexOf(e)?-1:1})},e.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},e.prototype.setExportMode=function(t){this.exportMode=t},e.prototype.getExportMode=function(){return this.exportMode},e.prototype.packageFile=function(t){return"xml"===this.getExportMode()?new Blob(["\ufeff",t.data[0]],{type:t.mimeType||"application/vnd.ms-excel"}):getMultipleSheetsAsExcel(t)},__decorate$1u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptions")],e.prototype,"gridOptions",void 0),__decorate$1u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("stylingService")],e.prototype,"stylingService",void 0),__decorate$1u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridSerializer")],e.prototype,"gridSerializer",void 0),__decorate$1u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),__decorate$1u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$1u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("excelCreator")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.z0n),ExcelExportModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule,beans:[ExcelCreator,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.YaM,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IFn],dependantModules:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC,EnterpriseCoreModule]},__extends$2U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1t=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},EXPAND_STATE=(()=>(function(t){t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t[t.INDETERMINATE=2]="INDETERMINATE"}(EXPAND_STATE||(EXPAND_STATE={})),EXPAND_STATE))(),FiltersToolPanelHeaderPanel=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2U(e,t),e.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},e.prototype.postConstruct=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(t("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(EXPAND_STATE.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},e.prototype.init=function(t){this.params=t,this.columnModel.isReady()&&this.showOrHideOptions()},e.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},e.prototype.showOrHideOptions=function(){var t=!this.params.suppressFilterSearch,e=!this.params.suppressExpandAll,n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(n("searchOoo","Search..."));var o=this.columnModel.getAllGridColumns().some(function(t){return t.getOriginalParent()&&t.isFilterAllowed()});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,e&&o)},e.prototype.onSearchTextChanged=function(){var t=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(function(){t.dispatchEvent({type:"searchChanged",searchText:t.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},e.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===EXPAND_STATE.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},e.prototype.setExpandState=function(t){this.currentExpandState=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.currentExpandState===EXPAND_STATE.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===EXPAND_STATE.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===EXPAND_STATE.INDETERMINATE)},__decorate$1t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$1t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],e.prototype,"eFilterTextField",void 0),__decorate$1t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"preConstruct",null),__decorate$1t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1s=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelFilterComp=function(t){function e(n){void 0===n&&(n=!1);var o=t.call(this,e.TEMPLATE)||this;return o.expanded=!1,o.hideHeader=n,o}return __extends$2T(e,t),e.prototype.postConstruct=function(){this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},e.prototype.setColumn=function(t){var e=this;this.column=t,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(t){t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&e.toggleExpanded()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.eExpandChecked.classList.add("ag-hidden"),this.hideHeader?(this.eFilterToolPanelHeader.classList.toggle("ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},e.prototype.getColumn=function(){return this.column},e.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},e.prototype.addCssClassToTitleBar=function(t){this.eFilterToolPanelHeader.classList.add(t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t,this.gridOptionsWrapper,n);e.appendChild(o)}},e.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},e.prototype.onFilterChanged=function(){this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED})},e.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},e.prototype.expand=function(){var t,e=this;if(!this.expanded){this.expanded=!0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!0);var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),o=null===(t=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR"))||void 0===t?void 0:t.filterPromise;o&&o.then(function(t){e.underlyingFilter=t,t&&(n.appendChild(t.getGui()),e.agFilterToolPanelBody.appendChild(n),t.afterGuiAttached&&t.afterGuiAttached({container:"toolPanel"}))}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!1)}},e.prototype.collapse=function(){this.expanded&&(this.expanded=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!0))},e.prototype.refreshFilter=function(){if(this.expanded){var t=this.underlyingFilter;t&&"function"==typeof t.refreshVirtualList&&t.refreshVirtualList()}},e.prototype.onFilterOpened=function(t){"COLUMN_MENU"===t.source&&t.column===this.column&&this.expanded&&this.collapse()},e.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',__decorate$1s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterToolPanelHeader")],e.prototype,"eFilterToolPanelHeader",void 0),__decorate$1s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterName")],e.prototype,"eFilterName",void 0),__decorate$1s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("agFilterToolPanelBody")],e.prototype,"agFilterToolPanelBody",void 0),__decorate$1s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterIcon")],e.prototype,"eFilterIcon",void 0),__decorate$1s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$1s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$1s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1r=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelFilterGroupComp=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.columnGroup=e,s.childFilterComps=n,s.depth=r,s.expandedCallback=o,s.showingColumn=i,s}return __extends$2S(e,t),e.prototype.preConstruct=function(){this.setTemplate(e.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},e.prototype.init=function(){var t=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(e){t.filterGroupComp.addItem(e),e.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(t.depth+1)+"-header")}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},e.prototype.setupTooltip=function(){var t=this;if(this.showingColumn){var e=function(){var e=t.columnGroup.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},e.prototype.addCssClassToTitleBar=function(t){this.filterGroupComp.addCssClassToTitleBar(t)},e.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(t){t instanceof e?t.refreshFilters():t.refreshFilter()})},e.prototype.isColumnGroup=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm},e.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},e.prototype.getChildren=function(){return this.childFilterComps},e.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},e.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},e.prototype.hideGroupItem=function(t,e){this.filterGroupComp.hideItem(t,e)},e.prototype.hideGroup=function(t){this.addOrRemoveCssClass("ag-hidden",t)},e.prototype.forEachToolPanelFilterChild=function(t){this.childFilterComps.forEach(function(e){e instanceof ToolPanelFilterComp&&t(e)})},e.prototype.addExpandCollapseListeners=function(){var t=this,e=this.isColumnGroup()?function(){return t.expandedCallback()}:function(){return t.forEachToolPanelFilterChild(function(t){return t.expand()})},n=this.isColumnGroup()?function(){return t.expandedCallback()}:function(){return t.forEachToolPanelFilterChild(function(t){return t.collapse()})};this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,e),this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_COLLAPSED,n)},e.prototype.getColumns=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.columnGroup.getLeafColumns():[this.columnGroup]},e.prototype.addFilterChangedListeners=function(){var t=this;this.getColumns().forEach(function(e){t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,function(){return t.refreshFilterClass()})}),this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},e.prototype.refreshFilterClass=function(){var t=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",t.some(function(t){return t.isFilterActive()}))},e.prototype.onFilterOpened=function(t){"COLUMN_MENU"===t.source&&t.column===this.columnGroup&&this.isExpanded()&&this.collapse()},e.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},e.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},e.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},e.prototype.getColumnGroupName=function(t){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,t,"filterToolPanel")},e.prototype.getColumnName=function(t){return this.columnModel.getDisplayNameForColumn(t,"filterToolPanel",!1)},e.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.destroy=function(){this.destroyFilters(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',__decorate$1r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filterGroupComp")],e.prototype,"filterGroupComp",void 0),__decorate$1r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"preConstruct",null),__decorate$1r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FiltersToolPanelListPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.filterGroupComps=[],n}return __extends$2R(e,t),e.prototype.init=function(t){var e=this;this.initialised=!0;var n={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(n,t),this.params=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(t){"filters"===t.source&&e.refreshFilters()}),this.columnModel.isReady()&&this.onColumnsChanged()},e.prototype.onColumnsChanged=function(){var t=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||t?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},e.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},e.prototype.buildTreeFromProvidedColumnDefs=function(){var t=this;this.destroyFilters();var e=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(e,0);var n=this.filterGroupComps.length;n&&(this.filterGroupComps.forEach(function(e){return t.appendChild(e)}),this.setFirstAndLastVisible(0,n-1)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},e.prototype.setFiltersLayout=function(t){var e=this;this.destroyFilters();var n=this.toolPanelColDefService.createColumnTree(t);this.filterGroupComps=this.recursivelyAddComps(n,0);var o=this.filterGroupComps.length;o&&(this.filterGroupComps.forEach(function(t){return e.appendChild(t)}),this.setFirstAndLastVisible(0,o-1)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},e.prototype.recursivelyAddComps=function(t,e){var n=this;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(t.map(function(t){if(t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(n.recursivelyAddFilterGroupComps(t,e));var o=t;if(!n.shouldDisplayFilter(o))return[];var r=new ToolPanelFilterComp(0===e);if(n.getContext().createBean(r),r.setColumn(o),e>0)return r;var i=n.createBean(new ToolPanelFilterGroupComp(o,[r],n.onGroupExpanded.bind(n),e,!0));return i.addCssClassToTitleBar("ag-filter-toolpanel-header"),i.collapse(),i}))},e.prototype.recursivelyAddFilterGroupComps=function(t,e){if(this.filtersExistInChildren(t.getChildren())){var n=t.getColGroupDef();if(n&&n.suppressFiltersToolPanel)return[];var o=t.isPadding()?e:e+1,r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(this.recursivelyAddComps(t.getChildren(),o));if(t.isPadding())return r;var i=new ToolPanelFilterGroupComp(t,r,this.onGroupExpanded.bind(this),e,!1);return this.getContext().createBean(i),i.addCssClassToTitleBar("ag-filter-toolpanel-header"),[i]}},e.prototype.filtersExistInChildren=function(t){var e=this;return t.some(function(t){return t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?e.filtersExistInChildren(t.getChildren()):e.shouldDisplayFilter(t)})},e.prototype.shouldDisplayFilter=function(t){var e=t.getColDef()&&t.getColDef().suppressFiltersToolPanel;return t.isFilterAllowed()&&!e},e.prototype.refresh=function(){},e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.expandFilterGroups=function(t,e){var n=[],o=function(r){var i=r.getFilterGroupId();(!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,i))&&(t&&r.isColumnGroup()?r.expand():r.collapse(),n.push(i)),r.getChildren().forEach(function(t){t instanceof ToolPanelFilterGroupComp&&o(t)})};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),e){var r=e.filter(function(t){return n.indexOf(t)<0});r.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",r)}},e.prototype.expandFilters=function(t,e){var n=[],o=function(r){if(r instanceof ToolPanelFilterGroupComp){var i=!1;return r.getChildren().forEach(function(e){o(e)&&(t?(r.expand(),i=!0):r.isColumnGroup()||r.collapse())}),i}var s=r.getColumn().getColId(),a=!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,s);return a&&(t?r.expand():r.collapse(),n.push(s)),a};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),e){var r=e.filter(function(t){return n.indexOf(t)<0});r.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",r)}},e.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},e.prototype.fireExpandedEvent=function(){var t=0,e=0,n=function(o){o.isColumnGroup()&&(o.isExpanded()?t++:e++,o.getChildren().forEach(function(t){t instanceof ToolPanelFilterGroupComp&&n(t)}))};this.filterGroupComps.forEach(n),this.dispatchEvent({type:"groupExpanded",state:t>0&&e>0?EXPAND_STATE.INDETERMINATE:e>0?EXPAND_STATE.COLLAPSED:EXPAND_STATE.EXPANDED})},e.prototype.performFilterSearch=function(t){this.searchFilterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t.toLowerCase():null,this.searchFilters(this.searchFilterText)},e.prototype.searchFilters=function(t){var e,n,o=function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)||-1!==e.toLowerCase().indexOf(t)},r=function(t,e){if(!(t instanceof ToolPanelFilterGroupComp))return o(t.getColumnFilterName()||"");var n=t.getChildren(),i=o(t.getFilterGroupName()),s=e||i;if(s){t.hideGroup(!1);for(var a=0;a<n.length;a++)r(n[a],s),t.hideGroupItem(!1,a);return!0}var l=!1;return n.forEach(function(n,o){var i=r(n,e);t.hideGroupItem(!i,o),i&&(l=!0)}),t.hideGroup(!l),l};this.filterGroupComps.forEach(function(t,o){r(t,!1),void 0===e?t.containsCssClass("ag-hidden")||(e=o,n=o):t.containsCssClass("ag-hidden")||n===o||(n=o)}),this.setFirstAndLastVisible(e,n)},e.prototype.setFirstAndLastVisible=function(t,e){this.filterGroupComps.forEach(function(n,o){n.removeCssClass("ag-first-group-visible"),n.removeCssClass("ag-last-group-visible"),o===t&&n.addCssClass("ag-first-group-visible"),o===e&&n.addCssClass("ag-last-group-visible")})},e.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(t){return t.refreshFilters()})},e.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.destroy=function(){this.destroyFilters(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-list-panel"></div>',__decorate$1q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$1q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],e.prototype,"toolPanelColDefService",void 0),__decorate$1q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2Q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1p=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FiltersToolPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.listenerDestroyFuncs=[],n}return __extends$2Q(e,t),e.prototype.init=function(t){this.initialised&&(this.listenerDestroyFuncs.forEach(function(t){return t()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var e={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(e,t),this.params=e,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},e.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},e.prototype.onSearchChanged=function(t){this.filtersToolPanelListPanel.performFilterSearch(t.searchText)},e.prototype.setFilterLayout=function(t){this.filtersToolPanelListPanel.setFiltersLayout(t)},e.prototype.onGroupExpanded=function(t){this.filtersToolPanelHeaderPanel.setExpandState(t.state)},e.prototype.expandFilterGroups=function(t){this.filtersToolPanelListPanel.expandFilterGroups(!0,t)},e.prototype.collapseFilterGroups=function(t){this.filtersToolPanelListPanel.expandFilterGroups(!1,t)},e.prototype.expandFilters=function(t){this.filtersToolPanelListPanel.expandFilters(!0,t)},e.prototype.collapseFilters=function(t){this.filtersToolPanelListPanel.expandFilters(!1,t)},e.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},e.prototype.refresh=function(){this.init(this.params)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',__decorate$1p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelHeaderPanel")],e.prototype,"filtersToolPanelHeaderPanel",void 0),__decorate$1p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelListPanel")],e.prototype,"filtersToolPanelListPanel",void 0),__decorate$1p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),FiltersToolPanelModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:FiltersToolPanelHeaderPanel},{componentName:"AgFiltersToolPanelList",componentClass:FiltersToolPanelListPanel}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:FiltersToolPanel}],dependantModules:[SideBarModule,EnterpriseCoreModule]},__extends$2P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1o=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartDatasource=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2P(e,t),e.prototype.getData=function(t){if(t.crossFiltering){if(t.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&t.pivoting&&this.updatePivotKeysForSSRM();var e=this.extractRowsFromGridRowModel(t);return e.chartData=this.aggregateRowsByDimension(t,e.chartData),e},e.prototype.extractRowsFromGridRowModel=function(t){var n,o=this,r=[],i={},s={},a={},l={},c=[];if(t.crossFiltering)l=this.getFilteredRowNodes(),n=(c=this.getAllRowNodes()).length;else{var u=this.gridRowModel.getRowCount()-1;n=(t.endRow>=0?Math.min(t.endRow,u):u)-t.startRow+1}for(var p=function(n){var u={},p=t.crossFiltering?c[n]:d.gridRowModel.getRow(n+t.startRow);t.dimensionCols.forEach(function(r){var i=r.colId,l=o.columnModel.getGridColumn(i);if(l){var c=o.valueService.getValue(l,p);if(t.grouping){var d=c&&c.toString?String(c.toString()):"",h=e.getGroupLabels(p,d);u[i]={labels:h,toString:function(){return this.labels.filter(function(t){return!!t}).reverse().join(" - ")}},p.group&&(s[h.toString()]=n);var f=h.slice(1,h.length).toString();f&&(a[f]=s[f])}else u[i]=c}else u[ChartDataModel.DEFAULT_CATEGORY]=n+1}),t.valueCols.forEach(function(e){var n=[],r=e.getColDef().pivotKeys;r&&(n=r.slice());var s=e.getColDef().headerName;s&&n.push(s),n.length>0&&(i[e.getId()]=n);var a=e.getColId();if(t.crossFiltering){var c=a+"-filtered-out",d=null!=(h=o.valueService.getValue(e,p))&&"function"==typeof h.toNumber?h.toNumber():h;l[p.id]?(u[a]=d,u[c]=t.aggFunc||t.isScatter?void 0:0):(u[a]=t.aggFunc||t.isScatter?void 0:0,u[c]=d)}else{var h=o.valueService.getValue(e,p);u[a]=null!=h&&"function"==typeof h.toNumber?h.toNumber():h}}),p.footer&&(u.footer=!0),r.push(u)},d=this,h=0;h<n;h++)p(h);if(t.grouping){var f=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(a);r=r.filter(function(t,e){return!t.footer&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(f,e)})}return{chartData:r,columnNames:i}},e.prototype.aggregateRowsByDimension=function(t,e){var n=this,o=t.dimensionCols;if(!t.aggFunc||0===o.length)return e;var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o),i=r&&r.colId,s={},a=[];return e.forEach(function(t){var e=s;o.forEach(function(n){var r=n.colId,s=t[r];if(r===i){var l=e[s];l||(l={__children:[]},o.forEach(function(e){var n=e.colId;l[n]=t[n]}),e[s]=l,a.push(l)),l.__children.push(t)}else e[s]||(e[s]={}),e=e[s]})}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&a.forEach(function(e){return t.valueCols.forEach(function(o){if(t.crossFiltering)t.valueCols.forEach(function(o){var r=o.getColId(),i=e.__children.filter(function(t){return void 0!==t[r]}).map(function(t){return t[r]}),s=n.aggregationStage.aggregateValues(i,t.aggFunc);e[o.getId()]=s&&void 0!==s.value?s.value:s;var a=r+"-filtered-out",l=e.__children.filter(function(t){return void 0!==t[a]}).map(function(t){return t[a]}),c=n.aggregationStage.aggregateValues(l,t.aggFunc);e[a]=c&&void 0!==c.value?c.value:c});else{var r=e.__children.map(function(t){return t[o.getId()]}),i=0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&(i=n.aggregationStage.aggregateValues(r,t.aggFunc)),e[o.getId()]=i&&void 0!==i.value?i.value:i}})}),a},e.prototype.updatePivotKeysForSSRM=function(){var t=this.columnModel.getSecondaryColumns();if(t){var e=this.extractPivotKeySeparator(t);t.forEach(function(t){var n=t.getColId().split(e);t.getColDef().pivotKeys=n.slice(0,n.length-1)})}},e.prototype.extractPivotKeySeparator=function(t){if(0===t.length)return"";var e=function(t,n){var o=t.getGroupId();return t.getParent()?e(t.getParent(),o):n.split(o)[1][0]},n=t[0];return e(n.getParent(),n.getColId())},e.getGroupLabels=function(t,e){for(var n=[e];t&&0!==t.level;)(t=t.parent)&&n.push(t.key);return n},e.prototype.getFilteredRowNodes=function(){var t={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(e){t[e.id]=e}),t},e.prototype.getAllRowNodes=function(){var t=[];return this.gridRowModel.forEachNode(function(e){t.push(e)}),this.sortRowNodes(t)},e.prototype.sortRowNodes=function(t){var e=this.sortController.getSortOptions();return e&&0!=e.length?this.rowNodeSorter.doFullSort(t,e):t},__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"gridRowModel",void 0),__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggregationStage")],e.prototype,"aggregationStage",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$2O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1n=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$H=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$i=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$H(arguments[e]));return t},ChartDataModel=function(t){function e(e){var n=t.call(this)||this;return n.unlinked=!1,n.chartData=[],n.valueColState=[],n.dimensionColState=[],n.columnNames={},n.grouping=!1,n.crossFiltering=!1,n.suppressComboChartWarnings=!1,n.chartId=e.chartId,n.chartType=e.chartType,n.pivotChart=e.pivotChart,n.chartThemeName=e.chartThemeName,n.aggFunc=e.aggFunc,n.referenceCellRange=e.cellRange,n.suppliedCellRange=e.cellRange,n.suppressChartRanges=e.suppressChartRanges,n.unlinked=!!e.unlinkChart,n.crossFiltering=!!e.crossFiltering,n.seriesChartTypes=e.seriesChartTypes||[],n.initComboCharts(e),n}return __extends$2O(e,t),e.prototype.initComboCharts=function(t){("customCombo"===t.chartType||this.seriesChartTypes&&this.seriesChartTypes.length>0)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},e.prototype.init=function(){this.datasource=this.createManagedBean(new ChartDatasource),this.updateCellRanges()},e.prototype.updateCellRanges=function(t){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var e=this.getAllChartColumns(),n=e.dimensionCols,o=e.valueCols,r=this.getAllColumnsFromRanges();t&&this.updateColumnState(t),this.setDimensionCellRange(n,r,t),this.setValueCellRange(o,r,t),t||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},e.prototype.updateSeriesChartTypes=function(){this.isComboChart()&&(this.seriesChartTypes=this.seriesChartTypes.map(function(t){var e=["groupedColumn","stackedColumn","stackedArea"].includes(t.chartType);return t.secondaryAxis=!e&&t.secondaryAxis,t}),"customCombo"!==this.chartType?this.updateChartSeriesTypesForBuiltInCombos():this.updateSeriesChartTypesForCustomCombo())},e.prototype.updateSeriesChartTypesForCustomCombo=function(){var t=this;this.seriesChartTypes&&this.seriesChartTypes.length>0||this.suppressComboChartWarnings||console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(t){return e.SUPPORTED_COMBO_CHART_TYPES.includes(t.chartType)||(console.warn("AG Grid: invalid chartType '"+t.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),t.chartType="line"),t});var n=this.valueColState.map(function(e){return t.savedCustomSeriesChartTypes&&0!==t.savedCustomSeriesChartTypes.length||(t.savedCustomSeriesChartTypes=t.seriesChartTypes),t.savedCustomSeriesChartTypes.find(function(t){return t.colId===e.colId})||(e.selected&&!t.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+e.colId+"', defaulting to 'line'."),{colId:e.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=n,this.savedCustomSeriesChartTypes=n,this.suppressComboChartWarnings=!0},e.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var t="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",e="columnLineCombo"===this.chartType?"line":"groupedColumn",n=this.valueColState.filter(function(t){return t.selected}),o=Math.ceil(n.length/2);this.seriesChartTypes=n.map(function(n,r){return{colId:n.colId,chartType:r>=o?e:t,secondaryAxis:!1}})},e.prototype.updateData=function(){var t=this.getRowIndexes(),e=t.startRow,n=t.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var o={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:e,endRow:n,isScatter:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.chartType)},r=this.datasource.getData(o),i=r.columnNames;this.chartData=r.chartData,this.columnNames=i},e.prototype.isGrouping=function(){var t=this.gridOptionsWrapper.isTreeData(),e=t?null:this.columnModel.getRowGroupColumns(),n=t||e&&e.length>0,o=this.getSelectedDimension().colId,r=this.columnModel.getGroupDisplayColumns().map(function(t){return t.getColId()}).some(function(t){return t===o});return!!n&&r},e.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(t){return t.selected}).map(function(t){return t.column})},e.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(t){return t.selected})[0]},e.prototype.getColDisplayName=function(t){return this.columnModel.getDisplayNameForColumn(t,"chart")},e.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},e.prototype.getChartDataType=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef().chartDataType:void 0},e.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},e.prototype.createCellRange=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:e,startColumn:t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION?e[0]:this.referenceCellRange.startColumn,type:t}},e.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(this.columnModel.getAllDisplayedColumns());var t=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&t.push.apply(t,__spread$i(this.dimensionCellRange.columns)),this.valueCellRange&&t.push.apply(t,__spread$i(this.valueCellRange.columns)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(t)},e.prototype.getRowIndexes=function(){var t=0,e=0,n=this.rangeService,o=this.valueCellRange;if(n&&o){t=n.getRangeStartRow(o).rowIndex;var r=n.getRangeEndRow(o);e=r.rowPinned===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.PINNED_BOTTOM?-1:r.rowIndex}return{startRow:t,endRow:e}},e.prototype.getAllChartColumns=function(){var t=this,e=this.columnModel.getAllDisplayedColumns(),n=new Set,o=new Set;return e.forEach(function(e){var r=e.getColDef(),i=r.chartDataType;if(i)switch(i){case"category":case"time":return void n.add(e);case"series":return void o.add(e);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+i+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==r.colId?e.isPrimary()?(t.isNumberCol(e)?o:n).add(e):o.add(e):n.add(e)}),{dimensionCols:n,valueCols:o}},e.prototype.isNumberCol=function(t){if("ag-Grid-AutoColumn"===t.getColId())return!1;var e=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!e)return!1;var n=this.valueService.getValue(t,e);return null==n&&(n=this.extractLeafData(e,t)),null!=n&&"function"==typeof n.toNumber&&(n=n.toNumber()),"number"==typeof n},e.prototype.extractLeafData=function(t,e){if(!t.allLeafChildren)return null;for(var n=0;n<t.allLeafChildren.length;n++){var o=this.valueService.getValue(e,t.allLeafChildren[n]);if(null!=o)return o}return null},e.prototype.resetColumnState=function(){var t=this,n=this.getAllChartColumns(),o=n.dimensionCols,r=n.valueCols,i=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var a=!1,l=1,c=this.suppliedCellRange.columns[0];o.forEach(function(e){var n="ag-Grid-AutoColumn"===e.getColId(),o=!1;t.crossFiltering&&t.aggFunc?c.getColId()===e.getColId()&&(o=!0):o=!!n||!a&&i.has(e),t.dimensionColState.push({column:e,colId:e.getColId(),displayName:t.getColDisplayName(e),selected:o,order:l++}),o&&(a=!0)});var u={colId:e.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!a,order:0};this.dimensionColState.unshift(u);var p=this.referenceCellRange.columns.filter(function(t){return r.has(t)});r.forEach(function(e){s&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t.referenceCellRange.columns,e)&&(e=p.shift()),t.valueColState.push({column:e,colId:e.getColId(),displayName:t.getColDisplayName(e),selected:i.has(e),order:l++})})},e.prototype.updateColumnState=function(t){var e=function(e){return e.colId===t.colId},n=this.dimensionColState,o=this.valueColState;n.filter(e).length>0?n.forEach(function(t){return t.selected=e(t)}):o.filter(e).forEach(function(e){return e.selected=t.selected});var r=__spread$i(n,o),i=[];r.forEach(function(e,n){n===t.order&&i.push(t.colId),e.colId!==t.colId&&i.push(e.colId)}),r.forEach(function(t){var e=i.indexOf(t.colId);t.order=e>=0?i.indexOf(t.colId):r.length-1}),this.reorderColState()},e.prototype.reorderColState=function(){var t=function(t,e){return t.order-e.order};this.dimensionColState.sort(t),this.valueColState.sort(t)},e.prototype.setDimensionCellRange=function(t,n,o){var r=this;if(this.dimensionCellRange=void 0,o||this.dimensionColState.length){var i=o;if(this.crossFiltering&&this.aggFunc){var s=this.suppliedCellRange.columns[0];i=this.dimensionColState.filter(function(t){return t.colId===s.getColId()})[0]}else i&&t.has(i.column)||(i=this.dimensionColState.filter(function(t){return t.selected})[0]);i&&i.colId!==e.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,i.column))}else t.forEach(function(t){!r.dimensionCellRange&&n.has(t)&&(r.dimensionCellRange=r.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,t))})},e.prototype.setValueCellRange=function(t,e,n){this.valueCellRange=void 0;var o=[];if(t.forEach(function(t){n&&n.colId===t.getColId()?n.selected&&o.push(n.column):e.has(t)&&o.push(t)}),o.length>0){var r=[];this.valueColState.length>0?r=this.valueColState.map(function(t){return t.colId}):e.forEach(function(t){return r.push(t.getColId())}),o.sort(function(t,e){return r.indexOf(t.getColId())-r.indexOf(e.getColId())}),this.valueCellRange=this.createCellRange.apply(this,__spread$i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE],o))}},e.prototype.syncDimensionCellRange=function(){var t=this.getSelectedDimension();t&&t.column&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,t.column))},e.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},e.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",e.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],__decorate$1n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$1n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$1n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$1n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),BBox$1=function(){function t(t,e,n,o){this.x=t,this.y=e,this.width=n,this.height=o}return t.prototype.clone=function(){var e=this;return new t(e.x,e.y,e.width,e.height)},t.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},t.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.render=function(e,n){void 0===n&&(n=t.noParams),e.save(),n.resetTransform&&e.setTransform(1,0,0,1,0,0),e.strokeStyle=n.strokeStyle||"cyan",e.lineWidth=n.lineWidth||1,e.strokeRect(this.x,this.y,this.width,this.height),n.label&&(e.fillStyle=n.fillStyle||"black",e.textBaseline="bottom",e.fillText(n.label,this.x,this.y)),e.restore()},t.noParams={},t}(),__read$G=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Matrix$1=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return t.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},t.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(t.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),t.prototype.AxB=function(t,e,n){var o=t[1]*e[0]+t[3]*e[1],r=t[0]*e[2]+t[2]*e[3],i=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],a=t[1]*e[4]+t[3]*e[5]+t[5];(n=n||t)[0]=t[0]*e[0]+t[2]*e[1],n[1]=o,n[2]=r,n[3]=i,n[4]=s,n[5]=a},t.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},t.prototype.multiply=function(e){var n=new Array(6);return this.AxB(this.elements,e.elements,n),new t(n)},t.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},t.prototype.inverse=function(){var e=__read$G(this.elements,6),n=e[0],o=e[1],r=e[2],i=e[3],s=e[4],a=e[5],l=1/(n*i-o*r);return new t([i*=l,-(o*=l),-(r*=l),n*=l,r*a-i*s,o*s-n*a])},t.prototype.inverseTo=function(t){var e=__read$G(this.elements,6),n=e[0],o=e[1],r=e[2],i=e[3],s=e[4],a=e[5],l=1/(n*i-o*r);return t.setElements([i*=l,-(o*=l),-(r*=l),n*=l,r*a-i*s,o*s-n*a]),this},t.prototype.invertSelf=function(){var t=this.elements,e=t[0],n=t[1],o=t[2],r=t[3],i=t[4],s=t[5],a=1/(e*r-n*o);return e*=a,n*=a,o*=a,t[0]=r*=a,t[1]=-n,t[2]=-o,t[3]=e,t[4]=o*s-r*i,t[5]=n*i-e*s,this},t.prototype.clone=function(){return new t(this.elements.slice())},t.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},t.prototype.transformBBox=function(t,e,n){void 0===e&&(e=0);var o,r,i=this.elements,s=i[0],a=i[1],l=i[2],c=i[3],u=.5*t.width,p=.5*t.height,d=t.x+u,h=t.y+p;if(e){u-=e,p-=e;var f=Math.sqrt(s*s+l*l),g=Math.sqrt(a*a+c*c);o=Math.abs(u*s)+Math.abs(p*l)+Math.abs(f*e),r=Math.abs(u*a)+Math.abs(p*c)+Math.abs(g*e)}else o=Math.abs(u*s)+Math.abs(p*l),r=Math.abs(u*a)+Math.abs(p*c);return n||(n=new BBox$1(0,0,0,0)),n.x=d*s+h*l+i[4]-o,n.y=d*a+h*c+i[5]-r,n.width=o+o,n.height=r+r,n},t.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},t.flyweight=function(e){return e?t.matrix.setElements(e instanceof t?e.elements:e):t.matrix.setIdentityElements(),t.matrix},t.matrix=new t,t}();function createId$1(t){var e=t.constructor,n=e.hasOwnProperty("className")?e.className:e.name;if(!n)throw new Error("The "+e+" is missing the 'className' property.");return n+"-"+(e.id=(e.id||0)+1)}function windowValue(t){var e;return null===(e="undefined"==typeof window?void 0:window)||void 0===e?void 0:e[t]}var RedrawType=(()=>(function(t){t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR"}(RedrawType||(RedrawType={})),RedrawType))();function SceneChangeDetection(opts){var _a=opts||{},_b=_a.redraw,redraw=void 0===_b?RedrawType.TRIVIAL:_b,_c=_a.type,type=void 0===_c?"normal":_c,changeCb=_a.changeCb,convertor=_a.convertor,_d=_a.checkDirtyOnAssignment,checkDirtyOnAssignment=void 0!==_d&&_d,debug=null!=windowValue("agChartsSceneChangeDetectionDebug");return function(target,key){var privateKey="__"+key;if(!target[key]){var setterJs="\n                "+(debug?"var setCount = 0;":"")+"\n                function set_"+key+"(value) {\n                    const oldValue = this."+privateKey+";\n                    "+(convertor?"value = convertor(value);":"")+"\n                    if (value !== oldValue) {\n                        this."+privateKey+" = value;\n                        "+(debug?"console.log({ t: this, property: '"+key+"', oldValue, value, stack: new Error().stack });":"")+"\n                        "+("normal"===type?"this.markDirty(this, "+redraw+");":"")+"\n                        "+("transform"===type?"this.markDirtyTransform("+redraw+");":"")+"\n                        "+("path"===type?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, redraw); }":"")+"\n                        "+("font"===type?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, redraw); }":"")+"\n                        "+(changeCb?"changeCb(this);":"")+"\n                    }\n                    "+(checkDirtyOnAssignment?"if (value != null && value._dirty > "+RedrawType.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n                };\n                set_"+key+";\n            ",getterJs="\n                function get_"+key+"() {\n                    return this."+privateKey+";\n                };\n                get_"+key+";\n            ";Object.defineProperty(target,key,{set:eval(setterJs),get:eval(getterJs),enumerable:!0,configurable:!1})}}}var ChangeDetectable=function(){function t(){this._dirty=RedrawType.MAJOR}return t.prototype.markDirty=function(t,e){void 0===e&&(e=RedrawType.TRIVIAL),this._dirty>e||(this._dirty=e)},t.prototype.markClean=function(t){this._dirty=RedrawType.NONE},t.prototype.isDirty=function(){return this._dirty>RedrawType.NONE},t}(),__extends$2N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1m=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__values$n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$F=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},PointerEvents$1=(()=>(function(t){t[t.All=0]="All",t[t.None=1]="None"}(PointerEvents$1||(PointerEvents$1={})),PointerEvents$1))(),Node$1=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=createId$1(e),e.tag=NaN,e.isContainerNode=!1,e._children=[],e.childSet={},e.matrix=new Matrix$1,e.inverseMatrix=new Matrix$1,e._dirtyTransform=!1,e.scalingX=1,e.scalingY=1,e.scalingCenterX=null,e.scalingCenterY=null,e.rotationCenterX=null,e.rotationCenterY=null,e.rotation=0,e.translationX=0,e.translationY=0,e.visible=!0,e.dirtyZIndex=!1,e.zIndex=0,e.pointerEvents=PointerEvents$1.All,e}return __extends$2N(e,t),e.isNode=function(t){return!!t&&void 0!==t.matrix},e.prototype._setScene=function(t){var e,n,o;this._scene=t,this._debug=null===(o=t)||void 0===o?void 0:o.debug;try{for(var r=__values$n(this.children),i=r.next();!i.done;i=r.next())i.value._setScene(t)}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.countChildren=function(t){if(void 0===t&&(t=e.MAX_SAFE_INTEGER),t<=0)return 0;for(var n=this.children,o=n.length,r=o,i=0;i<o;i++)r+=n[i].countChildren(t-1);return r},e.prototype.append=function(t){var n,o;e.isNode(t)&&(t=[t]);try{for(var r=__values$n(t),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.parent)throw new Error(s+" already belongs to another parent: "+s.parent+".");if(s.scene)throw new Error(s+" already belongs to a scene: "+s.scene+".");if(this.childSet[s.id])throw new Error("Duplicate "+s.constructor.name+" node: "+s);this._children.push(s),this.childSet[s.id]=!0,s._parent=this,s._setScene(this.scene)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}this.markDirty(this,RedrawType.MAJOR)},e.prototype.appendChild=function(t){return this.append(t),t},e.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._parent=void 0,t._setScene(),this.markDirty(t,RedrawType.MAJOR),t}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var o=this.children.indexOf(e);if(!(o>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(o,0,t),this.childSet[t.id]=!0,t._parent=this,t._setScene(this.scene),this.markDirty(t,RedrawType.MAJOR)}else this.append(t);return t},Object.defineProperty(e.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,n=e.indexOf(this);if(n>=0&&n<=e.length-1)return e[n+1]}},enumerable:!0,configurable:!0}),e.prototype.transformPoint=function(t,e){for(var n=Matrix$1.flyweight(this.matrix),o=this.parent;o;)n.preMultiplySelf(o.matrix),o=o.parent;return n.invertSelf().transformPoint(t,e)},e.prototype.inverseTransformPoint=function(t,e){for(var n=Matrix$1.flyweight(this.matrix),o=this.parent;o;)n.preMultiplySelf(o.matrix),o=o.parent;return n.transformPoint(t,e)},e.prototype.markDirtyTransform=function(){this._dirtyTransform=!0,this.markDirty(this,RedrawType.MAJOR)},Object.defineProperty(e.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),e.prototype.containsPoint=function(t,e){return!1},e.prototype.pickNode=function(t,e){var n;if(this.visible&&this.pointerEvents!==PointerEvents$1.None&&this.containsPoint(t,e)){var o=this.children;if(o.length>1e3){for(var r=o.length-1;r>=0;r--)if(i=(null===(n=o[r].computeBBox())||void 0===n?void 0:n.containsPoint(t,e))?o[r].pickNode(t,e):void 0)return i}else if(o.length)for(r=o.length-1;r>=0;r--){var i;if(i=o[r].pickNode(t,e))return i}else if(!this.isContainerNode)return this}},e.prototype.computeBBox=function(){},e.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},e.prototype.computeTransformMatrix=function(){if(this._dirtyTransform){var t,e,n=__read$F([0,0],2),o=n[0],r=n[1],i=this.scalingX,s=this.scalingY;1===i&&1===s?(t=0,e=0):(t=null===this.scalingCenterX?o:this.scalingCenterX,e=null===this.scalingCenterY?r:this.scalingCenterY);var a,l,c=this.rotation,u=Math.cos(c),p=Math.sin(c);0===c?(a=0,l=0):(a=null===this.rotationCenterX?o:this.rotationCenterX,l=null===this.rotationCenterY?r:this.rotationCenterY);var d=this.translationX,h=this.translationY,f=t*(1-i)-a,g=e*(1-s)-l;this._dirtyTransform=!1,this.matrix.setElements([u*i,p*i,-p*s,u*s,u*f-p*g+a+d,p*f+u*g+l+h]).inverseTo(this.inverseMatrix)}},e.prototype.render=function(t){var e=t.stats;this._dirty=RedrawType.NONE,e&&e.nodesRendered++},e.prototype.clearBBox=function(t){var e=this.computeBBox();if(null!=e){var n=e.x,o=e.y,r=e.width,i=e.height,s=this.transformPoint(n,o),a=this.transformPoint(n+r,o+i);t.clearRect(s.x,s.y,a.x-s.x,a.y-s.y)}},e.prototype.markDirty=function(t,e,n){void 0===e&&(e=RedrawType.TRIVIAL),void 0===n&&(n=e),this._dirty>e||this._dirty===e&&e===n||(this._dirty=e,this.parent?this.parent.markDirty(this,n):this.scene&&this.scene.markDirty())},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),e.prototype.markClean=function(t){var e,n,o=t||{},r=o.force,i=o.recursive,s=void 0===i||i;if((this._dirty!==RedrawType.NONE||void 0!==r&&r)&&(this._dirty=RedrawType.NONE,s))try{for(var a=__values$n(this.children),l=a.next();!l.done;l=a.next())l.value.markClean()}catch(c){e={error:c}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},e.prototype.visibilityChanged=function(){},Object.defineProperty(e.prototype,"nodeCount",{get:function(){var t,e,n=1,o=this._dirty>=RedrawType.NONE||this._dirtyTransform?1:0,r=this.visible?1:0;try{for(var i=__values$n(this._children),s=i.next();!s.done;s=i.next()){var a=s.value.nodeCount;n+=a.count,r+=a.visibleCount,o+=a.dirtyCount}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return{count:n,visibleCount:r,dirtyCount:o}},enumerable:!0,configurable:!0}),e.prototype.zIndexChanged=function(){},e.MAX_SAFE_INTEGER=Math.pow(2,53)-1,__decorate$1m([SceneChangeDetection({type:"transform"})],e.prototype,"scalingX",void 0),__decorate$1m([SceneChangeDetection({type:"transform"})],e.prototype,"scalingY",void 0),__decorate$1m([SceneChangeDetection({type:"transform"})],e.prototype,"scalingCenterX",void 0),__decorate$1m([SceneChangeDetection({type:"transform"})],e.prototype,"scalingCenterY",void 0),__decorate$1m([SceneChangeDetection({type:"transform"})],e.prototype,"rotationCenterX",void 0),__decorate$1m([SceneChangeDetection({type:"transform"})],e.prototype,"rotationCenterY",void 0),__decorate$1m([SceneChangeDetection({type:"transform"})],e.prototype,"rotation",void 0),__decorate$1m([SceneChangeDetection({type:"transform"})],e.prototype,"translationX",void 0),__decorate$1m([SceneChangeDetection({type:"transform"})],e.prototype,"translationY",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(t){return t.visibilityChanged()}})],e.prototype,"visible",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:function(t){t.parent&&(t.parent.dirtyZIndex=!0),t.zIndexChanged()}})],e.prototype,"zIndex",void 0),e}(ChangeDetectable);function chainObjects$1(t,e){var n=Object.create(t);for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}function getValue(t,e,n){var o=Array.isArray(e)?e:e.split("."),r=t;try{o.forEach(function(t){r=r[t]})}catch(i){if(3!==arguments.length)throw i;r=n}return r}function emptyTarget$1(t){return Array.isArray(t)?[]:{}}function cloneUnlessOtherwiseSpecified$1(t,e){return!1!==e.clone&&e.isMergeableObject(t)?deepMerge$1(emptyTarget$1(t),t,e):t}function defaultArrayMerge$1(t,e,n){return t.concat(e).map(function(t){return cloneUnlessOtherwiseSpecified$1(t,n)})}function getMergeFunction$1(t,e){if(!e.customMerge)return deepMerge$1;var n=e.customMerge(t);return"function"==typeof n?n:deepMerge$1}function getEnumerableOwnPropertySymbols$1(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function getKeys$1(t){return Object.keys(t).concat(getEnumerableOwnPropertySymbols$1(t))}function propertyIsOnObject$1(t,e){try{return e in t}catch(n){return!1}}function propertyIsUnsafe$1(t,e){return propertyIsOnObject$1(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function mergeObject$1(t,e,n){var o={};return n.isMergeableObject(t)&&getKeys$1(t).forEach(function(e){o[e]=cloneUnlessOtherwiseSpecified$1(t[e],n)}),getKeys$1(e).forEach(function(r){propertyIsUnsafe$1(t,r)||(o[r]=propertyIsOnObject$1(t,r)&&n.isMergeableObject(e[r])?getMergeFunction$1(r,n)(t[r],e[r],n):cloneUnlessOtherwiseSpecified$1(e[r],n))}),o}function defaultIsMergeableObject$1(t){return isNonNullObject$1(t)&&!isSpecial$1(t)}function isNonNullObject$1(t){return!!t&&"object"==typeof t}function isSpecial$1(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e}function deepMerge$1(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||defaultArrayMerge$1,n.isMergeableObject=n.isMergeableObject||defaultIsMergeableObject$1,n.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified$1;var o=Array.isArray(e);return o===Array.isArray(t)?o?n.arrayMerge(t,e,n):mergeObject$1(t,e,n):cloneUnlessOtherwiseSpecified$1(e,n)}function isObject(t){return"object"==typeof t&&!Array.isArray(t)}var __extends$2M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1l=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Shape$1=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.lastInstanceId=0,n.fillOpacity=1,n.strokeOpacity=1,n.fill=e.defaultStyles.fill,n.stroke=e.defaultStyles.stroke,n.strokeWidth=e.defaultStyles.strokeWidth,n.lineDash=e.defaultStyles.lineDash,n.lineDashOffset=e.defaultStyles.lineDashOffset,n.lineCap=e.defaultStyles.lineCap,n.lineJoin=e.defaultStyles.lineJoin,n.opacity=e.defaultStyles.opacity,n.fillShadow=e.defaultStyles.fillShadow,n.strokeShadow=e.defaultStyles.strokeShadow,n}return __extends$2M(e,t),e.createInstance=function(t){var e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e},e.prototype.restoreOwnStyles=function(){for(var t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t),n=0,o=e.length;n<o;n++){var r=e[n];this[r]=t[r]}},e.prototype.restoreAllStyles=function(){var t=this.constructor.defaultStyles;for(var e in t)this[e]=t[e]},e.prototype.restoreOverriddenStyles=function(){var t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(this[n]=t[n])},Object.defineProperty(e.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),e.prototype.align=function(t,e,n){return null!=n?Math.floor(n)+Math.floor(e%1+n%1):Math.floor(e)+t},e.prototype.fillStroke=function(t){if(this.scene){var e=this.scene.canvas.pixelRatio||1,n=t.globalAlpha;if(this.fill){t.fillStyle=this.fill,t.globalAlpha=n*this.opacity*this.fillOpacity;var o=this.fillShadow;o&&o.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*e,t.shadowOffsetY=o.yOffset*e,t.shadowBlur=o.blur*e),t.fill()}if(t.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){t.strokeStyle=this.stroke,t.globalAlpha=n*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin);var r=this.strokeShadow;r&&r.enabled&&(t.shadowColor=r.color,t.shadowOffsetX=r.xOffset*e,t.shadowOffsetY=r.yOffset*e,t.shadowBlur=r.blur*e),t.stroke()}}},e.prototype.containsPoint=function(t,e){return this.isPointInPath(t,e)},e.defaultStyles=chainObjects$1({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"fillOpacity",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"strokeOpacity",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"fill",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"stroke",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"strokeWidth",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineDash",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineDashOffset",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineCap",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineJoin",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR,convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR,checkDirtyOnAssignment:!0})],e.prototype,"fillShadow",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MINOR,checkDirtyOnAssignment:!0})],e.prototype,"strokeShadow",void 0),e}(Node$1),HdpiCanvas$1=function(){function t(t){var e=t.document,n=void 0===e?window.document:e,o=t.width,r=void 0===o?600:o,i=t.height,s=void 0===i?300:i,a=t.domLayer,l=void 0!==a&&a,c=t.zIndex,u=void 0===c?0:c,p=t.name,d=void 0===p?void 0:p;this._container=void 0,this._enabled=!0,this._opacity=1,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=n,this.element=n.createElement("canvas"),this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var h=this.element.style;h.userSelect="none",h.display="block",l&&(h.position="absolute",h.zIndex=String(u),h.top="0",h.left="0",h.pointerEvents="none",h.opacity="1",d&&(this.element.id=d)),this.setPixelRatio(),this.resize(r,s)}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.element.style.display=t?"block":"none",this._enabled=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(t){this.element.style.opacity=""+t,this._opacity=t},enumerable:!0,configurable:!0}),t.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},t.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},t.prototype.snapshot=function(){},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},t.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},t.prototype.getDataURL=function(t){return this.element.toDataURL(t)},t.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var e=this.getDataURL("image/png"),n=this.document,o=n.createElement("a");o.href=e,o.download=t,o.style.display="none",n.body.appendChild(o),o.click(),n.body.removeChild(o)},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),t.prototype.setPixelRatio=function(e){var n=e||window.devicePixelRatio;n!==this.pixelRatio&&(t.overrideScale(this.context,n),this._pixelRatio=n,this.resize(this.width,this.height))},Object.defineProperty(t.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,o=n.element,r=n.context,i=n.pixelRatio;o.width=Math.round(t*i),o.height=Math.round(e*i),o.style.width=t+"px",o.style.height=e+"px",r.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(t,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(t,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),t.measureText=function(t,e,n,o){var r=this.textMeasuringContext;return r.font=e,r.textBaseline=n,r.textAlign=o,r.measureText(t)},t.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var o=n.measureText(t);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},t.measureSvgText=function(t,e){var n=this.textSizeCache,o=n[e];if(o){var r=o[t];if(r)return r}else n[e]={};var i=this.svgText;i.style.font=e,i.textContent=t;var s=i.getBBox(),a={width:s.width,height:s.height};return n[e][t]=a,a},t.overrideScale=function(t,e){var n=0,o={save:function(){this.$save(),n++},restore:function(){if(!(n>0))throw new Error("Unable to restore() past depth 0");this.$restore(),n--},setTransform:function(t,n,o,r,i,s){"object"==typeof t?this.$setTransform(t):this.$setTransform(t*e,n*e,o*e,r*e,i*e,s*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)}};for(var r in o)o.hasOwnProperty(r)&&(t["$"+r]||(t["$"+r]=t[r]),t[r]=o[r])},t.textSizeCache={},t}(),__extends$2L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1k=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function SceneFontChangeDetection(t){var e=t||{},n=e.redraw;return SceneChangeDetection({redraw:void 0===n?RedrawType.MAJOR:n,type:"font",changeCb:e.changeCb})}var Text$1=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.x=0,n.y=0,n.lines=[],n.text="",n._dirtyFont=!0,n.fontSize=10,n.fontFamily="sans-serif",n.textAlign=e.defaultStyles.textAlign,n.textBaseline=e.defaultStyles.textBaseline,n.lineHeight=14,n}return __extends$2L(e,t),e.prototype._splitText=function(){this.lines="string"==typeof this.text?this.text.split(/\r?\n/g):[]},Object.defineProperty(e.prototype,"font",{get:function(){return this._dirtyFont&&(this._dirtyFont=!1,this._font=getFont$2(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){return HdpiCanvas$1.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},e.prototype.getPreciseBBox=function(){var t=HdpiCanvas$1.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new BBox$1(this.x-t.actualBoundingBoxLeft,this.y-t.actualBoundingBoxAscent,t.width,t.actualBoundingBoxAscent+t.actualBoundingBoxDescent)},e.prototype.getApproximateBBox=function(){var t=HdpiCanvas$1.getTextSize(this.text,this.font),e=this.x,n=this.y;switch(this.textAlign){case"end":case"right":e-=t.width;break;case"center":e-=t.width/2}switch(this.textBaseline){case"alphabetic":n-=.7*t.height;break;case"middle":n-=.45*t.height;break;case"ideographic":n-=t.height;break;case"hanging":n-=.2*t.height;break;case"bottom":n-=t.height}return new BBox$1(e,n,t.width,t.height)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),o=this.computeBBox();return!!o&&o.containsPoint(n.x,n.y)},e.prototype.render=function(e){var n=e.ctx,o=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender)if(this.lines.length&&this.scene){this.computeTransformMatrix(),this.matrix.toContext(n);var r=this,i=r.fill,s=r.stroke,a=r.strokeWidth;n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline;var l=this.scene.canvas.pixelRatio||1,c=n.globalAlpha;if(i){n.fillStyle=i,n.globalAlpha=c*this.opacity*this.fillOpacity;var u=this,p=u.fillShadow,d=u.text,h=u.x,f=u.y;p&&p.enabled&&(n.shadowColor=p.color,n.shadowOffsetX=p.xOffset*l,n.shadowOffsetY=p.yOffset*l,n.shadowBlur=p.blur*l),n.fillText(d,h,f)}if(s&&a){n.strokeStyle=s,n.lineWidth=a,n.globalAlpha=c*this.opacity*this.strokeOpacity;var g=this,m=g.lineDash,y=g.lineDashOffset,_=g.lineCap,v=g.lineJoin,C=g.strokeShadow;d=g.text,h=g.x,f=g.y,m&&n.setLineDash(m),y&&(n.lineDashOffset=y),_&&(n.lineCap=_),v&&(n.lineJoin=v),C&&C.enabled&&(n.shadowColor=C.color,n.shadowOffsetX=C.xOffset*l,n.shadowOffsetY=C.yOffset*l,n.shadowBlur=C.blur*l),n.strokeText(d,h,f)}t.prototype.render.call(this,e)}else o&&(o.nodesSkipped+=this.nodeCount.count);else o&&(o.nodesSkipped+=this.nodeCount.count)},e.className="Text",e.defaultStyles=chainObjects$1(Shape$1.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),__decorate$1k([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x",void 0),__decorate$1k([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y",void 0),__decorate$1k([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(t){return t._splitText()}})],e.prototype,"text",void 0),__decorate$1k([SceneFontChangeDetection()],e.prototype,"fontStyle",void 0),__decorate$1k([SceneFontChangeDetection()],e.prototype,"fontWeight",void 0),__decorate$1k([SceneFontChangeDetection()],e.prototype,"fontSize",void 0),__decorate$1k([SceneFontChangeDetection()],e.prototype,"fontFamily",void 0),__decorate$1k([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"textAlign",void 0),__decorate$1k([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"textBaseline",void 0),__decorate$1k([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"lineHeight",void 0),e}(Shape$1);function getFont$2(t,e,n,o){return[n||"",o||"",t+"px",e].join(" ").trim()}var __assign$x=function(){return(__assign$x=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Observable$1=function(){function t(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return t.prototype.addPropertyListener=function(t,e,n){void 0===n&&(n=this);var o=this.allPropertyListeners,r=o.get(t);if(r||(r=new Map,o.set(t,r)),!r.has(e)){var i=new Set;r.set(e,i)}var s=r.get(e);s&&s.add(n)},t.prototype.removePropertyListener=function(t,e,n){void 0===n&&(n=this);var o=this.allPropertyListeners.get(t);if(o)if(e){var r=o.get(e);r&&(r.delete(n),r.size||o.delete(e))}else o.clear()},t.prototype.notifyPropertyListeners=function(t,e,n){var o=this,r=this.allPropertyListeners.get(t);r&&r.forEach(function(r,i){r.forEach(function(r){return i.call(r,{type:t,source:o,value:n,oldValue:e})})})},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=this);var o=this.allEventListeners,r=o.get(t);if(r||(r=new Map,o.set(t,r)),!r.has(e)){var i=new Set;r.set(e,i)}var s=r.get(e);s&&s.add(n)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=this);var o=this.allEventListeners.get(t);if(o)if(e){var r=o.get(e);r&&(r.delete(n),r.size||o.delete(e))}else o.clear()},t.prototype.clearEventListeners=function(){this.allEventListeners=new Map},t.prototype.notifyEventListeners=function(t){var e=this,n=this.allEventListeners;t.forEach(function(t){var o=n.get(t);o&&o.forEach(function(n,o){n.forEach(function(n){return o.call(n,{type:t,source:e})})})})},t.prototype.fireEvent=function(t){var e=this,n=this.allEventListeners.get(t.type);n&&n.forEach(function(n,o){n.forEach(function(n){return o.call(n,__assign$x(__assign$x({},t),{source:e}))})})},t.privateKeyPrefix="_",t}(),__extends$2K=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Caption=function(t){function e(){var e=t.call(this)||this;e.node=new Text$1,e.enabled=!1;var n=e.node;return n.textAlign="center",n.textBaseline="top",n.pointerEvents=PointerEvents$1.None,e}return __extends$2K(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.node.text},set:function(t){this.node.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(t){this.node.fontStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(t){this.node.fontWeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(t){this.node.fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(t){this.node.fontFamily=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.node.fill},set:function(t){this.node.fill=t},enumerable:!0,configurable:!0}),e.PADDING=10,e}(Observable$1),__extends$2J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function ticks$1(t,e,n){var o=tickStep$1(t,e,n);return range$1(t=Math.ceil(t/o)*o,e=Math.floor(e/o)*o+o/2,o)}var e10$1=Math.sqrt(50),e5$1=Math.sqrt(10),e2$1=Math.sqrt(2);function tickStep$1(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),i=o/r;return i>=e10$1?r*=10:i>=e5$1?r*=5:i>=e2$1&&(r*=2),e<t?-r:r}function tickIncrement$1(t,e,n){var o=(e-t)/Math.max(0,n),r=Math.floor(Math.log(o)/Math.LN10),i=o/Math.pow(10,r);return r>=0?(i>=e10$1?10:i>=e5$1?5:i>=e2$1?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(i>=e10$1?10:i>=e5$1?5:i>=e2$1?2:1)}var NumericTicks$1=function(t){function e(e,n){var o=t.call(this)||this;if(n)for(var r=0,i=n.length;r<i;r++)o[r]=n[r];return o.fractionDigits=e,o}return __extends$2J(e,t),e}(Array);function range$1(t,e,n){void 0===n&&(n=1);for(var o=Math.abs(n),r=o>0&&o<1?Math.abs(Math.floor(Math.log(o)/Math.LN10)):0,i=Math.pow(10,r),s=Math.max(0,Math.ceil((e-t)/n))||0,a=new NumericTicks$1(r),l=0;l<s;l++)a[l]=Math.round((t+n*l)*i)/i;return a}function calculateNiceSecondaryAxis(t,e){var n=Math.floor(t[0]),o=t[1],r=getTickStep(n=calculateNiceStart(n,o,e),o,e);return[[n,o=n+(e-1)*r],getTicks(n,r,e)]}function calculateNiceStart(t,e,n){var o=Math.abs(e-t)/(n-1),r=Math.floor(Math.log10(o)),i=Math.pow(10,r);return Math.floor(t/i)*i}function getTicks(t,e,n){for(var o=Math.floor(Math.log10(e)),r=e>0&&e<1?Math.abs(o):0,i=Math.pow(10,r),s=new NumericTicks$1(r),a=0;a<n;a++)s[a]=Math.round((t+e*a)*i)/i;return s}function getTickStep(t,e,n){return calculateNextNiceStep((e-t)/(n-1))}function calculateNextNiceStep(t){var e=Math.floor(Math.log10(t)),n=Math.pow(10,e),o=t/n*10;return o>0&&o<=1?n/10:o>1&&o<=2?2*n/10:o>1&&o<=5?5*n/10:o>5&&o<=10?10*n/10:o>10&&o<=20?20*n/10:o>20&&o<=40?40*n/10:o>40&&o<=50?50*n/10:o>50&&o<=100?100*n/10:o}var constant$3=function(t){return function(){return t}};function interpolateNumber$1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function date$1(t,e){var n=new Date,o=+t,r=+e;return function(t){return n.setTime(o*(1-t)+r*t),n}}function array$1(t,e){var n,o=e?e.length:0,r=t?Math.min(o,t.length):0,i=new Array(r),s=new Array(o);for(n=0;n<r;++n)i[n]=interpolateValue$1(t[n],e[n]);for(;n<o;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=i[n](t);return s}}function object$1(t,e){var n,o={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?o[n]=interpolateValue$1(t[n],e[n]):r[n]=e[n];return function(t){for(n in o)r[n]=o[n](t);return r}}var __read$E=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Color$1=function(){function t(t,e,n,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,o||0))}return t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map(function(t){return parseInt(t,16)}).map(function(t){return t+16*t})}if(e.length>=3&&e.every(function(t){return t>=0}))return 3===e.length&&e.push(255),e},t.fromHexString=function(e){var n=t.parseHex(e);if(n){var o=__read$E(n,4);return new t(o[0]/255,o[1]/255,o[2]/255,o[3]/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.stringToRgba=function(t){for(var e=__read$E([NaN,NaN],2),n=e[0],o=e[1],r=0;r<t.length;r++){var i=t[r];if(n||"("!==i){if(")"===i){o=r;break}}else n=r}var s=n&&o&&t.substring(n+1,o);if(s){var a=s.split(","),l=[];for(r=0;r<a.length;r++){var c=a[r],u=parseFloat(c);if(isNaN(u))return;c.indexOf("%")>=0?(u=Math.max(0,Math.min(100,u)),u/=100):3===r?u=Math.max(0,Math.min(1,u)):(u=Math.max(0,Math.min(255,u)),u/=255),l.push(u)}return l}},t.fromRgbaString=function(e){var n=t.stringToRgba(e);if(n){if(3===n.length)return new t(n[0],n[1],n[2]);if(4===n.length)return new t(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,o,r){void 0===r&&(r=1);var i=t.HSBtoRGB(e,n,o);return new t(i[0],i[1],i[2],r)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var o=Math.min(t,e,n),r=Math.max(t,e,n),i=NaN;if(o!==r){var s=r-o,a=(r-t)/s,l=(r-e)/s,c=(r-n)/s;i=t===r?c-l:e===r?2+a-c:4+l-a,(i/=6)<0&&(i+=1)}return[360*i,0!==r?(r-o)/r:0,r]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,r=0,i=0;if(0===e)o=r=i=n;else{var s=6*(t-Math.floor(t)),a=s-Math.floor(s),l=n*(1-e),c=n*(1-e*a),u=n*(1-e*(1-a));switch(s>>0){case 0:o=n,r=u,i=l;break;case 1:o=c,r=n,i=l;break;case 2:o=l,r=n,i=u;break;case 3:o=l,r=c,i=n;break;case 4:o=u,r=l,i=n;break;case 5:o=n,r=l,i=c}}return[o,r,i]},t.prototype.derive=function(e,n,o,r){var i=t.RGBtoHSB(this.r,this.g,this.b),s=i[2];0==s&&o>1&&(s=.05);var a=((i[0]+e)%360+360)%360,l=Math.max(Math.min(i[1]*n,1),0);s=Math.max(Math.min(s*o,1),0);var c=Math.max(Math.min(this.a*r,1),0),u=t.HSBtoRGB(a,l,s);return u.push(c),t.fromArray(u)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}();function color$1(t,e){if("string"==typeof t)try{t=Color$1.fromString(t)}catch(s){t=Color$1.fromArray([0,0,0])}if("string"==typeof e)try{e=Color$1.fromString(e)}catch(s){e=Color$1.fromArray([0,0,0])}var n=interpolateNumber$1(t.r,e.r),o=interpolateNumber$1(t.g,e.g),r=interpolateNumber$1(t.b,e.b),i=interpolateNumber$1(t.a,e.a);return function(t){return Color$1.fromArray([n(t),o(t),r(t),i(t)]).toRgbaString()}}function interpolateValue$1(t,e){var n=typeof e;if(null==e||"boolean"===n)return constant$3(e);if("number"===n)return interpolateNumber$1(t,e);if("string"===n)try{return color$1(t,e=Color$1.fromString(e))}catch(o){}return e instanceof Color$1?color$1(t,e):e instanceof Date?date$1(t,e):Array.isArray(e)?array$1(t,e):"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object$1(t,e):interpolateNumber$1(t,e)}function ascending$1(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bisectRight(t,e,n,o,r){for(void 0===o&&(o=0),void 0===r&&(r=t.length);o<r;){var i=o+r>>>1;n(t[i],e)>0?r=i:o=i+1}return o}function complexBisectRight$1(t,e,n,o,r){void 0===o&&(o=0),void 0===r&&(r=t.length);for(var i=ascendingComparator$1(n);o<r;){var s=o+r>>>1;i(t[s],e)<0?o=s+1:r=s}return o}function ascendingComparator$1(t){return function(e,n){return ascending$1(t(e),n)}}var __read$D=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},constant$2=function(t){return function(){return t}},identity$6=function(t){return t};function clamper$2(t){var e,n=t[0],o=t[t.length-1];return n>o&&(e=__read$D([o,n],2),n=e[0],o=e[1]),function(t){return Math.max(n,Math.min(o,t))}}var ContinuousScale$1=function(){function t(){this.unknown=void 0,this.clamper=clamper$2,this._clamp=identity$6,this._domain=[0,1],this._range=[0,1],this.transform=identity$6,this.untransform=identity$6,this._interpolate=interpolateValue$1,this.rescale()}return Object.defineProperty(t.prototype,"clamp",{get:function(){return this._clamp!==identity$6},set:function(t){this._clamp=t?this.clamper(this.domain):identity$6},enumerable:!0,configurable:!0}),t.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(t){return+t}),this._clamp!==identity$6&&(this._clamp=this.clamper(this.domain)),this.rescale()},t.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(t.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){this.piecewise=Math.min(this.domain.length,this.range.length)>2?this.polymap:this.bimap,this.output=void 0,this.input=void 0},t.prototype.normalize=function(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:constant$2(isNaN(e)?NaN:.5)},t.prototype.bimap=function(t,e,n){var o,r,i=t[0],s=t[1],a=e[0],l=e[1];return s<i?(o=this.normalize(s,i),r=n(l,a)):(o=this.normalize(i,s),r=n(a,l)),function(t){return r(o(t))}},t.prototype.polymap=function(t,e,n){var o=this,r=Math.min(t.length,e.length)-1;t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());var i=Array.from({length:r},function(e,n){return o.normalize(t[n],t[n+1])}),s=Array.from({length:r},function(t,o){return n(e[o],e[o+1])});return function(e){var n=bisectRight(t,e,ascending$1,1,r)-1;return s[n](i[n](e))}},t.prototype.convert=function(t,e){if(t=+t,isNaN(t))return this.unknown;this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate));var n=e?e(this.domain):this._clamp;return this.output(this.transform(n(t)))},t.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),interpolateNumber$1)),this._clamp(this.untransform(this.input(t)))},t}();function formatDefault$1(t,e){var n=t.toPrecision(e);t:for(var o=n.length,r=1,i=-1,s=0;r<o;++r)switch(n[r]){case".":i=s=r;break;case"0":0===i&&(i=r),s=r;break;case"e":break t;default:i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(s+1):n}var formatTypes$1={"":formatDefault$1,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return String(t)},d:formatDecimal$1,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return formatRounded$1(100*t,e)},r:formatRounded$1,s:formatPrefixAuto$1,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},prefixes$1=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],FormatSpecifier$1=function t(e){e instanceof t?(this.fill=e.fill,this.align=e.align,this.sign=e.sign,this.symbol=e.symbol,this.zero=e.zero,this.width=e.width,this.comma=e.comma,this.precision=e.precision,this.trim=e.trim,this.type=e.type,this.string=e.string):(this.fill=void 0===e.fill?" ":String(e.fill),this.align=void 0===e.align?">":String(e.align),this.sign=void 0===e.sign?"-":String(e.sign),this.symbol=void 0===e.symbol?"":String(e.symbol),this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":String(e.type),this.string=e.string)},formatRegEx$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,interpolateRegEx$1=/(#\{(.*?)\})/g,prefixExponent$1,formatDefaultLocale$1,format$1,formatPrefix$1;function makeFormatSpecifier$1(t){if(t instanceof FormatSpecifier$1)return new FormatSpecifier$1(t);var e=!1,n=t.replace(interpolateRegEx$1,function(){return e||(t=arguments[2],e=!0),"#{}"}),o=formatRegEx$1.exec(t);if(!o)throw new Error("Invalid format: "+t);return new FormatSpecifier$1({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10],string:e?n:void 0})}function tickFormat$1(t,e,n,o){var r,i=tickStep$1(t,e,n),s=makeFormatSpecifier$1(null==o?",f":o);switch(s.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=s.precision||isNaN(r=precisionPrefix$1(i,a))||(s.precision=r),formatPrefix$1(s,a);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(r=precisionRound$1(i,Math.max(Math.abs(t),Math.abs(e))))||(s.precision=r-+("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(r=precisionFixed$1(i))||(s.precision=r-2*+("%"===s.type))}return format$1(s)}function formatPrefixAuto$1(t,e){void 0===e&&(e=0);var n=formatDecimalParts$1(t,e);if(!n)return String(t);var o=n[0],r=n[1],i=r-(prefixExponent$1=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=o.length;if(i===s)return o;if(i>s)return o+new Array(i-s+1).join("0");if(i>0)return o.slice(0,i)+"."+o.slice(i);var a=formatDecimalParts$1(t,Math.max(0,e+i-1));return"0."+new Array(1-i).join("0")+a[0]}function formatDecimal$1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatGroup$1(t,e){return function(n,o){for(var r=[],i=n.length,s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>o&&(a=Math.max(1,o-l)),r.push(n.substring(i-=a,i+a)),!((l+=a+1)>o));)a=t[s=(s+1)%t.length];return r.reverse().join(e)}}function formatNumerals$1(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}function formatTrim$1(t){t:for(var e=t.length,n=1,o=-1,r=0;n<e;++n)switch(t[n]){case".":o=r=n;break;case"0":0===o&&(o=n),r=n;break;default:if(!+t[n])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(r+1):t}function formatRounded$1(t,e){var n=formatDecimalParts$1(t,e);if(!n)return String(t);var o=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+o:o.length>r+1?o.slice(0,r+1)+"."+o.slice(r+1):o+new Array(r-o.length+2).join("0")}function formatDecimalParts$1(t,e){var n=e?t.toExponential(e-1):t.toExponential(),o=n.indexOf("e");if(!(o<0)){var r=n.slice(0,o);return[r.length>1?r[0]+r.slice(2):r,+n.slice(o+1)]}}function identity$5(t){return t}function defaultLocale$1(t){formatDefaultLocale$1=formatLocale$3(t),format$1=formatDefaultLocale$1.format,formatPrefix$1=formatDefaultLocale$1.formatPrefix}function exponent$1(t){var e=formatDecimalParts$1(Math.abs(t));return e?e[1]:NaN}function precisionFixed$1(t){return Math.max(0,-exponent$1(Math.abs(t)))}function precisionPrefix$1(t,e){var n=Math.floor(exponent$1(e)/3);return n=Math.min(8,n),n=Math.max(-8,n),Math.max(0,3*n-exponent$1(Math.abs(t)))}function precisionRound$1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent$1(e)-exponent$1(t))+1}function formatLocale$3(t){var e=void 0===t.grouping||void 0===t.thousands?identity$5:formatGroup$1(Array.prototype.map.call(t.grouping,Number),String(t.thousands)),n=void 0===t.currency?"":String(t.currency[0]),o=void 0===t.currency?"":String(t.currency[1]),r=void 0===t.decimal?".":String(t.decimal),i=void 0===t.numerals?identity$5:formatNumerals$1(Array.prototype.map.call(t.numerals,String)),s=void 0===t.percent?"%":String(t.percent),a=void 0===t.minus?"\u2212":String(t.minus),l=void 0===t.nan?"NaN":String(t.nan);function c(t){var c=makeFormatSpecifier$1(t),u=c.fill,p=c.align,d=c.sign,h=c.symbol,f=c.zero,g=c.width,m=c.comma,y=c.precision,_=c.trim,v=c.type;"n"===v?(m=!0,v="g"):formatTypes$1[v]||(void 0===y&&(y=12),_=!0,v="g"),(f||"0"===u&&"="===p)&&(f=!0,u="0",p="=");var C="$"===h?n:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",E="$"===h?o:/[%p]/.test(v)?s:"",w=formatTypes$1[v],O=/[defgprs%]/.test(v);return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),function(t){var n,o=C,s=E;if("c"===v)s=w(+t)+s,n="";else{var h=+t,b=t<0||1/h<0;if(n=isNaN(h)?l:w(Math.abs(h),y),_&&(n=formatTrim$1(n)),b&&0==+n&&"+"!==d&&(b=!1),o=(b?"("===d?d:a:"-"===d||"("===d?"":d)+o,s=("s"===v?prefixes$1[8+prefixExponent$1/3]:"")+s+(b&&"("===d?")":""),O)for(var S=0,P=n.length;S<P;S++){var D=n.charCodeAt(S);if(48>D||D>57){s=(46===D?r+n.slice(S+1):n.slice(S))+s,n=n.slice(0,S);break}}}m&&!f&&(n=e(n,1/0));var T=o.length+n.length+s.length,R=T<g?new Array(g-T+1).join(u):"";switch(m&&f&&(n=e(R+n,R.length?g-s.length:1/0),R=""),p){case"<":n=o+n+s+R;break;case"=":n=o+R+n+s;break;case"^":n=R.slice(0,T=R.length>>1)+o+n+s+R.slice(T);break;default:n=R+o+n+s}var A=c.string;return A?A.replace(interpolateRegEx$1,function(){return i(n)}):i(n)}}return{format:c,formatPrefix:function(t,e){var n=makeFormatSpecifier$1(t);n.type="f";var o=c(n),r=3*Math.max(-8,Math.min(8,Math.floor(exponent$1(e)/3))),i=Math.pow(10,-r),s=prefixes$1[8+r/3];return function(t){return o(i*+t)+s}}}}defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});var __extends$2I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),LinearScale$1=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e}return __extends$2I(e,t),e.prototype.ticks=function(t){void 0===t&&(t=10);var e=this._domain;return ticks$1(e[0],e[e.length-1],t)},e.prototype.nice=function(t){void 0===t&&(t=10);var e,n=this.domain,o=0,r=n.length-1,i=n[o],s=n[r];s<i&&(e=i,i=s,s=e,e=o,o=r,r=e),(e=tickIncrement$1(i,s,t))>0?e=tickIncrement$1(i=Math.floor(i/e)*e,s=Math.ceil(s/e)*e,t):e<0&&(e=tickIncrement$1(i=Math.ceil(i*e)/e,s=Math.floor(s*e)/e,t)),e>0?(n[o]=Math.floor(i/e)*e,n[r]=Math.ceil(s/e)*e,this.domain=n):e<0&&(n[o]=Math.ceil(i*e)/e,n[r]=Math.floor(s*e)/e,this.domain=n)},e.prototype.tickFormat=function(t,e){var n=this.domain;return tickFormat$1(n[0],n[n.length-1],null==t?10:t,e)},e}(ContinuousScale$1),__values$m=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function find(t,e){for(var n=0;n<t.length;n++){var o=t[n];if(e(o,n,t))return o}}function identity$4(t){return t}function extent$1(t,e,n){for(var o,r,i,s=n||identity$4,a=t.length,l=-1;++l<a;)if(e(o=t[l]))for(r=i=o;++l<a;)e(o=t[l])&&(r>o&&(r=o),i<o&&(i=o));return void 0===r||void 0===i?void 0:[s(r),s(i)]}function findMinMax(t){var e,n,o=0,r=0;try{for(var i=__values$m(t),s=i.next();!s.done;s=i.next()){var a=s.value;a<0?o+=a:r+=a}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{min:o,max:r}}function isNumber$1(t){return"number"==typeof t&&Number.isFinite(t)}function isNumberObject$1(t){return!!t&&t.hasOwnProperty("valueOf")&&isNumber$1(t.valueOf())}function isNumeric$1(t){return isNumber$1(t)||isNumberObject$1(t)}function isDate$1(t){return t instanceof Date&&!isNaN(+t)}function isString$1(t){return"string"==typeof t}function isStringObject$1(t){return!!t&&t.hasOwnProperty("toString")&&isString$1(t.toString())}function isDiscrete(t){return isString$1(t)||isStringObject$1(t)}function isContinuous$1(t){return isNumeric$1(t)||isDate$1(t)}var sign$1=Math.sign?Math.sign:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1};function linearRoot$1(t,e){var n=-e/t;return 0!==t&&n>=0&&n<=1?[n]:[]}function quadraticRoots$1(t,e,n){if(0===t)return linearRoot$1(e,n);var o=e*e-4*t*n,r=[];if(0===o){var i=-e/(2*t);i>=0&&i<=1&&r.push(i)}else if(o>0){var s=Math.sqrt(o),a=(-e-s)/(2*t),l=(-e+s)/(2*t);a>=0&&a<=1&&r.push(a),l>=0&&l<=1&&r.push(l)}return r}function cubicRoots$1(t,e,n,o){if(0===t)return quadraticRoots$1(e,n,o);var r=e/t,i=n/t,s=(3*i-r*r)/9,a=(9*r*i-o/t*27-2*r*r*r)/54,l=s*s*s+a*a,c=1/3,u=[];if(l>=0){var p=Math.sqrt(l),d=sign$1(a+p)*Math.pow(Math.abs(a+p),c),h=sign$1(a-p)*Math.pow(Math.abs(a-p),c),f=Math.abs(Math.sqrt(3)*(d-h)/2),g=-c*r+(d+h);if(g>=0&&g<=1&&u.push(g),0===f){var m=-c*r-(d+h)/2;m>=0&&m<=1&&u.push(m)}}else{var y=Math.acos(a/Math.sqrt(-s*s*s)),_=c*r,v=2*Math.sqrt(-s),C=v*Math.cos(c*y)-_,E=v*Math.cos(c*(y+2*Math.PI))-_,w=v*Math.cos(c*(y+4*Math.PI))-_;C>=0&&C<=1&&u.push(C),E>=0&&E<=1&&u.push(E),w>=0&&w<=1&&u.push(w)}return u}function segmentIntersection$1(t,e,n,o,r,i,s,a){var l=(n-t)*(a-i)-(o-e)*(s-r);if(0===l)return null;var c=((s-r)*(e-i)-(t-r)*(a-i))/l,u=((n-t)*(e-i)-(o-e)*(t-r))/l;return c>=0&&c<=1&&u>=0&&u<=1?{x:t+c*(n-t),y:e+c*(o-e)}:null}function cubicSegmentIntersections$1(t,e,n,o,r,i,s,a,l,c,u,p){for(var d=[],h=c-p,f=u-l,g=l*(p-c)-c*(u-l),m=bezierCoefficients$1(t,n,r,s),y=bezierCoefficients$1(e,o,i,a),_=cubicRoots$1(h*m[0]+f*y[0],h*m[1]+f*y[1],h*m[2]+f*y[2],h*m[3]+f*y[3]+g),v=0;v<_.length;v++){var C,E=_[v],w=E*E,O=E*w,b=m[0]*O+m[1]*w+m[2]*E+m[3],S=y[0]*O+y[1]*w+y[2]*E+y[3];(C=l!==u?(b-l)/(u-l):(S-c)/(p-c))>=0&&C<=1&&d.push({x:b,y:S})}return d}function bezierCoefficients$1(t,e,n,o){return[3*e-t-3*n+o,3*t-6*e+3*n,-3*t+3*e,t]}var __values$l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Path2D$1=function(){function t(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return t.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath)return!0;if(this.previousCommands.length!==this.commands.length)return!0;if(this.previousParams.length!==this.params.length)return!0;for(var t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1},t.prototype.draw=function(t){var e,n,o=this.commands,r=this.params,i=0;t.beginPath();try{for(var s=__values$l(o),a=s.next();!a.done;a=s.next())switch(a.value){case"M":t.moveTo(r[i++],r[i++]);break;case"L":t.lineTo(r[i++],r[i++]);break;case"C":t.bezierCurveTo(r[i++],r[i++],r[i++],r[i++],r[i++],r[i++]);break;case"Z":t.closePath()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},t.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},t.prototype.rect=function(t,e,n,o){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+o),this.lineTo(t,e+o),this.closePath()},t.prototype.arcTo=function(t,e,n,o,r,i,s){var a=this.xy;if(a){t<0&&(t=-t),e<0&&(e=-e);var l=a[0],c=a[1],u=(l-i)/2,p=(c-s)/2,d=Math.sin(n),h=Math.cos(n),f=h*u+d*p,g=-d*u+h*p,m=f/t,y=g/e,_=m*m+y*y,v=(l+i)/2,C=(c+s)/2,E=0,w=0;_>=1?(t*=_=Math.sqrt(_),e*=_):(_=Math.sqrt(1/_-1),o===r&&(_=-_),v+=h*(E=_*t*y)-d*(w=-_*e*m),C+=d*E+h*w);var O=Math.atan2((g-w)/e,(f-E)/t),b=Math.atan2((-g-w)/e,(-f-E)/t)-O;this.cubicArc(v,C,t,e,n,O,O+b,1-r)}},t.cubicArc=function(t,e,n,o,r,i,s,a,l,c){if(c){var u=a;a=l,l=u}var p=e.length,d=.5522847498307935,h=Math.sin(a),f=Math.cos(a),g=Math.sin(s),m=Math.cos(s),y=Math.PI/2,_=m*f*r-g*h*i,v=g*f*r+m*h*i,C=-m*h*r-g*f*i,E=-g*h*r+m*f*i;for((l-=a)<0&&(l+=2*Math.PI),t.push("M"),e.push(_+n,v+o);l>=y;){l-=y,t.push("C");var w=C+n;e.push(_+C*d+n,v+E*d+o,_*d+C+n,v*d+E+o,Math.abs(w)<1e-8?0:w,E+o),u=_,_=C,C=-u,u=v,v=E,E=-u}if(l){var O=4/3*Math.tan(l/4),b=Math.sin(l),S=Math.cos(l),P=S+O*b,D=b-O*S;t.push("C"),w=_*S+C*b+n,e.push(_+C*O+n,v+E*O+o,_*P+C*D+n,v*P+E*D+o,Math.abs(w)<1e-8?0:w,v*S+E*b+o)}if(c)for(var T=p,R=e.length-2;T<R;T+=2,R-=2)u=e[T],e[T]=e[R],e[R]=u,u=e[T+1],e[T+1]=e[R+1],e[R+1]=u},t.prototype.cubicArc=function(e,n,o,r,i,s,a,l){var c=this.commands,u=this.params,p=c.length;t.cubicArc(c,u,e,n,o,r,i,s,a,l);var d=u[u.length-2],h=u[u.length-1];this.xy?(c[p]="L",this.xy[0]=d,this.xy[1]=h):this.xy=[d,h]},t.prototype.deCasteljau=function(t,e){var n=t.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var o=[],r=n-2,i=0;i<r;i+=2)o.push((1-e)*t[i]+e*t[i+2],(1-e)*t[i+1]+e*t[i+3]);return this.deCasteljau(o,e)},t.prototype.approximateCurve=function(t,e){var n=this.deCasteljau(t,0);this.moveTo(n[0],n[1]);for(var o=1/e,r=o;r<=1;r+=o){var i=this.deCasteljau(t,r);this.lineTo(i[0],i[1])}},t.prototype.quadraticCurveTo=function(t,e,n,o){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+n)/3,(2*e+o)/3,n,o)},t.prototype.cubicCurveTo=function(t,e,n,o,r,i){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,n,o,r,i),this.xy[0]=r,this.xy[1]=i},Object.defineProperty(t.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),t.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},t.prototype.clear=function(t){(void 0===t?{trackChanges:!1}:t).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},t.prototype.isPointInPath=function(t,e){for(var n=this.commands,o=this.params,r=n.length,i=-1e4,s=-1e4,a=NaN,l=NaN,c=0,u=0,p=0,d=0,h=0;d<r;d++)switch(n[d]){case"M":isNaN(a)||segmentIntersection$1(a,l,c,u,i,s,t,e)&&p++,a=c=o[h++],l=u=o[h++];break;case"L":segmentIntersection$1(c,u,c=o[h++],u=o[h++],i,s,t,e)&&p++;break;case"C":p+=cubicSegmentIntersections$1(c,u,o[h++],o[h++],o[h++],o[h++],c=o[h++],u=o[h++],i,s,t,e).length;break;case"Z":isNaN(a)||segmentIntersection$1(a,l,c,u,i,s,t,e)&&p++}return p%2==1},t.fromString=function(e){var n=new t;return n.setFromString(e),n},t.parseSvgPath=function(e){return e.trim().split(t.splitCommandsRe).map(function(e){var n=e.match(t.matchParamsRe);return{command:e.substr(0,1),params:n?n.map(parseFloat):[]}})},t.prettifySvgPath=function(e){return t.parseSvgPath(e).map(function(t){return t.command+t.params.join(",")}).join("\n")},t.prototype.setFromString=function(e){var n,o,r,i,s,a=this;function l(){s.match(t.quadraticCommandRe)||(r=n,i=o)}function c(){s.match(t.cubicCommandRe)||(r=n,i=o)}this.clear(),t.parseSvgPath(e).forEach(function(t){var e=t.params,u=e.length,p=0;switch(t.command){case"M":for(a.moveTo(n=e[p++],o=e[p++]);p<u;)a.lineTo(n=e[p++],o=e[p++]);break;case"m":for(a.moveTo(n+=e[p++],o+=e[p++]);p<u;)a.lineTo(n+=e[p++],o+=e[p++]);break;case"L":for(;p<u;)a.lineTo(n=e[p++],o=e[p++]);break;case"l":for(;p<u;)a.lineTo(n+=e[p++],o+=e[p++]);break;case"C":for(;p<u;)a.cubicCurveTo(e[p++],e[p++],r=e[p++],i=e[p++],n=e[p++],o=e[p++]);break;case"c":for(;p<u;)a.cubicCurveTo(n+e[p++],o+e[p++],r=n+e[p++],i=o+e[p++],n+=e[p++],o+=e[p++]);break;case"S":for(c();p<u;)a.cubicCurveTo(n+n-r,o+o-i,r=e[p++],i=e[p++],n=e[p++],o=e[p++]);break;case"s":for(c();p<u;)a.cubicCurveTo(n+n-r,o+o-i,r=n+e[p++],i=o+e[p++],n+=e[p++],o+=e[p++]);break;case"Q":for(;p<u;)a.quadraticCurveTo(r=e[p++],i=e[p++],n=e[p++],o=e[p++]);break;case"q":for(;p<u;)a.quadraticCurveTo(r=n+e[p++],i=o+e[p++],n+=e[p++],o+=e[p++]);break;case"T":for(l();p<u;)a.quadraticCurveTo(r=n+n-r,i=o+o-i,n=e[p++],o=e[p++]);break;case"t":for(l();p<u;)a.quadraticCurveTo(r=n+n-r,i=o+o-i,n+=e[p++],o+=e[p++]);break;case"A":for(;p<u;)a.arcTo(e[p++],e[p++],e[p++]*Math.PI/180,e[p++],e[p++],n=e[p++],o=e[p++]);break;case"a":for(;p<u;)a.arcTo(e[p++],e[p++],e[p++]*Math.PI/180,e[p++],e[p++],n+=e[p++],o+=e[p++]);break;case"Z":case"z":a.closePath();break;case"H":for(;p<u;)a.lineTo(n=e[p++],o);break;case"h":for(;p<u;)a.lineTo(n+=e[p++],o);break;case"V":for(;p<u;)a.lineTo(n,o=e[p++]);break;case"v":for(;p<u;)a.lineTo(n,o+=e[p++])}s=t.command})},t.prototype.toString=function(){for(var t=this.commands,e=this.params,n=t.length,o=[],r=0,i=0;r<n;r++)switch(t[r]){case"M":o.push("M"+e[i++]+","+e[i++]);break;case"L":o.push("L"+e[i++]+","+e[i++]);break;case"C":o.push("C"+e[i++]+","+e[i++]+" "+e[i++]+","+e[i++]+" "+e[i++]+","+e[i++]);break;case"Z":o.push("Z")}return o.join("")},t.prototype.toPrettyString=function(){return t.prettifySvgPath(this.toString())},t.prototype.toSvg=function(){return t.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+t.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},t.prototype.toDebugSvg=function(){var e=t.prettifySvgPath(this.toString());return t.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+t.xmlns+'">\n    <path d="'+e+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},t.prototype.toCubicPaths=function(){var t,e,n,o,r,i=[],s=this.params,a=0;return this.commands.forEach(function(l){switch(l){case"M":t=[e=o=s[a++],n=r=s[a++]],i.push(t);break;case"L":var c=s[a++],u=s[a++];t.push((o+o+c)/3,(r+r+u)/3,(o+c+c)/3,(r+u+u)/3,o=c,r=u);break;case"C":t.push(s[a++],s[a++],s[a++],s[a++],o=s[a++],r=s[a++]);break;case"Z":t.push((o+o+e)/3,(r+r+n)/3,(o+e+e)/3,(r+n+n)/3,o=e,r=n)}}),i},t.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},t.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,t.matchParamsRe=/-?[0-9]*\.?\d+/g,t.quadraticCommandRe=/[QqTt]/,t.cubicCommandRe=/[CcSs]/,t.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',t.xmlns="http://www.w3.org/2000/svg",t}(),__extends$2H=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$w=function(){return(__assign$w=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$1j=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__values$k=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Group$1=function(t){function e(e){var n,o,r,i=t.call(this)||this;return i.opts=e,i.clipPath=new Path2D$1,i.opacity=1,i.isContainerNode=!0,void 0!==(null===(n=i.opts)||void 0===n?void 0:n.zIndex)&&(i.zIndex=i.opts.zIndex),(null===(o=i.opts)||void 0===o?void 0:o.optimiseDirtyTracking)&&(i.visibleChildren={},i.dirtyChildren={}),i.name=null===(r=i.opts)||void 0===r?void 0:r.name,i}return __extends$2H(e,t),e.prototype.opacityChanged=function(){this.layer&&(this.layer.opacity=this.opacity)},e.prototype.zIndexChanged=function(){var t;this.layer&&(null===(t=this._scene)||void 0===t||t.moveLayer(this.layer,this.zIndex))},e.prototype.append=function(e){var n,o;if(t.prototype.append.call(this,e),this.dirtyChildren){e=e instanceof Array?e:[e];try{for(var r=__values$k(e),i=r.next();!i.done;i=r.next()){var s=i.value;this.dirtyChildren[s.id]=s}}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}}},e.prototype._setScene=function(e){var n;if(this._scene&&this.layer&&(this._scene.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(t.prototype._setScene.call(this,e),e&&(null===(n=this.opts)||void 0===n?void 0:n.layer)){var o=this.opts||{};this.layer=e.addLayer({zIndex:o.zIndex,name:o.name})}},e.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},e.prototype.markDirty=function(e,n){void 0===n&&(n=RedrawType.TRIVIAL),t.prototype.markDirty.call(this,e,n,n<=RedrawType.MINOR?RedrawType.TRIVIAL:n),e!==this&&this.dirtyChildren&&(this.dirtyChildren[e.id]=e)},e.prototype.markClean=function(e){var n,o;this.syncChildVisibility();var r=this.dirtyChildren,i=void 0===r?{}:r;try{for(var s=__values$k(Object.keys(i)),a=s.next();!a.done;a=s.next())delete i[a.value]}catch(l){n={error:l}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}t.prototype.markClean.call(this,e)},e.prototype.containsPoint=function(t,e){return!0},e.prototype.computeBBox=function(){var t=1/0,n=-1/0,o=1/0,r=-1/0;return this.computeTransformMatrix(),this.children.forEach(function(i){if(i.visible){var s=i.computeBBox();if(s){if(!(i instanceof e)){i.computeTransformMatrix();for(var a=Matrix$1.flyweight(i.matrix),l=i.parent;l;)a.preMultiplySelf(l.matrix),l=l.parent;a.transformBBox(s,0,s)}var c=s.x,u=s.y;c<t&&(t=c),u<o&&(o=u),c+s.width>n&&(n=c+s.width),u+s.height>r&&(r=u+s.height)}}}),new BBox$1(t,o,n-t,r-o)},e.prototype.render=function(t){var e;this.layer&&(null===(e=this.opts)||void 0===e?void 0:e.optimiseDirtyTracking)?this.optimisedRender(t):this.basicRender(t)},e.prototype.basicRender=function(e){var n,o,r=this.opts,i=(void 0===r?{}:r).name,s=void 0===i?void 0:i,a=this._debug,l=(void 0===a?{}:a).consoleLog,c=void 0!==l&&l,u=this,p=u.dirtyZIndex,d=u.clipPath,h=u.layer,f=u.children,g=e.ctx,m=e.forceRender,y=e.clipBBox,_=e.stats,v=u.dirty>=RedrawType.MINOR||p||e.resized,C=v||f.some(function(t){return t.dirty>=RedrawType.TRIVIAL});if(s&&c&&console.log({name:s,group:this,isDirty:v,isChildDirty:C,renderCtx:e,forceRender:m}),h&&(m=!1),!v&&!C&&!m){if(s&&c&&_){var E=this.nodeCount;console.log({name:s,result:"skipping",renderCtx:e,counts:E,group:this})}return h&&_&&(_.layersSkipped++,_.nodesSkipped+=this.nodeCount.count),void t.prototype.markClean.call(this,{recursive:!1})}var w=this.visible;if(h){if((g=h.context).save(),g.setTransform(e.ctx.getTransform()),m=!0,h.clear(),y){var O=y.width,b=y.height,S=y.x,P=y.y;c&&console.log({name:s,clipBBox:y,ctxTransform:g.getTransform(),renderCtx:e,group:this}),d.clear(),d.rect(S,P,O,b),d.draw(g),g.clip()}}else g.globalAlpha*=this.opacity;this.computeTransformMatrix(),this.matrix.toContext(g),y=y?this.matrix.inverse().transformBBox(y):void 0,p&&(this.sortChildren(),m=!0);var D=m!==e.forceRender||y!==e.clipBBox||g!==e.ctx?__assign$w(__assign$w({},e),{ctx:g,forceRender:m,clipBBox:y}):e,T=0;try{for(var R=__values$k(f),A=R.next();!A.done;A=R.next()){var M=A.value;M.visible&&w?m||M.dirty!==RedrawType.NONE?(g.save(),M.render(D),g.restore()):_&&(T+=M.nodeCount.count):(M.markClean(),_&&(T+=M.nodeCount.count))}}catch(x){n={error:x}}finally{try{A&&!A.done&&(o=R.return)&&o.call(R)}finally{if(n)throw n.error}}_&&(_.nodesSkipped+=T),t.prototype.render.call(this,e),h&&(_&&_.layersRendered++,g.restore(),h.snapshot()),s&&c&&_&&(E=this.nodeCount,console.log({name:s,result:"rendered",skipped:T,renderCtx:e,counts:E,group:this}))},e.prototype.optimisedRender=function(e){var n,o,r,i,s=this._debug,a=(void 0===s?{}:s).consoleLog,l=void 0!==a&&a,c=this,u=c.name,p=c.dirtyZIndex,d=c.clipPath,h=c.layer,f=c.dirtyChildren,g=void 0===f?{}:f,m=c.visibleChildren,y=void 0===m?{}:m,_=c.visible,v=e.ctx,C=e.clipBBox,E=e.stats;if(h){var w=c.dirty>=RedrawType.MINOR||p||e.resized,O=Object.keys(g).length>0;u&&l&&console.log({name:u,group:this,isDirty:w,isChildDirty:O,renderCtx:e});var b=!1;if(!w&&!O){if(u&&l&&E){var S=this.nodeCount;console.log({name:u,result:"skipping",renderCtx:e,counts:S,group:this})}return E&&(E.layersSkipped++,E.nodesSkipped+=this.nodeCount.count),void t.prototype.markClean.call(this,{recursive:!1})}if((v=h.context).save(),v.setTransform(e.ctx.getTransform()),b=!0,h.clear(),C){var P=C.width,D=C.height,T=C.x,R=C.y;l&&console.log({name:u,clipBBox:C,ctxTransform:v.getTransform(),renderCtx:e,group:this}),d.clear(),d.rect(T,R,P,D),d.draw(v),v.clip()}this.syncChildVisibility(),this.computeTransformMatrix(),this.matrix.toContext(v),C=C?this.matrix.inverse().transformBBox(C):void 0,p&&(this.sortChildren(),b=!0);var A=b!==e.forceRender||C!==e.clipBBox||v!==e.ctx?__assign$w(__assign$w({},e),{ctx:v,forceRender:b,clipBBox:C}):e;l&&console.log({name:u,visibleChildren:y,dirtyChildren:g});var M=0;if(_)try{for(var x=__values$k(Object.values(y)),I=x.next();!I.done;I=x.next()){var L=I.value;b||L.dirty!==RedrawType.NONE?(v.save(),L.render(A),v.restore()):E&&(M+=L.nodeCount.count)}}catch(k){n={error:k}}finally{try{I&&!I.done&&(o=x.return)&&o.call(x)}finally{if(n)throw n.error}}this.markClean({recursive:!1});try{for(var F=__values$k(Object.values(g)),N=F.next();!N.done;N=F.next())(L=N.value).markClean(),delete g[L.id]}catch(G){r={error:G}}finally{try{N&&!N.done&&(i=F.return)&&i.call(F)}finally{if(r)throw r.error}}E&&(E.nodesSkipped+=M),E&&E.layersRendered++,v.restore(),h.snapshot(),u&&l&&E&&(S=this.nodeCount,console.log({name:u,result:"rendered",skipped:M,renderCtx:e,counts:S,group:this}))}},e.prototype.syncChildVisibility=function(){var t,e,n=this.dirtyChildren,o=this.visibleChildren;if(n&&o)try{for(var r=__values$k(Object.values(n)),i=r.next();!i.done;i=r.next()){var s=i.value;!s.visible&&o[s.id]?delete o[s.id]:s.visible&&!o[s.id]&&(o[s.id]=s)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.sortChildren=function(){this.dirtyZIndex=!1,this.children.sort(function(t,e){var n=t.zIndex-e.zIndex;return 0!==n?n:t.id<e.id?-1:t.id>e.id?1:0})},e.className="Group",__decorate$1j([SceneChangeDetection({convertor:function(t){return Math.min(1,Math.max(0,t))},changeCb:function(t){return t.opacityChanged()}})],e.prototype,"opacity",void 0),e}(Node$1),__values$j=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EnterNode$1=function(){function t(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return t.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!Node$1.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},t.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},t}(),Selection$1=function(){function t(t,e){this.groups=t,this.parents=e}return t.select=function(e){return new t([["function"==typeof e?e():e]],[void 0])},t.selectAll=function(e){return new t([null==e?[]:e],[void 0])},t.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},t.prototype.appendFn=function(t){return this.select(function(e,n,o,r){return e.appendChild(t(e,n,o,r))})},t.prototype.select=function(e){for(var n=this.groups,o=n.length,r=[],i=0;i<o;i++)for(var s=n[i],a=s.length,l=r[i]=new Array(a),c=0;c<a;c++){var u=s[c];if(u){var p=e(u,u.datum,c,s);p&&(p.datum=u.datum),l[c]=p}}return new t(r,this.parents)},t.prototype.selectByClass=function(t){return this.select(function(e){if(Node$1.isNode(e))for(var n=e.children,o=n.length,r=0;r<o;r++){var i=n[r];if(i instanceof t)return i}})},t.prototype.selectByTag=function(t){return this.select(function(e){if(Node$1.isNode(e))for(var n=e.children,o=n.length,r=0;r<o;r++){var i=n[r];if(i.tag===t)return i}})},t.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var n=[];if(Node$1.isNode(e))for(var o=e.children,r=o.length,i=0;i<r;i++){var s=o[i];s instanceof t&&n.push(s)}return n})},t.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var n=[];if(Node$1.isNode(e))for(var o=e.children,r=o.length,i=0;i<r;i++){var s=o[i];s.tag===t&&n.push(s)}return n})},t.prototype.selectNone=function(){return[]},t.prototype.selectAll=function(e){e||(e=this.selectNone);for(var n=[],o=[],r=this.groups,i=r.length,s=0;s<i;s++)for(var a=r[s],l=a.length,c=0;c<l;c++){var u=a[c];u&&(n.push(e(u,u.datum,c,a)),o.push(u))}return new t(n,o)},t.prototype.each=function(t){var e,n,o,r;try{for(var i=__values$j(this.groups),s=i.next();!s.done;s=i.next()){var a=s.value,l=0;try{for(var c=(o=void 0,__values$j(a)),u=c.next();!u.done;u=c.next()){var p=u.value;p&&t(p,p.datum,l,a),l++}}catch(d){o={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this},t.prototype.remove=function(){return this.each(function(t){if(Node$1.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},t.prototype.merge=function(e){for(var n=this.groups,o=e.groups,r=n.length,i=Math.min(r,o.length),s=new Array(r),a=0;a<i;a++)for(var l=n[a],c=o[a],u=l.length,p=s[a]=new Array(u),d=0;d<u;d++)p[d]=l[d]||c[d]||void 0;for(;a<r;a++)s[a]=n[a];return new t(s,this.parents)},t.prototype.node=function(){for(var t=this.groups,e=t.length,n=0;n<e;n++)for(var o=t[n],r=o.length,i=0;i<r;i++){var s=o[i];if(s)return s}return null},t.prototype.attr=function(t,e){return this.each(function(n){n[t]=e}),this},t.prototype.attrFn=function(t,e){return this.each(function(n,o,r,i){n[t]=e(n,o,r,i)}),this},t.prototype.call=function(t){return t(this),this},Object.defineProperty(t.prototype,"size",{get:function(){var t,e,n,o,r=0;try{for(var i=__values$j(this.groups),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var l=(n=void 0,__values$j(a)),c=l.next();!c.done;c=l.next())c.value&&r++}catch(u){n={error:u}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var t,e,n,o,r=new Array(this.size),i=0;try{for(var s=__values$j(this.groups),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var c=(n=void 0,__values$j(l)),u=c.next();!u.done;u=c.next()){var p=u.value;p&&(r[i++]=p.datum)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enter",{get:function(){return new t(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exit",{get:function(){return new t(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),t.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(t.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),t.prototype.setData=function(e,n){if("function"!=typeof e){var o=e;e=function(){return o}}for(var r=this.groups,i=this.parents,s=r.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;u++){var p=r[u],d=i[u];if(!d)throw new Error("Group #"+u+" has no parent: "+p);var h=p.length,f=e(d,d.datum,u,i),g=f.length,m=l[u]=new Array(g),y=a[u]=new Array(g),_=c[u]=new Array(h);n?this.bindKey(d,p,m,y,_,f,n):this.bindIndex(d,p,m,y,_,f);for(var v=0,C=0;v<g;v++){var E=m[v];if(E){v>=C&&(C=v+1);for(var w=void 0;!(w=y[C])&&C<g;)C++;E.next=w||null}}}var O=new t(a,i);return O.enterGroups=l,O.exitGroups=c,O},t.prototype.bindIndex=function(t,e,n,o,r,i){for(var s=e.length,a=i.length,l=0;l<a;l++)(c=e[l])?(c.datum=i[l],o[l]=c):n[l]=new EnterNode$1(t,i[l]);for(;l<s;l++){var c;(c=e[l])&&(r[l]=c)}},t.prototype.bindKey=function(e,n,o,r,i,s,a){for(var l=n.length,c=s.length,u=new Array(l),p={},d=0;d<l;d++)(f=n[d])&&((h=u[d]=t.keyPrefix+a(f,f.datum,d,n))in p?i[d]=f:p[h]=f);for(d=0;d<c;d++){var h;(f=p[h=t.keyPrefix+a(e,s[d],d,s)])?(r[d]=f,f.datum=s[d],p[h]=void 0):o[d]=new EnterNode$1(e,s[d])}for(d=0;d<l;d++){var f;(f=n[d])&&p[u[d]]===f&&(i[d]=f)}},t.keyPrefix="$",t}(),__extends$2G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1i=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Line$1=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return __extends$2G(e,t),e.prototype.computeBBox=function(){return new BBox$1(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,o,r=e.ctx,i=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){this.computeTransformMatrix(),this.matrix.toContext(r);var s=this.x1,a=this.y1,l=this.x2,c=this.y2;if(s===l){var u=Math.round(s)+Math.floor(this.strokeWidth)%2/2;s=u,l=u}else if(a===c){var p=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=p,c=p}r.beginPath(),r.moveTo(s,a),r.lineTo(l,c),this.fillStroke(r),null===(n=this.fillShadow)||void 0===n||n.markClean(),null===(o=this.strokeShadow)||void 0===o||o.markClean(),t.prototype.render.call(this,e)}else i&&(i.nodesSkipped+=this.nodeCount.count)},e.className="Line",e.defaultStyles=chainObjects$1(Shape$1.defaultStyles,{fill:void 0,strokeWidth:1}),__decorate$1i([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x1",void 0),__decorate$1i([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y1",void 0),__decorate$1i([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x2",void 0),__decorate$1i([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y2",void 0),e}(Shape$1),__extends$2F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1h=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function ScenePathChangeDetection(t){var e=t||{},n=e.redraw;return SceneChangeDetection({redraw:void 0===n?RedrawType.MAJOR:n,type:"path",convertor:e.convertor,changeCb:e.changeCb})}var Path$1=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new Path2D$1,e._dirtyPath=!0,e._svgPath="",e}return __extends$2F(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,RedrawType.MAJOR))},enumerable:!0,configurable:!0}),e.prototype.checkPathDirty=function(){var t,e,n,o;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!=(e=null===(t=this.fillShadow)||void 0===t?void 0:t.isDirty())&&e||null!=(o=null===(n=this.strokeShadow)||void 0===n?void 0:n.isDirty())&&o)},Object.defineProperty(e.prototype,"svgPath",{get:function(){return this._svgPath},set:function(t){this._svgPath!==t&&(this._svgPath=t,this.path.setFromString(t),this.markDirty(this,RedrawType.MAJOR))},enumerable:!0,configurable:!0}),e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},e.prototype.isDirtyPath=function(){},e.prototype.updatePath=function(){},e.prototype.render=function(e){var n,o,r,i=e.ctx,s=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){if(this.computeTransformMatrix(),this.matrix.toContext(i),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(i.save(),"normal"===this.clipMode&&(this.clipPath.draw(i),i.clip()),this.path.draw(i),this.fillStroke(i),"punch-out"===this.clipMode){this.clipPath.draw(i),i.clip();var a=null!=(n=this.computeBBox())?n:{},l=a.x,c=a.y,u=a.width,p=a.height;i.clearRect(void 0===l?-1e4:l,void 0===c?-1e4:c,void 0===u?2e4:u,void 0===p?2e4:p)}i.restore()}else this.path.draw(i),this.fillStroke(i);null===(o=this.fillShadow)||void 0===o||o.markClean(),null===(r=this.strokeShadow)||void 0===r||r.markClean(),t.prototype.render.call(this,e)}else s&&(s.nodesSkipped+=this.nodeCount.count)},e.className="Path",__decorate$1h([ScenePathChangeDetection()],e.prototype,"clipPath",void 0),__decorate$1h([ScenePathChangeDetection()],e.prototype,"clipMode",void 0),e}(Shape$1),twoPi=2*Math.PI;function normalizeAngle360(t){return t%=twoPi,(t+=twoPi)%twoPi}function normalizeAngle360Inclusive(t){return t%=twoPi,(t+=twoPi)!==twoPi&&(t%=twoPi),t}function normalizeAngle180(t){return(t%=twoPi)<-Math.PI?t+=twoPi:t>=Math.PI&&(t-=twoPi),t}function toRadians(t){return t/180*Math.PI}function isEqual(t,e,n){return void 0===n&&(n=1e-10),Math.abs(t-e)<n}function toFixed(t,e){void 0===e&&(e=2);var n=Math.floor(Math.log(Math.abs(t))/Math.LN10);return n>=0||!isFinite(n)?t.toFixed(e):t.toFixed(Math.abs(n)-1+e)}function mod(t,e){var n=t%e;return n>=0?n:n+e}var __extends$2E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1g=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ArcType=(()=>(function(t){t[t.Open=0]="Open",t[t.Chord=1]="Chord",t[t.Round=2]="Round"}(ArcType||(ArcType={})),ArcType))(),Arc=function(t){function e(){var e=t.call(this)||this;return e.centerX=0,e.centerY=0,e.radiusX=10,e.radiusY=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=ArcType.Open,e.restoreOwnStyles(),e}return __extends$2E(e,t),Object.defineProperty(e.prototype,"fullPie",{get:function(){return isEqual(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle))},enumerable:!0,configurable:!0}),e.prototype.updatePath=function(){var t=this.path;t.clear(),t.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===ArcType.Chord?t.closePath():this.type!==ArcType.Round||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())},e.prototype.computeBBox=function(){return new BBox$1(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),o=this.computeBBox();return this.type!==ArcType.Open&&o.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)},e.className="Arc",e.defaultStyles=chainObjects$1(Shape$1.defaultStyles,{lineWidth:1,fillStyle:null}),__decorate$1g([ScenePathChangeDetection()],e.prototype,"centerX",void 0),__decorate$1g([ScenePathChangeDetection()],e.prototype,"centerY",void 0),__decorate$1g([ScenePathChangeDetection()],e.prototype,"radiusX",void 0),__decorate$1g([ScenePathChangeDetection()],e.prototype,"radiusY",void 0),__decorate$1g([ScenePathChangeDetection()],e.prototype,"startAngle",void 0),__decorate$1g([ScenePathChangeDetection()],e.prototype,"endAngle",void 0),__decorate$1g([ScenePathChangeDetection()],e.prototype,"counterClockwise",void 0),__decorate$1g([ScenePathChangeDetection()],e.prototype,"type",void 0),e}(Path$1),doOnceFlags$1={};function doOnce$1(t,e){doOnceFlags$1[e]||(t(),doOnceFlags$1[e]=!0)}function Validate(t){return function(e,n){var o="__"+n;e[n]||Object.defineProperty(e,n,{set:function(r){var i,s;t(r)?this[o]=r:console.warn("AG Charts - Property ["+(null!=(s=null===(i=e.constructor)||void 0===i?void 0:i.name)?s:e.className)+"."+n+"] cannot be set to ["+r+"], ignoring.")},get:function(){return this[o]},enumerable:!0,configurable:!1})}}var BOOLEAN=function(t){return!0===t||!1===t},OPT_BOOLEAN=function(t){return void 0===t||!0===t||!1===t},STRING=function(t){return"string"==typeof t},OPT_STRING=function(t){return void 0===t||"string"==typeof t};function OPT_NUMBER(t,e){return function(n){return void 0===n||"number"==typeof n&&n>=(null!=t?t:-1/0)&&n<=(null!=e?e:1/0)}}function NUMBER(t,e){return function(n){return"number"==typeof n&&n>=(null!=t?t:-1/0)&&n<=(null!=e?e:1/0)}}var FONT_WEIGHTS=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],OPT_FONT_STYLE=function(t){return void 0===t||"normal"===t||"italic"===t||"oblique"===t},OPT_FONT_WEIGHT=function(t){return void 0===t||FONT_WEIGHTS.includes(t)};function Deprecated(t,e){var n=!1,o=(null!=e?e:{}).default,r=void 0===o?void 0:o;return function(e,o){var i="__"+o;e[o]||Object.defineProperty(e,o,{set:function(s){var a,l;if(s!==r&&!n){var c=["AG Charts - Property ["+(l=null===(a=e.constructor)||void 0===a?void 0:a.name,(null!=l?l:e.className)+".")+o+"] is deprecated.",t].filter(function(t){return null!=t}).join(" ");console.warn(c),n=!0}this[i]=s},get:function(){return this[i]},enumerable:!0,configurable:!1})}}var __decorate$1f=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$C=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__values$i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tags=(()=>(function(t){t[t.Tick=0]="Tick",t[t.GridLine=1]="GridLine"}(Tags||(Tags={})),Tags))(),AxisTick=function(){function t(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0}return __decorate$1f([Validate(NUMBER(0))],t.prototype,"width",void 0),__decorate$1f([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1f([Validate(OPT_STRING)],t.prototype,"color",void 0),t}(),AxisLabel=function(){function t(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.onFormatChange=void 0}return Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){this._format!==t&&(this._format=t,this.onFormatChange&&this.onFormatChange(t))},enumerable:!0,configurable:!0}),__decorate$1f([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1f([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1f([Validate(NUMBER(1))],t.prototype,"fontSize",void 0),__decorate$1f([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1f([Validate(NUMBER(0))],t.prototype,"padding",void 0),__decorate$1f([Validate(STRING)],t.prototype,"color",void 0),__decorate$1f([Validate(OPT_NUMBER(-360,360))],t.prototype,"rotation",void 0),__decorate$1f([Validate(OPT_BOOLEAN)],t.prototype,"autoRotate",void 0),__decorate$1f([Validate(NUMBER(-360,360))],t.prototype,"autoRotateAngle",void 0),__decorate$1f([Validate(BOOLEAN)],t.prototype,"mirrored",void 0),__decorate$1f([Validate(BOOLEAN)],t.prototype,"parallel",void 0),__decorate$1f([Validate(STRING)],t.prototype,"_format",void 0),t}(),Axis=function(){function t(t){this.id=createId$1(this),this.axisGroup=new Group$1({name:this.id+"-axis",layer:!0,zIndex:50}),this.tickLineGroup=this.axisGroup.appendChild(new Group$1),this.titleGroup=this.axisGroup.appendChild(new Group$1),this.tickLineGroupSelection=Selection$1.select(this.tickLineGroup).selectAll(),this.lineNode=this.tickLineGroup.appendChild(new Line$1),this.gridlineGroup=new Group$1({name:this.id+"-gridline",layer:!0,zIndex:0}),this.gridlineGroupSelection=Selection$1.select(this.gridlineGroup).selectAll(),this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new AxisTick,this.label=new AxisLabel,this.translation={x:0,y:0},this.rotation=0,this._labelAutoRotated=!1,this._calculatedTickCount=void 0,this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.scale=t,this.label.onFormatChange=this.onLabelFormatChange.bind(this)}return Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t,this.requestedRange=t.range.slice(),this.onLabelFormatChange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelAutoRotated",{get:function(){return this._labelAutoRotated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calculatedTickCount",{get:function(){var t;return null!=(t=this._calculatedTickCount)?t:this.tick.count},enumerable:!0,configurable:!0}),t.prototype.calculateTickCount=function(t){},t.prototype.getMeta=function(){},t.prototype.updateRange=function(){var t=this,e=t.requestedRange,n=t.visibleRange,o=(e[1]-e[0])/(n[1]-n[0]),r=e[0]-o*n[0];t.scale.range=[r,r+o]},t.prototype.inRange=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),0===this.inRangeEx(t,e,n)},t.prototype.inRangeEx=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var o=this.range,r=Math.min(o[0],o[1]),i=Math.max(o[0],o[1]);return t+e<r-n?-1:t>i+n?1:0},Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=__read$C(t,2),n=e[0],o=e[1];n=Math.max(0,n),o=Math.min(1,o),n=Math.min(n,o),o=Math.max(n,o),this._visibleRange=[n,o],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(t){this.scale.domain=t.slice(),this.onLabelFormatChange(this.label.format)},enumerable:!0,configurable:!0}),t.prototype.onLabelFormatChange=function(t){if(t&&this.scale&&this.scale.tickFormat)try{this.labelFormatter=this.scale.tickFormat(this.calculatedTickCount,t)}catch(e){this.labelFormatter=void 0,doOnce$1(function(){return console.warn("AG Charts - the axis label format string "+t+" is invalid. No formatting will be applied")},"invalid axis label format string "+t)}else this.labelFormatter=void 0},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.titleGroup.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.titleGroup.appendChild(t.node)),this._title=t,this.positionTitle())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridlineGroupSelection=this.gridlineGroupSelection.remove().setData([])),this._gridLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.gridlineGroupSelection=this.gridlineGroupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),t.prototype.update=function(){var t=this,e=this,n=e.axisGroup,o=e.gridlineGroup,r=e.scale,i=e.tick,s=e.label,a=e.gridStyle,l=e.requestedRange,c=Math.min(l[0],l[1]),u=Math.max(l[0],l[1]),p=toRadians(this.rotation),d=s.rotation?normalizeAngle360(toRadians(s.rotation)):0,h=s.parallel,f=0;n.translationX=Math.floor(this.translation.x),n.translationY=Math.floor(this.translation.y),n.rotation=p,o.translationX=Math.floor(this.translation.x),o.translationY=Math.floor(this.translation.y),o.rotation=p;var g=(r.bandwidth||0)/2,m=s.mirrored?1:-1,y=normalizeAngle360(p),_=!d&&y>=0&&y<=Math.PI?-1:1,v=normalizeAngle360(p-Math.PI/2),C=!d&&v>=0&&v<=Math.PI?-1:1,E=this.ticks||r.ticks(this.calculatedTickCount),w=this.tickLineGroupSelection.setData(E);w.exit.remove();var O=w.enter.append(Group$1);O.append(Line$1).each(function(t){return t.tag=Tags.Tick}),O.append(Text$1);var b=w.merge(O),S=this.gridlineGroupSelection.setData(this.gridLength?E:[]);S.exit.remove();var P=S;if(this.gridLength){var D=function(t){return t.tag=Tags.GridLine},T=S.enter.append(Group$1);this.radialGrid?T.append(Arc).each(D):T.append(Line$1).each(D),P=S.merge(T)}var R=!1,A=function(t,e){return Math.round(r.convert(e)+g)},M=function(t){var e=Math.floor(c),n=Math.ceil(u),o=e!==n&&t.translationY>=e&&t.translationY<=n;return R=o||R,o};if(b.attrFn("translationY",A).attrFn("visible",M),P.attrFn("translationY",A).attrFn("visible",M),this.axisGroup.visible=R,this.gridlineGroup.visible=R,!R)return this.tickLineGroupSelection=b,void(this.gridlineGroupSelection=P);this.fractionDigits=E.fractionDigits>=0?E.fractionDigits:0;var x=new Map,I=0,L=!1,F=!1,N=u-c,k=b.selectByClass(Text$1).each(function(e,n,o){if(e.fontStyle=s.fontStyle,e.fontWeight=s.fontWeight,e.fontSize=s.fontSize,e.fontFamily=s.fontFamily,e.fill=s.color,e.text=t.formatTickDatum(n,o),e.visible=e.parent.visible,!0===e.visible){var i=""===e.text||null==e.text;x.set(o,i?null:e.computeBBox()),i||(I++,0===o&&e.translationY===r.range[0]?L=!0:o===E.length-1&&e.translationY===r.range[1]&&(F=!0))}}),G=m*(i.size+s.padding),B=N/I,W=function(t,e){var n,o,r=0,i=!1,s=t.size-1;try{for(var a=__values$i(t.entries()),l=a.next();!l.done;l=a.next()){var c=__read$C(l.value,2),u=c[0],p=c[1];if(null!=p){var d=0===u&&L||u===s&&F?2:1,h=e?p.width/d:p.height/d,f=h<=0?0:h+12;r+=f,f>B&&(i=!0)}}}catch(g){n={error:g}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return{totalLength:r,rotate:i}},V=h,H=W(x,V),U=H.totalLength,$=H.rotate;this._labelAutoRotated=!1,void 0===s.rotation&&!0===s.autoRotate&&$&&(f=normalizeAngle360(toRadians(s.autoRotateAngle)),this._labelAutoRotated=!0),(d||f)&&(V=h?d===Math.PI||f===Math.PI:d===Math.PI/2||d===Math.PI+Math.PI/2||f===Math.PI/2||f===Math.PI+Math.PI/2,U=W(x,V).totalLength);var z=h?_*Math.PI/2:-1===C?Math.PI:0,j=h&&!d?m*_==-1?"hanging":"bottom":"middle",K=d>0&&d<=Math.PI||f>0&&f<=Math.PI?-1:1,Y=h?d||f?m*K==-1?"end":"start":"center":m*C==-1?"end":"start";if(k.each(function(t){""!==t.text&&null!=t.text?(t.textBaseline=j,t.textAlign=Y,t.x=G,t.rotationCenterX=G,t.rotation=z+d+f):t.visible=!1}),U>N){var q=r instanceof ContinuousScale$1,X=Math.floor(N/(U/I)),Z=X>2?Math.ceil(I/X):I,Q=0;k.each(function(e,n,o){!0===e.visible&&(e.visible=!((!q||void 0!==t.tick.count||0!==o&&o!==I-1)&&Q%Z!=0),Q++,e.visible||x.delete(o))})}if(b.selectByTag(Tags.Tick).each(function(t,e,n){t.strokeWidth=i.width,t.stroke=i.color,t.visible=x.has(n)}).attr("x1",m*i.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&a.length){var J=a.length,tt=void 0;if(this.radialGrid){var et=normalizeAngle360Inclusive(toRadians(this.gridLength));tt=P.selectByTag(Tags.GridLine).each(function(t,e,n){var o=Math.round(r.convert(e)+g);t.centerX=0,t.centerY=r.range[0]-o,t.endAngle=et,t.radiusX=o,t.radiusY=o,t.visible=x.has(n)})}else tt=P.selectByTag(Tags.GridLine).each(function(e,n,o){e.x1=0,e.x2=-m*t.gridLength,e.y1=0,e.y2=0,e.visible=Math.abs(e.parent.translationY-r.range[0])>1&&x.has(o)});tt.each(function(t,e,n){var o=a[n%J];t.stroke=o.stroke,t.strokeWidth=i.width,t.lineDash=o.lineDash,t.fill=void 0})}this.tickLineGroupSelection=b,this.gridlineGroupSelection=P;var nt=this.lineNode;nt.x1=0,nt.x2=0,nt.y1=l[0],nt.y2=l[1],nt.strokeWidth=this.line.width,nt.stroke=this.line.color,nt.visible=E.length>0,this.positionTitle()},t.prototype.positionTitle=function(){var t=this.title;if(t){var e=!1;if(t.enabled&&this.lineNode.visible){e=!0;var n=this,o=n.rotation,r=n.requestedRange,i=n.label.mirrored?1:-1,s=normalizeAngle360(o),a=Caption.PADDING,l=t.node,c=-1===i&&s>Math.PI&&s<2*Math.PI?-1:1;l.rotation=c*i*Math.PI/2,l.x=Math.floor(c*i*(r[0]+r[1])/2);var u=this.tickLineGroup.computeBBox(),p=0===o?u.width:u.height;l.y=-1===i?Math.floor(c*(-a-p)):Math.floor(-a-p),l.textBaseline=1===c?"bottom":"top"}t.node.visible=e}},t.prototype.formatTickDatum=function(t,e){var n=this,o=n.label,r=n.labelFormatter,i=n.fractionDigits,s=this.getMeta();return o.formatter?o.formatter({value:i>=0?t:String(t),index:e,fractionDigits:i,formatter:r,axis:s}):r?r(t):"number"==typeof t&&i>=0?t.toFixed(i):String(t)},t.prototype.formatDatum=function(t){return String(t)},t.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},t}(),__extends$2D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$B=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$B(arguments[e]));return t},ChartAxisDirection=(()=>(function(t){t.X="x",t.Y="y"}(ChartAxisDirection||(ChartAxisDirection={})),ChartAxisDirection))();function flipChartAxisDirection(t){return t===ChartAxisDirection.X?ChartAxisDirection.Y:ChartAxisDirection.X}var ChartAxisPosition=(()=>(function(t){t.Top="top",t.Right="right",t.Bottom="bottom",t.Left="left",t.Angle="angle",t.Radius="radius"}(ChartAxisPosition||(ChartAxisPosition={})),ChartAxisPosition))(),ChartAxis=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keys=[],e.direction=ChartAxisDirection.Y,e.boundSeries=[],e._position=ChartAxisPosition.Left,e}return __extends$2D(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),e.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},e.prototype.useCalculatedTickCount=function(){return this.scale instanceof LinearScale$1},e.prototype.calculateTickCount=function(){if(this.useCalculatedTickCount()){var t=this.tick.count,e=__read$B(this.range,2);if(void 0===t){var n=Math.abs(e[1]-e[0]),o=this.calculateTickIntervalEstimate(),r=Math.max(Math.pow(Math.log(n)/Math.log(600),2),.75);this._calculatedTickCount=Math.max(2,Math.floor(n/(o*r)))}else this._calculatedTickCount=void 0}},e.prototype.calculateTickIntervalEstimate=function(){var t,e,n=this,o=n.domain,r=n.label.fontSize,i=1.5*r;if(n.direction===ChartAxisDirection.Y)return 2*r+i;var s=(null===(e=(t=this.scale).ticks)||void 0===e?void 0:e.call(t,10))||[o[0],o[o.length-1]];return Math.max.apply(Math,__spread$h(s.map(function(t){return String(t).length})))*r+i},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){if(this._position!==t)switch(this._position=t,t){case ChartAxisPosition.Top:this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case ChartAxisPosition.Right:this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case ChartAxisPosition.Bottom:this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case ChartAxisPosition.Left:this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),e.prototype.calculateDomain=function(t){var e,n=t.primaryTickCount,o=this.direction,r=this.boundSeries;if(0===r.length&&console.warn("AG Charts - chart series not initialised; check series and axes configuration."),this.linkedTo)this.domain=this.linkedTo.domain;else{var i=[];r.filter(function(t){return t.visible}).forEach(function(t){i.push(t.getDomain(o))});var s=(e=new Array).concat.apply(e,__spread$h(i));n=this.updateDomain(s,"y"===this.direction,n)}return{primaryTickCount:n}},e.prototype.updateDomain=function(t,e,n){return this.domain=t,n},e}(Axis),__extends$2C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$A=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function clamper$1(t){var e,n=t[0],o=t[t.length-1];return n>o&&(e=__read$A([o,n],2),n=e[0],o=e[1]),function(t){return t>=n&&t<=o?t:NaN}}var NumberAxis=function(t){function e(){var e=t.call(this,new LinearScale$1)||this;return e._nice=!0,e._min=NaN,e._max=NaN,e.scale.clamper=clamper$1,e}return __extends$2C(e,t),Object.defineProperty(e.prototype,"nice",{get:function(){return this._nice},set:function(t){this._nice!==t&&(this._nice=t,t&&this.scale.nice&&this.scale.nice("number"==typeof this.calculatedTickCount?this.calculatedTickCount:void 0))},enumerable:!0,configurable:!0}),e.prototype.setDomain=function(t,e){var n=this,o=n.scale,r=n.min,i=n.max;if(t.length>2&&(t=extent$1(t,isContinuous$1,Number)||[0,1]),t=[isNaN(r)?t[0]:r,isNaN(i)?t[1]:i],e){var s=__read$A(calculateNiceSecondaryAxis(t,e),2),a=s[1];return o.domain=s[0],void(this.ticks=a)}o.domain=t,this.onLabelFormatChange(this.label.format),this.scale.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice("number"==typeof this.calculatedTickCount?this.calculatedTickCount:void 0)},Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){this._min!==t&&(this._min=t,isNaN(t)||(this.scale.domain=[t,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){this._max!==t&&(this._max=t,isNaN(t)||(this.scale.domain=[this.scale.domain[0],t]))},enumerable:!0,configurable:!0}),e.prototype.formatDatum=function(t){return"number"==typeof t?t.toFixed(2):(doOnce$1(function(){return console.warn("AG Charts - Data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.")},"number axis config used with Date objects"),String(t))},e.prototype.updateDomain=function(e,n,o){return n?(this.setDomain(e,o),null!=o?o:this.scale.ticks(this.calculatedTickCount).length):t.prototype.updateDomain.call(this,e,n,o)},e.className="NumberAxis",e.type="number",e}(ChartAxis),__read$z=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},BandScale$1=function(){function t(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var n=this.index;t.forEach(function(t){void 0===n.get(t)&&n.set(t,e.push(t)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),t.prototype.ticks=function(){return this._domain},t.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},Object.defineProperty(t.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var t,e=this._domain.length;if(e){var n=__read$z(this._range,2),o=n[0],r=n[1],i=r<o;i&&(o=(t=__read$z([r,o],2))[0],r=t[1]);var s=(r-o)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(s=Math.floor(s)),o+=(r-o-s*(e-this._paddingInner))*this._align,this._bandwidth=s*(1-this._paddingInner),this._round&&(o=Math.round(o),this._bandwidth=Math.round(this._bandwidth));for(var a=[],l=0;l<e;l++)a.push(o+s*l);this.ordinalRange=i?a.reverse():a}},t}(),__extends$2B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$g=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$y(arguments[e]));return t},CategoryAxis=function(t){function e(){var e=t.call(this,new BandScale$1)||this;return e._paddingOverrideEnabled=!1,e}return __extends$2B(e,t),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(t){this.scale.paddingOuter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(t){var e=new Set(t);this.scale.domain=new(Array.bind.apply(Array,__spread$g([void 0],e.values())))},enumerable:!0,configurable:!0}),e.prototype.calculateDomain=function(e){var n=e.primaryTickCount;return this._paddingOverrideEnabled||(this.boundSeries.some(function(t){return["bar","column"].includes(t.type)})?(this.scale.paddingInner=.2,this.scale.paddingOuter=.3):(this.scale.paddingInner=1,this.scale.paddingOuter=0)),t.prototype.calculateDomain.call(this,{primaryTickCount:n})},e.className="CategoryAxis",e.type="category",e}(ChartAxis),TreeNode=function(){function t(t,e,n){void 0===t&&(t=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}return t.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},t.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},t.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},t.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},t.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter(function(e,n){return n!==t.number}):[]},t}();function ticksToTree(t,e){void 0===e&&(e=!0);var n=new TreeNode,o=0;return e&&t.forEach(function(t){return o=Math.max(o,t.labels.length)}),t.forEach(function(t){if(e)for(;t.labels.length<o;)t.labels.unshift("");insertTick(n,t)}),n}function insertTick(t,e){var n=e.labels.slice().reverse(),o=n.length-1;n.forEach(function(e,n){var r=t.children,i=find(r,function(t){return t.label===e}),s=n!==o;if(i&&s)t=i;else{var a=new TreeNode(e,t);a.number=r.length,r.push(a),s&&(t=a)}})}function moveSubtree(t,e,n){var o=n/(e.number-t.number);e.change-=o,e.shift+=n,t.change+=o,e.prelim+=n,e.mod+=n}function ancestor(t,e,n){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:n}function executeShifts(t){var e=t.children;if(e)for(var n=0,o=0,r=e.length-1;r>=0;r--){var i=e[r];i.prelim+=n,i.mod+=n,n+=i.shift+(o+=i.change)}}function apportion(t,e,n){var o=t.getLeftSibling();if(o){for(var r=t,i=t,s=o,a=i.getLeftmostSibling(),l=i.mod,c=r.mod,u=s.mod,p=a.mod;s.nextRight()&&i.nextLeft();){s=s.nextRight(),i=i.nextLeft(),a=a.nextLeft(),(r=r.nextRight()).ancestor=t;var d=s.prelim+u-(i.prelim+l)+n;d>0&&(moveSubtree(ancestor(s,t,e),t,d),l+=d,c+=d),u+=s.mod,l+=i.mod,p+=a.mod,c+=r.mod}s.nextRight()&&!r.nextRight()?(r.thread=s.nextRight(),r.mod+=u-c):(i.nextLeft()&&!a.nextLeft()&&(a.thread=i.nextLeft(),a.mod+=l-p),e=t)}return e}function firstWalk(t,e){var n=t.children;if(n.length){var o=n[0];n.forEach(function(t){firstWalk(t,e),o=apportion(t,o,e)}),executeShifts(t);var r=(n[0].prelim+n[n.length-1].prelim)/2;(i=t.getLeftSibling())?(t.prelim=i.prelim+e,t.mod=t.prelim-r):t.prelim=r}else{var i=t.getLeftSibling();t.prelim=i?i.prelim+e:0}}var Dimensions=function(){function t(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return t.prototype.update=function(t,e){var n=e(t),o=n.x,r=n.y;o>this.right&&(this.right=o),o<this.left&&(this.left=o),r>this.bottom&&(this.bottom=r),r<this.top&&(this.top=r)},t}();function secondWalk(t,e,n){t.x=t.prelim+e,t.y=t.depth,n.update(t),t.children.forEach(function(o){return secondWalk(o,e+t.mod,n)})}function thirdWalk(t){var e=t.children,n=0;e.forEach(function(t){thirdWalk(t),t.children.length?n+=t.leafCount:n++}),t.leafCount=n,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function treeLayout(t){var e=new TreeLayout;return firstWalk(t,1),secondWalk(t,-t.prelim,e),thirdWalk(t),e}var TreeLayout=function(){function t(){this.dimensions=new Dimensions,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return t.prototype.update=function(t){this.dimensions.update(t,function(t){return{x:t.x,y:t.y}}),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},t.prototype.resize=function(t,e,n,o,r){void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!1);var i=this.leafCount-1,s=this.depth,a=this.dimensions,l=1,c=1;t>0&&i&&(l=t/i/((a.right-a.left)/i),r&&(l=-l)),e>0&&s&&(c=e/s/((a.bottom-a.top)/s));var u=new Dimensions;this.nodes.forEach(function(t){t.screenX=t.x*l,t.screenY=t.y*c,u.update(t,function(t){return{x:t.screenX,y:t.screenY}})});var p=-u.left,d=-u.top;this.nodes.forEach(function(t){t.screenX+=p+n,t.screenY+=d+o})},t}(),__extends$2A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$x=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$f=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$x(arguments[e]));return t},GroupedCategoryAxisLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=!1,e}return __extends$2A(e,t),e}(AxisLabel),GroupedCategoryAxis=function(t){function e(){var e=t.call(this,new BandScale$1)||this;e.tickScale=new BandScale$1,e.longestSeparatorLength=0,e.translation={x:0,y:0},e.line={width:1,color:"rgba(195, 195, 195, 1)"},e.label=new GroupedCategoryAxisLabel,e.labelColor="rgba(87, 87, 87, 1)";var n=e.axisGroup,o=e.gridlineGroup,r=e.tickScale,i=e.scale;return i.paddingOuter=.1,i.paddingInner=2*i.paddingOuter,e.requestedRange=i.range.slice(),e.scale=i,r.paddingInner=1,r.paddingOuter=0,e.gridLineSelection=Selection$1.select(o).selectAll(),e.axisLineSelection=Selection$1.select(n).selectAll(),e.separatorSelection=Selection$1.select(n).selectAll(),e.labelSelection=Selection$1.select(n).selectAll(),e}return __extends$2A(e,t),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain},set:function(t){var e=t.filter(function(t,e,n){return n.indexOf(t)===e});this.scale.domain=e;var n=ticksToTree(e);this.tickTreeLayout=treeLayout(n);var o=e.slice();o.push(""),this.tickScale.domain=o,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!0,configurable:!0}),e.prototype.updateRange=function(){var t=this,e=t.requestedRange,n=t.visibleRange,o=(e[1]-e[0])/(n[1]-n[0]),r=e[0]-o*n[0];this.tickScale.range=t.scale.range=[r,r+o],this.resizeTickTree()},e.prototype.resizeTickTree=function(){var t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,n=this.tickTreeLayout,o=this.lineHeight;n&&n.resize(Math.abs(e[1]-e[0]),n.depth*o,(Math.min(e[0],e[1])||0)+(t.bandwidth||0)/2,-n.depth*o,e[1]-e[0]<0)},Object.defineProperty(e.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=t},enumerable:!0,configurable:!0}),e.prototype.calculateDomain=function(t){var e,n=t.primaryTickCount,o=this.direction,r=[],i=void 0;this.boundSeries.filter(function(t){return t.visible}).forEach(function(t){if(o===ChartAxisDirection.X)if(void 0===i){var e=t.getDomain(o);r.push(e),i="number"==typeof e[0]}else i&&r.push(t.getDomain(o));else r.push(t.getDomain(o))});var s=(e=new Array).concat.apply(e,__spread$f(r));return this.domain=extent$1(s,isContinuous$1)||s,{primaryTickCount:n}},e.prototype.update=function(){var t=this,e=this,n=e.axisGroup,o=e.gridlineGroup,r=e.scale,i=e.label,s=e.tickScale,a=e.requestedRange,l=r.range[0],c=r.range[1],u=Math.abs(c-l)/r.domain.length||0,p=i.parallel,d=toRadians(this.rotation),h=Math.abs(Math.cos(d))<1e-8,f=this.label.rotation?normalizeAngle360(toRadians(this.label.rotation)):0;n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=d,o.translationX=this.translation.x,o.translationY=this.translation.y,o.rotation=d;var g=this.title;g&&(g.node.visible=!1);var m=this.lineHeight,y=this.tickTreeLayout,_=r.ticks(),v=y?y.nodes:[],C=!!y&&y.depth>1,E=s.ticks(),w=i.mirrored?1:-1,O=normalizeAngle360(d),b=!f&&O>=0&&O<=Math.PI?-1:1,S=normalizeAngle360(d-Math.PI/2),P=!f&&S>=0&&S<=Math.PI?-1:1,D=this.gridLineSelection.setData(this.gridLength?E:[]);D.exit.remove();var T=D.enter.append(Line$1),R=D.merge(T),A=this.labelSelection.setData(v);A.exit.remove();var M=A.enter.append(Text$1),x=A.merge(M),I=i.formatter,L=new Map,F=0;x.each(function(t,e,n){t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.textBaseline=-1===b?"bottom":"hanging",t.textAlign="center",t.translationX=e.screenY-.25*i.fontSize,t.translationY=e.screenX,0===n?g&&g.enabled&&_.length>0?(t.visible=!0,t.text=g.text,t.fontSize=g.fontSize,t.fontStyle=g.fontStyle,t.fontWeight=g.fontWeight,t.fontFamily=g.fontFamily,t.textBaseline="hanging"):t.visible=!1:(t.text=I?I({value:String(e.label),index:n}):String(e.label),t.visible=e.screenX>=a[0]&&e.screenX<=a[1]);var o=t.computeBBox();L.set(t.id,o),o.width>F&&(F=o.width)});var N=w*i.padding,k=p?b*Math.PI/2:-1===P?Math.PI:0,G=this.label.grid,B=[];x.each(function(e,n,o){if(e.x=N,e.rotationCenterX=N,n.children.length){e.translationX-=F-m+t.label.padding;var r=n.leafCount*u;(i=L.get(e.id))&&i.width>r?e.visible=!1:e.rotation=h?k:-Math.PI/2}else{var i;e.rotation=f,e.textAlign="end",e.textBaseline="middle",(i=L.get(e.id))&&i.height>u&&(e.visible=!1)}if(n.parent&&C){var s=n.children.length?n.screenX-n.leafCount*u/2:n.screenX-u/2;if(n.children.length){var a=-F-2*t.label.padding+n.screenY;B.push({y:s,x1:a+m,x2:a,toString:function(){return String(o)}})}else(n.number!==n.children.length-1||G)&&B.push({y:s,x1:0,x2:-F-2*t.label.padding,toString:function(){return String(o)}})}});var W=0;B.forEach(function(t){return W=Math.min(W,t.x2)}),this.longestSeparatorLength=Math.abs(W),B.push({y:Math.max(l,c),x1:0,x2:W,toString:function(){return String(B.length)}});var V=this.separatorSelection.setData(B);V.exit.remove();var H=V.enter.append(Line$1),U=V.merge(H);this.separatorSelection=U,U.each(function(e,n,o){e.x1=n.x1,e.x2=n.x2,e.y1=n.y,e.y2=n.y,e.visible=n.y>=a[0]-1e-7&&n.y<=a[1]+1e-7,e.stroke=t.tick.color,e.fill=void 0,e.strokeWidth=1}),this.gridLineSelection=R,this.labelSelection=x;for(var $=y?y.depth+1:1,z=[],j=0;j<$;j++)z.push(j);var K=this.axisLineSelection.setData(z);K.exit.remove();var Y=K.enter.append(Line$1),q=K.merge(Y);if(this.axisLineSelection=q,q.each(function(e,n,o){var r=o>0?-F-2*t.label.padding-(o-1)*m:0;e.x1=r,e.x2=r,e.y1=a[0],e.y2=a[1],e.strokeWidth=t.line.width,e.stroke=t.line.color,e.visible=_.length>0&&(0===o||G&&C)}),this.gridLength){var X=this.gridStyle,Z=X.length;R.each(function(e,n,o){var r=Math.round(s.convert(n));e.x1=0,e.x2=-w*t.gridLength,e.y1=r,e.y2=r,e.visible=r>=a[0]&&r<=a[1]&&Math.abs(e.parent.translationY-l)>1;var i=X[o%Z];e.stroke=i.stroke,e.strokeWidth=t.tick.width,e.lineDash=i.lineDash,e.fill=void 0})}},e.className="GroupedCategoryAxis",e.type="groupedCategory",e}(ChartAxis),__extends$2z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),t0$1=new Date,t1$1=new Date,TimeInterval$1=function(){function t(t,e){this._floor=t,this._offset=e}return t.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},t.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},t.prototype.round=function(t){var e=this.floor(t),n=this.ceil(t),o=+t;return o-e.getTime()<n.getTime()-o?e:n},t.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},t.prototype.range=function(t,e,n){void 0===n&&(n=1);var o,r=[];if(t=this.ceil(t),n=Math.floor(n),t>e||n<=0)return r;do{o=new Date(+t),r.push(o),this._offset(t,n),this._floor(t)}while(o<t&&t<e);return r},t.prototype.filter=function(e){var n=this;return new t(function(t){if(t>=t)for(n._floor(t);!e(t);)t.setTime(t.getTime()-1),n._floor(t);return t},function(t,o){if(t>=t)if(o<0)for(;++o<=0;)do{n._offset(t,-1)}while(!e(t));else for(;--o>=0;)do{n._offset(t,1)}while(!e(t));return t})},t}(),CountableTimeInterval$1=function(t){function e(e,n,o,r){var i=t.call(this,e,n)||this;return i._count=o,i._field=r,i}return __extends$2z(e,t),e.prototype.count=function(t,e){return t0$1.setTime(+t),t1$1.setTime(+e),this._floor(t0$1),this._floor(t1$1),Math.floor(this._count(t0$1,t1$1))},e.prototype.every=function(t){var e,n=this;if(t=Math.floor(t),isFinite(t)&&t>0)if(t>1){var o=this._field;e=this.filter(o?function(e){return o(e)%t==0}:function(e){return n.count(0,e)%t==0})}else e=this;return e},e}(TimeInterval$1);function floor$k(t){return t}function offset$k(t,e){t.setTime(t.getTime()+e)}function count$k(t,e){return e.getTime()-t.getTime()}var millisecond$1=new CountableTimeInterval$1(floor$k,offset$k,count$k),durationSecond$1=1e3,durationMinute$1=60*durationSecond$1,durationHour$1=60*durationMinute$1,durationDay$1=24*durationHour$1,durationWeek$1=7*durationDay$1,durationMonth$1=30*durationDay$1,durationYear$1=365*durationDay$1;function floor$j(t){t.setTime(t.getTime()-t.getMilliseconds())}function offset$j(t,e){t.setTime(t.getTime()+e*durationSecond$1)}function count$j(t,e){return(e.getTime()-t.getTime())/durationSecond$1}var second$1=new CountableTimeInterval$1(floor$j,offset$j,count$j);function floor$i(t){t.setTime(t.getTime()-t.getMilliseconds()-t.getSeconds()*durationSecond$1)}function offset$i(t,e){t.setTime(t.getTime()+e*durationMinute$1)}function count$i(t,e){return(e.getTime()-t.getTime())/durationMinute$1}function field$g(t){return t.getMinutes()}var minute$1=new CountableTimeInterval$1(floor$i,offset$i,count$i,field$g);function floor$h(t){t.setTime(t.getTime()-t.getMilliseconds()-t.getSeconds()*durationSecond$1-t.getMinutes()*durationMinute$1)}function offset$h(t,e){t.setTime(t.getTime()+e*durationHour$1)}function count$h(t,e){return(e.getTime()-t.getTime())/durationHour$1}function field$f(t){return t.getHours()}var hour$1=new CountableTimeInterval$1(floor$h,offset$h,count$h,field$f);function floor$g(t){t.setHours(0,0,0,0)}function offset$g(t,e){t.setDate(t.getDate()+e)}function count$g(t,e){var n=e.getTimezoneOffset()-t.getTimezoneOffset();return(e.getTime()-t.getTime()-n*durationMinute$1)/durationDay$1}function field$e(t){return t.getDate()-1}var day$1=new CountableTimeInterval$1(floor$g,offset$g,count$g,field$e);function weekday$3(t){return new CountableTimeInterval$1(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e.getTime()-t.getTime()-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute$1)/durationWeek$1})}var sunday$1=weekday$3(0),monday$1=weekday$3(1),tuesday=weekday$3(2),wednesday=weekday$3(3),thursday$1=weekday$3(4),friday=weekday$3(5),saturday=weekday$3(6);function floor$f(t){t.setDate(1),t.setHours(0,0,0,0)}function offset$f(t,e){t.setMonth(t.getMonth()+e)}function count$f(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}function field$d(t){return t.getMonth()}var month$1=new CountableTimeInterval$1(floor$f,offset$f,count$f,field$d);function floor$e(t){t.setMonth(0,1),t.setHours(0,0,0,0)}function offset$e(t,e){t.setFullYear(t.getFullYear()+e)}function count$e(t,e){return e.getFullYear()-t.getFullYear()}function field$c(t){return t.getFullYear()}var year$1=new CountableTimeInterval$1(floor$e,offset$e,count$e,field$c);function floor$d(t){t.setUTCHours(0,0,0,0)}function offset$d(t,e){t.setUTCDate(t.getUTCDate()+e)}function count$d(t,e){return(e.getTime()-t.getTime())/durationDay$1}function field$b(t){return t.getUTCDate()-1}var utcDay$1=new CountableTimeInterval$1(floor$d,offset$d,count$d,field$b);function floor$c(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}function offset$c(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}function count$c(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}function field$a(t){return t.getUTCFullYear()}var utcYear$1=new CountableTimeInterval$1(floor$c,offset$c,count$c,field$a);function weekday$2(t){return new CountableTimeInterval$1(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e.getTime()-t.getTime())/durationWeek$1})}var utcSunday$1=weekday$2(0),utcMonday$1=weekday$2(1);weekday$2(2),weekday$2(3);var utcThursday$1=weekday$2(4);function localDate$1(t){if(t.y>=0&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate$1(t){if(t.y>=0&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function formatLookup$1(t){for(var e={},n=0,o=t.length;n<o;n++)e[t[n].toLowerCase()]=n;return e}function newYear$1(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}weekday$2(5),weekday$2(6);var percentCharCode$1=37,numberRe$1=/^\s*\d+/,percentRe$1=/^%/,requoteRe$1=/[\\^$*+?|[\]().{}]/g,requote$1=function(t){return t.replace(requoteRe$1,"\\$&")},formatRe$1=function(t){return new RegExp("^(?:"+t.map(requote$1).join("|")+")","i")},pads$1={"-":"",_:" ",0:"0"},locale$1;function pad$1(t,e,n){var o=t<0?"-":"",r=String(o?-t:t),i=r.length;return o+(i<n?new Array(n-i+1).join(e)+r:r)}function formatLocale$2(t){var e=t.dateTime,n=t.date,o=t.time,r=t.periods,i=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=formatRe$1(r),u=formatLookup$1(r),p=formatRe$1(i),d=formatLookup$1(i),h=formatRe$1(s),f=formatLookup$1(s),g=formatRe$1(a),m=formatLookup$1(a),y=formatRe$1(l),_=formatLookup$1(l),v={a:function(t){return s[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:void 0,d:P,e:P,f:function(t,e){return S(t,e)+"000"},H:function(t,e){return pad$1(t.getHours(),e,2)},I:function(t,e){return pad$1(t.getHours()%12||12,e,2)},j:function(t,e){return pad$1(1+day$1.count(year$1.floor(t),t),e,3)},L:S,m:function(t,e){return pad$1(t.getMonth()+1,e,2)},M:function(t,e){return pad$1(t.getMinutes(),e,2)},p:function(t){return r[t.getHours()>=12?1:0]},Q:A,s:M,S:function(t,e){return pad$1(t.getSeconds(),e,2)},u:function(t){var e=t.getDay();return 0===e?7:e},U:function(t,e){return pad$1(sunday$1.count(year$1.floor(t),t),e,2)},V:function(t,e){var n=t.getDay();t=n>=4||0===n?thursday$1.floor(t):thursday$1.ceil(t);var o=year$1.floor(t);return pad$1(thursday$1.count(o,t)+(4===o.getDay()?1:0),e,2)},w:function(t){return t.getDay()},W:function(t,e){return pad$1(monday$1.count(year$1.floor(t),t),e,2)},x:void 0,X:void 0,y:function(t,e){return pad$1(t.getFullYear()%100,e,2)},Y:function(t,e){return pad$1(t.getFullYear()%1e4,e,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad$1(Math.floor(e/60),"0",2)+pad$1(e%60,"0",2)},"%":R},C={a:function(t){return s[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:void 0,d:T,e:T,f:function(t,e){return D(t,e)+"000"},H:function(t,e){return pad$1(t.getUTCHours(),e,2)},I:function(t,e){return pad$1(t.getUTCHours()%12||12,e,2)},j:function(t,e){return pad$1(1+utcDay$1.count(utcYear$1.floor(t),t),e,3)},L:D,m:function(t,e){return pad$1(t.getUTCMonth()+1,e,2)},M:function(t,e){return pad$1(t.getUTCMinutes(),e,2)},p:function(t){return r[t.getUTCHours()>=12?1:0]},Q:A,s:M,S:function(t,e){return pad$1(t.getUTCSeconds(),e,2)},u:function(t){var e=t.getUTCDay();return 0===e?7:e},U:function(t,e){return pad$1(utcSunday$1.count(utcYear$1.floor(t),t),e,2)},V:function(t,e){var n=t.getUTCDay();t=n>=4||0===n?utcThursday$1.floor(t):utcThursday$1.ceil(t);var o=utcYear$1.floor(t);return pad$1(utcThursday$1.count(o,t)+(4===o.getUTCDay()?1:0),e,4)},w:function(t){return t.getUTCDay()},W:function(t,e){return pad$1(utcMonday$1.count(utcYear$1.floor(t),t),e,2)},x:void 0,X:void 0,y:function(t,e){return pad$1(t.getUTCFullYear()%100,e,2)},Y:function(t,e){return pad$1(t.getUTCFullYear()%1e4,e,4)},Z:function(){return"+0000"},"%":R},E={a:function(t,e,n){var o=h.exec(e.slice(n));return o?(t.w=f[o[0].toLowerCase()],n+o[0].length):-1},A:function(t,e,n){var o=p.exec(e.slice(n));return o?(t.w=d[o[0].toLowerCase()],n+o[0].length):-1},b:function(t,e,n){var o=y.exec(e.slice(n));return o?(t.m=_[o[0].toLowerCase()],n+o[0].length):-1},B:function(t,e,n){var o=g.exec(e.slice(n));return o?(t.m=m[o[0].toLowerCase()],n+o[0].length):-1},c:function(t,n,o){return b(t,e,n,o)},d:I,e:I,f:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+6));return o?(t.L=Math.floor(parseFloat(o[0])/1e3),n+o[0].length):-1},H:x,I:x,j:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1},L:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1},m:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+2));return o?(t.m=parseFloat(o[0])-1,n+o[0].length):-1},M:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1},p:function(t,e,n){var o=c.exec(e.slice(n));return o?(t.p=u[o[0].toLowerCase()],n+o[0].length):-1},Q:function(t,e,n){var o=numberRe$1.exec(e.slice(n));return o?(t.Q=+o[0],n+o[0].length):-1},s:function(t,e,n){var o=numberRe$1.exec(e.slice(n));return o?(t.Q=1e3*+o[0],n+o[0].length):-1},S:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1},u:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+1));return o?(t.u=+o[0],n+o[0].length):-1},U:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+2));return o?(t.U=+o[0],n+o[0].length):-1},V:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+2));return o?(t.V=+o[0],n+o[0].length):-1},w:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1},W:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+2));return o?(t.W=+o[0],n+o[0].length):-1},x:function(t,e,o){return b(t,n,e,o)},X:function(t,e,n){return b(t,o,e,n)},y:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1},Y:function(t,e,n){var o=numberRe$1.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1},Z:function(t,e,n){var o=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1},"%":function(t,e,n){var o=percentRe$1.exec(e.slice(n,n+1));return o?n+o[0].length:-1}};function w(t,e){return function(n){var o=newYear$1(1900);if(b(o,t,n+="",0)==n.length){if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return;if("w"in o||(o.w=1),"Z"in o){var r=(i=utcDate$1(newYear$1(o.y))).getUTCDay();i=r>4||0===r?utcMonday$1.ceil(i):utcMonday$1.floor(i),i=utcDay$1.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7}else{var i;r=(i=e(newYear$1(o.y))).getDay(),i=r>4||0===r?monday$1.ceil(i):monday$1.floor(i),i=day$1.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7}}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?utcDate$1(newYear$1(o.y)).getUTCDay():e(newYear$1(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,utcDate$1(o)):e(o)}}}function O(t,e){return function(n){var o=[],r=t.length,i=-1,s=0;for(n instanceof Date||(n=new Date(+n));++i<r;)if(t.charCodeAt(i)===percentCharCode$1){o.push(t.slice(s,i));var a=t.charAt(++i),l=pads$1[a];null!=l?a=t.charAt(++i):l="e"===a?" ":"0";var c=e[a];c&&(a=c(n,l)),o.push(a),s=i+1}return o.push(t.slice(s,i)),o.join("")}}function b(t,e,n,o){for(var r=0,i=e.length,s=n.length;r<i;){if(o>=s)return-1;var a=e.charCodeAt(r++);if(a===percentCharCode$1){var l=e.charAt(r++),c=E[l in pads$1?e.charAt(r++):l];if(!c||(o=c(t,n,o))<0)return-1}else if(a!=n.charCodeAt(o++))return-1}return o}function S(t,e){return pad$1(t.getMilliseconds(),e,3)}function P(t,e){return pad$1(t.getDate(),e,2)}function D(t,e){return pad$1(t.getUTCMilliseconds(),e,3)}function T(t,e){return pad$1(t.getUTCDate(),e,2)}function R(t){return"%"}function A(t){return t.getTime()}function M(t){return Math.floor(t.getTime()/1e3)}function x(t,e,n){var o=numberRe$1.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function I(t,e,n){var o=numberRe$1.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}return v.x=O(n,v),v.X=O(o,v),v.c=O(e,v),C.x=O(n,C),C.X=O(o,C),C.c=O(e,C),{format:function(t){var e=O(t,v);return e.toString=function(){return t},e},parse:function(t){var e=w(t,localDate$1);return e.toString=function(){return t},e},utcFormat:function(t){var e=O(t,C);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t,utcDate$1);return e.toString=function(){return t},e}}}function setDefaultLocale$1(t){return locale$1=formatLocale$2(t)}setDefaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var __extends$2y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},TimeScale$1=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e.year=year$1,e.month=month$1,e.week=sunday$1,e.day=day$1,e.hour=hour$1,e.minute=minute$1,e.second=second$1,e.millisecond=millisecond$1,e.format=locale$1.format,e.tickIntervals=[[e.second,1,durationSecond$1],[e.second,5,5*durationSecond$1],[e.second,15,15*durationSecond$1],[e.second,30,30*durationSecond$1],[e.minute,1,durationMinute$1],[e.minute,5,5*durationMinute$1],[e.minute,15,15*durationMinute$1],[e.minute,30,30*durationMinute$1],[e.hour,1,durationHour$1],[e.hour,3,3*durationHour$1],[e.hour,6,6*durationHour$1],[e.hour,12,12*durationHour$1],[e.day,1,durationDay$1],[e.day,2,2*durationDay$1],[e.week,1,durationWeek$1],[e.month,1,durationMonth$1],[e.month,3,3*durationMonth$1],[e.year,1,durationYear$1]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return __extends$2y(e,t),e.prototype.defaultTickFormat=function(t){return(this.second.floor(t)<t?this.formatMillisecond:this.minute.floor(t)<t?this.formatSecond:this.hour.floor(t)<t?this.formatMinute:this.day.floor(t)<t?this.formatHour:this.month.floor(t)<t?this.week.floor(t)<t?this.formatDay:this.formatWeek:this.year.floor(t)<t?this.formatMonth:this.formatYear)(t)},e.prototype.tickInterval=function(t,e,n,o){var r;if("number"==typeof t){var i=t,s=this.tickIntervals,a=Math.abs(n-e)/i,l=complexBisectRight$1(s,a,function(t){return t[2]});l===s.length?(o=tickStep$1(e/durationYear$1,n/durationYear$1,i),t=this.year):l?(t=(r=__read$w(s[a/s[l-1][2]<s[l][2]/a?l-1:l],2))[0],o=r[1]):(o=Math.max(tickStep$1(e,n,t),1),t=this.millisecond)}return null==o?t:t.every(o)},Object.defineProperty(e.prototype,"domain",{get:function(){return t.prototype.getDomain.call(this).map(function(t){return new Date(t)})},set:function(e){t.prototype.setDomain.call(this,Array.prototype.map.call(e,function(t){return t instanceof Date?+t:+new Date(+t)}))},enumerable:!0,configurable:!0}),e.prototype.invert=function(e){return new Date(t.prototype.invert.call(this,e))},e.prototype.ticks=function(e){void 0===e&&(e=10);var n=t.prototype.getDomain.call(this),o=n[0],r=n[n.length-1],i=r<o;if(i){var s=o;o=r,r=s}var a=this.tickInterval(e,o,r),l=a?a.range(o,r+1):[];return i?l.reverse():l},e.prototype.tickFormat=function(t,e){return null==e?this.defaultTickFormat.bind(this):this.format(e)},e.prototype.nice=function(e){void 0===e&&(e=10);var n=t.prototype.getDomain.call(this),o=this.tickInterval(e,n[0],n[n.length-1]);o&&(this.domain=this._nice(n,o))},e.prototype._nice=function(t,e){var n,o,r=0,i=(t=t.slice()).length-1,s=t[r],a=t[i];return a<s&&(r=(n=__read$w([i,r],2))[0],i=n[1],s=(o=__read$w([a,s],2))[0],a=o[1]),t[r]=e.floor(s),t[i]=e.ceil(a),t},e}(ContinuousScale$1),__extends$2x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),TimeAxis=function(t){function e(){var e=t.call(this,new TimeScale$1)||this;e.datumFormat="%m/%d/%y, %H:%M:%S",e._nice=!0;var n=e.scale;return n.clamp=!0,e.scale=n,e.datumFormatter=n.tickFormat(e.calculatedTickCount,e.datumFormat),e}return __extends$2x(e,t),Object.defineProperty(e.prototype,"nice",{get:function(){return this._nice},set:function(t){this._nice!==t&&(this._nice=t,t&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain},set:function(t){t.length>2&&(t=(extent$1(t,isContinuous$1,Number)||[0,1e3]).map(function(t){return new Date(t)})),this.scale.domain=t,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),e.prototype.onLabelFormatChange=function(e){e?t.prototype.onLabelFormatChange.call(this,e):this.labelFormatter=this.scale.tickFormat(this.calculatedTickCount,void 0)},e.prototype.formatDatum=function(t){return this.datumFormatter(t)},e.className="TimeAxis",e.type="time",e}(ChartAxis),HdpiOffscreenCanvas=function(){function t(t){var e=t.width,n=void 0===e?600:e,o=t.height,r=void 0===o?300:o;this.enabled=!0,this.opacity=1,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,r),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(),this.resize(n,r)}return t.isSupported=function(){return null!=window.OffscreenCanvas},t.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},t.prototype.destroy=function(){this.imageSource.close()},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),t.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(HdpiCanvas$1.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,o=n.canvas,r=n.context,i=n.pixelRatio;o.width=Math.round(t*i),o.height=Math.round(e*i),r.resetTransform(),this._width=t,this._height=e}},t}(),__assign$v=function(){return(__assign$v=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__read$v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$e=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$v(arguments[e]));return t},__values$h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Scene$1=function(){function t(t){var e,n;this.id=createId$1(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1};var o=t.document,r=void 0===o?window.document:o,i=t.mode,s=void 0===i?windowValue("agChartsSceneRenderModel")||"adv-composite":i,a=t.width,l=t.height;this.opts={document:r,mode:s},this.debug.stats=null!=(e=windowValue("agChartsSceneStats"))&&e,this.debug.dirtyTree=null!=(n=windowValue("agChartsSceneDirtyTree"))&&n,this.canvas=new HdpiCanvas$1({document:r,width:a,height:l}),this.ctx=this.canvas.context}return Object.defineProperty(t.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),t.prototype.download=function(t){this.canvas.download(t)},t.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),t.prototype.resize=function(t,e){return t=Math.round(t),e=Math.round(e),!(t===this.width&&e===this.height||t<=0||e<=0||(this.pendingSize=[t,e],this.markDirty(),0))},t.prototype.addLayer=function(t){var e,n=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(n)){var o=t||{},r=o.zIndex,i=void 0===r?this._nextZIndex++:r,s=o.name,a=this.width,l=this.height,c="dom-composite"===n,u="adv-composite"===n&&HdpiOffscreenCanvas.isSupported()?new HdpiOffscreenCanvas({width:a,height:l}):new HdpiCanvas$1({document:this.opts.document,width:a,height:l,domLayer:c,zIndex:i,name:s}),p={id:this._nextLayerId++,name:s,zIndex:i,canvas:u};if(i>=this._nextZIndex&&(this._nextZIndex=i+1),this.layers.push(p),this.sortLayers(),c){var d=this.layers.map(function(t){return t.canvas}).filter(function(t){return t instanceof HdpiCanvas$1}),h=d.findIndex(function(t){return t===u});(null!=(e=d[h-1])?e:this.canvas).element.insertAdjacentElement("afterend",u.element)}return this.debug.consoleLog&&console.log({layers:this.layers}),p.canvas}},t.prototype.removeLayer=function(t){var e=this.layers.findIndex(function(e){return e.canvas===t});e>=0&&(this.layers.splice(e,1),t.destroy(),this.markDirty(),this.debug.consoleLog&&console.log({layers:this.layers}))},t.prototype.moveLayer=function(t,e){var n=this.layers.find(function(e){return e.canvas===t});n&&(n.zIndex=e,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&console.log({layers:this.layers}))},t.prototype.sortLayers=function(){this.layers.sort(function(t,e){var n=t.zIndex-e.zIndex;return 0!==n?n:t.id-e.id})},t.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.markDirty())},enumerable:!0,configurable:!0}),t.prototype.render=function(t){var e,n,o,r=t||{},i=r.debugSplitTimes,s=void 0===i?[performance.now()]:i,a=r.extraDebugStats,l=void 0===a?{}:a,c=this,u=c.canvas,p=c.ctx,d=c.root,h=c.layers,f=c.pendingSize,g=c.opts.mode;if(f&&((e=this.canvas).resize.apply(e,__spread$e(f)),this.layers.forEach(function(t){var e;return(e=t.canvas).resize.apply(e,__spread$e(f))}),this.pendingSize=void 0),!d||d.visible){if(this.dirty){var m={ctx:p,forceRender:!0,resized:!!f};"detailed"===this.debug.stats&&(m.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});var y=!1;if((!d||d.dirty>=RedrawType.TRIVIAL)&&(y=!0,u.clear()),d&&this.debug.dirtyTree){var _=this.buildDirtyTree(d);console.log({dirtyTree:_.dirtyTree,paths:_.paths})}d&&y&&(this.debug.consoleLog&&console.log("before",{redrawType:RedrawType[d.dirty],canvasCleared:y,tree:this.buildTree(d)}),d.visible&&(p.save(),d.render(m),p.restore())),"dom-composite"!==g&&h.length>0&&y&&(p.save(),p.setTransform(1/u.pixelRatio,0,0,1/u.pixelRatio,0,0),h.forEach(function(t){var e=t.canvas,n=e.imageSource;e.enabled&&(p.globalAlpha=e.opacity,p.drawImage(n,0,0))}),p.restore()),this._dirty=!1;var v=performance.now();if(this.debug.stats){var C=s[0];s.push(v);var E=function(t,e){var n=t+e;return t+" / "+n+" ("+Math.round(100*t/n)+"%)"},w=function(t,e){return Math.round(100*(e-t))/100+"ms"},O=m.stats||{},b=O.layersRendered,S=void 0===b?0:b,P=O.layersSkipped,D=void 0===P?0:P,T=O.nodesRendered,R=void 0===T?0:T,A=O.nodesSkipped,M=void 0===A?0:A,x=s.map(function(t,e){return e>0?w(s[e-1],t):null}).filter(function(t){return null!=t}).join(" + "),I=Object.entries(l).map(function(t){var e=__read$v(t,2);return e[0]+": "+e[1]}).join(" ; "),L=[w(C,v)+" ("+x+")",""+I,"detailed"===this.debug.stats?"Layers: "+E(S,D):null,"detailed"===this.debug.stats?"Nodes: "+E(R,M):null].filter(function(t){return null!=t});p.save(),p.fillStyle="white",p.fillRect(0,0,120,10+15*L.length),p.fillStyle="black";var F=0;try{for(var N=__values$h(L),k=N.next();!k.done;k=N.next())p.fillText(k.value,2,10+15*F++)}catch(G){n={error:G}}finally{try{k&&!k.done&&(o=N.return)&&o.call(N)}finally{if(n)throw n.error}}p.restore()}d&&this.debug.consoleLog&&console.log("after",{redrawType:RedrawType[d.dirty],canvasCleared:y,tree:this.buildTree(d)})}}else this._dirty=!1},t.prototype.buildTree=function(t){var e,n=this,o=null!=(e=t instanceof Group$1?t.name:null)?e:t.id;return __assign$v({name:o,node:t,dirty:RedrawType[t.dirty]},t.children.map(function(t){return n.buildTree(t)}).reduce(function(t,e){var n=e.name,o=e.node;return(!o.visible||o.opacity<=0)&&(n="* "+n),t[null!=n?n:"<unknown>"]=e,t},{}))},t.prototype.buildDirtyTree=function(t){var e,n=this;if(t.dirty===RedrawType.NONE)return{dirtyTree:{},paths:[]};var o=t.children.map(function(t){return n.buildDirtyTree(t)}).filter(function(t){return t.paths.length>0}),r=null!=(e=t instanceof Group$1?t.name:null)?e:t.id,i=0===o.length?[r]:o.map(function(t){return t.paths}).reduce(function(t,e){return t.concat(e)},[]).map(function(t){return r+"."+t});return{dirtyTree:__assign$v({name:r,node:t,dirty:RedrawType[t.dirty]},o.map(function(t){return t.dirtyTree}).filter(function(t){return void 0!==t.dirty}).reduce(function(t,e){return t[e.name||"<unknown>"]=e,t},{})),paths:i}},t.className="Scene",t}(),__extends$2w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Padding$1=function(t){function e(e,n,o,r){void 0===e&&(e=0),void 0===n&&(n=e),void 0===o&&(o=e),void 0===r&&(r=n);var i=t.call(this)||this;return i.top=e,i.right=n,i.bottom=o,i.left=r,i}return __extends$2w(e,t),e.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},e}(Observable$1),Gradient=function(){this.stops=[]},__extends$2v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),LinearGradient=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.angle=0,e}return __extends$2v(e,t),e.prototype.createGradient=function(t,e){var n=this.stops,o=this.angle%360*Math.PI/180,r=Math.cos(o),i=Math.sin(o),s=e.width,a=e.height,l=e.x+.5*s,c=e.y+.5*a;if(s>0&&a>0){var u=Math.sqrt(a*a+s*s)*Math.abs(Math.cos(o-Math.atan(a/s)))/2,p=t.createLinearGradient(l+r*u,c+i*u,l-r*u,c-i*u);return n.forEach(function(t){p.addColorStop(t.offset,t.color)}),p}return"black"},e}(Gradient),__extends$2u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},RectSizing=(()=>(function(t){t[t.Content=0]="Content",t[t.Border=1]="Border"}(RectSizing||(RectSizing={})),RectSizing))(),Rect=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.gradient=!1,e.sizing=RectSizing.Content,e.lastUpdatePathStrokeWidth=Shape$1.defaultStyles.strokeWidth,e.effectiveStrokeWidth=Shape$1.defaultStyles.strokeWidth,e}return __extends$2u(e,t),e.prototype.updateGradientInstance=function(){var t=this.fill;if(this.gradient){if(t){var e=new LinearGradient;e.angle=270,e.stops=[{offset:0,color:Color$1.fromString(t).brighter().toString()},{offset:1,color:Color$1.fromString(t).darker().toString()}],this.gradientInstance=e}}else this.gradientInstance=void 0;this.gradientFill=t},e.prototype.isDirtyPath=function(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth&&(this.crisp||this.sizing===RectSizing.Border)},e.prototype.updatePath=function(){var t=this.sizing===RectSizing.Border,e=this.path;e.clear();var n,o=this.x,r=this.y,i=this.width,s=this.height;if(t){var a=i/2,l=s/2;n=Math.min(this.strokeWidth,a,l),o=Math.min(o+n/2,o+a),r=Math.min(r+n/2,r+l),i=Math.max(i-n,0),s=Math.max(s-n,0)}else n=this.strokeWidth;if(this.effectiveStrokeWidth=n,this.lastUpdatePathStrokeWidth=this.strokeWidth,this.crisp&&!t){var c=this.alignment,u=this.align;e.rect(u(c,o),u(c,r),u(c,o,i),u(c,r,s))}else e.rect(o,r,i,s)},e.prototype.computeBBox=function(){var t=this;return new BBox$1(t.x,t.y,t.width,t.height)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.fillStroke=function(t){if(this.scene){var e=this.scene.canvas.pixelRatio||1;if(this.fill){this.fill!==this.gradientFill&&this.updateGradientInstance(),t.fillStyle=this.gradientInstance?this.gradientInstance.createGradient(t,this.computeBBox()):this.fill,t.globalAlpha=this.opacity*this.fillOpacity;var n=this.fillShadow;n&&n.enabled&&(t.shadowColor=n.color,t.shadowOffsetX=n.xOffset*e,t.shadowOffsetY=n.yOffset*e,t.shadowBlur=n.blur*e),t.fill()}if(t.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){t.strokeStyle=this.stroke,t.globalAlpha=this.opacity*this.strokeOpacity,t.lineWidth=this.effectiveStrokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin);var o=this.strokeShadow;o&&o.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*e,t.shadowOffsetY=o.yOffset*e,t.shadowBlur=o.blur*e),t.stroke()}}},e.className="Rect",__decorate$1e([ScenePathChangeDetection()],e.prototype,"x",void 0),__decorate$1e([ScenePathChangeDetection()],e.prototype,"y",void 0),__decorate$1e([ScenePathChangeDetection()],e.prototype,"width",void 0),__decorate$1e([ScenePathChangeDetection()],e.prototype,"height",void 0),__decorate$1e([ScenePathChangeDetection()],e.prototype,"radius",void 0),__decorate$1e([ScenePathChangeDetection()],e.prototype,"crisp",void 0),__decorate$1e([ScenePathChangeDetection({changeCb:function(t){return t.updateGradientInstance()}})],e.prototype,"gradient",void 0),__decorate$1e([ScenePathChangeDetection({changeCb:function(t){return t.updateGradientInstance()}})],e.prototype,"sizing",void 0),e}(Path$1),__extends$2t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1d=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Marker$1=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return __extends$2t(e,t),e.prototype.computeBBox=function(){var t=this,e=t.size,n=e/2;return new BBox$1(t.x-n,t.y-n,e,e)},__decorate$1d([ScenePathChangeDetection()],e.prototype,"x",void 0),__decorate$1d([ScenePathChangeDetection()],e.prototype,"y",void 0),__decorate$1d([ScenePathChangeDetection({convertor:Math.abs})],e.prototype,"size",void 0),e}(Path$1),__extends$2s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Square$1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2s(e,t),e.prototype.updatePath=function(){var t=this,e=t.path,n=t.x,o=t.y,r=this.size/2,i=this.alignment,s=this.align;e.clear(),e.moveTo(s(i,n-r),s(i,o-r)),e.lineTo(s(i,n+r),s(i,o-r)),e.lineTo(s(i,n+r),s(i,o+r)),e.lineTo(s(i,n-r),s(i,o+r)),e.closePath()},e.className="Square",e}(Marker$1),__extends$2r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MarkerLabel=function(t){function e(){var e=t.call(this)||this;e.label=new Text$1,e._marker=new Square$1,e._markerSize=15,e._spacing=8;var n=e.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=HdpiCanvas$1.has.textMetrics?1:0,e.append([e.marker,n]),e.update(),e}return __extends$2r(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.label.text},set:function(t){this.label.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(t){this.label.fontStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(t){this.label.fontWeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(t){this.label.fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(t){this.label.fontFamily=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.label.fill},set:function(t){this.label.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marker",{get:function(){return this._marker},set:function(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerSize",{get:function(){return this._markerSize},set:function(t){this._markerSize!==t&&(this._markerSize=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(t){this.marker.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(t){this.marker.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(t){this.marker.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(t){this.marker.fillOpacity=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(t){this.marker.strokeOpacity=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){this._spacing!==t&&(this._spacing=t,this.update())},enumerable:!0,configurable:!0}),e.prototype.update=function(){var t=this.markerSize;this.marker.size=t,this.label.x=t/2+this.spacing},e.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,t.prototype.render.call(this,e)},e.className="MarkerLabel",e}(Group$1),__extends$2q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Circle$1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2q(e,t),e.prototype.updatePath=function(){var t=this,e=t.x,n=t.y,o=t.path,r=t.size/2;o.clear(),o.cubicArc(e,n,r,r,0,0,2*Math.PI,0),o.closePath()},e.className="Circle",e}(Marker$1),__extends$2p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cross=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2p(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,o=this.size/4.2;n.clear(),n.moveTo(t-=o,e),n.lineTo(t-=o,e-=o),n.lineTo(t+=o,e-=o),n.lineTo(t+=o,e+=o),n.lineTo(t+=o,e-=o),n.lineTo(t+=o,e+=o),n.lineTo(t-=o,e+=o),n.lineTo(t+=o,e+=o),n.lineTo(t-=o,e+=o),n.lineTo(t-=o,e-=o),n.lineTo(t-=o,e+=o),n.lineTo(t-=o,e-=o),n.closePath()},e.className="Cross",e}(Marker$1),__extends$2o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Diamond$1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2o(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,o=this.size/2;n.clear(),n.moveTo(t,e-=o),n.lineTo(t+=o,e+=o),n.lineTo(t-=o,e+=o),n.lineTo(t-=o,e-=o),n.lineTo(t+=o,e-=o),n.closePath()},e.className="Diamond",e}(Marker$1),__extends$2n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Heart=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2n(e,t),e.prototype.rad=function(t){return t/180*Math.PI},e.prototype.updatePath=function(){var t=this,e=t.x,n=t.path,o=t.rad,r=t.size/4,i=this.y+r/2;n.clear(),n.cubicArc(e-r,i-r,r,r,0,o(130),o(330),0),n.cubicArc(e+r,i-r,r,r,0,o(220),o(50),0),n.lineTo(e,i+r),n.closePath()},e.className="Heart",e}(Marker$1),__extends$2m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Plus=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2m(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,o=this.size/3,r=o/2;n.clear(),n.moveTo(t-=r,e-=r),n.lineTo(t,e-=o),n.lineTo(t+=o,e),n.lineTo(t,e+=o),n.lineTo(t+=o,e),n.lineTo(t,e+=o),n.lineTo(t-=o,e),n.lineTo(t,e+=o),n.lineTo(t-=o,e),n.lineTo(t,e-=o),n.lineTo(t-=o,e),n.lineTo(t,e-=o),n.closePath()},e.className="Plus",e}(Marker$1),__extends$2l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Triangle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2l(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,o=1.1*this.size;n.clear(),n.moveTo(t,e-=.48*o),n.lineTo(t+=.5*o,e+=.87*o),n.lineTo(t-=o,e),n.closePath()},e.className="Triangle",e}(Marker$1);function getMarker$1(t){if(void 0===t&&(t=Square$1),"string"==typeof t)switch(t){case"circle":return Circle$1;case"cross":return Cross;case"diamond":return Diamond$1;case"heart":return Heart;case"plus":return Plus;case"triangle":return Triangle;default:return Square$1}return"function"==typeof t?t:Square$1}var __values$g=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LegendOrientation=(()=>(function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(LegendOrientation||(LegendOrientation={})),LegendOrientation))(),LegendPosition=(()=>(function(t){t.Top="top",t.Right="right",t.Bottom="bottom",t.Left="left"}(LegendPosition||(LegendPosition={})),LegendPosition))(),LegendLabel=function(){function t(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return t.prototype.getFont=function(){return getFont$2(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},t}(),LegendMarker=function(){function t(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!0,configurable:!0}),t}(),LegendItem=function(){this.marker=new LegendMarker,this.label=new LegendLabel,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8},NO_OP_LISTENER=function(){},LegendListeners=function(){this.legendItemClick=NO_OP_LISTENER},Legend=function(){function t(){this.id=createId$1(this),this.group=new Group$1({name:"legend",layer:!0,zIndex:300}),this.itemSelection=Selection$1.select(this.group).selectAll(),this.oldSize=[0,0],this.item=new LegendItem,this.listeners=new LegendListeners,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.orientation=LegendOrientation.Vertical,this._position=LegendPosition.Right,this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this.item.marker.parent=this}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.group.visible=t.length>0&&this.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.group.visible=t&&this.data.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){switch(this._position=t,t){case"right":case"left":this.orientation=LegendOrientation.Vertical;break;case"bottom":case"top":this.orientation=LegendOrientation.Horizontal}},enumerable:!0,configurable:!0}),t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.markDirty(this.group,RedrawType.MINOR)},t.prototype.getCharacterWidths=function(t){var e=this.characterWidths;if(e.has(t))return e.get(t);var n={"...":HdpiCanvas$1.getTextSize("...",t).width};return e.set(t,n),n},t.prototype.performLayout=function(t,e){var n=this,o=this.item,r=o.paddingX,i=o.paddingY,s=o.label,a=o.maxWidth,l=o.marker,c=l.size,u=l.padding,p=l.shape,d=o.label,h=d.maxLength,f=void 0===h?1/0:h,g=d.fontStyle,m=d.fontWeight,y=d.fontSize,_=d.fontFamily,v=this.itemSelection.setData(this.data,function(t,e){var n=getMarker$1(p||e.marker.shape);return e.id+"-"+e.itemId+"-"+n.name});v.exit.remove();var C=v.enter.append(MarkerLabel).each(function(t,e){var n=getMarker$1(p||e.marker.shape);t.marker=new n}),E=this.itemSelection=v.merge(C),w=E.size,O=[],b=s.getFont(),S=null!=a?a:.8*t;E.each(function(t,e){var o,r,i=e.label.text;t.markerSize=c,t.spacing=u,t.fontStyle=g,t.fontWeight=m,t.fontSize=y,t.fontFamily=_;var s=i.split(""),a=!1;if(i.length>f&&(i=""+i.substring(0,f),a=!0),c+u+HdpiCanvas$1.getTextSize(i,b).width>S){var l="",p=n.getCharacterWidths(b),d=p["..."];try{for(var h=__values$g(s),v=h.next();!v.done;v=h.next()){var C=v.value;if(p[C]||(p[C]=HdpiCanvas$1.getTextSize(C,b).width),(d+=p[C])>S)break;l+=C}}catch(w){o={error:w}}finally{try{v&&!v.done&&(r=h.return)&&r.call(h)}finally{if(o)throw o.error}}i=l,a=!0}var E=e.itemId||e.id;a?(i+="...",n.truncatedItems.add(E)):n.truncatedItems.delete(E),t.text=i,O.push(t.computeBBox())});var P=O.length&&O[0].height,D=0,T=0,R=0,A=0;switch(t=Math.max(1,t),e=Math.max(1,e),this.orientation){case LegendOrientation.Horizontal:if(!(isFinite(t)&&t>0))return!1;D=0;var M=0;do{var x=0;M=0,T=0,D++;for(var I=0;I<w;)(N=O[I]).width>T&&(T=N.width),++I%D==0&&(x+=T,T=0,M++);I%D!=0&&(x+=T,M++),R=x+(M-1)*r}while(R>t&&M>1);A=P*D+(D-1)*i;break;case LegendOrientation.Vertical:if(!(isFinite(e)&&e>0))return!1;D=2*w;do{D=(D>>1)+D%2,T=0,x=0;var L=0,F=0;for(I=0;I<w;){var N=O[I];F||(L+=N.height),N.width>T&&(T=N.width),++I%D==0&&(x+=T,T=0,F++)}I%D!=0&&(x+=T,F++),R=x+(F-1)*r,A=L+(D-1)*i}while(A>e&&D>1)}var k=(t-R)/2,G=(e-A)/2,B=0,W=0;T=0,E.each(function(t,e,n){t.translationX=Math.floor(k+B),t.translationY=Math.floor(G+W);var o=O[n];o.width>T&&(T=o.width),(n+1)%D==0?(B+=T+r,W=0,T=0):W+=o.height+i}),this.update();var V=this.size,H=this.oldSize;V[0]=R,V[1]=A,V[0]===H[0]&&V[1]===H[1]||(H[0]=V[0],H[1]=V[1])},t.prototype.update=function(){var t=this.item,e=t.marker.strokeWidth,n=t.label.color;this.itemSelection.each(function(t,o){var r=o.marker;t.markerFill=r.fill,t.markerStroke=r.stroke,t.markerStrokeWidth=e,t.markerFillOpacity=r.fillOpacity,t.markerStrokeOpacity=r.strokeOpacity,t.opacity=o.enabled?1:.5,t.color=n})},t.prototype.getDatumForPoint=function(t,e){var n=this.group.pickNode(t,e);if(n&&n.parent)return n.parent.datum},t.className="Legend",t}(),__values$f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SizeMonitor=function(){function t(){}return t.init=function(){var t=this,e=window.ResizeObserver;e?this.resizeObserver=new e(function(e){var n,o;try{for(var r=__values$f(e),i=r.next();!i.done;i=r.next()){var s=i.value,a=s.contentRect,l=a.width,c=a.height;t.checkSize(t.elements.get(s.target),s.target,l,c)}}catch(u){n={error:u}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}}):window.setInterval(function(){t.elements.forEach(function(e,n){t.checkClientSize(n,e)})},100),this.ready=!0},t.checkSize=function(t,e,n,o){t&&(t.size&&n===t.size.width&&o===t.size.height||(t.size={width:n,height:o},t.cb(t.size,e)))},t.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},t.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},t.checkClientSize=function(t,e){this.checkSize(e,t,t.clientWidth?t.clientWidth:0,t.clientHeight?t.clientHeight:0)},t.elements=new Map,t.ready=!1,t}();function circleRectOverlap(t,e,n,o,r,i,s){var a=t-(t<o?o:t>o+i?o+i:t),l=e-(e<r?r:e>r+s?r+s:e);return Math.sqrt(a*a+l*l)<=n}function rectRectOverlap(t,e,n,o,r,i,s,a){return t+n>r&&t<r+s&&e+o>i&&e<i+a}function rectContainsRect(t,e,n,o,r,i,s,a){return r+s<t+n&&r>t&&i>e&&i+a<e+o}function isPointLabelDatum(t){return null!=t&&"object"==typeof t.point&&"number"==typeof t.size&&"object"==typeof t.label}function placeLabels(t,e,n){void 0===n&&(n=5);var o=[];t=t.map(function(t){return t.slice().sort(function(t,e){return e.size-t.size})});for(var r=0;r<t.length;r++){var i=o[r]=[],s=t[r];if(s&&s.length&&s[0].label)for(var a=function(r,a){var l=s[r],c=l.label,u=l.point.x-.5*c.width,p=l.point.y-.5*l.size-c.height-n,d=c.width,h=c.height;return!e||rectContainsRect(e.x,e.y,e.width,e.height,u,p,d,h)?t.some(function(t){return t.some(function(t){return circleRectOverlap(t.point.x,t.point.y,.5*t.size,u,p,d,h)})})||o.some(function(t){return t.some(function(t){return rectRectOverlap(t.x,t.y,t.width,t.height,u,p,d,h)})})?"continue":void i.push({index:r,text:c.text,x:u,y:p,width:d,height:h,datum:l}):"continue"},l=0,c=s.length;l<c;l++)a(l)}return o}function debouncedAnimationFrame(t){var e=0;return{schedule:function(){0===e&&requestAnimationFrame(function(){var n=e;e=0,t({count:n})}),e++}}}function debouncedCallback(t){var e=0;return{schedule:function(){0===e&&setTimeout(function(){var n=e;e=0,t({count:n})},0),e++}}}var Label$1=function(){function t(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return t.prototype.getFont=function(){return getFont$2(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},t}(),__extends$2k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1c=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$d=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$u(arguments[e]));return t},SeriesItemHighlightStyle=function(){this.fill="yellow",this.stroke=void 0,this.strokeWidth=void 0},SeriesHighlightStyle=function(){this.strokeWidth=void 0,this.dimOpacity=void 0},HighlightStyle=function(){function t(){this.fill=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.item=new SeriesItemHighlightStyle,this.series=new SeriesHighlightStyle}return __decorate$1c([Deprecated("Use item.fill instead.")],t.prototype,"fill",void 0),__decorate$1c([Deprecated("Use item.stroke instead.")],t.prototype,"stroke",void 0),__decorate$1c([Deprecated("Use item.strokeWidth instead.")],t.prototype,"strokeWidth",void 0),t}(),SeriesTooltip=function(){this.enabled=!0},Series=function(t){function e(n){var o=(void 0===n?{}:n).seriesGroupUsesLayer,r=void 0===o||o,i=t.call(this)||this;i.id=createId$1(i),i.group=new Group$1,i.directions=[ChartAxisDirection.X,ChartAxisDirection.Y],i.directionKeys={},i.nodeDataRefresh=!0,i.label=new Label$1,i._data=void 0,i._visible=!0,i.showInLegend=!0,i.cursor="default",i.highlightStyle=new HighlightStyle;var s=i.group;return i.seriesGroup=s.appendChild(new Group$1({name:i.id+"-series",layer:r,zIndex:e.SERIES_LAYER_ZINDEX})),i.pickGroup=i.seriesGroup.appendChild(new Group$1),i.highlightGroup=s.appendChild(new Group$1({name:i.id+"-highlight",layer:!0,zIndex:e.SERIES_HIGHLIGHT_LAYER_ZINDEX,optimiseDirtyTracking:!0})),i}return __extends$2k(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.nodeDataRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.visibleChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grouped",{set:function(t){if(!0===t)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!0,configurable:!0}),e.prototype.setColors=function(t,e){},e.prototype.getKeys=function(t){var e=this,n=this.directionKeys,o=n&&n[t],r=[];return o&&o.forEach(function(t){var n=e[t];n&&(Array.isArray(n)?r.push.apply(r,__spread$d(n)):r.push(n))}),r},e.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},e.prototype.visibleChanged=function(){},e.prototype.getOpacity=function(t){var e=this.highlightStyle.series.dimOpacity,n=void 0===e?1:e;if(1===n)return 1;switch(this.isItemIdHighlighted(t)){case"no-highlight":case"highlighted":return 1;case"other-highlighted":return n}},e.prototype.getStrokeWidth=function(t,e){var n=this.highlightStyle.series.strokeWidth;if(void 0===n)return t;switch(this.isItemIdHighlighted(e)){case"highlighted":return n;case"no-highlight":case"other-highlighted":return t}},e.prototype.getZIndex=function(t){var n=e.SERIES_LAYER_ZINDEX;switch(this.isItemIdHighlighted(t)){case"highlighted":return e.SERIES_HIGHLIGHT_LAYER_ZINDEX-2;case"no-highlight":case"other-highlighted":return n}},e.prototype.isItemIdHighlighted=function(t){var e=this.chart,n=void 0===e?{}:e,o=n.highlightedDatum,r=void 0===o?{}:o,i=r.series,s=void 0===i?void 0:i,a=r.itemId,l=void 0===a?void 0:a,c=n.highlightedDatum;return null!=s?s!==this?"other-highlighted":void 0===l?"highlighted":t&&(void 0===c?void 0:c)!==t&&l!==t.itemId?"other-highlighted":"highlighted":"no-highlight"},e.prototype.pickNode=function(t,e){return this.pickGroup.pickNode(t,e)},e.prototype.fireNodeClickEvent=function(t,e){},e.prototype.toggleSeriesItem=function(t,e){this.visible=e,this.nodeDataRefresh=!0},e.prototype.fixNumericExtent=function(t,e){if(!t)return[0,1];var n=__read$u(t,2),o=n[0],r=n[1];if(r=+r,0==(o=+o)&&0===r)return[0,1];if(o===r)if(e instanceof TimeAxis)o-=1,r+=1;else{var i=Math.abs(.01*o);o-=i,r+=i}return isNumber$1(o)&&isNumber$1(r)?[o,r]:[0,1]},e.highlightedZIndex=1e12,e.SERIES_LAYER_ZINDEX=100,e.SERIES_MARKER_LAYER_ZINDEX=110,e.SERIES_HIGHLIGHT_LAYER_ZINDEX=150,e}(Observable$1),__extends$2j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1b=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SeriesMarker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.shape=Circle$1,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return __extends$2j(e,t),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"enabled",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"shape",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"size",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"maxSize",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"domain",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"fill",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"stroke",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"strokeWidth",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"fillOpacity",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"strokeOpacity",void 0),e}(ChangeDetectable),__extends$2i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$1a=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$t=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$c=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$t(arguments[e]));return t},__values$e=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CartesianSeries=function(t){function e(e){var n;void 0===e&&(e={});var o=t.call(this,{seriesGroupUsesLayer:!1})||this;o.highlightSelection=Selection$1.select(o.highlightGroup).selectAll(),o.subGroups=[],o.subGroupId=0,o.seriesItemEnabled=new Map,o.directionKeys=((n={})[ChartAxisDirection.X]=["xKey"],n[ChartAxisDirection.Y]=["yKey"],n);var r=e.pickGroupIncludes,i=e.pathsPerSeries,s=e.features;return o.opts={pickGroupIncludes:void 0===r?["datumNodes"]:r,pathsPerSeries:void 0===i?1:i,features:void 0===s?[]:s},o}return __extends$2i(e,t),e.prototype.checkDomainXY=function(t,e,n,o){return(n&&isContinuous$1(t)||!n&&isDiscrete(t))&&(o&&isContinuous$1(e)||!o&&isDiscrete(e))?[t,e]:void 0},e.prototype.checkDatum=function(t,e){return e&&isContinuous$1(t)?t:e?void 0:isDiscrete(t)?t:String(t)},e.prototype.checkRangeXY=function(t,e,n,o){return!isNaN(t)&&!isNaN(e)&&n.inRange(t)&&o.inRange(e)},e.prototype.update=function(){var t=this,e=t.seriesItemEnabled,n=t.chart,o=(void 0===n?{}:n).highlightedDatum,r=(void 0===o?{}:o).series,i=void 0===r?void 0:r,s=i?i===this:void 0,a=t.visible&&0===e.size||__spread$c(e.values()).some(function(t){return!0===t});this.updateSelections(s,a),this.updateNodes(s,a)},e.prototype.updateSelections=function(t,e){var n=this;this.updateHighlightSelection(t),e&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())&&(this.nodeDataRefresh&&(this.nodeDataRefresh=!1,this.contextNodeData=this.createNodeData(),this.updateSeriesGroups()),this.subGroups.forEach(function(e,o){var r=e.datumSelection,i=e.labelSelection,s=e.markerSelection,a=n.contextNodeData[o],l=a.nodeData,c=a.labelData;n.updatePaths({seriesHighlighted:t,itemId:a.itemId,contextData:a,paths:e.paths,seriesIdx:o}),e.datumSelection=n.updateDatumSelection({nodeData:l,datumSelection:r,seriesIdx:o}),e.labelSelection=n.updateLabelSelection({labelData:c,labelSelection:i,seriesIdx:o}),s&&(e.markerSelection=n.updateMarkerSelection({nodeData:l,markerSelection:s,seriesIdx:o}))}))},e.prototype.updateSeriesGroups=function(){var t=this,e=this,n=e.contextNodeData,o=e.subGroups,r=e.opts,i=r.pickGroupIncludes,s=r.pathsPerSeries,a=r.features;if(n.length!==o.length)for(n.length<o.length&&o.splice(n.length).forEach(function(e){var n=e.markerGroup;t.seriesGroup.removeChild(e.group),n&&t.seriesGroup.removeChild(n)});n.length>o.length;){var l=new Group$1({name:this.id+"-series-sub"+this.subGroupId++,layer:!0,zIndex:Series.SERIES_LAYER_ZINDEX}),c=a.includes("markers")?new Group$1({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:!0,zIndex:Series.SERIES_LAYER_ZINDEX}):void 0,u=new Group$1,p=i.includes("mainPath")?u:l,d=i.includes("datumNodes")?u:l;this.seriesGroup.appendChild(l),c&&this.seriesGroup.appendChild(c);for(var h=[],f=0;f<s;f++)h[f]=new Path$1,p.appendChild(h[f]);l.appendChild(u),o.push({paths:h,group:l,pickGroup:u,markerGroup:c,labelSelection:Selection$1.select(l).selectAll(),datumSelection:Selection$1.select(d).selectAll(),markerSelection:c?Selection$1.select(c).selectAll():void 0})}},e.prototype.updateNodes=function(t,e){var n,o=this,r=this,i=r.highlightSelection,s=r.contextNodeData,a=r.seriesItemEnabled,l=r.opts.features.includes("markers"),c=this.visible&&(null===(n=this.contextNodeData)||void 0===n?void 0:n.length)>0&&e;this.group.visible=c,this.seriesGroup.visible=c,this.highlightGroup.visible=c&&!!t,this.seriesGroup.opacity=this.getOpacity(),l?this.updateMarkerNodes({markerSelection:i,isHighlight:!0,seriesIdx:-1}):this.updateDatumNodes({datumSelection:i,isHighlight:!0,seriesIdx:-1}),this.subGroups.forEach(function(e,n){var r,i=e.group,u=e.markerGroup,p=e.datumSelection,d=e.labelSelection,h=e.markerSelection,f=e.paths,g=s[n].itemId;i.opacity=o.getOpacity({itemId:g}),i.zIndex=o.getZIndex({itemId:g}),i.visible=c&&(null==(r=a.get(g))||r),u&&(u.opacity=i.opacity,u.zIndex=i.zIndex>=Series.SERIES_LAYER_ZINDEX?i.zIndex:i.zIndex+1,u.visible=i.visible),i.visible&&(o.updatePathNodes({seriesHighlighted:t,itemId:g,paths:f,seriesIdx:n}),o.updateDatumNodes({datumSelection:p,isHighlight:!1,seriesIdx:n}),o.updateLabelNodes({labelSelection:d,seriesIdx:n}),l&&h&&o.updateMarkerNodes({markerSelection:h,isHighlight:!1,seriesIdx:n}))})},e.prototype.updateHighlightSelection=function(t){var e=this.chart,n=void 0===e?{}:e,o=n.highlightedDatum,r=(void 0===o?{}:o).datum,i=n.highlightedDatum,s=void 0===i?void 0:i;this.highlightSelection=this.updateHighlightSelectionItem({item:t&&s&&(void 0===r?void 0:r)?s:void 0,highlightSelection:this.highlightSelection})},e.prototype.pickNode=function(e,n){var o,r,i,s=t.prototype.pickNode.call(this,e,n);if(!s){var a=this.opts.pickGroupIncludes.includes("markers");try{for(var l=__values$e(this.subGroups),c=l.next();!c.done;c=l.next()){var u=c.value,p=u.markerGroup;if(!(s=u.pickGroup.pickNode(e,n))&&a&&(s=null===(i=p)||void 0===i?void 0:i.pickNode(e,n)),s)break}}catch(d){o={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(o)throw o.error}}}return s},e.prototype.toggleSeriesItem=function(e,n){this.seriesItemEnabled.size>0?(this.seriesItemEnabled.set(e,n),this.nodeDataRefresh=!0):t.prototype.toggleSeriesItem.call(this,e,n)},e.prototype.isPathOrSelectionDirty=function(){return!1},e.prototype.updatePaths=function(t){t.paths.forEach(function(t){return t.visible=!1})},e.prototype.updatePathNodes=function(t){},e.prototype.updateHighlightSelectionItem=function(t){var e=this.opts.features.includes("markers"),n=t.item,o=t.highlightSelection,r=n?[n]:[];return e?this.updateMarkerSelection({nodeData:r,markerSelection:o,seriesIdx:-1}):this.updateDatumSelection({nodeData:r,datumSelection:o,seriesIdx:-1})},e.prototype.updateDatumSelection=function(t){return t.datumSelection},e.prototype.updateDatumNodes=function(t){},e.prototype.updateMarkerSelection=function(t){return t.markerSelection},e.prototype.updateMarkerNodes=function(t){},e}(Series),CartesianSeriesMarker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$2i(e,t),__decorate$1a([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"formatter",void 0),e}(SeriesMarker),__extends$2h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$u=function(){return(__assign$u=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__values$d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$s=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$b=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$s(arguments[e]));return t},defaultTooltipCss$1='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n';function toTooltipHtml$1(t,e){if("string"==typeof t)return t;e=e||{};var n=t.content,o=t.title,r=void 0===o?e.title||void 0:o,i=t.color,s=t.backgroundColor;return(r?'<div class="'+Chart.defaultTooltipClass+'-title"\n        style="color: '+(void 0===i?e.color||"white":i)+"; background-color: "+(void 0===s?e.backgroundColor||"#888":s)+'">'+r+"</div>":"")+'<div class="'+Chart.defaultTooltipClass+'-content">'+(void 0===n?e.content||"":n)+"</div>"}var ChartTooltip=function(t){function e(e,n){var o=t.call(this)||this;o.enabled=!0,o.class=Chart.defaultTooltipClass,o.delay=0,o.tracking=!0,o.showTimeout=0,o.constrained=!1,o.chart=e,o.class="";var r=n.body,i=n.createElement("div");if(o.element=r.appendChild(i),window.IntersectionObserver){var s=o.chart.scene.canvas.element,a=new IntersectionObserver(function(t){var e,n;try{for(var r=__values$d(t),i=r.next();!i.done;i=r.next()){var a=i.value;a.target===s&&0===a.intersectionRatio&&o.toggle(!1)}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},{root:r});a.observe(s),o.observer=a}return o}return __extends$2h(e,t),e.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},e.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains(Chart.defaultTooltipClass+"-hidden");var e=t.getAttribute("class");return!!e&&e.split(" ").indexOf(Chart.defaultTooltipClass+"-hidden")<0},e.prototype.updateClass=function(t,e){var n=[Chart.defaultTooltipClass,this.class];!0!==t&&n.push(Chart.defaultTooltipClass+"-hidden"),!0!==e&&n.push(Chart.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",n.join(" "))},e.prototype.show=function(t,e,n){var o=this;void 0===n&&(n=!1);var r=this.element;if(void 0!==e)r.innerHTML=e;else if(!r.innerHTML)return;var i=t.pageX-r.clientWidth/2,s=t.pageY-r.clientHeight-8;if(this.constrained=!1,this.chart.container){var a=r.getBoundingClientRect(),l=window.innerWidth-a.width-1;i<0?(i=0,this.updateClass(!0,this.constrained=!0)):i>l&&(i=l,this.updateClass(!0,this.constrained=!0)),s<window.pageYOffset&&(s=t.pageY+20,this.updateClass(!0,this.constrained=!0))}if(r.style.left=Math.round(i)+"px",r.style.top=Math.round(s)+"px",this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){o.toggle(!0)},this.delay));this.toggle(!0)},e.prototype.toggle=function(t){t||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&this.chart.changeHighlightDatum()),this.updateClass(t,this.constrained)},e}(Observable$1),ChartUpdateType=(()=>(function(t){t[t.FULL=0]="FULL",t[t.PROCESS_DATA=1]="PROCESS_DATA",t[t.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=3]="SERIES_UPDATE",t[t.SCENE_RENDER=4]="SCENE_RENDER",t[t.NONE=5]="NONE"}(ChartUpdateType||(ChartUpdateType={})),ChartUpdateType))(),Chart=function(t){function e(n){void 0===n&&(n=window.document);var o=t.call(this)||this;o.id=createId$1(o),o.background=new Rect,o.legend=new Legend,o.legendAutoPadding=new Padding$1,o._debug=!1,o.extraDebugStats={},o._container=void 0,o._data=[],o._autoSize=!1,o.padding=new Padding$1(20),o._title=void 0,o._subtitle=void 0,o._performUpdateType=ChartUpdateType.NONE,o.firstRenderComplete=!1,o.firstResizeReceived=!1,o.seriesToUpdate=new Set,o.performUpdateTrigger=debouncedCallback(function(t){var e=t.count;try{o.performUpdate(e)}catch(n){o._lastPerformUpdateError=n,console.error(n)}}),o._axes=[],o._series=[],o.nodeData=new Map,o.legendBBox=new BBox$1(0,0,0,0),o._onMouseDown=o.onMouseDown.bind(o),o._onMouseMove=o.onMouseMove.bind(o),o._onMouseUp=o.onMouseUp.bind(o),o._onMouseOut=o.onMouseOut.bind(o),o._onClick=o.onClick.bind(o),o.lastTooltipEvent=void 0,o.handleTooltipTrigger=debouncedAnimationFrame(function(){o.handleTooltip(o.lastTooltipEvent)}),o.pointerInsideLegend=!1,o.pointerOverLegendDatum=!1;var r=new Group$1({name:"root"}),i=o.background;i.fill="white",r.appendChild(i);var s=o.element=n.createElement("div");if(s.setAttribute("class","ag-chart-wrapper"),s.style.position="relative",o.scene=new Scene$1({document:n}),o.scene.debug.consoleLog=o._debug,o.scene.root=r,o.scene.container=s,o.autoSize=!0,SizeMonitor.observe(o.element,function(t){var e=t.width,n=t.height;o._lastAutoSize=[e,n],o.autoSize&&(e===o.width&&n===o.height||o.resize(e,n))}),o.tooltip=new ChartTooltip(o,n),o.tooltip.addPropertyListener("class",function(){return o.tooltip.toggle()}),e.tooltipDocuments.indexOf(n)<0){var a=n.createElement("style");a.innerHTML=defaultTooltipCss$1,n.head.insertBefore(a,n.head.querySelector("style")),e.tooltipDocuments.push(n)}return o.setupDomListeners(o.scene.canvas.element),o}return __extends$2h(e,t),Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(t){this._debug=t,this.scene.debug.consoleLog=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.element.parentNode;null!=e&&e.removeChild(this.element),t&&t.appendChild(this.element),this._container=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.series.forEach(function(e){return e.data=t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.scene.width},set:function(t){this.autoSize=!1,this.width!==t&&this.resize(t,this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scene.height},set:function(t){this.autoSize=!1,this.height!==t&&this.resize(this.width,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoSize",{get:function(){return this._autoSize},set:function(t){if(this._autoSize!==t){this._autoSize=t;var e=this.element.style;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize(this._lastAutoSize[0],this._lastAutoSize[1])}else e.display="inline-block",e.width="auto",e.height="auto"}},enumerable:!0,configurable:!0}),e.prototype.download=function(t){this.scene.download(t)},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){var e,n,o=this.scene.root;null!=this._title&&(null===(e=o)||void 0===e||e.removeChild(this._title.node)),this._title=t,null!=this._title&&(null===(n=o)||void 0===n||n.appendChild(this._title.node))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subtitle",{get:function(){return this._subtitle},set:function(t){var e,n,o=this.scene.root;null!=this._subtitle&&(null===(e=o)||void 0===e||e.removeChild(this._subtitle.node)),this._subtitle=t,null!=this._subtitle&&(null===(n=o)||void 0===n||n.appendChild(this._subtitle.node))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._performUpdateType=ChartUpdateType.NONE,this.tooltip.destroy(),SizeMonitor.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},Object.defineProperty(e.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updatePending",{get:function(){return this._performUpdateType!==ChartUpdateType.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!0,configurable:!0}),e.prototype.update=function(t,e){var n,o;void 0===t&&(t=ChartUpdateType.FULL);var r=e||{},i=r.forceNodeDataRefresh,s=r.seriesToUpdate,a=void 0===s?this.series:s;void 0!==i&&i&&this.series.forEach(function(t){return t.markNodeDataDirty()});try{for(var l=__values$d(a),c=l.next();!c.done;c=l.next())this.seriesToUpdate.add(c.value)}catch(u){n={error:u}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}t<this._performUpdateType&&(this._performUpdateType=t,this.performUpdateTrigger.schedule())},e.prototype.performUpdate=function(t){var e=this,n=e._performUpdateType,o=e.firstRenderComplete,r=e.firstResizeReceived,i=e.extraDebugStats,s=[performance.now()];switch(n){case ChartUpdateType.FULL:case ChartUpdateType.PROCESS_DATA:this.processData(),s.push(performance.now());case ChartUpdateType.PERFORM_LAYOUT:if(!o&&!r){this.debug&&console.log({firstRenderComplete:o,firstResizeReceived:r}),this._performUpdateType=ChartUpdateType.PERFORM_LAYOUT,this.performUpdateTrigger.schedule();break}this.performLayout(),s.push(performance.now());case ChartUpdateType.SERIES_UPDATE:this.seriesToUpdate.forEach(function(t){t.update()}),this.seriesToUpdate.clear(),s.push(performance.now());case ChartUpdateType.SCENE_RENDER:this.scene.render({debugSplitTimes:s,extraDebugStats:i}),this.firstRenderComplete=!0,this.extraDebugStats={};case ChartUpdateType.NONE:this._performUpdateType=ChartUpdateType.NONE}var a=performance.now();this.debug&&console.log({chart:this,durationMs:Math.round(100*(a-s[0]))/100,count:t,performUpdateType:ChartUpdateType[n]})},Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},set:function(t){var e=this;this._axes.forEach(function(t){return e.detachAxis(t)}),this._axes=t.filter(function(t){return!t.linkedTo}).concat(t.filter(function(t){return t.linkedTo})),this._axes.forEach(function(t){return e.attachAxis(t)})},enumerable:!0,configurable:!0}),e.prototype.attachAxis=function(t){this.scene.root.insertBefore(t.gridlineGroup,this.seriesRoot),this.scene.root.insertBefore(t.axisGroup,this.seriesRoot)},e.prototype.detachAxis=function(t){this.scene.root.removeChild(t.axisGroup),this.scene.root.removeChild(t.gridlineGroup)},Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this.removeAllSeries(),t.forEach(function(t){return e.addSeries(t)})},enumerable:!0,configurable:!0}),e.prototype.addSeries=function(t,e){var n=this.series,o=this.seriesRoot;if(n.indexOf(t)<0){var r=e?n.indexOf(e):-1;return r>=0?(n.splice(r,0,t),o.insertBefore(t.group,e.group)):(n.push(t),o.append(t.group)),this.initSeries(t),!0}return!1},e.prototype.initSeries=function(t){t.chart=this,t.data||(t.data=this.data),t.addEventListener("nodeClick",this.onSeriesNodeClick,this)},e.prototype.freeSeries=function(t){t.chart=void 0,t.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},e.prototype.addSeriesAfter=function(t,e){var n=this.series,o=this.seriesRoot;if(n.indexOf(t)<0){var r=e?this.series.indexOf(e):-1;r>=0?(r+1<n.length?o.insertBefore(t.group,n[r+1].group):o.append(t.group),this.initSeries(t),n.splice(r+1,0,t)):(n.length>0?o.insertBefore(t.group,n[0].group):o.append(t.group),this.initSeries(t),n.unshift(t))}return!1},e.prototype.removeSeries=function(t){var e=this.series.indexOf(t);return e>=0&&(this.series.splice(e,1),this.freeSeries(t),this.seriesRoot.removeChild(t.group),!0)},e.prototype.removeAllSeries=function(){var t=this;this.series.forEach(function(e){t.freeSeries(e),t.seriesRoot.removeChild(e.group)}),this._series=[]},e.prototype.assignSeriesToAxes=function(){var t=this;this.axes.forEach(function(e){e.boundSeries=t.series.filter(function(t){return(e.direction===ChartAxisDirection.X?t.xAxis:t.yAxis)===e})})},e.prototype.assignAxesToSeries=function(t){var e=this;void 0===t&&(t=!1);var n={};this.axes.forEach(function(t){var e=t.direction;(n[e]||(n[e]=[])).push(t)}),this.series.forEach(function(o){o.directions.forEach(function(r){if(!(r===ChartAxisDirection.X?o.xAxis:o.yAxis)||t){var i=n[r];if(i){var s=o.getKeys(r),a=e.findMatchingAxis(i,o.getKeys(r));a?r===ChartAxisDirection.X?o.xAxis=a:o.yAxis=a:console.warn("AG Charts - no matching axis for direction ["+r+"] and keys ["+s+"]; check series and axes configuration.")}else console.warn("AG Charts - no available axis for direction ["+r+"]; check series and axes configuration.")}})})},e.prototype.findMatchingAxis=function(t,e){var n,o,r,i;try{for(var s=__values$d(t),a=s.next();!a.done;a=s.next()){var l=a.value,c=l.keys;if(!c.length)return l;if(e)try{for(var u=(r=void 0,__values$d(e)),p=u.next();!p.done;p=u.next())if(c.indexOf(p.value)>=0)return l}catch(d){r={error:d}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}}catch(h){n={error:h}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},e.prototype.resize=function(t,e){this.scene.resize(t,e)&&(this.firstResizeReceived=!0,this.background.width=this.width,this.background.height=this.height,this.update(ChartUpdateType.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},e.prototype.processData=function(){(this.axes.length>0||this.series.some(function(t){return t instanceof CartesianSeries}))&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.series.forEach(function(t){return t.processData()}),this.updateLegend()},e.prototype.createNodeData=function(){var t=this;this.nodeData.clear(),this.series.forEach(function(e){var n=e.visible?e.createNodeData():[];t.nodeData.set(e,n)})},e.prototype.placeLabels=function(){var t=[],e=[];this.nodeData.forEach(function(n,o){if(o.visible&&o.label.enabled){var r=[];n.forEach(function(t){var e=t.labelData;isPointLabelDatum(e[0])&&r.push.apply(r,__spread$b(e))}),e.push(r),t.push(o)}});var n=this.seriesRect,o=n?placeLabels(e,{x:0,y:0,width:n.width,height:n.height}):[];return new Map(o.map(function(e,n){return[t[n],e]}))},e.prototype.updateLegend=function(){var t=[];this.series.filter(function(t){return t.showInLegend}).forEach(function(e){return e.listSeriesItems(t)});var e=this.legend.item.label.formatter;e&&t.forEach(function(t){return t.label.text=e({id:t.id,itemId:t.itemId,value:t.label.text})}),this.legend.data=t},e.prototype.positionCaptions=function(){var t=this._title,e=this._subtitle,n=10;if(!t)return{};if(t.node.visible=t.enabled,t.enabled){t.node.x=this.width/2,t.node.y=n;var o=t.node.computeBBox();o&&(n=o.y+o.height)}if(!e)return{};if(e.node.visible=t.enabled&&e.enabled,t.enabled&&e.enabled){e.node.x=this.width/2,e.node.y=n+10;var r=e.node.computeBBox();r&&(n=r.y+r.height)}return{captionAutoPadding:Math.floor(n)}},e.prototype.positionLegend=function(t){if(this.legend.enabled&&this.legend.data.length){var e,n=this.legend,o=this.legendAutoPadding,r=this.width,i=this.height-t,s=n.group,a=n.spacing,l=0,c=0;switch(n.position){case"bottom":n.performLayout(r-2*a,0),e=s.computeBBox(),s.visible=e.height<Math.floor(.5*i),s.visible?(l=(r-e.width)/2-e.x,c=t+i-e.height-e.y-a,o.bottom=e.height):o.bottom=0;break;case"top":n.performLayout(r-2*a,0),e=s.computeBBox(),s.visible=e.height<Math.floor(.5*i),s.visible?(l=(r-e.width)/2-e.x,c=t+a-e.y,o.top=e.height):o.top=0;break;case"left":n.performLayout(r,i-2*a),e=s.computeBBox(),s.visible=e.width<Math.floor(.5*r),s.visible?(l=a-e.x,c=t+(i-e.height)/2-e.y,o.left=e.width):o.left=0;break;default:n.performLayout(r,i-2*a),e=s.computeBBox(),s.visible=e.width<Math.floor(.5*r),s.visible?(l=r-e.width-e.x-a,c=t+(i-e.height)/2-e.y,o.right=e.width):o.right=0}s.visible&&(s.translationX=Math.floor(l+s.translationX),s.translationY=Math.floor(c+s.translationY),this.legendBBox=s.computeBBox())}},e.prototype.setupDomListeners=function(t){t.addEventListener("mousedown",this._onMouseDown),t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseup",this._onMouseUp),t.addEventListener("mouseout",this._onMouseOut),t.addEventListener("click",this._onClick)},e.prototype.cleanupDomListeners=function(t){t.removeEventListener("mousedown",this._onMouseDown),t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseup",this._onMouseUp),t.removeEventListener("mouseout",this._onMouseOut),t.removeEventListener("click",this._onClick)},e.prototype.getSeriesRect=function(){return this.seriesRect},e.prototype.pickSeriesNode=function(t,e){var n,o,r;if(this.seriesRect&&this.seriesRect.containsPoint(t,e)){var i=performance.now(),s=void 0;try{for(var a=__values$d(this.series),l=a.next();!l.done;l=a.next()){var c=l.value;if(c.visible&&c.group.visible){var u=c.pickNode(t,e);if(u){s={series:c,node:u};break}}}}catch(p){n={error:p}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return this.extraDebugStats.pickSeriesNode=Math.round((null!=(r=this.extraDebugStats.pickSeriesNode)?r:0)+(performance.now()-i)),s}},e.prototype.pickClosestSeriesNodeDatum=function(t,e){var n,o,r,i,s,a,l,c,u;if(this.seriesRect&&this.seriesRect.containsPoint(t,e)){var p,d=1/0,h=this.series,f=this.nodeData;try{for(var g=__values$d(h),m=g.next();!m.done;m=g.next()){var y=m.value;if(y.visible&&y.group.visible){var _=y.xAxis,v=y.yAxis,C=y.group.transformPoint(t,e),E=null!=(l=f.get(y))?l:[];try{for(var w=(r=void 0,__values$d(E)),O=w.next();!O.done;O=w.next()){var b=O.value;try{for(var S=(s=void 0,__values$d(b.nodeData)),P=S.next();!P.done;P=S.next()){var D=P.value,T=D.point;if(T){var R=T.x,A=T.y;if((null===(c=_)||void 0===c?void 0:c.inRange(R))&&(null===(u=v)||void 0===u?void 0:u.inRange(A))){var M=Math.pow(C.x-R,2)+Math.pow(C.y-A,2);M<d&&(d=M,p=D)}}}}catch(x){s={error:x}}finally{try{P&&!P.done&&(a=S.return)&&a.call(S)}finally{if(s)throw s.error}}}}catch(I){r={error:I}}finally{try{O&&!O.done&&(i=w.return)&&i.call(w)}finally{if(r)throw r.error}}}}}catch(L){n={error:L}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}return p}},e.prototype.onMouseMove=function(t){this.handleLegendMouseMove(t),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.lastTooltipEvent=t,this.handleTooltipTrigger.schedule())},e.prototype.handleTooltip=function(t){var e,n=this.lastPick,o=this.tooltip.tracking,r=t.offsetX,i=t.offsetY,s=this.pickSeriesNode(r,i);if(s&&s.node instanceof Shape$1){var a=s.node;if(e=a.datum,n&&n.datum===e&&(n.node=a,n.event=t),!a.datum.point||!o)return void(n&&n.node===a?s.series.tooltip.enabled&&this.tooltip.show(t):this.onSeriesDatumPick(t,a.datum,a,t))}var l=!1;if(o){var c=this.pickClosestSeriesNodeDatum(r,i);if(c&&c.point){var u=c.point,p=this.scene.canvas,d=c.series.group.inverseTransformPoint(u.x,u.y),h=p.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(h.left+window.pageXOffset+d.x),pageY:Math.round(h.top+window.pageYOffset+d.y)},c,e===c&&s?s.node:void 0,t)}else l=!0}!n||!l&&o||(this.changeHighlightDatum(),this.tooltip.toggle(!1))},e.prototype.onMouseDown=function(t){},e.prototype.onMouseUp=function(t){},e.prototype.onMouseOut=function(t){this.tooltip.toggle(!1)},e.prototype.onClick=function(t){this.checkSeriesNodeClick()?this.update(ChartUpdateType.SERIES_UPDATE):this.checkLegendClick(t)?this.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}):this.fireEvent({type:"click",event:t})},e.prototype.checkSeriesNodeClick=function(){var t=this.lastPick;if(t&&t.event){var e=t.datum;return e.series.fireNodeClickEvent(t.event,e),!0}return!1},e.prototype.onSeriesNodeClick=function(t){this.fireEvent(__assign$u(__assign$u({},t),{type:"seriesNodeClick"}))},e.prototype.checkLegendClick=function(t){var e,n=this.legend.listeners.legendItemClick,o=this.legend.getDatumForPoint(t.offsetX,t.offsetY);if(!o)return!1;var r=o.id,i=o.itemId,s=o.enabled,a=find(this.series,function(t){return t.id===r});return!!a&&(a.toggleSeriesItem(i,!s),s&&this.tooltip.toggle(!1),s&&(null===(e=this.highlightedDatum)||void 0===e?void 0:e.series)===a&&(this.highlightedDatum=void 0),s||(this.highlightedDatum={series:a,itemId:i,datum:void 0}),n({enabled:!s,itemId:i}),!0)},e.prototype.handleLegendMouseMove=function(t){if(this.legend.enabled){var e=t.offsetX,n=t.offsetY,o=this.legend.getDatumForPoint(e,n),r=this.legendBBox.containsPoint(e,n),i=r&&void 0!==o;if(!r&&this.pointerInsideLegend)return this.pointerInsideLegend=!1,this.element.style.cursor="default",void this.changeHighlightDatum();i&&!this.pointerOverLegendDatum&&(this.element.style.cursor="pointer",this.element.title=o&&this.legend.truncatedItems.has(o.itemId||o.id)?o.label.text:""),!i&&this.pointerOverLegendDatum&&(this.element.style.cursor="default"),this.pointerInsideLegend=r,this.pointerOverLegendDatum=i;var s=this.highlightedDatum;if(o){var a=o.id,l=o.itemId;if(o.enabled){var c=find(this.series,function(t){return t.id===a});c&&(this.highlightedDatum={series:c,itemId:l,datum:void 0})}}(this.highlightedDatum&&!s||this.highlightedDatum&&s&&(this.highlightedDatum.series!==s.series||this.highlightedDatum.itemId!==s.itemId))&&this.update(ChartUpdateType.SERIES_UPDATE)}},e.prototype.onSeriesDatumPick=function(t,e,n,o){var r=this.lastPick;if(!r||r.datum!==e){this.changeHighlightDatum({datum:e,node:n,event:o});var i=e.series.tooltip.enabled&&e.series.getTooltipHtml(e);i&&this.tooltip.show(t,i)}},e.prototype.changeHighlightDatum=function(t){var e=new Set,n=t||{},o=n.datum,r=(void 0===o?{}:o).series,i=void 0===r?void 0:r,s=n.datum,a=void 0===s?void 0:s,l=this.lastPick,c=(void 0===l?{}:l).datum,u=(void 0===c?{}:c).series,p=void 0===u?void 0:u;p&&e.add(p),i&&(e.add(i),this.element.style.cursor=i.cursor),this.lastPick=t,this.highlightedDatum=a,null==i||null==p?this.update(ChartUpdateType.SERIES_UPDATE):this.update(ChartUpdateType.SERIES_UPDATE,{seriesToUpdate:e})},e.defaultTooltipClass="ag-chart-tooltip",e.tooltipDocuments=[],e}(Observable$1),__extends$2g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$t=function(){return(__assign$t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$19=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__values$c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ClipRect=function(t){function e(){var e=t.call(this)||this;return e.path=new Path2D$1,e.enabled=!0,e._dirtyPath=!0,e.x=0,e.y=0,e.width=10,e.height=10,e.isContainerNode=!0,e}return __extends$2g(e,t),e.prototype.containsPoint=function(t,e){var n=this.transformPoint(t,e);return n.x>=this.x&&n.x<=this.x+this.width&&n.y>=this.y&&n.y<=this.y+this.height},e.prototype.updatePath=function(){var t=this,e=t.x,n=t.y,o=t.width,r=t.height,i=t.path;i.clear(),i.rect(e,n,o,r),this._dirtyPath=!1},e.prototype.computeBBox=function(){var t=this;return new BBox$1(t.x,t.y,t.width,t.height)},e.prototype.render=function(e){var n,o,r=this,i=r.enabled,s=r.children,a=e.ctx,l=e.forceRender,c=e.stats;if(r.dirty!==RedrawType.NONE||l){r._dirtyPath&&this.updatePath(),i&&(a.save(),this.path.draw(a),a.clip());var u=i?this.computeBBox():void 0,p=__assign$t(__assign$t({},e),{clipBBox:u});try{for(var d=__values$c(s),h=d.next();!h.done;h=d.next()){var f=h.value;f.visible&&(l||f.dirty>RedrawType.NONE)&&(a.save(),f.render(p),a.restore())}}catch(g){n={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}t.prototype.render.call(this,e),i&&a.restore()}else c&&(c.nodesSkipped+=this.nodeCount.count)},e.className="ClipRect",__decorate$19([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"enabled",void 0),__decorate$19([ScenePathChangeDetection()],e.prototype,"x",void 0),__decorate$19([ScenePathChangeDetection()],e.prototype,"y",void 0),__decorate$19([ScenePathChangeDetection()],e.prototype,"width",void 0),__decorate$19([ScenePathChangeDetection()],e.prototype,"height",void 0),e}(Node$1),__extends$2f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),RangeHandle$1=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return __extends$2f(e,t),Object.defineProperty(e.prototype,"centerX",{get:function(){return this._centerX},set:function(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this._centerY},set:function(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){var t=this,e=t.width,n=t.height;return new BBox$1(t.centerX-e/2,t.centerY-n/2,e,n)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.centerX,o=t.centerY,r=t.width,i=t.height,s=this.alignment,a=this.align;e.clear();var l=n-r/2,c=o-i/2,u=a(s,l),p=a(s,c),d=u+a(s,l,r),h=p+a(s,c,i);e.moveTo(u,p),e.lineTo(d,p),e.lineTo(d,h),e.lineTo(u,h),e.lineTo(u,p);var f=this.gripLineGap/2,g=this.gripLineLength/2;e.moveTo(a(s,n-f),a(s,o-g)),e.lineTo(a(s,n-f),a(s,o+g)),e.moveTo(a(s,n+f),a(s,o-g)),e.lineTo(a(s,n+f),a(s,o+g))},e.className="RangeHandle",e}(Path$1),__extends$2e=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),RangeMask=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return __extends$2e(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){t=Math.min(Math.max(t,0),this.max-this.minRange),isNaN(t)||this._min!==t&&(this._min=t,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(t,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){t=Math.max(Math.min(t,1),this.min+this.minRange),isNaN(t)||this._max!==t&&(this._max=t,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,t))},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){var t=this;return new BBox$1(t.x,t.y,t.width,t.height)},e.prototype.computeVisibleRangeBBox=function(){var t=this,e=t.x,n=t.width,o=e+n*t.min;return new BBox$1(o,t.y,e+n*t.max-o,t.height)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.x,o=t.y,r=t.width,i=t.height,s=t.min,a=t.max,l=this.alignment,c=this.align;e.clear();var u=c(l,n),p=c(l,o),d=u+c(l,n,r),h=p+c(l,o,i);e.moveTo(u,p),e.lineTo(d,p),e.lineTo(d,h),e.lineTo(u,h),e.lineTo(u,p);var f=c(l,n+r*s),g=c(l,n+r*a);e.moveTo(f,p),e.lineTo(f,h),e.lineTo(g,h),e.lineTo(g,p),e.lineTo(f,p)},e.className="RangeMask",e}(Path$1),__extends$2d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$s=function(){return(__assign$s=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},RangeSelector=function(t){function e(){var n=t.call(this)||this;return n.minHandle=new RangeHandle$1,n.maxHandle=new RangeHandle$1,n.mask=function(){var t=e.defaults,o=t.x,r=t.y,i=t.width,s=t.height,a=t.min,l=t.max,c=new RangeMask;c.x=o,c.y=r,c.width=i,c.height=s,c.min=a,c.max=l;var u=n.minHandle,p=n.maxHandle;return u.centerX=o,p.centerX=o+i,u.centerY=p.centerY=r+s/2,n.append([c,u,p]),c.onRangeChange=function(t,e){n.updateHandles(),n.onRangeChange&&n.onRangeChange(t,e)},c}(),n._x=e.defaults.x,n._y=e.defaults.y,n._width=e.defaults.width,n._height=e.defaults.height,n._min=e.defaults.min,n._max=e.defaults.max,n.isContainerNode=!0,n}return __extends$2d(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.mask.x},set:function(t){this.mask.x=t,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.mask.y},set:function(t){this.mask.y=t,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mask.width},set:function(t){this.mask.width=t,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.mask.height},set:function(t){this.mask.height=t,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.mask.min},set:function(t){this.mask.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.mask.max},set:function(t){this.mask.max=t},enumerable:!0,configurable:!0}),e.prototype.updateHandles=function(){var t=this,e=t.minHandle,n=t.maxHandle,o=t.x,r=t.y,i=t.width,s=t.height,a=t.mask;e.centerX=o+i*a.min,n.centerX=o+i*a.max,e.centerY=n.centerY=r+s/2},e.prototype.computeBBox=function(){return this.mask.computeBBox()},e.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},e.prototype.render=function(t){var e=t.ctx,n=t.forceRender,o=t.stats;if(this.dirty!==RedrawType.NONE||n){this.computeTransformMatrix(),this.matrix.toContext(e);var r=this;[r.mask,r.minHandle,r.maxHandle].forEach(function(o){o.visible&&(n||o.dirty>RedrawType.NONE)&&(e.save(),o.render(__assign$s(__assign$s({},t),{ctx:e,forceRender:n})),e.restore())}),this.markClean({force:!0}),o&&o.nodesRendered++}else o&&o.nodesSkipped++},e.className="Range",e.defaults={x:0,y:0,width:200,height:30,min:0,max:1},e}(Group$1),NavigatorMask=function(){function t(t){this.rm=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!0,configurable:!0}),t}(),NavigatorHandle=function(){function t(t){this.rh=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!0,configurable:!0}),t}(),Navigator=function(){function t(t){var e=this;this.rs=new RangeSelector,this.mask=new NavigatorMask(this.rs.mask),this.minHandle=new NavigatorHandle(this.rs.minHandle),this.maxHandle=new NavigatorHandle(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.changedCursor=!1,this._margin=10,this.chart=t,t.scene.root.append(this.rs),this.rs.onRangeChange=function(t,n){return e.updateAxes(t,n)}}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this.rs.visible},set:function(t){this.rs.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.rs.x},set:function(t){this.rs.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.rs.y},set:function(t){this.rs.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return this._margin},set:function(t){this._margin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!0,configurable:!0}),t.prototype.updateAxes=function(t,e){var n=this.chart,o=!1,r=!1;n.axes.forEach(function(n){if(n.direction===ChartAxisDirection.X){!o&&(t>0||e<1)&&(o=!0),n.visibleRange=[t,e];var i=n.labelAutoRotated;n.update(),n.labelAutoRotated!==i&&(r=!0)}}),n.seriesRoot.enabled=o,n.update(r?ChartUpdateType.PERFORM_LAYOUT:ChartUpdateType.SERIES_UPDATE,{forceNodeDataRefresh:!0})},t.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,n=t.offsetY,o=this.rs,r=o.minHandle,i=o.maxHandle,s=o.x,a=o.width,l=o.min,c=o.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(r.containsPoint(e,n)?this.minHandleDragging=!0:i.containsPoint(e,n)?this.maxHandleDragging=!0:c.containsPoint(e,n)&&(this.panHandleOffset=(e-s)/a-l))}},t.prototype.onDrag=function(t){if(this.enabled){var e=this.rs,n=this.panHandleOffset,o=e.x,r=e.width,i=e.minHandle,s=e.maxHandle,a=this.chart.element.style,l=t.offsetX,c=t.offsetY,u=o+r*e.min,p=new BBox$1(u,e.y,o+r*e.max-u,e.height);if(i.containsPoint(l,c)||s.containsPoint(l,c)?(this.changedCursor=!0,a.cursor="ew-resize"):p.containsPoint(l,c)?(this.changedCursor=!0,a.cursor="grab"):this.changedCursor&&(this.changedCursor=!1,a.cursor="default"),this.minHandleDragging)e.min=f();else if(this.maxHandleDragging)e.max=f();else if(!isNaN(n)){var d=e.max-e.min,h=Math.min(f()-n,1-d);h<=e.min?(e.min=h,e.max=e.min+d):(e.max=h+d,e.min=e.max-d)}}function f(){return Math.min(Math.max((l-o)/r,0),1)}},t.prototype.onDragStop=function(){this.stopHandleDragging()},t.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},t}(),__extends$2c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},CartesianChart=function(t){function e(e){void 0===e&&(e=window.document);var n=t.call(this,e)||this;n.seriesRoot=new ClipRect,n.navigator=new Navigator(n),n.scene.root.visible=!1;var o=n.scene.root;return o.append(n.seriesRoot),o.append(n.legend.group),n.navigator.enabled=!1,n}return __extends$2c(e,t),e.prototype.performLayout=function(){this.scene.root.visible=!0;var t=this,e=t.legend,n=t.navigator,o=new BBox$1(0,0,t.width,t.height),r=this.positionCaptions().captionAutoPadding,i=void 0===r?0:r;if(this.positionLegend(i),e.enabled&&e.data.length){var s=this.legendAutoPadding,a=this.legend.spacing;switch(o.x+=s.left,o.y+=s.top,o.width-=s.left+s.right,o.height-=s.top+s.bottom,this.legend.position){case"right":o.width-=a;break;case"bottom":o.height-=a;break;case"left":o.x+=a,o.width-=a;break;case"top":o.y+=a,o.height-=a}}var l=this.padding;o.x+=l.left,o.width-=l.left+l.right,o.y+=l.top+i,o.height-=l.top+i+l.bottom,n.enabled&&(o.height-=n.height+n.margin,n.x=o.x,n.y=o.y+o.height+n.margin,n.width=o.width);var c=this.updateAxes(o).seriesRect;this.createNodeData(),this.seriesRect=c,this.series.forEach(function(t){t.group.translationX=Math.floor(c.x),t.group.translationY=Math.floor(c.y),t.update()});var u=this.seriesRoot;u.x=c.x,u.y=c.y,u.width=c.width,u.height=c.height},e.prototype.setupDomListeners=function(e){t.prototype.setupDomListeners.call(this,e),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),e.addEventListener("touchstart",this._onTouchStart,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),e.addEventListener("touchend",this._onTouchEnd,{passive:!0}),e.addEventListener("touchcancel",this._onTouchCancel,{passive:!0})},e.prototype.cleanupDomListeners=function(e){t.prototype.cleanupDomListeners.call(this,e),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("touchend",this._onTouchEnd),e.removeEventListener("touchcancel",this._onTouchCancel)},e.prototype.getTouchOffset=function(t){var e=this.scene.canvas.element.getBoundingClientRect(),n=t.touches[0];return n?{offsetX:n.clientX-e.left,offsetY:n.clientY-e.top}:void 0},e.prototype.onTouchStart=function(t){var e=this.getTouchOffset(t);e&&this.navigator.onDragStart(e)},e.prototype.onTouchMove=function(t){var e=this.getTouchOffset(t);e&&this.navigator.onDrag(e)},e.prototype.onTouchEnd=function(t){this.navigator.onDragStop()},e.prototype.onTouchCancel=function(t){this.navigator.onDragStop()},e.prototype.onMouseDown=function(e){t.prototype.onMouseDown.call(this,e),this.navigator.onDragStart(e)},e.prototype.onMouseMove=function(e){t.prototype.onMouseMove.call(this,e),this.navigator.onDrag(e)},e.prototype.onMouseUp=function(e){t.prototype.onMouseUp.call(this,e),this.navigator.onDragStop()},e.prototype.onMouseOut=function(e){t.prototype.onMouseOut.call(this,e),this.navigator.onDragStop()},e.prototype.updateAxes=function(t){var e,n=((e={})[ChartAxisPosition.Top]=0,e[ChartAxisPosition.Bottom]=0,e[ChartAxisPosition.Left]=0,e[ChartAxisPosition.Right]=0,e),o=function(t){return Object.entries(n).every(function(e){var n=__read$r(e,2),o=n[1],r=t[n[0]];return!o&&!r||o===r})},r={},i=!1,s=t.clone(),a=0;do{Object.assign(n,r);var l=this.updateAxesPass(n,t.clone());if(r=l.axisWidths,i=l.clipSeries,s=l.seriesRect,a++>10)throw new Error("AG Charts - unable to find stable axis layout.")}while(!o(r));return this.seriesRoot.enabled=i,{seriesRect:s}},e.prototype.updateAxesPass=function(t,e){var n,o=this.navigator,r=this.axes,i={},s={},a=!1,l=function(){var n=e.clone(),o=t.top,r=t.bottom,i=t.left,s=t.right;return n.x+=null!=i?i:0,n.y+=null!=o?o:0,n.width-=(null!=i?i:0)+(null!=s?s:0),n.height-=(null!=o?o:0)+(null!=r?r:0),n.width=Math.max(0,n.width),n.height=Math.max(0,n.height),n}(),c=function(t,e,n){var o=l.x,r=l.y;return(1===n?Math.min:Math.max)(t,[o,r,o+l.width,r+l.height][("x"===e?0:1)+(1===n?0:2)])};return r.forEach(function(r){var u,p,d,h,f,g,m,y,_=r.position,v=r.direction;i[_]=(null!=(u=i[_])?u:0)+1;var C=function(t){return t instanceof CategoryAxis||t instanceof GroupedCategoryAxis?[0,l.height]:[l.height,0]};r.label.mirrored=["top","right"].includes(_);var E=null!=(p=s[_])?p:0;switch(_){case ChartAxisPosition.Top:r.range=[0,l.width],r.gridLength=l.height;break;case ChartAxisPosition.Right:r.range=C(r),r.gridLength=l.width;break;case ChartAxisPosition.Bottom:r.range=[0,l.width],r.gridLength=l.height;break;case ChartAxisPosition.Left:r.range=C(r),r.gridLength=l.width}r.calculateTickCount(),r.direction===ChartAxisDirection.X&&(r.visibleRange=o.enabled?[o.min,o.max]:[0,1]),!a&&(r.visibleRange[0]>0||r.visibleRange[1]<1)&&(a=!0),n=r.calculateDomain({primaryTickCount:n}).primaryTickCount,r.update();var w=0;if(r.thickness)w=r.thickness;else{var O=r.computeBBox();w=v===ChartAxisDirection.X?O.height:O.width}switch((null!=(d=i[_])?d:0)>1&&(w+=15),_){case ChartAxisPosition.Top:r.translation.x=e.x+(null!=(h=t.left)?h:0),r.translation.y=c(e.y+1+E+w,"y",1);break;case ChartAxisPosition.Bottom:r.translation.x=e.x+(null!=(f=t.left)?f:0),r.translation.y=c(e.y+e.height+1-w-E,"y",-1);break;case ChartAxisPosition.Left:r.translation.y=e.y+(null!=(g=t.top)?g:0),r.translation.x=c(e.x+E+w,"x",1);break;case ChartAxisPosition.Right:r.translation.y=e.y+(null!=(m=t.top)?m:0),r.translation.x=c(e.x+e.width-w-E,"x",-1)}r.update(),s[_]=(null!=(y=s[_])?y:0)+w}),{clipSeries:a,seriesRect:l,axisWidths:s}},e.className="CartesianChart",e.type="cartesian",e}(Chart),__extends$2b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),HierarchyChart=function(t){function e(e){void 0===e&&(e=window.document);var n=t.call(this,e)||this;n._data={},n._seriesRoot=new ClipRect,n.scene.root.visible=!1;var o=n.scene.root;return o.append(n.seriesRoot),o.append(n.legend.group),n}return __extends$2b(e,t),Object.defineProperty(e.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),e.prototype.performLayout=function(){this.scene.root.visible=!0;var t=this,e=t.legend,n=new BBox$1(0,0,t.width,t.height),o=this.positionCaptions().captionAutoPadding,r=void 0===o?0:o;if(this.positionLegend(r),e.enabled&&e.data.length){var i=this.legendAutoPadding,s=this.legend.spacing;switch(n.x+=i.left,n.y+=i.top,n.width-=i.left+i.right,n.height-=i.top+i.bottom,this.legend.position){case"right":n.width-=s;break;case"bottom":n.height-=s;break;case"left":n.x+=s,n.width-=s;break;case"top":n.y+=s,n.height-=s}}var a=this.padding;n.x+=a.left,n.width-=a.left+a.right,n.y+=a.top+r,n.height-=a.top+r+a.bottom,this.seriesRect=n,this.series.forEach(function(t){t.group.translationX=Math.floor(n.x),t.group.translationY=Math.floor(n.y),t.update()});var l=this.seriesRoot;l.x=n.x,l.y=n.y,l.width=n.width,l.height=n.height},e.className="HierarchyChart",e.type="hierarchy",e}(Chart),__extends$2a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),GroupedCategoryChart=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2a(e,t),e.className="GroupedCategoryChart",e.type="groupedCategory",e}(CartesianChart),__extends$29=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$18=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PolarSeries=function(t){function e(){var e,n=null!==t&&t.apply(this,arguments)||this;return n.directionKeys=((e={})[ChartAxisDirection.X]=["angleKey"],e[ChartAxisDirection.Y]=["radiusKey"],e),n.centerX=0,n.centerY=0,n.radius=0,n}return __extends$29(e,t),e}(Series);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}__extends$29(e,t),__decorate$18([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"formatter",void 0)}(SeriesMarker);var __extends$28=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),PolarChart=function(t){function e(e){void 0===e&&(e=window.document);var n=t.call(this,e)||this;return n.padding=new Padding$1(40),n.scene.root.append(n.legend.group),n}return __extends$28(e,t),Object.defineProperty(e.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),e.prototype.performLayout=function(){var t=new BBox$1(0,0,this.width,this.height),e=this.positionCaptions().captionAutoPadding,n=void 0===e?0:e;if(this.positionLegend(n),t.y+=n,t.height-=n,this.legend.enabled&&this.legend.data.length){var o=this.legendAutoPadding;t.x+=o.left,t.y+=o.top,t.width-=o.left+o.right,t.height-=o.top+o.bottom;var r=this.legend.spacing;switch(this.legend.position){case"right":t.width-=r;break;case"bottom":t.height-=r;break;case"left":t.x+=r,t.width-=r;break;case"top":t.y+=r,t.height-=r}}var i=this.padding;t.x+=i.left,t.y+=i.top,t.width-=i.left+i.right,t.height-=i.top+i.bottom,this.seriesRect=t;var s=t.x+t.width/2,a=t.y+t.height/2,l=Math.max(0,Math.min(t.width,t.height)/2);this.series.forEach(function(t){t instanceof PolarSeries&&(t.centerX=s,t.centerY=a,t.radius=l)})},e.className="PolarChart",e.type="polar",e}(Chart);function equal(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var n,o=void 0;if(Array.isArray(t)){if((n=t.length)!=e.length)return!1;for(o=n;0!=o--;)if(!equal(t[o],e[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var r=Object.keys(t);if((n=r.length)!==Object.keys(e).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,r[o]))return!1;for(o=n;0!=o--;){var i=r[o];if(!equal(t[i],e[i]))return!1}return!0}return t!=t&&e!=e}var __read$q=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},interpolatePattern=/(#\{(.*?)\})/g;function interpolate(t,e,n){return t.replace(interpolatePattern,function(){var t=arguments[2],o=__read$q(t.split(":"),2),r=o[0],i=o[1],s=e[r];if("number"==typeof s){if(u=i&&n&&n[i]){var a=u,l=a.locales,c=a.options;return s.toLocaleString(l,c)}return String(s)}if(s instanceof Date){var u;if("string"==typeof(u=i&&n&&n[i])){var p=locale$1.format(u);return p(s)}return s.toDateString()}return"string"==typeof s||s&&s.toString?String(s):""})}var element=null;function sanitizeHtml(t){return element=element||document.createElement("div"),t?(element.innerText=t,element.innerHTML):""}var __extends$27=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__values$b=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$p=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},AreaSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$27(e,t),e}(Label$1),AreaSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$27(e,t),e}(SeriesTooltip),AreaSeriesTag=(()=>(function(t){t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label"}(AreaSeriesTag||(AreaSeriesTag={})),AreaSeriesTag))(),AreaSeries=function(t){function e(){var e=t.call(this,{pathsPerSeries:2,pickGroupIncludes:["markers"],features:["markers"]})||this;e.tooltip=new AreaSeriesTooltip,e.xData=[],e.yData=[],e.yDomain=[],e.xDomain=[],e.directionKeys={x:["xKey"],y:["yKeys"]},e.marker=new CartesianSeriesMarker,e.label=new AreaSeriesLabel,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e.yNames=[],e.strokeWidth=2,e.shadow=void 0;var n=e.label;return e.marker.enabled=!1,n.enabled=!1,e}return __extends$27(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.xData=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yKeys",{get:function(){return this._yKeys},set:function(t){equal(this._yKeys,t)||(this._yKeys=t,this.yData=[],this.processSeriesItemEnabled())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibles",{get:function(){return this._visibles},set:function(t){this._visibles=t,this.processSeriesItemEnabled()},enumerable:!0,configurable:!0}),e.prototype.processSeriesItemEnabled=function(){var t=this.seriesItemEnabled,e=this._visibles,n=void 0===e?[]:e;t.clear(),this._yKeys.forEach(function(e,o){var r;return t.set(e,null==(r=n[o])||r)})},e.prototype.setColors=function(t,e){this.fills=t,this.strokes=e},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo!==e&&(this._normalizedTo=e)},enumerable:!0,configurable:!0}),e.prototype.processData=function(){var t,e,n,o,r,i,s=this,a=this,l=a.xKey,c=a.yKeys,u=a.seriesItemEnabled,p=a.xAxis,d=a.yAxis,h=a.normalizedTo,f=l&&c.length&&this.data?this.data:[];if(!p||!d)return!1;var g=p.scale instanceof ContinuousScale$1,m=d.scale instanceof ContinuousScale$1,y=h&&isFinite(h),_=[],v=[],C=[],E=function(t){if(!(l in t))return doOnce$1(function(){return console.warn("The key '"+l+"' was not found in the data: ",t)},l+" not found in data"),"continue";var e=w.checkDatum(t[l],g);if(g&&void 0===e)return"continue";C.push(e),v.push({xDatum:e,seriesDatum:t}),c.forEach(function(e,n){if(e in t){var o=t[e],r=_[n]||(_[n]=[]);if(u.get(e)){var i=s.checkDatum(o,m);r.push(i)}else r.push(0)}else doOnce$1(function(){return console.warn("The key '"+e+"' was not found in the data: ",t)},e+" not found in data")})},w=this;try{for(var O=__values$b(f),b=O.next();!b.done;b=O.next())E(b.value)}catch(k){t={error:k}}finally{try{b&&!b.done&&(e=O.return)&&e.call(O)}finally{if(t)throw t.error}}this.yData=_,this.xData=v,this.xDomain=g?this.fixNumericExtent(extent$1(C,isContinuous$1),p):C;for(var S=0,P=0,D=0;D<v.length;D++){var T={sum:0,absSum:0};try{for(var R=(n=void 0,__values$b(_)),A=R.next();!A.done;A=R.next())if(void 0!==(F=A.value)[D]){var M=+F[D];T.absSum+=Math.abs(M),T.sum+=M,T.sum>P?P=T.sum:T.sum<S&&(S=T.sum)}}catch(G){n={error:G}}finally{try{A&&!A.done&&(o=R.return)&&o.call(R)}finally{if(n)throw n.error}}if(y&&h){var x=0;try{for(var I=(r=void 0,__values$b(_)),L=I.next();!L.done;L=I.next()){var F,N=+(F=L.value)[D]/T.absSum*h;F[D]=N,(x+=N)>P?P=x:x<S&&(S=x)}}catch(B){r={error:B}}finally{try{L&&!L.done&&(i=I.return)&&i.call(I)}finally{if(r)throw r.error}}}}return y&&h&&(S=S<.5*-h?-h:S,P=P>.5*h?h:P),this.yDomain=this.fixNumericExtent([S,P],d),!0},e.prototype.findLargestMinMax=function(t){var e,n,o=0,r=0;try{for(var i=__values$b(t),s=i.next();!s.done;s=i.next()){var a=s.value;a.min<o&&(o=a.min),a.max>r&&(r=a.max)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{min:o,max:r}},e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.xDomain:this.yDomain},e.prototype.createNodeData=function(){var t=this,e=this,n=e.xAxis,o=e.yAxis,r=e.xData,i=e.yData;if(!(e.data&&n&&o&&r.length&&i.length))return[];var s=[],a=this,l=a.yKeys,c=a.marker,u=a.label,p=a.fills,d=a.strokes,h=n.scale,f=o.scale,g=f instanceof ContinuousScale$1,m=(h.bandwidth||0)/2,y=new Array(r.length).fill(null).map(function(){return{left:0,right:0}}),_=new Array(r.length).fill(0),v=function(t,e,n,o){var r=h.convert(t)+m,i=y[n][o]+e,s=f.convert(y[n][o],g?clamper$2:void 0),a=f.convert(i,g?clamper$2:void 0);return y[n][o]=i,[{x:r,y:a},{x:r,y:s}]};return i.forEach(function(e,n){var o=l[n],i=[],a=[],y={itemId:o,points:[],yValues:[]},C={itemId:o,points:[]};s[n]={itemId:o,fillSelectionData:C,labelData:i,nodeData:a,strokeSelectionData:y};var E=C.points,w=[],O=y.points,b=y.yValues;e.forEach(function(s,l){var y,C,S=r[l],P=S.xDatum,D=S.seriesDatum,T=null===(y=r[l+1])||void 0===y?void 0:y.xDatum,R=e[l+1],A=function(e,n,o,r){var i,s=t.normalizedTo&&isFinite(t.normalizedTo),a=s&&g&&isContinuous$1(r);return(!s&&!isNaN(n)||a)&&(i=_[o]+=n),{x:h.convert(e)+m,y:f.convert(i,g?clamper$2:void 0)}}(P,+s,l,D[o]);c&&a.push({index:l,series:t,itemId:o,datum:D,yValue:s,yKey:o,point:A,fill:p[n%p.length],stroke:d[n%d.length]}),C=u.formatter?u.formatter({value:s}):isNumber$1(s)?Number(s).toFixed(2):String(s),u&&i.push({index:l,itemId:o,point:A,label:t.seriesItemEnabled.get(o)&&C?{text:C,fontStyle:u.fontStyle,fontWeight:u.fontWeight,fontSize:u.fontSize,fontFamily:u.fontFamily,textAlign:"center",textBaseline:"bottom",fill:u.color}:void 0});var M=[P,T],x=[s,R];if(!M.some(function(t){return null==t})){x.some(function(t){return null==t})&&(x[0]=0,x[1]=0);var I=v(M[0],+x[0],l,"right");E.push(I[0]),w.push(I[1]);var L=v(M[1],+x[1],l,"left");E.push(L[0]),w.push(L[1]),O.push({x:NaN,y:NaN}),b.push(void 0),O.push(I[0]),b.push(s),void 0!==R&&(O.push(L[0]),b.push(s))}});for(var S=w.length-1;S>=0;S--)E.push(w[S])}),s},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.updatePaths=function(t){var e=t.contextData,n=e.fillSelectionData,o=e.strokeSelectionData,r=__read$p(t.paths,2),i=r[0],s=r[1];i.datum=n,i.tag=AreaSeriesTag.Fill,i.lineJoin="round",i.stroke=void 0,i.pointerEvents=PointerEvents$1.None,s.datum=o,s.tag=AreaSeriesTag.Stroke,s.fill=void 0,s.lineJoin=s.lineCap="round",s.pointerEvents=PointerEvents$1.None},e.prototype.updatePathNodes=function(t){var e,n,o,r,i=__read$p(t.paths,2),s=i[0],a=i[1],l=t.seriesIdx,c=t.itemId,u=this,p=u.strokes,d=u.fills,h=u.fillOpacity,f=u.strokeOpacity,g=u.strokeWidth,m=u.shadow,y=s.datum.points;s.fill=d[l%d.length],s.fillOpacity=h,s.strokeOpacity=f,s.strokeWidth=g,s.lineDash=this.lineDash,s.lineDashOffset=this.lineDashOffset,s.fillShadow=m,(w=s.path).clear({trackChanges:!0});var _=0;try{for(var v=__values$b(y),C=v.next();!C.done;C=v.next()){var E=C.value;_++>0?w.lineTo(E.x,E.y):w.moveTo(E.x,E.y)}}catch(T){e={error:T}}finally{try{C&&!C.done&&(n=v.return)&&n.call(v)}finally{if(e)throw e.error}}w.closePath(),s.checkPathDirty();var w,O=a.datum,b=(y=O.points,O.yValues),S=!0;a.stroke=p[l%p.length],a.strokeWidth=this.getStrokeWidth(this.strokeWidth,{itemId:c}),a.strokeOpacity=f,a.lineDash=this.lineDash,a.lineDashOffset=this.lineDashOffset,(w=a.path).clear({trackChanges:!0}),_=0;try{for(var P=__values$b(y),D=P.next();!D.done;D=P.next())E=D.value,void 0===b[_++]?S=!0:S?(w.moveTo(E.x,E.y),S=!1):w.lineTo(E.x,E.y)}catch(R){o={error:R}}finally{try{D&&!D.done&&(r=P.return)&&r.call(P)}finally{if(o)throw o.error}}a.checkPathDirty()},e.prototype.updateMarkerSelection=function(t){var e=t.nodeData,n=t.markerSelection,o=this.marker,r=o.enabled&&e?e:[],i=getMarker$1(o.shape);this.marker.isDirty()&&(n=n.setData([])).exit.remove();var s=n.setData(r);s.exit.remove();var a=s.enter.append(i).each(function(t){t.tag=AreaSeriesTag.Marker});return s.merge(a)},e.prototype.updateMarkerNodes=function(t){var e=t.isHighlight,n=this,o=n.xKey,r=n.marker,i=n.seriesItemEnabled,s=n.yKeys,a=n.fills,l=n.strokes,c=n.fillOpacity,u=n.strokeOpacity,p=n.highlightStyle,d=p.item,h=d.fill,f=void 0===h?p.fill:h,g=d.stroke,m=void 0===g?p.stroke:g,y=d.strokeWidth,_=void 0===y?p.strokeWidth:y,v=r.size,C=r.formatter,E=void 0!==r.strokeWidth?r.strokeWidth:this.strokeWidth;t.markerSelection.each(function(t,n){var p,d,h,g,y=s.indexOf(n.yKey),w=e&&void 0!==f?f:r.fill||a[y%a.length],O=e&&void 0!==m?m:r.stroke||l[y%a.length],b=e&&void 0!==_?_:E,S=void 0;C&&(S=C({datum:n.datum,xKey:o,yKey:n.yKey,fill:w,stroke:O,strokeWidth:b,size:v,highlighted:e})),t.fill=S&&S.fill||w,t.stroke=S&&S.stroke||O,t.strokeWidth=S&&void 0!==S.strokeWidth?S.strokeWidth:b,t.fillOpacity=null!=(d=null!=(p=r.fillOpacity)?p:c)?d:1,t.strokeOpacity=null!=(g=null!=(h=r.strokeOpacity)?h:u)?g:1,t.size=S&&void 0!==S.size?S.size:v,t.translationX=n.point.x,t.translationY=n.point.y,t.visible=t.size>0&&!!i.get(n.yKey)&&!isNaN(n.point.x)&&!isNaN(n.point.y)}),e||this.marker.markClean()},e.prototype.updateLabelSelection=function(t){var e=t.labelSelection.setData(t.labelData);e.exit.remove();var n=e.enter.append(Text$1).each(function(t){t.tag=AreaSeriesTag.Label});return e.merge(n)},e.prototype.updateLabelNodes=function(t){var e=this.label,n=e.enabled,o=e.fontStyle,r=e.fontWeight,i=e.fontSize,s=e.fontFamily,a=e.color;t.labelSelection.each(function(t,e){var l=e.point,c=e.label;c&&n?(t.fontStyle=o,t.fontWeight=r,t.fontSize=i,t.fontFamily=s,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=l.x,t.y=l.y-10,t.fill=a,t.visible=!0):t.visible=!1})},e.prototype.getZIndex=function(e){var n=t.prototype.getZIndex.call(this,e);return this._yKeys.length>1?n-10:n},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.datum,xKey:this.xKey,yKey:e.yKey})},e.prototype.getTooltipHtml=function(t){var e=this.xKey,n=t.yKey;if(!e||!n||!this.seriesItemEnabled.get(n))return"";var o=t.datum,r=o[e],i=o[n],s=this.xAxis,a=this.yAxis;if(!(s&&a&&isNumber$1(i)))return"";var l=this,c=l.xName,u=l.yKeys,p=l.yNames,d=l.yData,h=l.fills,f=l.strokes,g=l.tooltip,m=l.marker,y=m.size,_=m.formatter,v=m.strokeWidth,C=m.fill,E=m.stroke,w=s.formatDatum(r),O=a.formatDatum(i),b=u.indexOf(n),S=d[b][t.index],P=p[b],D=sanitizeHtml(P),T=sanitizeHtml(w+": "+O),R=C||h[b%h.length],A=void 0;_&&(A=_({datum:o,xKey:e,yKey:n,fill:R,stroke:E||f[b%h.length],strokeWidth:void 0!==v?v:this.strokeWidth,size:y,highlighted:!1}));var M=A&&A.fill||R,x={title:D,backgroundColor:M,content:T},I=g.renderer,L=g.format;if(L||I){var F={datum:o,xKey:e,xName:c,xValue:r,yKey:n,yValue:i,processedYValue:S,yName:P,color:M};if(L)return toTooltipHtml$1({content:interpolate(L,F)},x);if(I)return toTooltipHtml$1(I(F),x)}return toTooltipHtml$1(x)},e.prototype.listSeriesItems=function(t){var e=this,n=e.data,o=e.id,r=e.yKeys,i=e.yNames,s=e.seriesItemEnabled,a=e.marker,l=e.fills,c=e.strokes,u=e.fillOpacity,p=e.strokeOpacity;n&&n.length&&e.xKey&&r.length&&r.forEach(function(e,n){var d,h;t.push({id:o,itemId:e,enabled:s.get(e)||!1,label:{text:i[n]||r[n]},marker:{shape:a.shape,fill:a.fill||l[n%l.length],stroke:a.stroke||c[n%c.length],fillOpacity:(d=a.fillOpacity,null!=d?d:u),strokeOpacity:(h=a.strokeOpacity,null!=h?h:p)}})})},e.className="AreaSeries",e.type="area",e}(CartesianSeries),__extends$26=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__values$a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$o(arguments[e]));return t},BarSeriesNodeTag=(()=>(function(t){t[t.Bar=0]="Bar",t[t.Label=1]="Label"}(BarSeriesNodeTag||(BarSeriesNodeTag={})),BarSeriesNodeTag))(),BarLabelPlacement=(()=>(function(t){t.Inside="inside",t.Outside="outside"}(BarLabelPlacement||(BarLabelPlacement={})),BarLabelPlacement))(),BarSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement=BarLabelPlacement.Inside,e}return __extends$26(e,t),e}(Label$1),BarSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$26(e,t),e}(SeriesTooltip);function flat(t,e){return void 0===e&&(e=[]),t.forEach(function(t){Array.isArray(t)?flat(t,e):e.push(t)}),e}function is2dArray$1(t){return t.length>0&&Array.isArray(t[0])}var BarSeries=function(t){function e(){var e,n=t.call(this,{pickGroupIncludes:["datumNodes"],pathsPerSeries:0})||this;return n.xData=[],n.yData=[],n.yDomain=[],n.label=new BarSeriesLabel,n.tooltip=new BarSeriesTooltip,n.flipXY=!1,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.formatter=void 0,n.groupScale=new BandScale$1,n.directionKeys=((e={})[ChartAxisDirection.X]=["xKey"],e[ChartAxisDirection.Y]=["yKeys"],e),n._xKey="",n.xName="",n.cumYKeyCount=[],n.flatYKeys=void 0,n.hideInLegend=[],n._yKeys=[],n._grouped=!1,n._yNames={},n.strokeWidth=1,n.shadow=void 0,n.smallestDataInterval=void 0,n.label.enabled=!1,n}return __extends$26(e,t),e.prototype.getKeys=function(t){var e=this,n=this.directionKeys,o=n&&n[this.flipXY?flipChartAxisDirection(t):t],r=[];return o&&o.forEach(function(t){var n=e[t];n&&(Array.isArray(n)?r=r.concat(flat(n)):r.push(n))}),r},Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.xData=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yKeys",{get:function(){return this._yKeys},set:function(t){var e=this,n=void 0;if(is2dArray$1(t)||(n=t,t=this.grouped?n.map(function(t){return[t]}):[n]),!equal(this._yKeys,t)){this.flatYKeys=n||void 0,this._yKeys=t;var o=0;this.cumYKeyCount=[];var r=[];t.forEach(function(t,n){t.length>0&&r.push(String(n)),e.cumYKeyCount.push(o),o+=t.length}),this.yData=[],this.processSeriesItemEnabled();var i=this.groupScale;i.domain=r,i.padding=.1,i.round=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibles",{get:function(){return this._visibles},set:function(t){this._visibles=is2dArray$1(t)?t:this.grouped?t.map(function(t){return[t]}):[t],this.processSeriesItemEnabled()},enumerable:!0,configurable:!0}),e.prototype.processSeriesItemEnabled=function(){var t=this.seriesItemEnabled,e=this._visibles,n=void 0===e?[]:e;t.clear(),this._yKeys.forEach(function(e,o){var r=n[o];e.forEach(function(e,n){var o,i;return t.set(e,null==(i=null===(o=r)||void 0===o?void 0:o[n])||i)})})},Object.defineProperty(e.prototype,"grouped",{get:function(){return this._grouped},set:function(t){this._grouped!==t&&(this._grouped=t,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yNames",{get:function(){return this._yNames},set:function(t){if(Array.isArray(t)&&this.flatYKeys){var e={};this.flatYKeys.forEach(function(n,o){e[n]=t[o]}),t=e}this._yNames=t},enumerable:!0,configurable:!0}),e.prototype.setColors=function(t,e){this.fills=t,this.strokes=e},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo=e},enumerable:!0,configurable:!0}),e.prototype.processData=function(){var t=this,e=this,n=e.xKey,o=e.yKeys,r=e.seriesItemEnabled,i=n&&o.length&&this.data?this.data:[],s=this.getCategoryAxis(),a=this.getValueAxis();if(!s||!a)return!1;var l=s.scale instanceof ContinuousScale$1,c=a.scale instanceof ContinuousScale$1,u=!0,p=1/0;this.xData=i.map(function(e){u&&!(n in e)&&(u=!1,console.warn("The key '"+n+"' was not found in the data: ",e));var o=t.checkDatum(e[n],l);return l&&function(e,n){void 0===t.smallestDataInterval&&(t.smallestDataInterval={x:1/0,y:1/0});var o=t.smallestDataInterval.x,r=Math.abs(e-n);r>0&&r<o&&(t.smallestDataInterval.x=r)}(o,p),p=o,o}),this.yData=i.map(function(e){return o.map(function(n){return n.map(function(n){u&&!(n in e)&&(u=!1,console.warn("The key '"+n+"' was not found in the data: ",e));var o=t.checkDatum(e[n],c);return r.get(n)&&void 0!==o?o:0})})});var d,h,f=this.yData.map(function(t){return t.map(function(t){return findMinMax(t)})}),g=this.yData,m=this.normalizedTo,y=this.yData.map(function(t){return t.map(function(t){return t.reduce(function(t,e){return t+Math.abs(e)},0)})}),_=this.findLargestMinMax(f);return m&&isFinite(m)?(d=_.min<0?-m:0,h=_.max>0?m:0,g.forEach(function(t,e){t.forEach(function(t,n){t.forEach(function(o,r){t[r]=o/y[e][n]*m})})})):(d=_.min,h=_.max),this.yDomain=this.fixNumericExtent([d,h],this.yAxis),!0},e.prototype.findLargestMinMax=function(t){var e,n,o,r,i=0,s=0;try{for(var a=__values$a(t),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var u=(o=void 0,__values$a(c)),p=u.next();!p.done;p=u.next()){var d=p.value;d.min<i&&(i=d.min),d.max>s&&(s=d.max)}}catch(h){o={error:h}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}}}catch(f){e={error:f}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return{min:i,max:s}},e.prototype.getDomain=function(t){return this.flipXY&&(t=flipChartAxisDirection(t)),t===ChartAxisDirection.X?this.xData:this.yDomain},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.datum,xKey:this.xKey,yKey:e.yKey})},e.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},e.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},e.prototype.calculateStep=function(t){var e,n,o=this.smallestDataInterval,r=this.getCategoryAxis();if(r){var i=(r.domain[1]-r.domain[0])/(null!=(n=null===(e=o)||void 0===e?void 0:e.x)?n:1)+1,s=Math.floor(t),a=Math.min(i,s);return t/Math.max(1,a)}},e.prototype.createNodeData=function(){var t=this,e=this,n=e.chart,o=e.data,r=e.visible,i=this.getCategoryAxis(),s=this.getValueAxis();if(!(n&&o&&r&&i&&s))return[];var a=this.flipXY,l=i.scale,c=s.scale,u=this,p=u.groupScale,d=u.yKeys,h=u.cumYKeyCount,f=u.fills,g=u.strokes,m=u.strokeWidth,y=u.seriesItemEnabled,_=u.xData,v=u.yData,C=u.label,E=C.fontStyle,w=C.fontWeight,O=C.fontSize,b=C.fontFamily,S=C.color,P=C.formatter,D=C.placement,T=l.bandwidth;if(l instanceof ContinuousScale$1){var R=Math.max(i.range[0],i.range[1]),A=this.calculateStep(R);T=A,l.range=this.flipXY?[R-(null!=A?A:0),0]:[0,R-(null!=A?A:0)]}p.range=[0,T];var M=p.bandwidth,x=[];return _.forEach(function(e,n){for(var r,s,u=o[n],_=l.convert(e),C=v[n],T=0;T<C.length;T++){var R=C[T];x[T]=null!=(r=x[T])?r:[];for(var A=0,I=0,L=0;L<R.length;L++){var F=+R[L],N=d[T][L],k=_+p.convert(String(T));if(x[T][L]=null!=(s=x[T][L])?s:{itemId:N,nodeData:[],labelData:[]},i.inRange(k,M)){var G,B=F<0?A:I,W=c instanceof ContinuousScale$1,V=c.convert(B+F,W?clamper$2:void 0),H=c.convert(B,W?clamper$2:void 0),U=u[N];G=P?P({value:isNumber$1(U)?U:void 0}):isNumber$1(U)?U.toFixed(2):"";var $=void 0,z=void 0;a?(z=k+M/2,$=D===BarLabelPlacement.Inside?V+(U>=0?-1:1)*Math.abs(H-V)/2:V+4*(U>=0?1:-1)):($=k+M/2,z=D===BarLabelPlacement.Inside?V+(U>=0?1:-1)*Math.abs(H-V)/2:V+(U>=0?-3:4));var j=void 0,K=void 0;D===BarLabelPlacement.Inside?(j="center",K="middle"):(j=a?U>=0?"start":"end":"center",K=a?"middle":U>=0?"bottom":"top");var Y=h[T]+L,q={index:n,series:t,itemId:N,datum:u,yValue:U,yKey:N,x:a?Math.min(V,H):k,y:a?k:Math.min(V,H),width:a?Math.abs(H-V):M,height:a?M:Math.abs(H-V),colorIndex:Y,fill:f[Y%f.length],stroke:g[Y%g.length],strokeWidth:m,label:y.get(N)&&G?{text:G,fontStyle:E,fontWeight:w,fontSize:O,fontFamily:b,textAlign:j,textBaseline:K,fill:S,x:$,y:z}:void 0};x[T][L].nodeData.push(q),x[T][L].labelData.push(q),F<0?A+=F:I+=F}}}}),x.reduce(function(t,e){return t.concat.apply(t,__spread$a(e))},[])},e.prototype.updateDatumSelection=function(t){var e=t.datumSelection.setData(t.nodeData);e.exit.remove();var n=e.enter.append(Rect).each(function(t){t.tag=BarSeriesNodeTag.Bar,t.crisp=!0});return e.merge(n)},e.prototype.updateDatumNodes=function(t){var e=this,n=t.isHighlight,o=this,r=o.fills,i=o.strokes,s=o.fillOpacity,a=o.strokeOpacity,l=o.shadow,c=o.formatter,u=o.xKey,p=o.flipXY,d=o.highlightStyle,h=d.item,f=h.fill,g=void 0===f?d.fill:f,m=h.stroke,y=void 0===m?d.stroke:m,_=h.strokeWidth,v=void 0===_?d.strokeWidth:_;t.datumSelection.each(function(t,o){if(t.visible=!n||n,t.visible){var d=o.colorIndex,h=n&&void 0!==g?g:r[d%r.length],f=n&&void 0!==y?y:i[d%r.length],m=n&&void 0!==v?v:e.getStrokeWidth(e.strokeWidth,o),_=void 0;c&&(_=c({datum:o.datum,fill:h,stroke:f,strokeWidth:m,highlighted:n,xKey:u,yKey:o.yKey})),t.x=o.x,t.y=o.y,t.width=o.width,t.height=o.height,t.fill=_&&_.fill||h,t.stroke=_&&_.stroke||f,t.strokeWidth=_&&void 0!==_.strokeWidth?_.strokeWidth:m,t.fillOpacity=s,t.strokeOpacity=a,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=l,t.visible=p?o.width>0:o.height>0}})},e.prototype.updateLabelSelection=function(t){var e=t.labelSelection.setData(this.label.enabled?t.labelData:[]);e.exit.remove();var n=e.enter.append(Text$1).each(function(t){t.tag=BarSeriesNodeTag.Label,t.pointerEvents=PointerEvents$1.None});return e.merge(n)},e.prototype.updateLabelNodes=function(t){var e=this.label,n=e.enabled,o=e.fontStyle,r=e.fontWeight,i=e.fontSize,s=e.fontFamily,a=e.color;t.labelSelection.each(function(t,e){var l=e.label;l&&n?(t.fontStyle=o,t.fontWeight=r,t.fontSize=i,t.fontFamily=s,t.textAlign=l.textAlign,t.textBaseline=l.textBaseline,t.text=l.text,t.x=l.x,t.y=l.y,t.fill=a,t.visible=!0):t.visible=!1})},e.prototype.getTooltipHtml=function(t){var e=this,n=e.xKey,o=e.yKeys,r=e.yData,i=this.getCategoryAxis(),s=this.getValueAxis(),a=t.yKey;if(!(r.length&&n&&a&&i&&s))return"";for(var l=r[t.index],c=0,u=0,p=0;p<o.length;p++){var d=o[p];if((u=d.indexOf(a))>=0){c+=u;break}c+=d.length}var h=this,f=h.xName,g=h.fills,m=h.formatter,y=h.tooltip.renderer,_=t.datum,v=h.yNames[a],C=g[c%g.length],E=h.strokes[c%g.length],w=this.getStrokeWidth(this.strokeWidth),O=_[n],b=_[a],S=l[p][u],P=sanitizeHtml(i.formatDatum(O)),D=sanitizeHtml(s.formatDatum(b)),T=sanitizeHtml(v),R=P+": "+D,A=void 0;m&&(A=m({datum:_,fill:C,stroke:E,strokeWidth:w,highlighted:!1,xKey:n,yKey:a}));var M=A&&A.fill||C,x={title:T,backgroundColor:M,content:R};return y?toTooltipHtml$1(y({datum:_,xKey:n,xValue:O,xName:f,yKey:a,yValue:b,processedYValue:S,yName:v,color:M}),x):toTooltipHtml$1(x)},e.prototype.listSeriesItems=function(t){var e=this,n=e.id,o=e.data,r=e.yNames,i=e.cumYKeyCount,s=e.seriesItemEnabled,a=e.hideInLegend,l=e.fills,c=e.strokes,u=e.fillOpacity,p=e.strokeOpacity;o&&o.length&&e.xKey&&e.yKeys.length&&this.yKeys.forEach(function(e,o){e.forEach(function(e,d){if(a.indexOf(e)<0){var h=i[o]+d;t.push({id:n,itemId:e,enabled:s.get(e)||!1,label:{text:r[e]||e},marker:{fill:l[h%l.length],stroke:c[h%c.length],fillOpacity:u,strokeOpacity:p}})}})})},e.prototype.toggleSeriesItem=function(e,n){t.prototype.toggleSeriesItem.call(this,e,n);var o=this.yKeys.map(function(t){return t.slice()});this.seriesItemEnabled.forEach(function(t,e){t||o.forEach(function(t){var n=t.indexOf(e);n>=0&&t.splice(n,1)})});var r=[];o.forEach(function(t,e){t.length>0&&r.push(String(e))}),this.groupScale.domain=r,this.nodeDataRefresh=!0},e.className="BarSeries",e.type="bar",e}(CartesianSeries),__extends$25=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__values$9=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},LineSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$25(e,t),e}(Label$1),LineSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$25(e,t),e}(SeriesTooltip),LineSeries=function(t){function e(){var e=t.call(this,{pickGroupIncludes:["markers"],features:["markers"]})||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.marker=new CartesianSeriesMarker,e.label=new LineSeriesLabel,e.title=void 0,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new LineSeriesTooltip,e._xKey="",e.xName="",e._yKey="",e.yName="";var n=e.marker,o=e.label;return n.fill="#c16068",n.stroke="#874349",o.enabled=!1,e}return __extends$25(e,t),e.prototype.setColors=function(t,e){this.stroke=t[0],this.marker.stroke=e[0],this.marker.fill=t[0]},Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.xData=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yKey",{get:function(){return this._yKey},set:function(t){this._yKey=t,this.yData=[]},enumerable:!0,configurable:!0}),e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.xDomain:this.yDomain},e.prototype.processData=function(){var t,e,n=this,o=n.xAxis,r=n.yAxis,i=n.xKey,s=n.yKey,a=n.xData,l=n.yData,c=i&&s&&this.data?this.data:[];if(!o||!r)return!1;var u=o.scale instanceof ContinuousScale$1,p=r.scale instanceof ContinuousScale$1;a.length=0,l.length=0;try{for(var d=__values$9(c),h=d.next();!h.done;h=d.next()){var f=h.value,g=f[s],m=this.checkDatum(f[i],u);if(!u||void 0!==m){a.push(m);var y=this.checkDatum(g,p);l.push(y)}}}catch(_){t={error:_}}finally{try{h&&!h.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}return this.xDomain=u?this.fixNumericExtent(extent$1(a,isContinuous$1),o):a,this.yDomain=p?this.fixNumericExtent(extent$1(l,isContinuous$1),r):l,!0},e.prototype.createNodeData=function(){var t,e=this,n=e.data,o=e.xAxis,r=e.yAxis;if(!n||!o||!r)return[];for(var i=this,s=i.xData,a=i.yData,l=i.label,c=i.xKey,u=i.yKey,p=o.scale,d=r.scale,h=(p.bandwidth||0)/2,f=(d.bandwidth||0)/2,g=new Array(n.length),m=!0,y=void 0,_=void 0,v=0,C=0;C<s.length;C++){var E=_||[s[C],a[C]];if(void 0===E[1])y=void 0,m=!0;else{var w=__read$n(E,2),O=w[0],b=w[1],S=p.convert(O)+h;if(isNaN(S)){y=void 0,m=!0;continue}var P=(p.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;_=void 0===a[C+1]?void 0:[s[C+1],a[C+1]];var D=o.inRangeEx(S,0,P),T=_&&o.inRangeEx(p.convert(_[0])+h,0,P);if(-1===D&&-1===T){m=!0;continue}if(1===D&&1===y){m=!0;continue}y=D;var R,A=d.convert(b)+f;R=l.formatter?l.formatter({value:b}):"number"==typeof b&&isFinite(b)?b.toFixed(2):b?String(b):"";var M=((t={})[c]=O,t[u]=b,t);g[v++]={series:this,datum:M,point:{x:S,y:A,moveTo:m},label:R?{text:R,fontStyle:l.fontStyle,fontWeight:l.fontWeight,fontSize:l.fontSize,fontFamily:l.fontFamily,textAlign:"center",textBaseline:"bottom",fill:l.color}:void 0},m=!1}}return g.length=v,[{itemId:u,nodeData:g,labelData:g}]},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.updatePaths=function(t){var e,n,o=t.contextData.nodeData,r=__read$n(t.paths,1)[0],i=r.path;r.fill=void 0,r.lineJoin="round",r.pointerEvents=PointerEvents$1.None,i.clear({trackChanges:!0});try{for(var s=__values$9(o),a=s.next();!a.done;a=s.next()){var l=a.value;l.point.moveTo?i.moveTo(l.point.x,l.point.y):i.lineTo(l.point.x,l.point.y)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}r.checkPathDirty()},e.prototype.updatePathNodes=function(t){var e=__read$n(t.paths,1)[0];e.stroke=this.stroke,e.strokeWidth=this.getStrokeWidth(this.strokeWidth),e.strokeOpacity=this.strokeOpacity,e.lineDash=this.lineDash,e.lineDashOffset=this.lineDashOffset},e.prototype.updateMarkerSelection=function(t){var e=t.nodeData,n=t.markerSelection,o=this.marker,r=o.shape;e=r&&o.enabled?e:[];var i=getMarker$1(r);this.marker.isDirty()&&(n=n.setData([])).exit.remove();var s=n.setData(e);s.exit.remove();var a=s.enter.append(i);return s.merge(a)},e.prototype.updateMarkerNodes=function(t){var e=t.isHighlight,n=this,o=n.marker,r=n.xKey,i=n.yKey,s=n.stroke,a=n.strokeOpacity,l=n.highlightStyle,c=l.item,u=c.fill,p=void 0===u?l.fill:u,d=c.stroke,h=void 0===d?l.stroke:d,f=c.strokeWidth,g=void 0===f?l.strokeWidth:f,m=o.size,y=o.formatter,_=void 0!==o.strokeWidth?o.strokeWidth:this.strokeWidth;t.markerSelection.each(function(t,n){var l,c,u,d=e&&void 0!==p?p:o.fill,f=e&&void 0!==h?h:o.stroke||s,v=e&&void 0!==g?g:_,C=void 0;y&&(C=y({datum:n.datum,xKey:r,yKey:i,fill:d,stroke:f,strokeWidth:v,size:m,highlighted:e})),t.fill=C&&C.fill||d,t.stroke=C&&C.stroke||f,t.strokeWidth=C&&void 0!==C.strokeWidth?C.strokeWidth:v,t.fillOpacity=null!=(l=o.fillOpacity)?l:1,t.strokeOpacity=null!=(u=null!=(c=o.strokeOpacity)?c:a)?u:1,t.size=C&&void 0!==C.size?C.size:m,t.translationX=n.point.x,t.translationY=n.point.y,t.visible=t.size>0}),e||this.marker.markClean()},e.prototype.updateLabelSelection=function(t){var e=t.labelData,n=t.labelSelection,o=this.marker,r=o.shape;e=r&&o.enabled?e:[],getMarker$1(r);var i=n.setData(e);i.exit.remove();var s=i.enter.append(Text$1);return i.merge(s)},e.prototype.updateLabelNodes=function(t){var e=this.label,n=e.enabled,o=e.fontStyle,r=e.fontWeight,i=e.fontSize,s=e.fontFamily,a=e.color;t.labelSelection.each(function(t,e){var l=e.point,c=e.label;e&&c&&n?(t.fontStyle=o,t.fontWeight=r,t.fontSize=i,t.fontFamily=s,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=l.x,t.y=l.y-10,t.fill=a,t.visible=!0):t.visible=!1})},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.datum,xKey:this.xKey,yKey:this.yKey})},e.prototype.getTooltipHtml=function(t){var e=this,n=e.xKey,o=e.yKey,r=e.xAxis,i=e.yAxis;if(!(n&&o&&r&&i))return"";var s=this,a=s.xName,l=s.yName,c=s.tooltip,u=s.marker,p=c.renderer,d=c.format,h=t.datum,f=h[n],g=h[o],m=r.formatDatum(f),y=i.formatDatum(g),_=sanitizeHtml(this.title||l),v=sanitizeHtml(m+": "+y),C=u.formatter,E=u.fill,w=u.strokeWidth,O=void 0;C&&(O=C({datum:h,xKey:n,yKey:o,fill:E,stroke:u.stroke,strokeWidth:void 0!==w?w:this.strokeWidth,size:u.size,highlighted:!1}));var b=O&&O.fill||E,S={title:_,backgroundColor:b,content:v};if(d||p){var P={datum:h,xKey:n,xValue:f,xName:a,yKey:o,yValue:g,yName:l,title:_,color:b};if(d)return toTooltipHtml$1({content:interpolate(d,P)},S);if(p)return toTooltipHtml$1(p(P),S)}return toTooltipHtml$1(S)},e.prototype.listSeriesItems=function(t){var e,n,o,r=this,i=r.data,s=r.yKey,a=r.marker;i&&i.length&&r.xKey&&s&&t.push({id:r.id,itemId:void 0,enabled:r.visible,label:{text:r.title||r.yName||s},marker:{shape:a.shape,fill:a.fill||"rgba(0, 0, 0, 0)",stroke:a.stroke||r.stroke||"rgba(0, 0, 0, 0)",fillOpacity:(e=a.fillOpacity,null!=e?e:1),strokeOpacity:(n=a.strokeOpacity,o=null!=n?n:r.strokeOpacity,null!=o?o:1)}})},e.className="LineSeries",e.type="line",e}(CartesianSeries),__extends$24=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$r=function(){return(__assign$r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$17=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ScatterSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$24(e,t),e}(SeriesTooltip),ScatterSeries=function(t){function e(){var e=t.call(this,{pickGroupIncludes:["markers"],pathsPerSeries:0,features:["markers"]})||this;return e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.validData=[],e.sizeData=[],e.sizeScale=new LinearScale$1,e.marker=new CartesianSeriesMarker,e.label=new Label$1,e.fill="#c16068",e.stroke="#874349",e.strokeWidth=2,e.fillOpacity=1,e.strokeOpacity=1,e.title=void 0,e.labelKey=void 0,e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e._xKey="",e._yKey="",e._sizeKey=void 0,e.tooltip=new ScatterSeriesTooltip,e.label.enabled=!1,e}return __extends$24(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.xData=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yKey",{get:function(){return this._yKey},set:function(t){this._yKey=t,this.yData=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeKey",{get:function(){return this._sizeKey},set:function(t){this._sizeKey=t,this.sizeData=[]},enumerable:!0,configurable:!0}),e.prototype.setColors=function(t,e){this.marker.fill=t[0],this.marker.stroke=e[0]},e.prototype.processData=function(){var t=this,e=this,n=e.xKey,o=e.yKey,r=e.sizeKey,i=e.xAxis,s=e.yAxis,a=e.marker;if(!i||!s)return!1;var l=i.scale instanceof ContinuousScale$1,c=s.scale instanceof ContinuousScale$1;return this.validData=(n&&o&&this.data?this.data:[]).filter(function(e){return void 0!==t.checkDatum(e[n],l)&&void 0!==t.checkDatum(e[o],c)}),this.xData=this.validData.map(function(t){return t[n]}),this.yData=this.validData.map(function(t){return t[o]}),this.sizeData=r?this.validData.map(function(t){return t[r]}):[],this.sizeScale.domain=a.domain?a.domain:extent$1(this.sizeData,isContinuous$1)||[1,1],this.xDomain=i.scale instanceof ContinuousScale$1?this.fixNumericExtent(extent$1(this.xData,isContinuous$1),i):this.xData,this.yDomain=s.scale instanceof ContinuousScale$1?this.fixNumericExtent(extent$1(this.yData,isContinuous$1),s):this.yData,!0},e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.xDomain:this.yDomain},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.datum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},e.prototype.createNodeData=function(){var t=this,e=t.xAxis,n=t.yAxis,o=t.label,r=t.labelKey;if(!(t.chart&&t.data&&t.visible&&e&&n))return[];var i=e.scale,s=n.scale,a=i instanceof ContinuousScale$1,l=s instanceof ContinuousScale$1,c=(i.bandwidth||0)/2,u=(s.bandwidth||0)/2,p=this,d=p.xData,h=p.yData,f=p.validData,g=p.sizeData,m=p.sizeScale,y=p.marker,_=new Array(d.length);m.range=[y.size,y.maxSize];for(var v=o.getFont(),C=0,E=0;E<d.length;E++){var w=this.checkDomainXY(d[E],h[E],a,l);if(w){var O=i.convert(w[0])+c,b=s.convert(w[1])+u;if(this.checkRangeXY(O,b,e,n)){var S=r?String(f[E][r]):"",P=HdpiCanvas$1.getTextSize(S,v);_[C++]={series:this,datum:f[E],point:{x:O,y:b},size:g.length?m.convert(g[E]):y.size,label:__assign$r({text:S},P)}}}}return _.length=C,[{itemId:this.yKey,nodeData:_,labelData:_}]},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.updateMarkerSelection=function(t){var e=t.nodeData,n=t.markerSelection,o=this.marker,r=o.enabled,i=getMarker$1(o.shape);this.marker.isDirty()&&(n=n.setData([])).exit.remove();var s=n.setData(r?e:[]);s.exit.remove();var a=s.enter.append(i);return s.merge(a)},e.prototype.updateMarkerNodes=function(t){var e=t.markerSelection,n=t.isHighlight,o=this,r=o.marker,i=o.xKey,s=o.yKey,a=o.fillOpacity,l=o.strokeOpacity,c=o.fill,u=o.stroke,p=o.highlightStyle,d=p.item,h=d.fill,f=void 0===h?p.fill:h,g=d.stroke,m=void 0===g?p.stroke:g,y=d.strokeWidth,_=void 0===y?p.strokeWidth:y,v=void 0!==r.strokeWidth?r.strokeWidth:o.strokeWidth,C=r.formatter;o.sizeScale.range=[r.size,r.maxSize],e.each(function(t,e){var o=n&&void 0!==f?f:r.fill||c,p=n&&void 0!==m?m:r.stroke||u,d=n&&void 0!==_?_:v,h=e.size,g=void 0;C&&(g=C({datum:e.datum,xKey:i,yKey:s,fill:o,stroke:p,strokeWidth:d,size:h,highlighted:n})),t.fill=g&&g.fill||o,t.stroke=g&&g.stroke||p,t.strokeWidth=g&&void 0!==g.strokeWidth?g.strokeWidth:d,t.size=g&&void 0!==g.size?g.size:h,t.fillOpacity=void 0!==r.fillOpacity?r.fillOpacity:a,t.strokeOpacity=void 0!==r.strokeOpacity?r.strokeOpacity:l,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0}),n||this.marker.markClean()},e.prototype.updateLabelSelection=function(t){var e,n,o=t.labelSelection,r=(null!=(n=null===(e=this.chart)||void 0===e?void 0:e.placeLabels().get(this))?n:[]).map(function(t){return __assign$r(__assign$r({},t.datum),{point:{x:t.x,y:t.y}})}),i=o.setData(r);i.exit.remove();var s=i.enter.append(Text$1);return i.merge(s)},e.prototype.updateLabelNodes=function(t){var e=this.label;t.labelSelection.each(function(t,n){t.text=n.label.text,t.fill=e.color,t.x=n.point.x,t.y=n.point.y,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.textAlign="left",t.textBaseline="top"})},e.prototype.getTooltipHtml=function(t){var e,n,o=this,r=o.xKey,i=o.yKey,s=o.xAxis,a=o.yAxis;if(!(r&&i&&s&&a))return"";var l=this,c=l.marker,u=l.tooltip,p=l.xName,d=l.yName,h=l.sizeKey,f=l.sizeName,g=l.labelKey,m=l.labelName,y=null!=(e=c.fill)?e:l.fill,_=null!=(n=c.stroke)?n:l.stroke,v=this.getStrokeWidth(c.strokeWidth||this.strokeWidth),C=this.marker.formatter,E=void 0;C&&(E=C({datum:t,xKey:r,yKey:i,fill:y,stroke:_,strokeWidth:v,size:t.size,highlighted:!1}));var w=E&&E.fill||y||"gray",O=this.title||d,b=t.datum,S=b[r],P=b[i],D=sanitizeHtml(s.formatDatum(S)),T=sanitizeHtml(a.formatDatum(P)),R="<b>"+sanitizeHtml(p||r)+"</b>: "+D+"<br><b>"+sanitizeHtml(d||i)+"</b>: "+T;h&&(R+="<br><b>"+sanitizeHtml(f||h)+"</b>: "+sanitizeHtml(b[h])),g&&(R="<b>"+sanitizeHtml(m||g)+"</b>: "+sanitizeHtml(b[g])+"<br>"+R);var A={title:O,backgroundColor:w,content:R},M=u.renderer;return M?toTooltipHtml$1(M({datum:b,xKey:r,xValue:S,xName:p,yKey:i,yValue:P,yName:d,sizeKey:h,sizeName:f,labelKey:g,labelName:m,title:O,color:w}),A):toTooltipHtml$1(A)},e.prototype.listSeriesItems=function(t){var e=this,n=e.data,o=e.yKey,r=e.marker;n&&n.length&&e.xKey&&o&&t.push({id:e.id,itemId:void 0,enabled:e.visible,label:{text:e.title||e.yName||o},marker:{shape:r.shape,fill:r.fill||e.fill||"rgba(0, 0, 0, 0)",stroke:r.stroke||e.stroke||"rgba(0, 0, 0, 0)",fillOpacity:void 0!==r.fillOpacity?r.fillOpacity:e.fillOpacity,strokeOpacity:void 0!==r.strokeOpacity?r.strokeOpacity:e.strokeOpacity}})},e.className="ScatterSeries",e.type="scatter",__decorate$17([Deprecated("Use marker.fill instead.",{default:"#c16068"})],e.prototype,"fill",void 0),__decorate$17([Deprecated("Use marker.stroke instead.",{default:"#874349"})],e.prototype,"stroke",void 0),__decorate$17([Deprecated("Use marker.strokeWidth instead.",{default:2})],e.prototype,"strokeWidth",void 0),__decorate$17([Deprecated("Use marker.fillOpacity instead.",{default:1})],e.prototype,"fillOpacity",void 0),__decorate$17([Deprecated("Use marker.strokeOpacity instead.",{default:1})],e.prototype,"strokeOpacity",void 0),e}(CartesianSeries),__extends$23=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$m=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$9=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$m(arguments[e]));return t},HistogramSeriesNodeTag=(()=>(function(t){t[t.Bin=0]="Bin",t[t.Label=1]="Label"}(HistogramSeriesNodeTag||(HistogramSeriesNodeTag={})),HistogramSeriesNodeTag))(),HistogramSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$23(e,t),e}(Label$1),defaultBinCount=10,aggregationFunctions={count:function(t){return t.data.length},sum:function(t,e){return t.data.reduce(function(t,n){return t+n[e]},0)},mean:function(t,e){return aggregationFunctions.sum(t,e)/aggregationFunctions.count(t,e)}},HistogramBin=function(){function t(t){var e=__read$m(t,2),n=e[0],o=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[n,o]}return t.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(t.prototype,"domainWidth",{get:function(){var t=__read$m(this.domain,2);return t[1]-t[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),t.prototype.calculateAggregatedValue=function(t,e){e||(t="count"),this.aggregatedValue=(0,aggregationFunctions[t])(this,e)},t.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},t}(),HistogramSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$23(e,t),e}(SeriesTooltip),HistogramSeries=function(t){function e(){var e,n=t.call(this)||this;return n.binnedData=[],n.xDomain=[],n.yDomain=[],n.label=new HistogramSeriesLabel,n.tooltip=new HistogramSeriesTooltip,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.directionKeys=((e={})[ChartAxisDirection.X]=["xKey"],e[ChartAxisDirection.Y]=["yKey"],e),n.xKey="",n.areaPlot=!1,n.bins=void 0,n.aggregation="count",n.binCount=void 0,n.xName="",n.yKey="",n.yName="",n.strokeWidth=1,n.shadow=void 0,n.label.enabled=!1,n}return __extends$23(e,t),e.prototype.getKeys=function(t){var e=this,n=this.directionKeys,o=n&&n[t],r=[];return o&&o.forEach(function(t){var n=e[t];n&&(Array.isArray(n)?r.push.apply(r,__spread$9(n)):r.push(n))}),r},e.prototype.setColors=function(t,e){this.fill=t[0],this.stroke=e[0]},e.prototype.deriveBins=function(){var t=this,e=this.bins;if(!this.data)return[];if(e)return e;var n=this.data.map(function(e){return e[t.xKey]}),o=this.fixNumericExtent(extent$1(n,isContinuous$1)),r=ticks$1(o[0],o[1],this.binCount||defaultBinCount),i=tickStep$1(o[0],o[1],this.binCount||defaultBinCount),s=r[0];return __spread$9([[s-i,s]],r.map(function(t){return[t,t+i]}))},e.prototype.placeDataInBins=function(t){var e=this,n=this.xKey,o=this.deriveBins(),r=t.slice().sort(function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}),i=0,s=[new HistogramBin(o[0])];t:for(var a=0,l=r.length;a<l;a++){for(var c=r[a];c[n]>o[i][1];){var u=o[++i];if(!u)break t;s.push(new HistogramBin(u))}s[i].addDatum(c)}return s.forEach(function(t){return t.calculateAggregatedValue(e.aggregation,e.yKey)}),s},Object.defineProperty(e.prototype,"xMax",{get:function(){var t=this;return this.data&&this.data.reduce(function(e,n){return Math.max(e,n[t.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),e.prototype.processData=function(){var t=this,e=this.data;this.binnedData=this.placeDataInBins(this.xKey&&e?e:[]);var n=extent$1(this.binnedData.map(function(e){return e.getY(t.areaPlot)}),isContinuous$1);return this.yDomain=this.fixNumericExtent([0,n?n[1]:1]),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],!0},e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.xDomain:this.yDomain},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.datum,xKey:this.xKey})},e.prototype.createNodeData=function(){var t=this,e=this.xAxis,n=this.yAxis;if(!this.seriesItemEnabled||!e||!n)return[];var o=e.scale,r=n.scale,i=this,s=i.fill,a=i.stroke,l=i.strokeWidth,c=[],u=this.label,p=u.formatter,d=void 0===p?function(t){return String(t.value)}:p,h=u.fontStyle,f=u.fontWeight,g=u.fontSize,m=u.fontFamily,y=u.color;return this.binnedData.forEach(function(e){var n=e.aggregatedValue,i=e.frequency,u=__read$m(e.domain,2),p=u[1],_=e.relativeHeight,v=o.convert(u[0]),C=o.convert(p),E=t.areaPlot?_:t.yKey?n:i,w=r.convert(0),O=r.convert(E),b=C-v,S=Math.abs(O-w),P=0!==E?{text:d({value:e.aggregatedValue}),fontStyle:h,fontWeight:f,fontSize:g,fontFamily:m,fill:y,x:v+b/2,y:O+S/2}:void 0;c.push({series:t,datum:e,x:v,y:O,width:b,height:S,fill:s,stroke:a,strokeWidth:l,label:P})}),[{itemId:this.yKey,nodeData:c,labelData:c}]},e.prototype.updateDatumSelection=function(t){var e=t.datumSelection.setData(t.nodeData);e.exit.remove();var n=e.enter.append(Rect).each(function(t){t.tag=HistogramSeriesNodeTag.Bin,t.crisp=!0});return e.merge(n)},e.prototype.updateDatumNodes=function(t){var e=this,n=t.isHighlight,o=this,r=o.fillOpacity,i=o.strokeOpacity,s=o.shadow,a=o.highlightStyle,l=a.item,c=l.fill,u=void 0===c?a.fill:c,p=l.stroke,d=void 0===p?a.stroke:p,h=l.strokeWidth,f=void 0===h?a.strokeWidth:h;t.datumSelection.each(function(t,o,a){var l=n&&void 0!==f?f:o.strokeWidth;t.x=o.x,t.y=o.y,t.width=o.width,t.height=o.height,t.fill=n&&void 0!==u?u:o.fill,t.stroke=n&&void 0!==d?d:o.stroke,t.fillOpacity=r,t.strokeOpacity=i,t.strokeWidth=l,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=s,t.zIndex=n?Series.highlightedZIndex:a,t.visible=o.height>0})},e.prototype.updateLabelSelection=function(t){var e=t.labelSelection.setData(t.labelData);e.exit.remove();var n=e.enter.append(Text$1).each(function(t){t.tag=HistogramSeriesNodeTag.Label,t.pointerEvents=PointerEvents$1.None,t.textAlign="center",t.textBaseline="middle"});return e.merge(n)},e.prototype.updateLabelNodes=function(t){var e=this.label.enabled;t.labelSelection.each(function(t,n){var o=n.label;o&&e?(t.text=o.text,t.x=o.x,t.y=o.y,t.fontStyle=o.fontStyle,t.fontWeight=o.fontWeight,t.fontSize=o.fontSize,t.fontFamily=o.fontFamily,t.fill=o.fill,t.visible=!0):t.visible=!1})},e.prototype.getTooltipHtml=function(t){var e=this,n=e.xKey,o=e.yKey,r=e.xAxis,i=e.yAxis;if(!n||!r||!i)return"";var s=this,a=s.xName,l=s.yName,c=s.fill,u=s.aggregation,p=s.tooltip.renderer,d=t.datum,h=d.aggregatedValue,f=d.frequency,g=__read$m(d.domain,2),m=g[0],y=g[1],_=sanitizeHtml(a||n)+": "+r.formatDatum(m)+" - "+r.formatDatum(y),v=o?"<b>"+sanitizeHtml(l||o)+" ("+u+")</b>: "+i.formatDatum(h)+"<br>":"",C={title:_,backgroundColor:c,content:v+="<b>Frequency</b>: "+f};return p?toTooltipHtml$1(p({datum:d,xKey:n,xValue:d.domain,xName:a,yKey:o,yValue:d.aggregatedValue,yName:l,color:c}),C):toTooltipHtml$1(C)},e.prototype.listSeriesItems=function(t){var e=this,n=e.data,o=e.yKey;n&&n.length&&t.push({id:e.id,itemId:o,enabled:e.visible,label:{text:e.yName||o||"Frequency"},marker:{fill:e.fill||"rgba(0, 0, 0, 0)",stroke:e.stroke||"rgba(0, 0, 0, 0)",fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}})},e.className="HistogramSeries",e.type="histogram",e}(CartesianSeries),__extends$22=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),HierarchySeries=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$22(e,t),e}(Series),__extends$21=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$16=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},DropShadow=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return __extends$21(e,t),__decorate$16([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"enabled",void 0),__decorate$16([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"color",void 0),__decorate$16([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"xOffset",void 0),__decorate$16([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"yOffset",void 0),__decorate$16([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"blur",void 0),e}(ChangeDetectable);function slice(t,e,n,o,r){var i=t.value&&(r-n)/t.value;t.children.forEach(function(t){t.x0=e,t.x1=o,t.y0=n,t.y1=n+=t.value*i})}function dice(t,e,n,o,r){var i=t.value&&(o-e)/t.value;t.children.forEach(function(t){t.x0=e,t.x1=e+=t.value*i,t.y0=n,t.y1=r})}function roundNode(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function squarifyRatio(t,e,n,o,r,i){for(var s,a,l,c,u,p,d,h,f,g,m=[],y=e.children,_=y.length,v=e.value,C=0,E=0;C<_;){s=r-n,a=i-o;do{c=y[E++].value}while(!c&&E<_);for(u=p=c,g=c*c*(f=Math.max(a/s,s/a)/(v*t)),h=Math.max(p/g,g/u);E<_;++E){if((l=y[E].value)<u&&(u=l),l>p&&(p=l),g=(c+=l)*c*f,(d=Math.max(p/g,g/u))>h){c-=l;break}h=d}var w={value:c,dice:s<a,children:y.slice(C,E)};m.push(w),w.dice?dice(w,n,o,r,v?o+=a*c/v:i):slice(w,n,o,v?n+=s*c/v:r,i),v-=c,C=E}return m}var phi=(1+Math.sqrt(5))/2,squarify=function t(e){function n(t,n,o,r,i){squarifyRatio(e,t,n,o,r,i)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(phi),Treemap=function(){function t(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=squarify,this.paddingInner=function(t){return 0},this.paddingTop=function(t){return 0},this.paddingRight=function(t){return 0},this.paddingBottom=function(t){return 0},this.paddingLeft=function(t){return 0}}return Object.defineProperty(t.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(t){this.dx=t[0],this.dy=t[1]},enumerable:!0,configurable:!0}),t.prototype.processData=function(t){return t.x0=0,t.y0=0,t.x1=this.dx,t.y1=this.dy,t.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&t.eachBefore(roundNode),t},t.prototype.positionNode=function(t){var e=this.paddingStack[t.depth],n=t.x0+e,o=t.y0+e,r=t.x1-e,i=t.y1-e;r<n&&(n=r=(n+r)/2),i<o&&(o=i=(o+i)/2),t.x0=n,t.y0=o,t.x1=r,t.y1=i,t.children&&(e=this.paddingStack[t.depth+1]=this.paddingInner(t)/2,n+=this.paddingLeft(t)-e,o+=this.paddingTop(t)-e,(r-=this.paddingRight(t)-e)<n&&(n=r=(n+r)/2),(i-=this.paddingBottom(t)-e)<o&&(o=i=(o+i)/2),this.tile(t,n,o,r,i))},t}(),HierarchyNode=function(){function t(t){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.datum=t}return t.prototype.countFn=function(t){var e=0,n=t.children;if(n&&n.length)for(var o=n.length;--o>=0;)e+=n[o].value;else e=1;t.value=e},t.prototype.count=function(){return this.eachAfter(this.countFn)},t.prototype.each=function(t,e){var n=this,o=-1;return this.iterator(function(r){t.call(e,r,++o,n)}),this},t.prototype.eachAfter=function(t,e){for(var n=this,o=[n],r=[];n=o.pop();){r.push(n);var i=n.children;if(i)for(var s=0,a=i.length;s<a;++s)o.push(i[s])}for(var l=-1;n=r.pop();)t.call(e,n,++l,this);return this},t.prototype.eachBefore=function(t,e){for(var n=this,o=[n],r=-1;n=o.pop();){t.call(e,n,++r,this);var i=n.children;if(i)for(var s=i.length-1;s>=0;--s)o.push(i[s])}return this},t.prototype.find=function(t,e){var n,o=this,r=-1;return this.iterator(function(i){if(t.call(e,i,++r,o))return n=i,!1}),n},t.prototype.sum=function(t){return this.eachAfter(function(e){var n=+t(e.datum)||0,o=e.children;if(o)for(var r=o.length;--r>=0;)n+=o[r].value;e.value=n})},t.prototype.sort=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},t.prototype.path=function(t){for(var e=this,n=leastCommonAncestor(e,t),o=[e];e!==n;)o.push(e=e.parent);for(var r=o.length;t!==n;)o.splice(r,0,t),t=t.parent;return o},t.prototype.ancestors=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},t.prototype.descendants=function(){var t=[];return this.iterator(function(e){return t.push(e)}),t},t.prototype.leaves=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},t.prototype.links=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},t.prototype.copy=function(){},t.prototype.iterator=function(t){var e,n=this,o=[n];t:do{for(e=o.reverse(),o=[];n=e.pop();){if(!1===t(n))break t;var r=n.children;if(r)for(var i=0,s=r.length;i<s;++i)o.push(r[i])}}while(o.length)},t}();function hierarchy(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=mapChildren)):void 0===e&&(e=objectChildren);for(var n,o,r,i,s,a=new HierarchyNode(t),l=[a];n=l.pop();)if((r=e(n.datum))&&(s=(r=Array.from(r)).length))for(n.children=r,i=s-1;i>=0;--i)l.push(o=r[i]=new HierarchyNode(r[i])),o.parent=n,o.depth=n.depth+1;return a.eachBefore(computeHeight)}function computeHeight(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function mapChildren(t){return Array.isArray(t)?t[1]:void 0}function objectChildren(t){return t.children}function leastCommonAncestor(t,e){if(t&&e){if(t===e)return t;var n=t.ancestors(),o=e.ancestors(),r=void 0;for(t=n.pop(),e=o.pop();t===e;)r=t,t=n.pop(),e=o.pop();return r}}var __extends$20=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__values$8=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TreemapSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$20(e,t),e}(SeriesTooltip),TreemapSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.padding=10,e}return __extends$20(e,t),e}(Label$1),TextNodeTag=(()=>(function(t){t[t.Name=0]="Name",t[t.Value=1]="Value"}(TextNodeTag||(TextNodeTag={})),TextNodeTag))(),TreemapSeries=function(t){function e(){var e,n,o=null!==t&&t.apply(this,arguments)||this;return o.groupSelection=Selection$1.select(o.pickGroup).selectAll(),o.highlightSelection=Selection$1.select(o.highlightGroup).selectAll(),o.layout=new Treemap,o.title=((e=new TreemapSeriesLabel).color="white",e.fontWeight="bold",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.padding=15,e),o.subtitle=function(){var t=new TreemapSeriesLabel;return t.color="white",t.fontSize=9,t.fontFamily="Verdana, sans-serif",t.padding=13,t}(),o.labels={large:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=18,t}(),medium:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=14,t}(),small:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=10,t}(),color:function(){var t=new Label$1;return t.color="white",t}()},o._nodePadding=2,o.labelKey="label",o.sizeKey="size",o.colorKey="color",o.colorDomain=[-5,5],o.colorRange=["#cb4b3f","#6acb64"],o.colorParents=!1,o.gradient=!0,o.colorName="Change",o.rootName="Root",o.shadow=((n=new DropShadow).color="rgba(0, 0, 0, 0.4)",n.xOffset=1.5,n.yOffset=1.5,n),o.tooltip=new TreemapSeriesTooltip,o}return __extends$20(e,t),Object.defineProperty(e.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(t){this._nodePadding!==t&&(this._nodePadding=t,this.updateLayoutPadding())},enumerable:!0,configurable:!0}),e.prototype.updateLayoutPadding=function(){var t=this,e=t.title,n=t.subtitle,o=t.nodePadding,r=t.labelKey;this.layout.paddingRight=function(t){return o},this.layout.paddingBottom=function(t){return o},this.layout.paddingLeft=function(t){return o},this.layout.paddingTop=function(t){var i=t.datum[r]||"";t.children&&(i=i.toUpperCase());var s=t.depth>1?n:e,a=HdpiCanvas$1.getTextSize(i,[s.fontWeight,s.fontSize+"px",s.fontFamily].join(" ").trim()),l=t.depth>0&&t.children&&a.width<=t.x1-t.x0-2*o;return t.hasTitle=!!l,l?a.height+2*o:o}},e.prototype.processData=function(){if(!this.data)return!1;var t,e=this,n=e.data,o=e.sizeKey,r=e.labelKey,i=e.colorKey,s=e.colorDomain,a=e.colorRange,l=e.colorParents;t=o?hierarchy(n).sum(function(t){return t.children?1:t[o]}):hierarchy(n).sum(function(t){return t.children?0:1}),this.dataRoot=t;var c=new LinearScale$1;c.domain=s,c.range=a;var u=this;return function t(e,n){void 0===n&&(n=0);var o=e.children,s=e.datum,a=s[r],p=i?s[i]:n;Object.assign(e,{series:u}),e.fill=!o||l?c.convert(p):"#272931",e.colorValue=p,e.label=a?o?a.toUpperCase():a:"",o&&o.forEach(function(e){return t(e,n+1)})}(this.dataRoot),!0},e.prototype.getLabelCenterX=function(t){return(t.x0+t.x1)/2},e.prototype.getLabelCenterY=function(t){return(t.y0+t.y1)/2+2},e.prototype.createNodeData=function(){return[]},e.prototype.update=function(){this.updateSelections(),this.updateNodes()},e.prototype.updateSelections=function(){if(this.nodeDataRefresh){this.nodeDataRefresh=!1;var t=this.chart,e=this.dataRoot;if(t&&e){var n=t.getSeriesRect();if(n){this.layout.size=[n.width,n.height],this.updateLayoutPadding();var o=this.layout.processData(e).descendants(),r=this.highlightSelection,i=function(t){var e=t.setData(o);e.exit.remove();var n=e.enter.append(Group$1);return n.append(Rect),n.append(Text$1).each(function(t){return t.tag=TextNodeTag.Name}),n.append(Text$1).each(function(t){return t.tag=TextNodeTag.Value}),e.merge(n)};this.groupSelection=i(this.groupSelection),this.highlightSelection=i(r)}}}},e.prototype.updateNodes=function(){var t=this;if(this.chart){var e=this,n=e.nodePadding,o=e.labels,r=e.shadow,i=e.gradient,s=e.chart.highlightedDatum,a=e.highlightStyle,l=a.item,c=l.fill,u=void 0===c?a.fill:c,p=l.stroke,d=void 0===p?a.stroke:p,h=l.strokeWidth,f=void 0===h?a.strokeWidth:h,g=this.buildLabelMeta(this.groupSelection.data),m=function(e,n,o){var r=o&&void 0!==d?d:n.depth<2?void 0:"black",s=o&&void 0!==f?f:1;if(e.fill=o&&void 0!==u?u:n.fill,e.stroke=r,e.strokeWidth=s,e.crisp=!0,e.gradient=i,e.x=n.x0,e.y=n.y0,e.width=n.x1-n.x0,e.height=n.y1-n.y0,o&&n.children){var a=n.x0,l=n.x1,c=n.y0,p=n.y1,h=t.layout.paddingLeft(n),g=t.layout.paddingRight(n),m=t.layout.paddingTop(n),y=t.layout.paddingBottom(n);e.clipPath?e.clipPath.clear():e.clipPath=new Path2D$1,e.clipMode="punch-out",e.clipPath.moveTo(a+h,c+m),e.clipPath.lineTo(l-g,c+m),e.clipPath.lineTo(l-g,p-y),e.clipPath.lineTo(a+h,p-y),e.clipPath.lineTo(a+h,c+m),e.clipPath.closePath()}};this.groupSelection.selectByClass(Rect).each(function(t,e){return m(t,e,!1)}),this.highlightSelection.selectByClass(Rect).each(function(t,e){var n=e===s;t.visible=n,t.visible&&m(t,e,n)});var y=function(e,o,i,s){var a=o.hasTitle,l=g[i],c=l.label,u=l.nodeBaseline;null!=u?(e.textBaseline=u,e.fontWeight=c.fontWeight,e.fontSize=c.fontSize,e.fontFamily=c.fontFamily,e.textAlign=a?"left":"center",e.text=o.label,e.fill=s?"black":c.color,e.fillShadow=s?void 0:r,e.visible=!0):e.visible=!1,a?(e.x=o.x0+n,e.y=o.y0+n):(e.x=t.getLabelCenterX(o),e.y=t.getLabelCenterY(o))};this.groupSelection.selectByTag(TextNodeTag.Name).each(function(t,e,n){return y(t,e,n,!1)}),this.highlightSelection.selectByTag(TextNodeTag.Name).each(function(t,e,n){var o=e===s;t.visible=o,t.visible&&y(t,e,n,o)});var _=function(e,n,i,s){var a=g[i],l=a.valueBaseline,c=a.valueText,u=o.color;null!=l&&c?(e.fontSize=u.fontSize,e.fontFamily=u.fontFamily,e.fontStyle=u.fontStyle,e.fontWeight=u.fontWeight,e.textBaseline=l,e.textAlign="center",e.text=c,e.fill=s?"black":u.color,e.fillShadow=s?void 0:r,e.visible=!0,e.x=t.getLabelCenterX(n),e.y=t.getLabelCenterY(n)):e.visible=!1};this.groupSelection.selectByTag(TextNodeTag.Value).each(function(t,e,n){return _(t,e,n,!1)}),this.highlightSelection.selectByTag(TextNodeTag.Value).each(function(t,e,n){var o=e===s;t.visible=o,t.visible&&_(t,e,n,o)})}},e.prototype.buildLabelMeta=function(t){var e,n,o=this,r=o.labels,i=o.title,s=o.subtitle,a=o.nodePadding,l=o.colorKey,c=[];c.length=this.groupSelection.data.length;var u=new Text$1,p=0;try{for(var d=__values$8(t),h=d.next();!h.done;h=d.next()){var f,g=h.value,m=g.value,y=!g.children,_=g.x1-g.x0-2*a,v=g.y1-g.y0-2*a,C=g.hasTitle;u.fontWeight=(f=y?_>40&&v>40?r.large:_>20&&v>20?r.medium:r.small:g.depth>1?s:i).fontWeight,u.fontSize=f.fontSize,u.fontFamily=f.fontFamily,u.textAlign=C?"left":"center",u.text=g.label;var E=u.computeBBox(),w=y&&!!E&&E.width<=_&&2*E.height+8<=v,O="number"==typeof m&&isFinite(m)?String(toFixed(g.colorValue))+"%":"";u.fontSize=r.color.fontSize,u.fontFamily=r.color.fontFamily,u.fontStyle=r.color.fontStyle,u.fontWeight=r.color.fontWeight,u.text=O;var b=u.computeBBox(),S=y&&!!l&&w&&!!b&&b.width<_;c[p++]={label:f,nodeBaseline:C||w?S?"bottom":y?"middle":C?"top":"middle":void 0,valueBaseline:S?"top":void 0,valueText:O}}}catch(P){e={error:P}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}return c},e.prototype.getDomain=function(t){return[0,1]},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.datum,labelKey:this.labelKey,sizeKey:this.sizeKey,colorKey:this.colorKey})},e.prototype.getTooltipHtml=function(t){var e=this,n=e.sizeKey,o=e.labelKey,r=e.colorKey,i=e.colorName,s=t.datum,a=e.tooltip.renderer,l=t.depth?s[o]:e.rootName||s[o],c=void 0,u=t.fill||"gray";if(r&&i){var p=s[r];"number"==typeof p&&isFinite(p)&&(c="<b>"+i+"</b>: "+toFixed(s[r]))}var d={title:l,backgroundColor:u,content:c};return a?toTooltipHtml$1(a({datum:t,sizeKey:n,labelKey:o,colorKey:r,title:l,color:u}),d):toTooltipHtml$1(d)},e.prototype.listSeriesItems=function(t){},e.className="TreemapSeries",e.type="treemap",e}(HierarchySeries),__extends$1$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$15=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sector=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.centerOffset=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return __extends$1$(e,t),e.prototype.computeBBox=function(){var t=this.outerRadius;return new BBox$1(this.centerX-t,this.centerY-t,2*t,2*t)},e.prototype.isFullPie=function(){return isEqual(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle))},e.prototype.updatePath=function(){var t=this.path,e=this.angleOffset,n=Math.min(this.startAngle,this.endAngle)+e,o=Math.max(this.startAngle,this.endAngle)+e,r=.5*(n+o),i=Math.min(this.innerRadius,this.outerRadius),s=Math.max(this.innerRadius,this.outerRadius),a=this.centerOffset,l=this.isFullPie(),c=this.centerX,u=this.centerY;if(t.clear(),a&&(c+=a*Math.cos(r),u+=a*Math.sin(r)),l||(t.moveTo(c+i*Math.cos(n),u+i*Math.sin(n)),t.lineTo(c+s*Math.cos(n),u+s*Math.sin(n))),t.cubicArc(c,u,s,s,0,n,o,0),l)t.moveTo(c+i*Math.cos(o),u+i*Math.sin(o));else{var p=c+i*Math.cos(o);t.lineTo(Math.abs(p)<1e-8?0:p,u+i*Math.sin(o))}t.cubicArc(c,u,i,i,0,o,n,1),t.closePath(),this.dirtyPath=!1},e.className="Sector",__decorate$15([ScenePathChangeDetection()],e.prototype,"centerX",void 0),__decorate$15([ScenePathChangeDetection()],e.prototype,"centerY",void 0),__decorate$15([ScenePathChangeDetection()],e.prototype,"centerOffset",void 0),__decorate$15([ScenePathChangeDetection()],e.prototype,"innerRadius",void 0),__decorate$15([ScenePathChangeDetection()],e.prototype,"outerRadius",void 0),__decorate$15([ScenePathChangeDetection()],e.prototype,"startAngle",void 0),__decorate$15([ScenePathChangeDetection()],e.prototype,"endAngle",void 0),__decorate$15([ScenePathChangeDetection()],e.prototype,"angleOffset",void 0),e}(Path$1),__extends$1_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$8=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$l(arguments[e]));return t},PieHighlightStyle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1_(e,t),e}(HighlightStyle),PieNodeTag=(()=>(function(t){t[t.Sector=0]="Sector",t[t.Callout=1]="Callout",t[t.Label=2]="Label"}(PieNodeTag||(PieNodeTag={})),PieNodeTag))(),PieSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e.formatter=void 0,e}return __extends$1_(e,t),e}(Label$1),PieSeriesCallout=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.length=10,e.strokeWidth=1,e}return __extends$1_(e,t),e}(Observable$1),PieSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1_(e,t),e}(SeriesTooltip),PieTitle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showInLegend=!1,e}return __extends$1_(e,t),e}(Caption),PieSeries=function(t){function e(){var e,n=null!==t&&t.apply(this,arguments)||this;return n.radiusScale=new LinearScale$1,n.groupSelection=Selection$1.select(n.pickGroup).selectAll(),n.highlightSelection=Selection$1.select(n.highlightGroup).selectAll(),n.groupSelectionData=[],n.angleScale=((e=new LinearScale$1).domain=[0,1],e.range=[-Math.PI,Math.PI].map(function(t){return t+Math.PI/2}),e),n.seriesItemEnabled=[],n.label=new PieSeriesLabel,n.callout=new PieSeriesCallout,n.tooltip=new PieSeriesTooltip,n.angleKey="",n.angleName="",n.radiusKey=void 0,n.radiusName=void 0,n.radiusMin=void 0,n.radiusMax=void 0,n.labelKey=void 0,n.labelName=void 0,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.formatter=void 0,n.rotation=0,n.outerRadiusOffset=0,n.innerRadiusOffset=0,n.strokeWidth=1,n.shadow=void 0,n.highlightStyle=new PieHighlightStyle,n}return __extends$1_(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.seriesGroup.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.seriesGroup.appendChild(t.node)),this._title=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.processSeriesItemEnabled()},enumerable:!0,configurable:!0}),e.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},e.prototype.processSeriesItemEnabled=function(){var t,e=this.visible;this.seriesItemEnabled=(null===(t=this.data)||void 0===t?void 0:t.map(function(){return e}))||[]},e.prototype.setColors=function(t,e){this.fills=t,this.strokes=e,this.callout.colors=e},e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.angleScale.domain:this.radiusScale.domain},e.prototype.processData=function(){var t,e=this,n=this,o=n.angleKey,r=n.radiusKey,i=n.seriesItemEnabled,s=n.angleScale,a=n.groupSelectionData,l=n.label,c=o&&this.data?this.data:[],u=c.map(function(t,e){return i[e]&&Math.abs(+t[o])||0}),p=u.reduce(function(t,e){return t+e},0),d=(t=0,u.map(function(e){return t+=e/p})),h=l.formatter,f=l.enabled&&this.labelKey,g=[],m=[];if(f&&(g=c.map(h?function(t){return h({value:t[f]})}:function(t){return String(t[f])})),r){var y=this.radiusMin,_=this.radiusMax,v=c.map(function(t){return Math.abs(t[r])}),C=void 0!==y?y:Math.min.apply(Math,__spread$8(v)),E=(void 0!==_?_:Math.max.apply(Math,__spread$8(v)))-C;m=v.map(function(t){return E?(t-C)/E:1})}a.length=0;var w=toRadians(this.rotation),O=Math.PI/2,b=0,S=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],P=0;return d.forEach(function(t){if(!isNaN(t)){var n=r?m[b]:1,o=s.convert(t)+w,i=s.convert(P)+w,u=(o+i)/2,p=Math.abs(i-o),d=Math.cos(u),h=Math.sin(u),y=toRadians(l.minAngle),_=f&&p>y,v=normalizeAngle180(u),C=-3*Math.PI/4,E=mod(Math.floor((v-C)/O),S.length),D=S[E];a.push({series:e,datum:c[b],itemId:b,index:b,radius:n,startAngle:o,endAngle:i,midAngle:u,midCos:d,midSin:h,label:_?{text:g[b],textAlign:D.textAlign,textBaseline:D.textBaseline}:void 0}),b++,P=t}}),!0},e.prototype.createNodeData=function(){return[]},e.prototype.update=function(){var t=this,e=t.radius,n=t.innerRadiusOffset,o=t.outerRadiusOffset,r=t.title;this.radiusScale.range=[n?e+n:0,e+(o||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,r&&(0===Math.max(0,this.radiusScale.range[1])?r.node.visible=!1:(r.node.translationY=-e-o-2,r.node.visible=r.enabled)),this.updateSelections(),this.updateNodes()},e.prototype.updateSelections=function(){this.updateGroupSelection()},e.prototype.updateGroupSelection=function(){var t=this,e=this.highlightSelection,n=function(e,n){var o=e.setData(t.groupSelectionData);o.exit.remove();var r=o.enter.append(Group$1);return r.append(Sector).each(function(t){return t.tag=PieNodeTag.Sector}),n&&(r.append(Line$1).each(function(t){t.tag=PieNodeTag.Callout,t.pointerEvents=PointerEvents$1.None}),r.append(Text$1).each(function(t){t.tag=PieNodeTag.Label,t.pointerEvents=PointerEvents$1.None})),o.merge(r)};this.groupSelection=n(this.groupSelection,!0),this.highlightSelection=n(e,!1)},e.prototype.updateNodes=function(){var t,e,n=this;if(this.chart){var o=this.seriesItemEnabled.indexOf(!0)>=0;this.group.visible=o,this.seriesGroup.visible=o,this.highlightGroup.visible=o&&(null===(e=null===(t=this.chart)||void 0===t?void 0:t.highlightedDatum)||void 0===e?void 0:e.series)===this,this.seriesGroup.opacity=this.getOpacity();var r=this,i=r.fills,s=r.strokes,a=r.fillOpacity,l=r.strokeOpacity,c=r.radiusScale,u=r.callout,p=r.shadow,d=r.chart.highlightedDatum,h=r.highlightStyle,f=h.item,g=f.fill,m=void 0===g?h.fill:g,y=f.stroke,_=void 0===y?h.stroke:y,v=f.strokeWidth,C=void 0===v?h.strokeWidth:v,E=r.angleKey,w=r.radiusKey,O=r.formatter,b=[],S=c.convert(0),P=function(t,e,o,r){var u=c.convert(e.radius),d=r&&void 0!==m?m:i[o%i.length],h=r&&void 0!==_?_:s[o%s.length],f=r&&void 0!==C?C:n.getStrokeWidth(n.strokeWidth),g=void 0;O&&(g=O({datum:e.datum,angleKey:E,radiusKey:w,fill:d,stroke:h,strokeWidth:f,highlighted:r}));var y=t.parent&&t.parent.parent;r&&y&&(y.removeChild(t.parent),y.appendChild(t.parent)),t.innerRadius=Math.max(0,S),t.outerRadius=Math.max(0,u),t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.fill=g&&g.fill||d,t.stroke=g&&g.stroke||h,t.strokeWidth=g&&void 0!==g.strokeWidth?g.strokeWidth:f,t.fillOpacity=a,t.strokeOpacity=l,t.lineDash=n.lineDash,t.lineDashOffset=n.lineDashOffset,t.fillShadow=p,t.lineJoin="round",b.push(t.centerOffset)};this.groupSelection.selectByTag(PieNodeTag.Sector).each(function(t,e,n){return P(t,e,n,!1)}),this.highlightSelection.selectByTag(PieNodeTag.Sector).each(function(t,e,o){var r=!!d&&d.series===n&&e.itemId===d.itemId;t.visible=r,t.visible&&P(t,e,o,r)});var D=u.colors,T=u.length,R=u.strokeWidth;this.groupSelection.selectByTag(PieNodeTag.Callout).each(function(t,e,n){var o=c.convert(e.radius),r=Math.max(0,o);e.label&&0!==r?(t.strokeWidth=R,t.stroke=D[n%D.length],t.x1=e.midCos*r,t.y1=e.midSin*r,t.x2=e.midCos*(r+T),t.y2=e.midSin*(r+T)):t.stroke=void 0});var A=this.label,M=A.offset,x=A.fontStyle,I=A.fontWeight,L=A.fontSize,F=A.fontFamily,N=A.color;this.groupSelection.selectByTag(PieNodeTag.Label).each(function(t,e,n){var o=e.label,r=c.convert(e.radius),i=Math.max(0,r);if(o&&0!==i){var s=b[n]+i+T+M;t.fontStyle=x,t.fontWeight=I,t.fontSize=L,t.fontFamily=F,t.text=o.text,t.x=e.midCos*s,t.y=e.midSin*s,t.fill=N,t.textAlign=o.textAlign,t.textBaseline=o.textBaseline}else t.fill=void 0})}},e.prototype.fireNodeClickEvent=function(t,e){this.fireEvent({type:"nodeClick",event:t,series:this,datum:e.datum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},e.prototype.getTooltipHtml=function(t){var e=this.angleKey;if(!e)return"";var n=this,o=n.fills,r=n.angleName,i=n.radiusKey,s=n.radiusName,a=n.labelKey,l=n.labelName,c=n.tooltip.renderer,u=o[t.index%o.length],p=t.datum,d=a?p[a]+": ":"",h=p[e],f="number"==typeof h?toFixed(h):h.toString(),g=this.title?this.title.text:void 0,m={title:g,backgroundColor:u,content:d+f};return c?toTooltipHtml$1(c({datum:p,angleKey:e,angleValue:h,angleName:r,radiusKey:i,radiusValue:i?p[i]:void 0,radiusName:s,labelKey:a,labelName:l,title:g,color:u}),m):toTooltipHtml$1(m)},e.prototype.listSeriesItems=function(t){var e=this,n=this.labelKey,o=this.data;if(o&&o.length&&n){var r=this,i=r.fills,s=r.strokes,a=r.id,l=this.title&&this.title.showInLegend&&this.title.text;o.forEach(function(o,r){var c=[];l&&c.push(l),c.push(String(o[n])),t.push({id:a,itemId:r,enabled:e.seriesItemEnabled[r],label:{text:c.join(" - ")},marker:{fill:i[r%i.length],stroke:s[r%s.length],fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}})})}},e.prototype.toggleSeriesItem=function(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0},e.className="PieSeries",e.type="pie",e}(PolarSeries);function floor$b(t){t.setUTCSeconds(0,0)}function offset$b(t,e){t.setTime(t.getTime()+e*durationMinute$1)}function count$b(t,e){return(e.getTime()-t.getTime())/durationMinute$1}function field$9(t){return t.getUTCMinutes()}var utcMinute=new CountableTimeInterval$1(floor$b,offset$b,count$b,field$9);function floor$a(t){t.setUTCMinutes(0,0,0)}function offset$a(t,e){t.setTime(t.getTime()+e*durationHour$1)}function count$a(t,e){return(e.getTime()-t.getTime())/durationHour$1}function field$8(t){return t.getUTCHours()}var utcHour=new CountableTimeInterval$1(floor$a,offset$a,count$a,field$8);function floor$9(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}function offset$9(t,e){t.setUTCMonth(t.getUTCMonth()+e)}function count$9(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}function field$7(t){return t.getUTCMonth()}var utcMonth=new CountableTimeInterval$1(floor$9,offset$9,count$9,field$7),__assign$q=function(){return(__assign$q=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__read$k=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},palette$8={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]};function arrayMerge(t,e,n){return e}function isMergeableObject(t){return defaultIsMergeableObject$1(t)&&!(t instanceof TimeInterval$1)}var mergeOptions={arrayMerge:arrayMerge,isMergeableObject:isMergeableObject},BOLD="bold",INSIDE="inside",RIGHT="right",ChartTheme=function(){function t(e){var n=(e=deepMerge$1({},e||{},mergeOptions)).overrides,o=void 0===n?null:n,r=e.palette,i=void 0===r?null:r,s=this.createChartConfigPerSeries(this.getDefaults());if(o){var a=o.common,l=o.cartesian,c=o.polar,u=o.hierarchy,p=function(t,e,n){n&&(s[t]=deepMerge$1(s[t],n,mergeOptions),e.forEach(function(t){s[t]=deepMerge$1(s[t],n,mergeOptions)}))};p("common",Object.keys(s),a),p("cartesian",t.cartesianSeriesTypes,l),p("polar",t.polarSeriesTypes,c),p("hierarchy",t.hierarchySeriesTypes,u);var d={};t.seriesTypes.forEach(function(t){var e=o[t];e&&(e.series&&(d[t]=e.series,e.series=d),s[t]=deepMerge$1(s[t],e,mergeOptions))})}this.palette=null!=i?i:this.getPalette(),this.config=Object.freeze(s)}return t.prototype.getPalette=function(){return palette$8},t.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:BOLD,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},t.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{item:{fill:"yellow"},series:{dimOpacity:1}}}},t.getBarSeriesDefaults=function(){return __assign$q(__assign$q({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:INSIDE},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},t.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$q(__assign$q({},t),{tooltip:__assign$q(__assign$q({},t.tooltip),{format:void 0})})},t.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},t.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:BOLD,fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:RIGHT,spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:Chart.defaultTooltipClass}}},t.prototype.createChartConfigPerSeries=function(e){return Object.entries({cartesian:t.cartesianSeriesTypes,polar:t.polarSeriesTypes,hierarchy:t.hierarchySeriesTypes,groupedCategory:[]}).forEach(function(t){var n=__read$k(t,2),o=n[0];n[1].forEach(function(t){e[t]||(e[t]=deepMerge$1({},e[o],mergeOptions))})}),e},t.prototype.getConfig=function(t,e){var n=getValue(this.config,t,e);return Array.isArray(n)?deepMerge$1([],n,mergeOptions):isObject(n)?deepMerge$1({},n,mergeOptions):n},t.prototype.getDefaults=function(){return deepMerge$1({},t.defaults,mergeOptions)},t.prototype.mergeWithParentDefaults=function(t,e){return deepMerge$1(t,e,mergeOptions)},t.fontFamily="Verdana, sans-serif",t.cartesianDefaults=__assign$q(__assign$q({},t.getChartDefaults()),{axes:{number:__assign$q({},t.getAxisDefaults()),log:__assign$q(__assign$q({},t.getAxisDefaults()),{base:10}),category:__assign$q(__assign$q({},t.getAxisDefaults()),{label:__assign$q(__assign$q({},t.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:__assign$q({},t.getAxisDefaults()),time:__assign$q({},t.getAxisDefaults())},series:{column:__assign$q(__assign$q({},t.getBarSeriesDefaults()),{flipXY:!1}),bar:__assign$q(__assign$q({},t.getBarSeriesDefaults()),{flipXY:!0}),line:__assign$q(__assign$q({},t.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:__assign$q(__assign$q({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:__assign$q(__assign$q({},t.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,marker:__assign$q({},t.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"}}),area:__assign$q(__assign$q({},t.getSeriesDefaults()),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:__assign$q(__assign$q({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:__assign$q(__assign$q({},t.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,binCount:10,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),t.polarDefaults=__assign$q(__assign$q({},t.getChartDefaults()),{series:{pie:__assign$q(__assign$q({},t.getSeriesDefaults()),{title:{enabled:!0,text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),t.hierarchyDefaults=__assign$q(__assign$q({},t.getChartDefaults()),{series:{treemap:__assign$q(__assign$q({},t.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}}),t.defaults={cartesian:t.cartesianDefaults,groupedCategory:t.cartesianDefaults,polar:t.polarDefaults,hierarchy:t.hierarchyDefaults},t.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],t.polarSeriesTypes=["pie"],t.hierarchySeriesTypes=["treemap"],t.seriesTypes=t.cartesianSeriesTypes.concat(t.polarSeriesTypes).concat(t.hierarchySeriesTypes),t}(),__extends$1Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$p=function(){return(__assign$p=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},DarkTheme=function(t){function e(e){return t.call(this,e)||this}return __extends$1Z(e,t),e.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",n="rgb(150, 150, 150)",o={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},r={label:{color:e}},i={axes:{number:__assign$p({},o),category:__assign$p({},o),time:__assign$p({},o)}},s={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:n},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults(t.prototype.getDefaults.call(this),{cartesian:__assign$p(__assign$p(__assign$p({},s),i),{series:{bar:__assign$p({},r),column:__assign$p({},r),histogram:__assign$p({},r)}}),groupedCategory:__assign$p(__assign$p(__assign$p({},s),i),{series:{bar:__assign$p({},r),column:__assign$p({},r),histogram:__assign$p({},r)}}),polar:__assign$p(__assign$p({},s),{series:{pie:__assign$p(__assign$p({},r),{title:{color:e}})}}),hierarchy:__assign$p(__assign$p({},s),{series:{treemap:{title:{color:e},subtitle:{color:n},labels:{large:{color:e},medium:{color:e},small:{color:e},color:{color:e}}}}})})},e}(ChartTheme),__extends$1Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$7={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1Y(e,t),e.prototype.getPalette=function(){return palette$7},e}(ChartTheme),__extends$1X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$6={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1X(e,t),e.prototype.getPalette=function(){return palette$6},e}(DarkTheme),__extends$1W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$5={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1W(e,t),e.prototype.getPalette=function(){return palette$5},e}(ChartTheme),__extends$1V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$4={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1V(e,t),e.prototype.getPalette=function(){return palette$4},e}(DarkTheme),__extends$1U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$3={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1U(e,t),e.prototype.getPalette=function(){return palette$3},e}(ChartTheme),__extends$1T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$2={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1T(e,t),e.prototype.getPalette=function(){return palette$2},e}(DarkTheme),__extends$1S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette$1={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1S(e,t),e.prototype.getPalette=function(){return palette$1},e}(ChartTheme),__extends$1R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),palette={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1R(e,t),e.prototype.getPalette=function(){return palette},e}(DarkTheme),__assign$o=function(){return(__assign$o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},lightTheme=new ChartTheme,darkTheme=new DarkTheme,lightThemes={undefined:lightTheme,null:lightTheme,"ag-default":lightTheme,"ag-material":new MaterialLight,"ag-pastel":new PastelLight,"ag-solar":new SolarLight,"ag-vivid":new VividLight},darkThemes={undefined:darkTheme,null:darkTheme,"ag-default-dark":darkTheme,"ag-material-dark":new MaterialDark,"ag-pastel-dark":new PastelDark,"ag-solar-dark":new SolarDark,"ag-vivid-dark":new VividDark},themes=__assign$o(__assign$o({},darkThemes),lightThemes);function getChartTheme(t){return t instanceof ChartTheme?t:themes[t]||((t=t).baseTheme||t.overrides||t.palette?new(getChartTheme(t.baseTheme).constructor)(t):lightTheme)}var __extends$1Q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$j=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},identity$3=function(t){return t},LogScale=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e._domain=[1,10],e.baseLog=identity$3,e.basePow=identity$3,e._base=10,e}return __extends$1Q(e,t),e.prototype.setDomain=function(e){var n=e[0],o=e[e.length-1];(0===n||0===o||n<0&&o>0||n>0&&o<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),0===n&&o>0?n=Number.EPSILON:0===o&&n<0?o=-Number.EPSILON:n<0&&o>0?Math.abs(o)>=Math.abs(n)?n=Number.EPSILON:o=-Number.EPSILON:n>0&&o<0&&(Math.abs(o)>=Math.abs(n)?n=-Number.EPSILON:o=Number.EPSILON),(e=e.slice())[0]=n,e[e.length-1]=o),t.prototype.setDomain.call(this,e)},e.prototype.getDomain=function(){return t.prototype.getDomain.call(this)},Object.defineProperty(e.prototype,"base",{get:function(){return this._base},set:function(t){this._base!==t&&(this._base=t,this.rescale())},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){var n=this.base,o=e.makeLogFn(n),r=e.makePowFn(n);this.domain[0]<0?(o=this.reflect(o),r=this.reflect(r),this.transform=function(t){return-Math.log(-t)},this.untransform=function(t){return-Math.exp(-t)}):(this.transform=function(t){return Math.log(t)},this.untransform=function(t){return Math.exp(t)}),this.baseLog=o,this.basePow=r,t.prototype.rescale.call(this)},e.prototype.reflect=function(t){return function(e){return-t(-e)}},e.prototype.nice=function(){var t,e,n=this.domain,o=0,r=n.length-1,i=n[o],s=n[r];s<i&&(o=(t=__read$j([r,o],2))[0],r=t[1],i=(e=__read$j([s,i],2))[0],s=e[1]),n[o]=this.basePow(Math.floor(this.baseLog(i))),n[r]=this.basePow(Math.ceil(this.baseLog(s))),this.domain=n},e.pow10=function(t){return isFinite(t)?+("1e"+t):t<0?0:t},e.makePowFn=function(t){return 10===t?e.pow10:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}},e.makeLogFn=function(t){if(t===Math.E)return Math.log;if(10===t)return Math.log10;if(2===t)return Math.log2;var e=Math.log(t);return function(t){return Math.log(t)/e}},e.prototype.ticks=function(t){var e;void 0===t&&(t=10);var n=null==t?10:+t,o=this.base,r=this.domain,i=r[0],s=r[r.length-1],a=s<i;a&&(i=(e=__read$j([s,i],2))[0],s=e[1]);var l=this.baseLog(i),c=this.baseLog(s),u=[];if(!(o%1)&&c-l<n){if(l=Math.round(l)-1,c=Math.round(c)+1,i>0){for(;l<c;++l)for(var p=1,d=this.basePow(l);p<o;++p)if(!((h=d*p)<i)){if(h>s)break;u.push(h)}}else for(;l<c;++l)for(p=o-1,d=this.basePow(l);p>=1;--p){var h;if(!((h=d*p)<i)){if(h>s)break;u.push(h)}}2*u.length<n&&(u=ticks$1(i,s,n))}else u=ticks$1(l,c,Math.min(c-l,n)).map(this.basePow);return a?u.reverse():u},e.prototype.tickFormat=function(t,e){var n=this,o=this.base;if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=format$1(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,o*t/this.ticks().length);return function(t){var i=t/n.basePow(Math.round(n.baseLog(t)));return i*o<o-.5&&(i*=o),i<=r?e(t):""}},e}(ContinuousScale$1),__extends$1P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),LogAxis=function(t){function e(){var e=t.call(this)||this;return e.scale=new LogScale,e.scale.clamper=clamper$1,e}return __extends$1P(e,t),Object.defineProperty(e.prototype,"base",{get:function(){return this.scale.base},set:function(t){this.scale.base=t},enumerable:!0,configurable:!0}),e.className="LogAxis",e.type="log",e}(NumberAxis),__assign$n=function(){return(__assign$n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__read$i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$7=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$i(arguments[e]));return t},__values$7=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function jsonDiff(t,e,n){var o,r,i=(n||{}).stringify,s=void 0===i?[]:i,a=classify(t),l=classify(e);if("array"===l)return"array"!==a||t.length!==e.length||e.some(function(e,n){var o;return null!=jsonDiff(null===(o=t)||void 0===o?void 0:o[n],e)})?__spread$7(e):null;if("primitive"===l)return"primitive"!==a?__assign$n({},e):t!==e?e:null;var c=t||{},u=e||{},p=new Set(__spread$7(Object.keys(c),Object.keys(u))),d=0,h={},f=function(t){if(c[t]===u[t])return"continue";var e=function(e){h[t]=e,d++};if(s.includes(t))return JSON.stringify(c[t]!==JSON.stringify(u[t]))&&e(u[t]),"continue";var n=classify(c[t]),o=classify(u[t]);if(n!==o)return e(u[t]),"continue";if("primitive"===o||null===o)return e(u[t]),"continue";if("array"===o&&c[t].length!==u[t].length)return e(u[t]),"continue";if("class-instance"===o)return e(u[t]),"continue";if("function"===o&&c[t]!==u[t])return e(u[t]),"continue";var r=jsonDiff(c[t],u[t],{stringify:s});null!==r&&e(r)};try{for(var g=__values$7(p),m=g.next();!m.done;m=g.next())f(m.value)}catch(y){o={error:y}}finally{try{m&&!m.done&&(r=g.return)&&r.call(g)}finally{if(o)throw o.error}}return 0===d?null:h}var DELETE=Symbol("<delete-property>"),NOT_SPECIFIED=Symbol("<unspecified-property>");function jsonMerge(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=n.map(function(t){return classify(t)});if(r.some(function(t){return"array"===t})){var i=n[n.length-1];return i instanceof Array?i.map(function(t){var e=classify(t);return"array"===e?jsonMerge([],t):"object"===e?jsonMerge({},t):t}):i}var s={},a=new Set(n.map(function(t){return null!=t?Object.keys(t):[]}).reduce(function(t,e){return t.concat(e)},[])),l=function(t){var e=n.map(function(e){return null!=e&&t in e?e[t]:NOT_SPECIFIED}).filter(function(t){return t!==NOT_SPECIFIED});if(0===e.length)return"continue";var o=e[e.length-1];if(o===DELETE)return"continue";var r=e.map(function(t){return classify(t)}),i=r[0];if(r.some(function(t){return t!==i&&null!==t}))return s[t]=o,"continue";s[t]="array"===i||"object"===i?jsonMerge.apply(void 0,__spread$7(e)):o};try{for(var c=__values$7(a),u=c.next();!u.done;u=c.next()){var p=u.value;l(p)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}return s}function jsonApply(t,e,n){var o,r,i,s;void 0===n&&(n={});var a=n.path,l=void 0===a?void 0:a,c=n.matcherPath,u=void 0===c?l?l.replace(/(\[[0-9+]{1,}\])/i,"[]"):void 0:c,p=n.skip,d=void 0===p?[]:p,h=n.constructors,f=void 0===h?{}:h,g=n.allowedTypes,m=void 0===g?{}:g;if(null==t)throw new Error("AG Charts - target is uninitialised: "+(l||"<root>"));if(null==e)return t;var y=classify(t),_=function(a){if(d.indexOf(a)>=0)return"continue";var c=e[a],p=(l?l+".":"")+a,h=(u?u+".":"")+a,g=t,_=g.constructor,v=g[a],C=null!=(o=f[a])?o:f[h];try{var E=classify(v),w=classify(c);if("class-instance"===y&&!(a in t)&&!g.hasOwnProperty(a))return console.warn("AG Charts - unable to set ["+p+"] in "+(null===(r=_)||void 0===r?void 0:r.name)+" - property is unknown"),"continue";var O=m[h]||[E];if("class-instance"===E&&"object"===w);else if(null!=E&&null!=w&&!O.includes(w))return console.warn("AG Charts - unable to set ["+p+"] in "+(null===(i=_)||void 0===i?void 0:i.name)+" - can't apply type of ["+w+"], allowed types are: ["+O+"]"),"continue";"array"===w?g[a]=null!=(C=null!=C?C:f[h+"[]"])?c.map(function(t){return jsonApply(new C,t,__assign$n(__assign$n({},n),{path:p,matcherPath:h+"[]"}))}):c:"class-instance"===w?g[a]=c:"object"===w?null!=v?jsonApply(v,c,__assign$n(__assign$n({},n),{path:p,matcherPath:h})):g[a]=null!=C?jsonApply(new C,c,__assign$n(__assign$n({},n),{path:p,matcherPath:h})):c:g[a]=c}catch(b){return console.warn("AG Charts - unable to set ["+p+"] in ["+(null===(s=_)||void 0===s?void 0:s.name)+"]; nested error is: "+b.message),"continue"}};for(var v in e)_(v);return t}function jsonWalk(t,e,n){for(var o,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=classify(t),a=n.skip||[];if("array"!==s){if("object"===s){e.apply(void 0,__spread$7([s,t],r));var l=function(i){if(a.indexOf(i)>=0)return"continue";var s=t[i],l=null===(o=r)||void 0===o?void 0:o.map(function(t){var e;return null===(e=t)||void 0===e?void 0:e[i]}),c=classify(s);"object"!==c&&"array"!==c||jsonWalk.apply(void 0,__spread$7([s,e,n],l))};for(var c in t)l(c)}}else t.forEach(function(t,o){var i;jsonWalk.apply(void 0,__spread$7([t,e,n],null===(i=r)||void 0===i?void 0:i.map(function(t){var e;return null===(e=t)||void 0===e?void 0:e[o]})))})}function classify(t){return null==t?null:t instanceof HTMLElement?"primitive":t instanceof Array?"array":t instanceof Date?"primitive":"object"==typeof t&&t.constructor===Object?"object":"function"==typeof t?"function":"object"==typeof t&&null!=t.constructor?"class-instance":"primitive"}var DEFAULT_CARTESIAN_CHART_OVERRIDES={type:"cartesian",axes:[{type:NumberAxis.type,position:ChartAxisPosition.Left},{type:CategoryAxis.type,position:ChartAxisPosition.Bottom}]},DEFAULT_BAR_CHART_OVERRIDES={axes:[{type:"number",position:ChartAxisPosition.Bottom},{type:"category",position:ChartAxisPosition.Left}]},DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES={axes:[{type:"number",position:ChartAxisPosition.Bottom},{type:"number",position:ChartAxisPosition.Left}]},__assign$m=function(){return(__assign$m=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function transform(t,e){var n={};for(var o in t)n[o]=(e[o]||function(t){return t})(t[o],t);return n}function is2dArray(t){return null!=t&&t instanceof Array&&t[0]instanceof Array}function yNamesMapping(t,e){if(null==t)return{};if(!(t instanceof Array))return t;var n=e.yKeys;if(null==n||is2dArray(n))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var o={};return n.forEach(function(e,n){o[e]=t[n]}),o}function yKeysMapping(t,e){return null==t?[[]]:is2dArray(t)?t:e.grouped?t.map(function(t){return[t]}):[t]}function labelMapping(t){if(null!=t){var e=t.placement;return __assign$m(__assign$m({},t),{placement:"inside"===e?BarLabelPlacement.Inside:"outside"===e?BarLabelPlacement.Outside:void 0})}}function barSeriesTransform(t){var e=__assign$m(__assign$m({},t),{yKeys:t.yKeys||[t.yKey]});return delete e.yKey,transform(e,{yNames:yNamesMapping,yKeys:yKeysMapping,label:labelMapping})}function identityTransform(t){return t}var SERIES_TRANSFORMS={area:identityTransform,bar:barSeriesTransform,column:barSeriesTransform,histogram:identityTransform,line:identityTransform,pie:identityTransform,scatter:identityTransform,treemap:identityTransform};function applySeriesTransform(t){return(0,SERIES_TRANSFORMS[t.type||"line"])(t)}var __assign$l=function(){return(__assign$l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__values$6=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$h=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$6=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$h(arguments[e]));return t};function groupSeriesByType(t){var e,n,o={},r=[];try{for(var i=__values$6(t),s=i.next();!s.done;s=i.next()){var a=s.value;if("column"===a.type||"bar"===a.type||"area"===a.type&&!0===a.stacked){var l=(a.type||"line")+"-"+a.xKey+"-"+(a.stacked?"stacked":a.grouped?"grouped":a.yKeys?"stacked":"grouped");null==o[l]&&(o[l]=[],r.push(o[l])),o[l].push(a)}else r.push([a])}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var FAIL=Symbol(),SKIP=Symbol(),ARRAY_REDUCER=function(t){return function(e,n){var o;return e.concat.apply(e,__spread$6(null!=(o=n[t])?o:[]))}},BOOLEAN_OR_REDUCER=function(t,e){return function(n,o){var r;return o[t]===e?n||null!=(r=o[t])&&r:n}},DEFAULTING_ARRAY_REDUCER=function(t,e){return function(n,o,r,i){var s,a=e===SKIP||e===FAIL,l=null!=(s=o[t])?s:e;if(l===FAIL)throw new Error("AG Charts - missing value for property ["+t+"] on series config.");if(l===SKIP)return n;if(0===n.length&&!a)for(;n.length<i;)n=n.concat(e);return a?n.concat(l):(n[r]=l,n)}},YKEYS_REDUCER=function(t,e){return function(n,o){return o[t]===e?n.concat.apply(n,__spread$6(o.yKey?[o.yKey]:o.yKeys)):n}},REDUCE_CONFIG={yKeys:{outputProp:"yKeys",reducer:ARRAY_REDUCER("yKeys"),start:[]},fills:{outputProp:"fills",reducer:ARRAY_REDUCER("fills"),start:[]},strokes:{outputProp:"strokes",reducer:ARRAY_REDUCER("strokes"),start:[]},yNames:{outputProp:"yNames",reducer:ARRAY_REDUCER("yNames"),start:[]},hideInChart:{outputProp:"hideInChart",reducer:ARRAY_REDUCER("hideInChart"),start:[]},hideInLegend:{outputProp:"hideInLegend",reducer:ARRAY_REDUCER("hideInLegend"),start:[]},yKey:{outputProp:"yKeys",reducer:DEFAULTING_ARRAY_REDUCER("yKey",SKIP),start:[]},fill:{outputProp:"fills",reducer:DEFAULTING_ARRAY_REDUCER("fill",SKIP),start:[]},stroke:{outputProp:"strokes",reducer:DEFAULTING_ARRAY_REDUCER("stroke",SKIP),start:[]},yName:{outputProp:"yNames",reducer:DEFAULTING_ARRAY_REDUCER("yName",SKIP),start:[]},visible:{outputProp:"visibles",reducer:DEFAULTING_ARRAY_REDUCER("visible",!0),start:[]},grouped:{outputProp:"grouped",reducer:BOOLEAN_OR_REDUCER("grouped",!0),seriesType:["bar","column"],start:void 0},showInLegend:{outputProp:"hideInLegend",reducer:YKEYS_REDUCER("showInLegend",!1),seriesType:["bar","column"],start:[]}};function reduceSeries(t){var e={};return t.forEach(function(n,o){Object.keys(n).forEach(function(r){var i,s=REDUCE_CONFIG[r],a=function(){var t,o;e[r]=null!=(o=null!=(t=n[r])?t:e[r])?o:void 0};if(s){var l=s.outputProp,c=s.reducer,u=s.start,p=void 0===u?void 0:u,d=s.seriesType;(void 0===d?[n.type]:d).includes(n.type)?e[l]=c(null!=(i=e[l])?i:p,n,o,t.length):a()}else a()})}),e}function processSeriesOptions(t){var e,n,o=[],r=t.map(function(t){return"bar"!==t.type&&"column"!==t.type||null==t.yKey||t.stacked?t:__assign$l(__assign$l({},t),{grouped:null==t.grouped||t.grouped})});try{for(var i=__values$6(groupSeriesByType(r)),s=i.next();!s.done;s=i.next()){var a=s.value;switch(a[0].type){case"column":case"bar":case"area":o.push(reduceSeries(a));break;case"line":default:a.length>1&&console.warn("AG Charts - unexpected grouping of series type: "+a[0].type),o.push(a[0])}}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}var __assign$k=function(){return(__assign$k=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__values$5=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$g=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$5=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$g(arguments[e]));return t};function optionsType(t){var e,n;return t.type||(null===(n=null===(e=t.series)||void 0===e?void 0:e[0])||void 0===n?void 0:n.type)||"cartesian"}function isAgCartesianChartOptions(t){var e=optionsType(t);if(null==e)return!0;switch(e){case"cartesian":case"area":case"bar":case"column":case"groupedCategory":case"histogram":case"line":case"scatter":return!0;default:return!1}}function isAgHierarchyChartOptions(t){if(null==optionsType(t))return!1;switch(t.type){case"hierarchy":case"treemap":return!0;default:return!1}}function isAgPolarChartOptions(t){if(null==optionsType(t))return!1;switch(t.type){case"polar":case"pie":return!0;default:return!1}}function isSeriesOptionType(t){return null!=t&&["line","bar","column","histogram","scatter","area","pie","treemap"].indexOf(t)>=0}function countArrayElements(t){var e,n,o=0;try{for(var r=__values$5(t),i=r.next();!i.done;i=r.next()){var s=i.value;s instanceof Array&&(o+=countArrayElements(s)),null!=s&&o++}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return o}function takeColours(t,e,n){for(var o=[],r=0;r<n;r++)o.push(e[(r+t.colourIndex)%e.length]);return o}function prepareOptions(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=null==e?t:jsonMerge.apply(void 0,__spread$5(e,[t]));sanityCheckOptions(o);var r=o.type,i=optionsType(o),s=isAgCartesianChartOptions(o=__assign$k(__assign$k({},o),{type:i}))?"line":isAgHierarchyChartOptions(o)?"treemap":isAgPolarChartOptions(o)?"pie":"line",a="bar"===i?DEFAULT_BAR_CHART_OVERRIDES:"scatter"===i||"histogram"===i?DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES:isAgCartesianChartOptions(o)?DEFAULT_CARTESIAN_CHART_OVERRIDES:{},l=prepareMainOptions(a,o),c=l.context,u=l.mergedOptions,p=l.axesThemes,d=l.seriesThemes;return u.series=processSeriesOptions(u.series||[]).map(function(t){var e=t.type?t.type:isSeriesOptionType(r)?r:s,n=__assign$k(__assign$k({},t),{type:e});return prepareSeries(c,n,d[e]||{})}),isAgCartesianChartOptions(u)&&(u.axes||[]).forEach(function(t,e){var n=t.type||"number",o=__assign$k(__assign$k({},t),{type:n}),r=jsonMerge(p[n],p[n][t.position||"unknown"]||{});u.axes[e]=prepareAxis(o,r)}),prepareEnabledOptions(o,u),u}function sanityCheckOptions(t){var e,n;(null===(e=t.series)||void 0===e?void 0:e.some(function(t){return null!=t.yKeys&&null!=t.yKey}))&&console.warn("AG Charts - series options yKeys and yKey are mutually exclusive, please only use yKey for future compatibility."),(null===(n=t.series)||void 0===n?void 0:n.some(function(t){return null!=t.yNames&&null!=t.yName}))&&console.warn("AG Charts - series options yNames and yName are mutually exclusive, please only use yName for future compatibility.")}function prepareMainOptions(t,e){var n=prepareTheme(e),o=n.axesThemes,r=n.seriesThemes;return{context:{colourIndex:0,palette:n.theme.palette},mergedOptions:jsonMerge(t,n.cleanedTheme,e),axesThemes:o,seriesThemes:r}}function prepareTheme(t){var e=getChartTheme(t.theme),n=e.getConfig(optionsType(t)||"cartesian");return{theme:e,axesThemes:n.axes||{},seriesThemes:n.series||{},cleanedTheme:jsonMerge(n,{axes:DELETE,series:DELETE})}}function prepareSeries(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var r=calculateSeriesPalette(t,e),i={stacked:DELETE},s=jsonMerge.apply(void 0,__spread$5(n,[r,e,i]));return applySeriesTransform(s)}function calculateSeriesPalette(t,e){var n={},o=t.palette,r=o.fills,i=o.strokes,s=countArrayElements(e.yKeys||[])||1;switch(e.type){case"pie":s=Math.max(r.length,i.length);case"area":case"bar":case"column":n.fills=takeColours(t,r,s),n.strokes=takeColours(t,i,s);break;case"histogram":n.fill=takeColours(t,r,1)[0],n.stroke=takeColours(t,i,1)[0];break;case"scatter":n.marker={stroke:takeColours(t,i,1)[0],fill:takeColours(t,r,1)[0]};break;case"line":n.stroke=takeColours(t,r,1)[0],n.marker={stroke:takeColours(t,i,1)[0],fill:takeColours(t,r,1)[0]};break;case"treemap":break;default:throw new Error("AG Charts - unknown series type: "+e.type)}return t.colourIndex+=s,n}function prepareAxis(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o={top:DELETE,bottom:DELETE,left:DELETE,right:DELETE};return jsonMerge.apply(void 0,__spread$5(e,[t,o]))}function prepareEnabledOptions(t,e){jsonWalk(t,function(t,e,n){n&&"enabled"in n&&null==e.enabled&&(n.enabled=!0)},{skip:["data"]},e)}var __assign$j=function(){return(__assign$j=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__read$f=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$4=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$f(arguments[e]));return t},__values$4=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function chartType(t){if(isAgCartesianChartOptions(t))return"cartesian";if(isAgPolarChartOptions(t))return"polar";if(isAgHierarchyChartOptions(t))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+t.type)}var AgChart=function(){function t(){}return t.createComponent=function(t,e){return e.indexOf(".series")>=0?createSeries([__assign$j(__assign$j({},t),{type:t.type||e.split(".")[0]})])[0]:null},t.create=function(t,e,n){return AgChartV2.create(t)},t.update=function(t,e,n,o){return AgChartV2.update(t,e)},t}(),AgChartV2=function(){function t(){}return t.create=function(e){debug("user options",e);var n={};t.DEBUG()&&(n.debug=!0);var o=prepareOptions(e,n),r=isAgCartesianChartOptions(o)?"groupedCategory"===o.type?new GroupedCategoryChart(document):new CartesianChart(document):isAgHierarchyChartOptions(o)?new HierarchyChart(document):isAgPolarChartOptions(o)?new PolarChart(document):void 0;if(!r)throw new Error("AG Charts - couldn't apply configuration, check type of options: "+o.type);return t.updateDelta(r,o,e),r},t.update=function(e,n){debug("user options",n);var o={};t.DEBUG()&&(o.debug=!0);var r=prepareOptions(n,e.userOptions,o);if(chartType(r)!==chartType(e.options))return e.destroy(),void console.warn("AG Charts - options supplied require a different type of chart, please recreate the chart.");var i=jsonDiff(e.options,r,{stringify:["data"]});null!=i&&t.updateDelta(e,i,n)},t.updateDelta=function(t,e,n){null==e.type&&(e=__assign$j(__assign$j({},e),{type:t.options.type||optionsType(e)})),debug("delta update",e),applyChartOptions(t,e,n)},t.DEBUG=function(){var t;return null!=(t=windowValue("agChartsDebug"))&&t},t}();function debug(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];AgChartV2.DEBUG()&&console.log.apply(console,__spread$4([t],e))}function applyChartOptions(t,e,n){var o,r;if(isAgCartesianChartOptions(e))applyOptionValues(t,e,{skip:["type","data","series","axes","autoSize","listeners","theme"]});else if(isAgPolarChartOptions(e))applyOptionValues(t,e,{skip:["type","data","series","autoSize","listeners","theme"]});else{if(!isAgHierarchyChartOptions(e))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+e.type);applyOptionValues(t,e,{skip:["type","data","series","autoSize","listeners","theme"]})}var i=ChartUpdateType.PERFORM_LAYOUT;e.series&&e.series.length>0&&applySeries(t,e),isAgCartesianChartOptions(e)&&e.axes&&applyAxes(t,e)&&(i=ChartUpdateType.PROCESS_DATA);var s=e.series;e.data?(t.data=e.data,i=ChartUpdateType.PROCESS_DATA):(null===(o=s)||void 0===o?void 0:o.some(function(t){return null!=t.data}))&&(i=ChartUpdateType.PROCESS_DATA),null!=e.autoSize&&(t.autoSize=e.autoSize),e.listeners&&registerListeners(t,e.listeners),(null===(r=e.legend)||void 0===r?void 0:r.listeners)&&Object.assign(t.legend.listeners,e.legend.listeners),t.options=jsonMerge(t.options||{},e),t.userOptions=jsonMerge(t.userOptions||{},n),t.update(i)}function applySeries(t,e){var n=e.series;n&&(t.series.length===n.length&&t.series.every(function(t,e){var o;return t.type===(null===(o=n[e])||void 0===o?void 0:o.type)})?t.series.forEach(function(e,o){var r,i,s=jsonDiff((null===(i=null===(r=t.options)||void 0===r?void 0:r.series)||void 0===i?void 0:i[o])||{},n[o]||{});s&&(debug("applying series diff idx "+o,s),applySeriesValues(e,s,{path:"series["+o+"]"}),e.markNodeDataDirty())}):t.series=createSeries(n))}function applyAxes(t,e){var n=e.axes;if(!n)return!1;if(t.axes.length===n.length&&t.axes.every(function(t,e){return t.type===n[e].type})){var o=t.options;if(isAgCartesianChartOptions(o))return t.axes.forEach(function(t,e){var r,i=jsonDiff((null===(r=o.axes)||void 0===r?void 0:r[e])||{},n[e]);debug("applying axis diff idx "+e,i),jsonApply(t,i)}),!0}return t.axes=createAxis(n),!0}function createSeries(t){var e,n,o=[],r=0;try{for(var i=__values$4(t||[]),s=i.next();!s.done;s=i.next()){var a=s.value,l="series["+r+++"]";switch(a.type){case"area":o.push(applySeriesValues(new AreaSeries,a,{path:l}));break;case"bar":case"column":o.push(applySeriesValues(new BarSeries,a,{path:l}));break;case"histogram":o.push(applySeriesValues(new HistogramSeries,a,{path:l}));break;case"line":o.push(applySeriesValues(new LineSeries,a,{path:l}));break;case"scatter":o.push(applySeriesValues(new ScatterSeries,a,{path:l}));break;case"pie":o.push(applySeriesValues(new PieSeries,a,{path:l}));break;case"treemap":o.push(applySeriesValues(new TreemapSeries,a,{path:l}));break;default:throw new Error("AG Charts - unknown series type: "+a.type)}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}function createAxis(t){var e,n,o=[],r=0;try{for(var i=__values$4(t||[]),s=i.next();!s.done;s=i.next()){var a=s.value,l="axis["+r+++"]";switch(a.type){case"number":o.push(applyAxisValues(new NumberAxis,a,{path:l}));break;case LogAxis.type:o.push(applyAxisValues(new LogAxis,a,{path:l}));break;case CategoryAxis.type:o.push(applyAxisValues(new CategoryAxis,a,{path:l}));break;case GroupedCategoryAxis.type:o.push(applyAxisValues(new GroupedCategoryAxis,a,{path:l}));break;case TimeAxis.type:o.push(applyAxisValues(new TimeAxis,a,{path:l}));break;default:throw new Error("AG Charts - unknown axis type: "+a.type)}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}function registerListeners(t,e){for(var n in t.clearEventListeners(),e)t.addEventListener(n,e[n])}var JSON_APPLY_OPTIONS={constructors:{title:Caption,subtitle:Caption,shadow:DropShadow},allowedTypes:{"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function applyOptionValues(t,e,n){var o=void 0===n?{}:n,r=o.skip,i=o.path;return jsonApply(t,e,__assign$j(__assign$j(__assign$j({},JSON_APPLY_OPTIONS),{skip:__spread$4(["type"],r||[])}),i?{path:i}:{}))}function applySeriesValues(t,e,n){var o,r,i=(void 0===n?{}:n).path,s=(null===(o=JSON_APPLY_OPTIONS)||void 0===o?void 0:o.constructors)||{},a={constructors:__assign$j(__assign$j({},s),{title:"pie"===t.type?PieTitle:s.title})},l=jsonApply(t,e,__assign$j(__assign$j(__assign$j(__assign$j({},JSON_APPLY_OPTIONS),a),{skip:__spread$4(["type"],["listeners"]||[])}),i?{path:i}:{})),c=null===(r=e)||void 0===r?void 0:r.listeners;return null!=c&&registerListeners(t,c),l}function applyAxisValues(t,e,n){var o=void 0===n?{}:n,r=o.skip,i=o.path;return jsonApply(t,e,__assign$j(__assign$j(__assign$j({},JSON_APPLY_OPTIONS),{skip:__spread$4(["type"],r||[])}),i?{path:i}:{}))}var time={millisecond:millisecond$1,second:second$1,minute:minute$1,hour:hour$1,day:day$1,sunday:sunday$1,monday:monday$1,tuesday:tuesday,wednesday:wednesday,thursday:thursday$1,friday:friday,saturday:saturday,month:month$1,year:year$1,utcMinute:utcMinute,utcHour:utcHour,utcDay:utcDay$1,utcMonth:utcMonth,utcYear:utcYear$1};function getSeriesType(t){switch(t){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var __extends$1O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$14=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartController=function(t){function e(e){var n=t.call(this)||this;return n.model=e,n}return __extends$1O(e,t),e.prototype.init=function(){var t=this;this.setChartRange(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,function(e){e.id&&e.id===t.model.chartId&&t.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},e.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},e.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartUpdatedEvent())},e.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},e.prototype.updateForPanelChange=function(t){this.model.updateCellRanges(t),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},e.prototype.getChartUpdateParams=function(){var t=this.getSelectedValueColState().map(function(t){return{colId:t.colId,displayName:t.displayName}}),e=this.getChartData(),n=this.getSelectedDimension();return{data:e,grouping:this.isGrouping(),category:{id:n.colId,name:n.displayName,chartDataType:this.model.getChartDataType(n.colId)},fields:t,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes()}},e.prototype.getChartModel=function(){var t=this.model.pivotChart?"pivot":"range",e=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:t,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:e}},e.prototype.getChartId=function(){return this.model.chartId},e.prototype.getChartData=function(){return this.model.chartData},e.prototype.getChartType=function(){return this.model.chartType},e.prototype.setChartType=function(t){this.model.chartType=t,this.model.updateSeriesChartTypes(),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},e.prototype.setChartThemeName=function(t){this.model.chartThemeName=t,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},e.prototype.getChartThemeName=function(){return this.model.chartThemeName},e.prototype.isPivotChart=function(){return this.model.pivotChart},e.prototype.isPivotMode=function(){return this.model.isPivotMode()},e.prototype.isGrouping=function(){return this.model.isGrouping()},e.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},e.prototype.getPalettes=function(){var t=this;return this.gridOptionsWrapper.getChartThemes().map(function(e){return getChartTheme(t.chartProxy.isStockTheme(e)?e:t.chartProxy.lookupCustomChartTheme(e)).palette})},e.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},e.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(t){return t.selected})},e.prototype.getDimensionColState=function(){return this.model.dimensionColState},e.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},e.prototype.displayNameMapper=function(t){var e=this.model.columnNames[t.colId];return t.displayName=e?e.join(" - "):this.model.getColDisplayName(t.column),t},e.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},e.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===ChartDataModel.DEFAULT_CATEGORY},e.prototype.setChartRange=function(t){void 0===t&&(t=!1),!this.rangeService||this.model.suppressChartRanges||this.model.unlinked||this.rangeService.setCellRanges(this.getCellRanges()),t||this.raiseChartUpdatedEvent()},e.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},e.prototype.setChartProxy=function(t){this.chartProxy=t},e.prototype.getChartProxy=function(){return this.chartProxy},e.prototype.isActiveXYChart=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.getChartType())},e.prototype.isChartLinked=function(){return!this.model.unlinked},e.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},e.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},e.prototype.isComboChart=function(){return this.model.isComboChart()},e.prototype.updateSeriesChartType=function(t,n,o){var r=this.model.seriesChartTypes.find(function(e){return e.colId===t});if(r){var i="customCombo"!==this.model.chartType;i&&(this.model.chartType="customCombo");var s=r.chartType;null!=n&&(r.chartType=n),null!=o&&(r.secondaryAxis=o),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),i&&this.dispatchEvent(Object.freeze({type:e.EVENT_CHART_TYPE_CHANGED})),s!==n&&this.dispatchEvent(Object.freeze({type:e.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}))}},e.prototype.getActiveSeriesChartTypes=function(){var t=this.getSelectedValueColState().map(function(t){return t.colId});return this.getSeriesChartTypes().filter(function(e){return t.includes(e.colId)})},e.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[getSeriesType(this.getChartType())]},e.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(t){return t})},e.prototype.getCellRangeParams=function(){var t=this.getCellRanges(),e=t[0],n=e&&e.startRow||null,o=e&&e.endRow||null;return{rowStartIndex:n&&n.rowIndex,rowStartPinned:n&&n.rowPinned,rowEndIndex:o&&o.rowIndex,rowEndPinned:o&&o.rowPinned,columns:t.reduce(function(t,e){return t.concat(e.columns.map(function(t){return t.getId()}))},[])}},e.prototype.raiseChartUpdatedEvent=function(){var t=Object.freeze({type:e.EVENT_CHART_UPDATED});this.dispatchEvent(t)},e.prototype.raiseChartOptionsChangedEvent=function(){var t=this.getChartModel(),e=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:t.chartId,chartType:t.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},e.prototype.raiseChartRangeSelectionChangedEvent=function(){var t=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},e.EVENT_CHART_UPDATED="chartUpdated",e.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",e.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$14([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$13=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$3=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$e(arguments[e]));return t},__values$3=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ChartDataPanel=function(t){function e(n,o){var r=t.call(this,e.TEMPLATE)||this;return r.chartController=n,r.chartOptionsService=o,r.columnComps=new Map,r}return __extends$1N(e,t),e.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.updatePanels.bind(this)),this.createAutoScrollService()},e.prototype.destroy=function(){this.clearComponents(),t.prototype.destroy.call(this)},e.prototype.updatePanels=function(){var t=this,e=this.chartType,n=this.chartController.getColStateForMenu(),o=n.dimensionCols,r=n.valueCols,i=o.map(function(t){return t.colId}).concat(r.map(function(t){return t.colId}));this.chartType=this.chartController.getChartType();var s=this.getGroupExpandedState();if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.keys(this.columnComps),i)&&this.chartType===e){if(__spread$3(o,r).forEach(function(e){t.columnComps.get(e.colId).setValue(e.selected,!0)}),this.chartController.isActiveXYChart()){var a=this.generateGetSeriesLabel();r.forEach(function(e){t.columnComps.get(e.colId).setLabel(a(e))})}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.createSeriesChartTypeGroup(r)}else this.clearComponents(),this.createCategoriesGroup(o),this.createSeriesGroup(r),this.createSeriesChartTypeGroup(r);this.restoreGroupExpandedState(s)},e.prototype.getGroupExpandedState=function(){return[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].map(function(t){return!t||t.isExpanded()})},e.prototype.restoreGroupExpandedState=function(t){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(e,n){e&&e.toggleGroupExpand(t[n])})},e.prototype.createAutoScrollService=function(){var t=this.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(e){return t.scrollTop=e}})},e.prototype.addComponent=function(t,e,n){var o=document.createElement("div");o.id=n,o.className="ag-chart-data-section",o.appendChild(e.getGui()),t.appendChild(o)},e.prototype.addChangeListener=function(t,e){var n=this;this.addManagedListener(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,function(){e.selected=t.getValue(),n.chartController.updateForPanelChange(e)})},e.prototype.createCategoriesGroup=function(t){var e=this;this.categoriesGroupComp=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var n="chartDimension"+this.getCompId();t.forEach(function(t){var o=e.categoriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LQq);o.setLabel(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.displayName)),o.setValue(t.selected),o.setInputName(n),e.addChangeListener(o,t),e.categoriesGroupComp.addItem(o),e.columnComps.set(t.colId,o)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},e.prototype.createSeriesGroup=function(t){var e=this;if(this.seriesGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var n=this.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);n.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(t){e.chartOptionsService.setPairedMode(!!t),e.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(n)}var o=this.generateGetSeriesLabel();t.forEach(function(t){var n=e.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc);n.addCssClass("ag-data-select-checkbox");var r=o(t);n.setLabel(r),n.setValue(t.selected),e.addChangeListener(n,t),e.seriesGroupComp.addItem(n),e.columnComps.set(t.colId,n),e.addDragHandle(n,t)}),this.addComponent(this.getGui(),this.seriesGroupComp,"seriesGroup");var r={getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_MOVE},getContainer:function(){return e.seriesGroupComp.getGui()},onDragging:function(t){return e.onDragging(t)},onDragLeave:function(){return e.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(r)},e.prototype.createSeriesChartTypeGroup=function(t){var e=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var n=this.chartController.getSeriesChartTypes();t.forEach(function(t){if(t.selected){var o=n.filter(function(e){return e.colId===t.colId})[0];if(o){var r=e.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:t.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),i=e.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(e.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(o.chartType)).setValue(!!o.secondaryAxis).onValueChange(function(n){return e.chartController.updateSeriesChartType(t.colId,void 0,n)});r.addItem(i);var s=function(t,n){return e.chartTranslationService.translate(t,n)},a=[{value:"line",text:s("line","Line")},{value:"area",text:s("area","Area")},{value:"stackedArea",text:s("stackedArea","StackedArea")},{value:"groupedColumn",text:s("groupedColumn","Grouped Column")},{value:"stackedColumn",text:s("stackedColumn","Stacked Column")}],l=r.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);l.setLabelAlignment("left").setLabelWidth("flex").addOptions(a).setValue(o.chartType).onValueChange(function(n){return e.chartController.updateSeriesChartType(t.colId,n)}),r.addItem(l),e.seriesChartTypeGroupComp.addItem(r)}}}),this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup")}},e.prototype.addDragHandle=function(t,e){var n=this,o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsWrapper);o.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),t.getGui().insertAdjacentElement("beforeend",o);var r={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel,eElement:o,dragItemName:e.displayName,getDragItem:function(){return{columns:[e.column]}},onDragStopped:function(){return n.onDragStop()}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(r)})},e.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.displayName)};var t="bubble"===this.chartType,e=this.isInPairedMode(),n=0,o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),function(r){var i,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(r.displayName);return r.selected?(i=e?o.get(n%(t?3:2)):0===n?"X":t&&n%2==0?"size":"Y",n++,s+" ("+i+")"):s}},e.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},e.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},e.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},e.prototype.clearComponents=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},e.prototype.onDragging=function(t){var e=this.checkHoveredItem(t);if(e){this.lastDraggedColumn=t.dragItem.columns[0];var n=e.comp,o=e.position,r=this.lastHoveredItem||{};n===r.comp&&o===r.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredItem={comp:n,position:o},n.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+o))}},e.prototype.checkHoveredItem=function(t){var e,n;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t.vDirection))return null;var o=t.event;try{for(var r=__values$3(this.columnComps.values()),i=r.next();!i.done;i=r.next()){var s=i.value,a=s.getGui();if(a.querySelector(".ag-chart-data-column-drag-handle")){var l=a.getBoundingClientRect();if(o.clientY>=l.top&&o.clientY<=l.bottom)return{comp:s,position:o.clientY>l.top+a.clientHeight/2?"bottom":"top"}}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},e.prototype.onDragLeave=function(){this.clearHoveredItems()},e.prototype.onDragStop=function(){var t=this;if(this.lastHoveredItem){var e=this.chartController.getColStateForMenu(),n=__spread$3(e.dimensionCols,e.valueCols).find(function(e){return e.column===t.lastDraggedColumn});if(n){var o=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&o++,n.order=o,this.chartController.updateForPanelChange(n)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(t){t.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},e.prototype.isInterestedIn=function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel},e.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$13([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$12=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FontPanel=function(t){function e(e){var n=t.call(this)||this;return n.activeComps=[],n.params=e,n}return __extends$1M(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},e.prototype.addCompToPanel=function(t){this.fontGroup.addItem(t),this.activeComps.push(t)},e.prototype.setEnabled=function(t){this.fontGroup.setEnabled(t)},e.prototype.initGroup=function(){var t=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(e){t.params.setEnabled&&t.params.setEnabled(e)})},e.prototype.initFontFamilySelect=function(){var t=this,e=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],n=this.params.initialFont.family,o=e[0];if(n){var r=e.map(function(t){return t.toLowerCase()}).indexOf(n.toLowerCase());if(r>=0)o=e[r];else{var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(n);e.push(i),o=i}}var s=e.sort().map(function(t){return{value:t,text:t}});this.familySelect.addOptions(s).setInputWidth("flex").setValue(""+o).onValueChange(function(e){return t.params.setFont({family:e})})},e.prototype.initFontSizeSelect=function(){var t=this,e=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],n=this.params.initialFont.size;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,n)||e.push(n);var o=e.sort(function(t,e){return t-e}).map(function(t){return{value:""+t,text:""+t}});this.sizeSelect.addOptions(o).setInputWidth("flex").setValue(""+n).onValueChange(function(e){return t.params.setFont({size:parseInt(e,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},e.prototype.initFontWeightStyleSelect=function(){var t=this,e=this.params.initialFont,n=e.weight,o=void 0===n?"normal":n,r=e.style,i=void 0===r?"normal":r,s=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],a=s.find(function(t){return t.weight===o&&t.style===i});a||s.unshift(a={name:"predefined",weight:o,style:i});var l=s.map(function(e){return{value:e.name,text:t.chartTranslationService.translate(e.name)}});this.weightStyleSelect.addOptions(l).setInputWidth("flex").setValue(a.name).onValueChange(function(e){var n=s.find(function(t){return t.name===e});t.params.setFont({weight:n.weight,style:n.style})})},e.prototype.initFontColorPicker=function(){var t=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(e){return t.params.setFont({color:e})})},e.prototype.destroyActiveComps=function(){var t=this;this.activeComps.forEach(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)})},e.prototype.destroy=function(){this.destroyActiveComps(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("fontGroup")],e.prototype,"fontGroup",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("familySelect")],e.prototype,"familySelect",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("weightStyleSelect")],e.prototype,"weightStyleSelect",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sizeSelect")],e.prototype,"sizeSelect",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],e.prototype,"colorPicker",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$12([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$11=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},LegendPanel=function(t){function e(e){var n=t.call(this)||this;return n.chartOptionsService=e,n.activePanels=[],n}return __extends$1L(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},e.prototype.initLegendGroup=function(){var t=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(e){t.chartOptionsService.setChartOption("legend.enabled",e),t.legendGroup.toggleGroupExpand(!0)})},e.prototype.initLegendPosition=function(){var t=this,e=[LegendPosition.Top,LegendPosition.Right,LegendPosition.Bottom,LegendPosition.Left];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(e.map(function(e){return{value:e,text:t.chartTranslationService.translate(e)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(e){return t.chartOptionsService.setChartOption("legend.position",e)})},e.prototype.initLegendPadding=function(){var t=this,e=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(getMaxValue(e,200)).setValue(""+e).setTextFieldWidth(45).onValueChange(function(e){return t.chartOptionsService.setChartOption("legend.spacing",e)})},e.prototype.initLegendItems=function(){var t=this,e=function(e,n,o,r){var i=t.chartOptionsService.getChartOption("legend."+e);o.setLabel(t.chartTranslationService.translate(n)).setMaxValue(getMaxValue(i,r)).setValue(""+i).setTextFieldWidth(45).onValueChange(function(n){t.chartOptionsService.setChartOption("legend."+e,n)})};e("item.marker.size","markerSize",this.markerSizeSlider,40),e("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),e("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),e("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),e("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},e.prototype.initLabelPanel=function(){var t=this,e=this.chartOptionsService,n={family:e.getChartOption("legend.item.label.fontFamily"),style:e.getChartOption("legend.item.label.fontStyle"),weight:e.getChartOption("legend.item.label.fontWeight"),size:e.getChartOption("legend.item.label.fontSize"),color:e.getChartOption("legend.item.label.color")},o=this.createBean(new FontPanel({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(e){var n=t.chartOptionsService;e.family&&n.setChartOption("legend.item.label.fontFamily",e.family),e.weight&&n.setChartOption("legend.item.label.fontWeight",e.weight),e.style&&n.setChartOption("legend.item.label.fontStyle",e.style),e.size&&n.setChartOption("legend.item.label.fontSize",e.size),e.color&&n.setChartOption("legend.item.label.color",e.color)}}));this.legendGroup.addItem(o),this.activePanels.push(o)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)})},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendGroup")],e.prototype,"legendGroup",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPositionSelect")],e.prototype,"legendPositionSelect",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPaddingSlider")],e.prototype,"legendPaddingSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerSizeSlider")],e.prototype,"markerSizeSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerStrokeSlider")],e.prototype,"markerStrokeSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerPaddingSlider")],e.prototype,"markerPaddingSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingXSlider")],e.prototype,"itemPaddingXSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingYSlider")],e.prototype,"itemPaddingYSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$11([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1K=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$10=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AxisTicksPanel=function(t){function e(e){var n=t.call(this)||this;return n.chartOptionsService=e,n}return __extends$1K(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},e.prototype.initAxisTicks=function(){var t=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(e){return t.chartOptionsService.setAxisProperty("tick.color",e)});var e=function(e,n,o,r){var i=t.chartOptionsService.getAxisProperty(e);n.setLabel(o).setMaxValue(getMaxValue(i,r)).setValue(""+i).setTextFieldWidth(45).onValueChange(function(n){return t.chartOptionsService.setAxisProperty(e,n)})};e("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),e("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},e.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksGroup")],e.prototype,"axisTicksGroup",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksColorPicker")],e.prototype,"axisTicksColorPicker",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksWidthSlider")],e.prototype,"axisTicksWidthSlider",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksSizeSlider")],e.prototype,"axisTicksSizeSlider",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$10([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$$=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AxisPanel=function(t){function e(e,n){var o=t.call(this)||this;return o.chartController=e,o.chartOptionsService=n,o.activePanels=[],o.axisLabelUpdateFuncs=[],o.prevXRotation=0,o.prevYRotation=0,o}return __extends$1J(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,function(){return t.axisLabelUpdateFuncs.forEach(function(t){return t()})})},e.prototype.initAxis=function(){var t=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(e){return t.chartOptionsService.setAxisProperty("line.color",e)});var e=this.chartOptionsService.getAxisProperty("line.width");if(this.axisLineWidthSlider.setMaxValue(getMaxValue(e,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue(""+e).onValueChange(function(e){return t.chartOptionsService.setAxisProperty("line.width",e)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var n=[{value:"",text:this.translate("automatic")}];["category","time","number"].forEach(function(e){n.push({value:e,text:t.translate(e)})}),this.xAxisTypeSelect.setLabel(this.translate("xType")).setLabelWidth("flex").addOptions(n).setValue(this.chartOptionsService.getChartOption("xAxis.type")||"").onValueChange(function(e){t.chartOptionsService.setChartOption("xAxis.type","string"==typeof e&&e.length&&e),t.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},e.prototype.initAxisTicks=function(){var t=this.createBean(new AxisTicksPanel(this.chartOptionsService));this.axisGroup.addItem(t),this.activePanels.push(t)},e.prototype.initAxisLabels=function(){var t=this,e={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},n={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:e,setFont:function(e){e.family&&t.chartOptionsService.setAxisProperty("label.fontFamily",e.family),e.weight&&t.chartOptionsService.setAxisProperty("label.fontWeight",e.weight),e.style&&t.chartOptionsService.setAxisProperty("label.fontStyle",e.style),e.size&&t.chartOptionsService.setAxisProperty("label.fontSize",e.size),e.color&&t.chartOptionsService.setAxisProperty("label.color",e.color)}},o=this.createBean(new FontPanel(n));this.axisGroup.addItem(o),this.activePanels.push(o),this.addAdditionalLabelComps(o)},e.prototype.addAdditionalLabelComps=function(t){this.addLabelPadding(t);var e=this.createRotationWidgets(),n=e.xRotationComp,o=e.yRotationComp,r=this.initLabelRotations(n,o);t.addCompToPanel(r),t.addCompToPanel(n),t.addCompToPanel(o)},e.prototype.initLabelRotations=function(t,e){var n,o,r=this,i=function(t){return r.chartOptionsService.getLabelRotation(t)},s=function(t,e){r.chartOptionsService.setLabelRotation(t,e)},a=(n=i("xAxis"),o=i("yAxis"),null==n&&null==o&&r.chartOptionsService.getAxisProperty("label.autoRotate")),l=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(this.translate("autoRotate")).setValue(a).onValueChange(function(n){r.chartOptionsService.setAxisProperty("label.autoRotate",n),n?(r.prevXRotation=i("xAxis"),r.prevYRotation=i("yAxis"),s("xAxis",void 0),s("yAxis",void 0)):(s("xAxis",r.prevXRotation),s("yAxis",r.prevYRotation)),t.setDisabled(n),e.setDisabled(n)});return t.setDisabled(a),e.setDisabled(a),l},e.prototype.createRotationWidgets=function(){var t=this,e=String.fromCharCode(176),n=function(n,o){var r=t.chartTranslationService.translate(n)+" "+e,i=t.chartOptionsService.getLabelRotation(o),s=(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nv3).setLabel(r).setLabelWidth("flex").setValue(i||0).onValueChange(function(e){return t.chartOptionsService.setLabelRotation(o,e)});return t.axisLabelUpdateFuncs.push(function(){var e=t.chartOptionsService.getLabelRotation(o);s.setValue(e||0)}),t.createBean(s)};return{xRotationComp:n("xRotation","xAxis"),yRotationComp:n("yRotation","yAxis")}},e.prototype.addLabelPadding=function(t){var e=this,n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),o=this.chartOptionsService.getAxisProperty("label.padding");n.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(getMaxValue(o,30)).setValue(""+o).setTextFieldWidth(45).onValueChange(function(t){return e.chartOptionsService.setAxisProperty("label.padding",t)}),t.addCompToPanel(n)},e.prototype.translate=function(t,e){return this.chartTranslationService.translate(t,e)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)})},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisGroup")],e.prototype,"axisGroup",void 0),__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisColorInput")],e.prototype,"axisColorInput",void 0),__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisLineWidthSlider")],e.prototype,"axisLineWidthSlider",void 0),__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("xAxisTypeSelect")],e.prototype,"xAxisTypeSelect",void 0),__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$_=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},NavigatorPanel=function(t){function e(e){var n=t.call(this)||this;return n.chartOptionsService=e,n}return __extends$1I(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},e.prototype.initNavigator=function(){var t=this,e=this.chartTranslationService;this.navigatorGroup.setTitle(e.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(e){t.chartOptionsService.setChartOption("navigator.enabled",e),t.navigatorGroup.toggleGroupExpand(!0)});var n=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(e.translate("height")).setMinValue(10).setMaxValue(getMaxValue(n,60)).setTextFieldWidth(45).setValue(""+(n||30)).onValueChange(function(e){return t.chartOptionsService.setChartOption("navigator.height",e)})},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorGroup")],e.prototype,"navigatorGroup",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorHeightSlider")],e.prototype,"navigatorHeightSlider",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1H=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$Z=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},PaddingPanel=function(t){function e(e){var n=t.call(this)||this;return n.chartOptionsService=e,n}return __extends$1H(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},e.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},e.prototype.initChartPaddingItems=function(){var t=this,e=function(e,n){var o=t.chartOptionsService.getChartOption("padding."+e);n.setLabel(t.chartTranslationService.translate(e)).setMaxValue(getMaxValue(o,200)).setValue(""+o).setTextFieldWidth(45).onValueChange(function(n){return t.chartOptionsService.setChartOption("padding."+e,n)})};e("top",this.paddingTopSlider),e("right",this.paddingRightSlider),e("bottom",this.paddingBottomSlider),e("left",this.paddingLeftSlider)},e.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartPaddingGroup")],e.prototype,"chartPaddingGroup",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingTopSlider")],e.prototype,"paddingTopSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingRightSlider")],e.prototype,"paddingRightSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingBottomSlider")],e.prototype,"paddingBottomSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingLeftSlider")],e.prototype,"paddingLeftSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$Y=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},BackgroundPanel=function(t){function e(e){var n=t.call(this)||this;return n.chartOptionsService=e,n}return __extends$1G(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},e.prototype.initGroup=function(){var t=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(e){return t.chartOptionsService.setChartOption("background.visible",e)})},e.prototype.initColorPicker=function(){var t=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(e){return t.chartOptionsService.setChartOption("background.fill",e)})},e.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartBackgroundGroup")],e.prototype,"group",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],e.prototype,"colorPicker",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$X=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TitlePanel=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.chartOptionsService=n,o.activePanels=[],o}return __extends$1F(e,t),e.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},e.prototype.hasTitle=function(){var t=this.getOption("title");return t&&t.enabled&&t.text&&t.text.length>0},e.prototype.initFontPanel=function(){var t=this,e=this.hasTitle,n=function(e){e.family&&t.setOption("title.fontFamily",e.family),e.weight&&t.setOption("title.fontWeight",e.weight),e.style&&t.setOption("title.fontStyle",e.style),e.size&&t.setOption("title.fontSize",e.size),e.color&&t.setOption("title.color",e.color)},o={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};e||n(o);var r={name:this.chartTranslationService.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:o,setFont:n,setEnabled:function(e){t.setOption("title.enabled",e);var n=t.getOption("title.text");e&&"Title"===n&&t.setOption("title.text",t.titlePlaceholder)}},i=this.createBean(new FontPanel(r));this.getGui().appendChild(i.getGui()),this.activePanels.push(i),this.addManagedListener(this.eventService,"chartTitleEdit",function(){i.setEnabled(t.hasTitle())})},e.prototype.getOption=function(t){return this.chartOptionsService.getChartOption(t)},e.prototype.setOption=function(t,e){this.chartOptionsService.setChartOption(t,e)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)})},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE="<div></div>",__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$X([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$W=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartPanel=function(t){function e(e){var n=t.call(this)||this;return n.chartOptionsService=e,n.activePanels=[],n}return __extends$1E(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},e.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},e.prototype.initTitles=function(){var t=this.createBean(new TitlePanel(this.chartOptionsService));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.initPaddingPanel=function(){var t=this.createBean(new PaddingPanel(this.chartOptionsService));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.initBackgroundPanel=function(){var t=this.createBean(new BackgroundPanel(this.chartOptionsService));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)})},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartGroup")],e.prototype,"chartGroup",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$W([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$V=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ShadowPanel=function(t){function e(e,n){var o=t.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=n,o}return __extends$1D(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},e.prototype.initSeriesShadow=function(){var t=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(e){return t.chartOptionsService.setSeriesOption("shadow.enabled",e,t.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange(function(e){return t.chartOptionsService.setSeriesOption("shadow.color",e,t.getSelectedSeries())});var e=function(e,n,o,r){var i=t.chartOptionsService.getSeriesOption("shadow."+n,t.getSelectedSeries());e.setLabel(t.chartTranslationService.translate(n)).setMinValue(o).setMaxValue(getMaxValue(i,r)).setValue(""+i).onValueChange(function(e){return t.chartOptionsService.setSeriesOption("shadow."+n,e,t.getSelectedSeries())})};e(this.shadowBlurSlider,"blur",0,20),e(this.shadowXOffsetSlider,"xOffset",-10,10),e(this.shadowYOffsetSlider,"yOffset",-10,10)},e.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowGroup")],e.prototype,"shadowGroup",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowColorPicker")],e.prototype,"shadowColorPicker",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowBlurSlider")],e.prototype,"shadowBlurSlider",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowXOffsetSlider")],e.prototype,"shadowXOffsetSlider",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowYOffsetSlider")],e.prototype,"shadowYOffsetSlider",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$V([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function initFontPanelParams(t,e,n){var o={family:e.getSeriesOption("label.fontFamily",n()),style:e.getSeriesOption("label.fontStyle",n()),weight:e.getSeriesOption("label.fontWeight",n()),size:e.getSeriesOption("label.fontSize",n()),color:e.getSeriesOption("label.color",n())};return{name:t.translate("labels"),enabled:e.getSeriesOption("label.enabled",n())||!1,setEnabled:function(t){return e.setSeriesOption("label.enabled",t,n())},suppressEnabledCheckbox:!1,initialFont:o,setFont:function(t){t.family&&e.setSeriesOption("label.fontFamily",t.family,n()),t.weight&&e.setSeriesOption("label.fontWeight",t.weight,n()),t.style&&e.setSeriesOption("label.fontStyle",t.style,n()),t.size&&e.setSeriesOption("label.fontSize",t.size,n()),t.color&&e.setSeriesOption("label.color",t.color,n())}}}var __extends$1C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$U=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MarkersPanel=function(t){function e(e,n){var o=t.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=n,o}return __extends$1C(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},e.prototype.initMarkers=function(){var t=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(e){return t.setSeriesOption("marker.shape",e)});var e=this.chartOptionsService.getChartType(),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],e);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(n).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(e){return t.setSeriesOption("marker.enabled",e)});var o=function(e,n,o,r){var i=t.getSeriesOption(e);n.setLabel(t.chartTranslationService.translate(o)).setMaxValue(getMaxValue(i,r)).setValue(""+i).setTextFieldWidth(45).onValueChange(function(n){return t.setSeriesOption(e,n)})};"bubble"===e?(o("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),o("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),o("marker.size",this.seriesMarkerSizeSlider,"size",60)),o("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},e.prototype.getSeriesOption=function(t){return this.chartOptionsService.getSeriesOption(t,this.getSelectedSeries())},e.prototype.setSeriesOption=function(t,e){this.chartOptionsService.setSeriesOption(t,e,this.getSelectedSeries())},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkersGroup")],e.prototype,"seriesMarkersGroup",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerShapeSelect")],e.prototype,"seriesMarkerShapeSelect",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerSizeSlider")],e.prototype,"seriesMarkerSizeSlider",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerMinSizeSlider")],e.prototype,"seriesMarkerMinSizeSlider",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerStrokeWidthSlider")],e.prototype,"seriesMarkerStrokeWidthSlider",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$T=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},CalloutPanel=function(t){function e(e,n){var o=t.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=n,o}return __extends$1B(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},e.prototype.initCalloutOptions=function(){var t=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var e=function(e,n,o,r){var i=t.chartOptionsService.getSeriesOption(e,t.getSelectedSeries());n.setLabel(t.chartTranslationService.translate(o)).setMaxValue(getMaxValue(i,r)).setValue(""+i).setTextFieldWidth(45).onValueChange(function(n){return t.chartOptionsService.setSeriesOption(e,n,t.getSelectedSeries())})};e("callout.length",this.calloutLengthSlider,"length",40),e("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),e("label.offset",this.labelOffsetSlider,"offset",30)},e.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutGroup")],e.prototype,"calloutGroup",void 0),__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutLengthSlider")],e.prototype,"calloutLengthSlider",void 0),__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutStrokeWidthSlider")],e.prototype,"calloutStrokeWidthSlider",void 0),__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("labelOffsetSlider")],e.prototype,"labelOffsetSlider",void 0),__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$T([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$S=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SeriesPanel=function(t){function e(e,n,o){var r=t.call(this)||this;return r.chartController=e,r.chartOptionsService=n,r.activePanels=[],r.widgetFuncs={lineWidth:function(){return r.initLineWidth()},strokeWidth:function(){return r.initStrokeWidth()},lineDash:function(){return r.initLineDash()},lineOpacity:function(){return r.initLineOpacity()},fillOpacity:function(){return r.initFillOpacity()},markers:function(){return r.initMarkers()},labels:function(){return r.initLabels()},shadow:function(){return r.initShadow()},tooltips:function(){return r.initTooltips()},bins:function(){return r.initBins()}},r.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},r.seriesType=o||r.getChartSeriesType(),r}return __extends$1A(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},e.prototype.refreshWidgets=function(){var t=this;this.destroyActivePanels(),this.chartController.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),this.seriesWidgetMappings[this.seriesType].forEach(function(e){return t.widgetFuncs[e]()})},e.prototype.initSeriesSelect=function(){var t=this,e=this.seriesGroup.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);e.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange(function(e){t.seriesType=e,t.refreshWidgets()}),this.seriesGroup.addItem(e),this.activePanels.push(e)},e.prototype.initTooltips=function(){var t=this,e=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);e.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(e){return t.setSeriesOption("tooltip.enabled",e)}),this.addWidget(e)},e.prototype.initStrokeWidth=function(){var t=this,e=this.getSeriesOption("strokeWidth"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("strokeWidth")).setMaxValue(getMaxValue(e,10)).setTextFieldWidth(45).setValue(""+e).onValueChange(function(e){return t.setSeriesOption("strokeWidth",e)}),this.addWidget(n)},e.prototype.initLineWidth=function(){var t=this,e=this.getSeriesOption("strokeWidth"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("lineWidth")).setMaxValue(getMaxValue(e,10)).setTextFieldWidth(45).setValue(""+e).onValueChange(function(e){return t.setSeriesOption("strokeWidth",e)}),this.addWidget(n)},e.prototype.initLineDash=function(){var t=this,e=this.getSeriesOption("lineDash"),n=e?e[0]:0,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("lineDash")).setMaxValue(getMaxValue(n,30)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(e){return t.setSeriesOption("lineDash",[e])}),this.addWidget(o)},e.prototype.initLineOpacity=function(){var t=this,e=this.getSeriesOption("strokeOpacity"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(getMaxValue(e,1)).setTextFieldWidth(45).setValue(""+e).onValueChange(function(e){return t.setSeriesOption("strokeOpacity",e)}),this.addWidget(n)},e.prototype.initFillOpacity=function(){var t=this,e=this.getSeriesOption("fillOpacity"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(getMaxValue(e,1)).setTextFieldWidth(45).setValue(""+e).onValueChange(function(e){return t.setSeriesOption("fillOpacity",e)}),this.addWidget(n)},e.prototype.initLabels=function(){var t=this,e=initFontPanelParams(this.chartTranslationService,this.chartOptionsService,function(){return t.seriesType}),n=this.createBean(new FontPanel(e));if("pie"===this.seriesType){var o=this.createBean(new CalloutPanel(this.chartOptionsService,function(){return t.seriesType}));n.addCompToPanel(o),this.activePanels.push(o)}this.addWidget(n)},e.prototype.initShadow=function(){var t=this,e=this.createBean(new ShadowPanel(this.chartOptionsService,function(){return t.seriesType}));this.addWidget(e)},e.prototype.initMarkers=function(){var t=this,e=this.createBean(new MarkersPanel(this.chartOptionsService,function(){return t.seriesType}));this.addWidget(e)},e.prototype.initBins=function(){var t=this,e=this.getSeriesOption("binCount"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("histogramBinCount")).setMinValue(4).setMaxValue(getMaxValue(e,100)).setTextFieldWidth(45).setValue(""+e).onValueChange(function(e){return t.setSeriesOption("binCount",e)}),this.addWidget(n)},e.prototype.addWidget=function(t){this.seriesGroup.addItem(t),this.activePanels.push(t)},e.prototype.getSeriesOption=function(t){return this.chartOptionsService.getSeriesOption(t,this.seriesType)},e.prototype.setSeriesOption=function(t,e){this.chartOptionsService.setSeriesOption(t,e,this.seriesType)},e.prototype.getChartSeriesType=function(){var t=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===t?"column":"areaColumnCombo"===t?"area":getSeriesType(t)},e.prototype.getSeriesSelectOptions=function(){var t=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var e=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(n){var o=getSeriesType(n.chartType);e.add(t.seriesSelectOptions.get(o))}),Array.from(e)},e.prototype.updateSeriesType=function(){var t=this.chartController.getActiveSeriesChartTypes().map(function(t){return getSeriesType(t.chartType)});!t.includes(this.seriesType)&&t.length>0&&(this.seriesType=t[0])},e.prototype.translate=function(t,e){return this.chartTranslationService.translate(t,e)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)})},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">                \n            </ag-group-component>\n        </div>',__decorate$S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesGroup")],e.prototype,"seriesGroup",void 0),__decorate$S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$R=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function getMaxValue(t,e){return Math.max(t,e)}var FormatPanel=function(t){function e(n,o){var r=t.call(this,e.TEMPLATE)||this;return r.chartController=n,r.chartOptionsService=o,r.panels=[],r}return __extends$1z(e,t),e.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.createPanels.bind(this))},e.prototype.createPanels=function(){var t=this.chartController.getChartType(),e=this.chartController.isGrouping();if(t!==this.chartType||e!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new ChartPanel(this.chartOptionsService)),this.addComponent(new LegendPanel(this.chartOptionsService)),t){case"groupedColumn":case"stackedColumn":case"normalizedColumn":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"column")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"groupedBar":case"stackedBar":case"normalizedBar":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"bar")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"pie":case"doughnut":this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"pie"));break;case"line":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"line")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"scatter":case"bubble":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"scatter")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"area":case"stackedArea":case"normalizedArea":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"area")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"histogram":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"histogram")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"columnLineCombo":case"areaColumnCombo":case"customCombo":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService)),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+t+" supplied")}this.chartType=t,this.isGrouping=e}},e.prototype.addComponent=function(t){this.createBean(t),this.panels.push(t),t.addCssClass("ag-chart-format-section"),this.getGui().appendChild(t.getGui())},e.prototype.destroyPanels=function(){var t=this;this.panels.forEach(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)})},e.prototype.destroy=function(){this.destroyPanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',__decorate$R([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$Q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MiniChart=function(t){function e(e,n){var o=t.call(this)||this;o.size=58,o.padding=5,o.root=new Group$1;var r=new Scene$1({document:window.document,width:o.size,height:o.size});return r.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),r.root=o.root,r.container=e,o.scene=r,o.tooltipName=n,o}return __extends$1y(e,t),e.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render()},__decorate$Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$P=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MiniChartWithAxes=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.stroke="gray",o.axisOvershoot=3,o}return __extends$1x(e,t),e.prototype.addAxes=function(){var t=this.size,e=this.padding,n=new Line$1;n.x1=e,n.y1=e,n.x2=e,n.y2=t-e+this.axisOvershoot,n.stroke=this.stroke;var o=new Line$1;o.x1=e-this.axisOvershoot+1,o.y1=t-e,o.x2=t-e+1,o.y2=t-e,o.stroke=this.stroke;var r=this.root;r.append(n),r.append(o)},__decorate$P([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addAxes",null),e}(MiniChart);function createColumnRects(t){var e=t.stacked,n=t.size,o=t.padding,r=t.xScalePadding,i=t.xScaleDomain,s=t.yScaleDomain,a=new BandScale$1;a.domain=i,a.range=[o,n-o],a.paddingInner=r,a.paddingOuter=r;var l=new LinearScale$1;l.domain=s,l.range=[n-o,o];var c=function(t,e,n){return t.map(function(t,o){var r=n.convert(t),i=new Rect;return i.x=e.convert(o),i.y=r,i.width=e.bandwidth,i.height=n.convert(0)-r,i.strokeWidth=1,i.crisp=!0,i})};return e?t.data.map(function(t){return c(t,a,l)}):c(t.data,a,l)}function createLinePaths(t,e,n,o){var r=new LinearScale$1;r.domain=[0,4],r.range=[o,n-o];var i=new LinearScale$1;i.domain=[0,10],i.range=[n-o,o];var s=e.map(function(t){var e=new Path$1;return e.strokeWidth=3,e.lineCap="round",e.fill=void 0,t.forEach(function(t,n){e.path[n>0?"lineTo":"moveTo"](r.convert(n),i.convert(t))}),e}),a=new ClipRect;return a.x=a.y=o,a.width=a.height=n-2*o,a.append(s),t.append(a),s}var __extends$1w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniColumn=function(t){function e(e,n,o){var r=t.call(this,e,"groupedColumnTooltip")||this;r.columnData=[2,3,4];var i=r.root;return r.columns=createColumnRects({stacked:!1,root:i,data:r.columnData,size:r.size,padding:r.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),i.append(r.columns),r.updateColors(n,o),r}return __extends$1w(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach(function(n,o){n.fill=t[o],n.stroke=e[o]})},e.chartType="groupedColumn",e}(MiniChartWithAxes),__extends$1v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniStackedColumn=function(t){function e(n,o,r,i,s,a){void 0===i&&(i=e.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedColumnTooltip");var l=t.call(this,n,a)||this,c=l.root;return l.stackedColumns=createColumnRects({stacked:!0,root:c,data:i,size:l.size,padding:l.padding,xScaleDomain:[0,1,2],yScaleDomain:s,xScalePadding:.3}),c.append([].concat.apply([],l.stackedColumns)),l.updateColors(o,r),l}return __extends$1v(e,t),e.prototype.updateColors=function(t,e){this.stackedColumns.forEach(function(n,o){return n.forEach(function(n){n.fill=t[o],n.stroke=e[o]})})},e.chartType="stackedColumn",e.data=[[8,12,16],[6,9,12],[2,3,4]],e}(MiniChartWithAxes),__extends$1u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniNormalizedColumn=function(t){function e(n,o,r){return t.call(this,n,o,r,e.data,[0,10],"normalizedColumnTooltip")||this}return __extends$1u(e,t),e.chartType="normalizedColumn",e.data=[[10,10,10],[6,7,8],[2,4,6]],e}(MiniStackedColumn),__extends$1t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniBar=function(t){function e(e,n,o){var r=t.call(this,e,"groupedBarTooltip")||this,i=r.padding,s=r.size,a=new BandScale$1;a.domain=[0,1,2],a.range=[i,s-i],a.paddingInner=.3,a.paddingOuter=.3;var l=new LinearScale$1;l.domain=[0,4],l.range=[s-i,i];var c=l.convert(0),u=a.bandwidth;return r.bars=[2,3,4].map(function(t,e){var n=new Rect;return n.x=i,n.y=a.convert(e),n.width=c-l.convert(t),n.height=u,n.strokeWidth=1,n.crisp=!0,n}),r.updateColors(n,o),r.root.append(r.bars),r}return __extends$1t(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach(function(n,o){n.fill=t[o],n.stroke=e[o]})},e.chartType="groupedBar",e}(MiniChartWithAxes),__extends$1s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniStackedBar=function(t){function e(n,o,r,i,s,a){void 0===i&&(i=e.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedBarTooltip");var l=t.call(this,n,a)||this,c=l.size,u=l.padding,p=new BandScale$1;p.domain=[0,1,2],p.range=[u,c-u],p.paddingInner=.3,p.paddingOuter=.3;var d=new LinearScale$1;d.domain=s,d.range=[c-u,u];var h=d.convert(0),f=p.bandwidth;return l.bars=i.map(function(t){return t.map(function(t,e){var n=new Rect;return n.x=u,n.y=p.convert(e),n.width=h-d.convert(t),n.height=f,n.strokeWidth=1,n.crisp=!0,n})}),l.updateColors(o,r),l.root.append([].concat.apply([],l.bars)),l}return __extends$1s(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach(function(n,o){return n.forEach(function(n){n.fill=t[o],n.stroke=e[o]})})},e.chartType="stackedBar",e.data=[[8,12,16],[6,9,12],[2,3,4]],e}(MiniChartWithAxes),__extends$1r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniNormalizedBar=function(t){function e(n,o,r){return t.call(this,n,o,r,e.data,[0,10],"normalizedBarTooltip")||this}return __extends$1r(e,t),e.chartType="normalizedBar",e.data=[[10,10,10],[6,7,8],[2,4,6]],e}(MiniStackedBar),__extends$1q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$d=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},MiniDoughnut=function(t){function e(e,n,o,r,i){void 0===r&&(r=.6),void 0===i&&(i="doughnutTooltip");var s=t.call(this,e,i)||this,a=(s.size-2*s.padding)/2,l=a+s.padding,c=[[toRadians(-90),toRadians(30)],[toRadians(30),toRadians(120)],[toRadians(120),toRadians(180)],[toRadians(180),toRadians(210)],[toRadians(210),toRadians(240)],[toRadians(240),toRadians(270)]];return s.sectors=c.map(function(t){var e=__read$d(t,2),n=e[0],o=e[1],i=new Sector;return i.centerX=l,i.centerY=l,i.innerRadius=a*r,i.outerRadius=a,i.startAngle=n,i.endAngle=o,i.stroke=void 0,i.strokeWidth=1,i}),s.updateColors(n,o),s.root.append(s.sectors),s}return __extends$1q(e,t),e.prototype.updateColors=function(t,e){this.sectors.forEach(function(n,o){n.fill=t[o%t.length],n.stroke=e[o%e.length]})},e.chartType="doughnut",e}(MiniChart),__extends$1p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniPie=function(t){function e(e,n,o){return t.call(this,e,n,o,0,"pieTooltip")||this}return __extends$1p(e,t),e.chartType="pie",e}(MiniDoughnut),__extends$1o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniLine=function(t){function e(e,n,o){var r=t.call(this,e,"lineTooltip")||this;return r.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],r.lines=createLinePaths(r.root,r.data,r.size,r.padding),r.updateColors(n,o),r}return __extends$1o(e,t),e.prototype.updateColors=function(t,e){this.lines.forEach(function(e,n){e.stroke=t[n]})},e.chartType="line",e}(MiniChartWithAxes),__extends$1n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},MiniScatter=function(t){function e(e,n,o){var r=t.call(this,e,"scatterTooltip")||this,i=r.size,s=r.padding,a=new LinearScale$1;a.domain=[-.5,4],a.range=[2*s,i-s];var l=new LinearScale$1;l.domain=[-.5,3.5],l.range=[i-s,s];var c=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(t){t.forEach(function(t){var e=__read$c(t,2),n=e[0],o=e[1],r=new Arc;r.strokeWidth=1,r.centerX=a.convert(n),r.centerY=l.convert(o),r.radiusX=r.radiusY=2.5,c.push(r)})}),r.points=c,r.updateColors(n,o);var u=new ClipRect;return u.x=u.y=s,u.width=u.height=i-2*s,u.append(r.points),r.root.append(u),r}return __extends$1n(e,t),e.prototype.updateColors=function(t,e){this.points.forEach(function(n,o){n.stroke=e[o%e.length],n.fill=t[o%t.length]})},e.chartType="scatter",e}(MiniChartWithAxes),__extends$1m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$b=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},MiniBubble=function(t){function e(e,n,o){var r=t.call(this,e,"bubbleTooltip")||this,i=r.size,s=r.padding,a=new LinearScale$1;a.domain=[0,1],a.range=[2*s,i-s];var l=new LinearScale$1;l.domain=[0,1],l.range=[i-s,s];var c=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(t){t.forEach(function(t){var e=__read$b(t,3),n=e[0],o=e[1],r=e[2],i=new Arc;i.strokeWidth=1,i.centerX=a.convert(n),i.centerY=l.convert(o),i.radiusX=i.radiusY=r,i.fillOpacity=.7,c.push(i)})}),r.points=c,r.updateColors(n,o);var u=new ClipRect;return u.x=s,u.y=s,u.width=i-2*s,u.height=i-2*s,u.append(r.points),r.root.append(u),r}return __extends$1m(e,t),e.prototype.updateColors=function(t,e){this.points.forEach(function(n,o){n.stroke=e[o%e.length],n.fill=t[o%t.length]})},e.chartType="bubble",e}(MiniChartWithAxes),__extends$1l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniArea=function(t){function e(n,o,r,i){void 0===i&&(i=e.data);var s=t.call(this,n,"groupedAreaTooltip")||this,a=s.size,l=s.padding,c=new BandScale$1;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[l+.5,a-l-.5];var u=new LinearScale$1;u.domain=[0,6],u.range=[a-l+.5,l];var p=2*i.length-1,d=[],h=u.convert(0);return i.forEach(function(t,e){var n=c.convert(e);t.forEach(function(t,o){var r=u.convert(t),i=d[o]||(d[o]=[]);i[e]={x:n,y:r},i[p-e]={x:n,y:h}})}),s.areas=d.reverse().map(function(t){var e=new Path$1;e.strokeWidth=1,e.fillOpacity=.7;var n=e.path;return n.clear(),t.forEach(function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)}),n.closePath(),e}),s.updateColors(o,r),s.root.append(s.areas),s}return __extends$1l(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach(function(n,o){n.fill=t[o],n.stroke=e[o]})},e.chartType="area",e.data=[[1,3,5],[2,6,4],[5,3,1]],e}(MiniChartWithAxes),__extends$1k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniStackedArea=function(t){function e(n,o,r,i,s){void 0===i&&(i=e.data),void 0===s&&(s="stackedAreaTooltip");var a=t.call(this,n,s)||this,l=a.size,c=a.padding,u=new BandScale$1;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[c+.5,l-c-.5];var p=new LinearScale$1;p.domain=[0,16],p.range=[l-c+.5,c+.5];var d=2*i.length-1,h=[];return i.forEach(function(t,e){var n=u.convert(e),o=0;t.forEach(function(t,r){var i=p.convert(o+t),s=h[r]||(h[r]=[]);s[e]={x:n,y:i},s[d-e]={x:n,y:p.convert(o)},o+=t})}),a.areas=h.map(function(t){var e=new Path$1;e.strokeWidth=1;var n=e.path;return n.clear(),t.forEach(function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)}),n.closePath(),e}),a.updateColors(o,r),a.root.append(a.areas),a}return __extends$1k(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach(function(n,o){n.fill=t[o],n.stroke=e[o]})},e.chartType="stackedArea",e.data=[[2,3,2],[3,6,5],[6,2,2]],e}(MiniChartWithAxes),__extends$1j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniNormalizedArea=function(t){function e(n,o,r,i){return void 0===i&&(i=e.data),t.call(this,n,o,r,i,"normalizedAreaTooltip")||this}return __extends$1j(e,t),e.chartType="normalizedArea",e.data=MiniStackedArea.data.map(function(t){var e=t.reduce(function(t,e){return t+e},0);return t.map(function(t){return t/e*16})}),e}(MiniStackedArea),__extends$1i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read$a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},MiniHistogram=function(t){function e(e,n,o){var r=t.call(this,e,"histogramTooltip")||this,i=r.padding,s=r.size,a=[2,5,11,13,10,6,1],l=new LinearScale$1;l.domain=[0,a.length],l.range=[i,s-i];var c=new LinearScale$1;c.domain=[0,a.reduce(function(t,e){return Math.max(t,e)},0)],c.range=[s-i,i];var u=c.convert(0);return r.bars=a.map(function(t,e){var n=c.convert(t),o=l.convert(e),r=l.convert(e+1),i=new Rect;return i.x=o,i.y=n,i.width=r-o,i.height=u-n,i.strokeWidth=1,i.crisp=!0,i}),r.updateColors(n,o),r.root.append(r.bars),r}return __extends$1i(e,t),e.prototype.updateColors=function(t,e){var n=__read$a(t,1)[0],o=__read$a(e,1)[0];this.bars.forEach(function(t){t.fill=n,t.stroke=o})},e.chartType="histogram",e}(MiniChartWithAxes),__extends$1h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniColumnLineCombo=function(t){function e(e,n,o){var r=t.call(this,e,"columnLineComboTooltip")||this;r.columnData=[3,4],r.lineData=[[5,4,6,5,4]];var i=r.root,s=r.lineData,a=r.size,l=r.padding;return r.columns=createColumnRects({stacked:!1,root:i,data:r.columnData,size:a,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),i.append(r.columns),r.lines=createLinePaths(i,s,a,l),r.updateColors(n,o),r}return __extends$1h(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach(function(n,o){n.fill=t[o],n.stroke=e[o]}),this.lines.forEach(function(e,n){e.stroke=t[n+2]})},e.chartType="columnLineCombo",e}(MiniChartWithAxes),__extends$1g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniAreaColumnCombo=function(t){function e(e,n,o){var r=t.call(this,e,"areaColumnComboTooltip")||this;r.columnData=[3,4.5],r.areaData=[[5,4,6,5,4]];var i=r.root,s=r.areaData,a=r.size,l=r.padding;r.columns=createColumnRects({stacked:!1,root:i,data:r.columnData,size:a,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var c=new BandScale$1;c.range=[l,a-l],c.domain=[0,1,2,3,4],c.paddingInner=1,c.paddingOuter=0;var u=new LinearScale$1;u.range=[a-l,l],u.domain=[0,6];var p=[],d=u.convert(0),h=c.convert(0);return s.forEach(function(t,e){var n=p[e]||(p[e]=[]);t.forEach(function(t,e){var o=t,r=c.convert(e),i=u.convert(o);n[e]={x:r,y:i}});var o=c.convert(t.length-1);p[e].push({x:o,y:d},{x:h,y:d})}),r.areas=p.map(function(t){var e=new Path$1;e.strokeWidth=1,e.fillOpacity=.8;var n=e.path;return t.forEach(function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)}),e}),i.append(r.areas),i.append([].concat.apply([],r.columns)),r.updateColors(n,o),r}return __extends$1g(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach(function(n,o){n.fill=t[o],n.stroke=e[o]}),this.columns.forEach(function(n,o){n.fill=t[o+1],n.stroke=e[o+1]})},e.chartType="areaColumnCombo",e}(MiniChartWithAxes),__extends$1f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),MiniCustomCombo=function(t){function e(e,n,o){var r=t.call(this,e,"customComboTooltip")||this;r.columnData=[3,4],r.lineData=[[5,4,6,5,4]];var i=r.root,s=r.lineData,a=r.size,l=r.padding;r.columns=createColumnRects({stacked:!1,root:i,data:r.columnData,size:a,padding:l,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),i.append(r.columns),r.lines=createLinePaths(i,s,a,l);var c="grey",u=new Line$1;u.x1=l,u.y1=l,u.x2=l,u.y2=a-l+3,u.stroke=c;var p=new Line$1;p.x1=l-3+1,p.y1=a-l,p.x2=a-l+1,p.y2=a-l,p.stroke=c;var d=new Path$1;return d.svgPath="M25.76,43.46l5.51,5.07M49.86,22a3.26,3.26,0,0,0-3-.59,6.78,6.78,0,0,0-3.35,2.14l-18,20.25-.08.09-2.42,8-.18.57,8.19-3.6,18-20.34a6.83,6.83,0,0,0,1.73-3.59A3.29,3.29,0,0,0,49.86,22Zm-8.1,3.5,5.58,5m-6.6-3.85,5.51,5.06",d.fill="whitesmoke",d.stroke="darkslategrey",d.strokeWidth=1,i.append([p,u,d]),r.updateColors(n,o),r}return __extends$1f(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach(function(n,o){n.fill=t[o],n.stroke=e[o]}),this.lines.forEach(function(e,n){e.stroke=t[n+2]})},e.chartType="customCombo",e}(MiniChart),__extends$1e=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$O=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MiniChartsContainer=function(t){function e(n,o,r){var i=t.call(this,e.TEMPLATE)||this;return i.wrappers={},i.chartGroups={columnGroup:[MiniColumn,MiniStackedColumn,MiniNormalizedColumn],barGroup:[MiniBar,MiniStackedBar,MiniNormalizedBar],pieGroup:[MiniPie,MiniDoughnut],lineGroup:[MiniLine],scatterGroup:[MiniScatter,MiniBubble],areaGroup:[MiniArea,MiniStackedArea,MiniNormalizedArea],histogramGroup:[MiniHistogram],combinationGroup:[MiniColumnLineCombo,MiniAreaColumnCombo,MiniCustomCombo]},i.chartController=n,i.fills=o,i.strokes=r,i}return __extends$1e(e,t),e.prototype.init=function(){var t=this;this.chartController.customComboExists()||(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(t){return t!==MiniCustomCombo}));var e=this.getGui();Object.keys(this.chartGroups).forEach(function(n){var o=t.chartGroups[n],r=t.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:t.chartTranslationService.translate(n),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));o.forEach(function(e){var n=document.createElement("div");n.classList.add("ag-chart-mini-thumbnail"),t.addManagedListener(n,"click",function(){t.chartController.setChartType(e.chartType),t.updateSelectedMiniChart()}),t.wrappers[e.chartType]=n,t.createBean(new e(n,t.fills,t.strokes)),r.addItem(n)}),e.appendChild(r.getGui())}),this.updateSelectedMiniChart()},e.prototype.updateSelectedMiniChart=function(){var t=this.chartController.getChartType();for(var e in this.wrappers)this.wrappers[e].classList.toggle("ag-selected",e===t)},e.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$O([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$N=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartSettingsPanel=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.miniCharts=[],o.cardItems=[],o.activePaletteIndex=0,o.palettes=[],o.themes=[],o.chartController=n,o}return __extends$1d(e,t),e.prototype.postConstruct=function(){var t=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return t.setActivePalette(t.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return t.setActivePalette(t.getNext(),"right")}),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_TYPE_CHANGED,function(){return t.resetPalettes(!0)}),this.scrollSelectedIntoView()},e.prototype.scrollSelectedIntoView=function(){var t=this;setTimeout(function(){var e=t.miniCharts.find(function(t){return!t.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");e&&e.scrollIntoView({block:"nearest"})},250)},e.prototype.resetPalettes=function(t){var e=this,n=this.chartController.getPalettes();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(n,this.palettes)&&!t||this.isAnimating||(this.palettes=n,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex(function(t){return t===e.chartController.getChartThemeName()}),this.cardItems=[],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(t,n){var o=e.activePaletteIndex===n,r=e.createBean(new MiniChartsContainer(e.chartController,t.fills,t.strokes));e.miniCharts.push(r),e.eMiniChartsContainer.appendChild(r.getGui()),e.addCardLink(n),o?r.updateSelectedMiniChart():r.addCssClass("ag-hidden")}),this.eNavBar.classList.toggle("ag-hidden",this.palettes.length<=1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},e.prototype.addCardLink=function(t){var e=this,n=document.createElement("div");n.classList.add("ag-chart-settings-card-item"),this.addManagedListener(n,"click",function(){e.setActivePalette(t,t<e.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(n),this.cardItems.push(n)},e.prototype.getPrev=function(){var t=this.activePaletteIndex-1;return t<0&&(t=this.palettes.length-1),t},e.prototype.getNext=function(){var t=this.activePaletteIndex+1;return t>=this.palettes.length&&(t=0),t},e.prototype.setActivePalette=function(t,e){var n=this;if(!this.isAnimating&&this.activePaletteIndex!==t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[t],"ag-selected","ag-not-selected");var o=this.miniCharts[this.activePaletteIndex],r=o.getGui(),i=this.miniCharts[t],s=i.getGui();o.updateSelectedMiniChart(),i.updateSelectedMiniChart();var a="left"===e?-1:1,l=s.style.left=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(this.getGui())*a+"px";this.activePaletteIndex=t,this.isAnimating=!0;var c="ag-animating";i.removeCssClass("ag-hidden"),o.addCssClass(c),i.addCssClass(c),this.chartController.setChartThemeName(this.themes[t]),window.setTimeout(function(){r.style.left=-parseFloat(l)+"px",s.style.left="0px"},0),window.setTimeout(function(){n.isAnimating=!1,o.removeCssClass(c),i.removeCssClass(c),o.addCssClass("ag-hidden")},300)}},e.prototype.destroyMiniCharts=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},e.prototype.destroy=function(){this.destroyMiniCharts(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniChartsContainer")],e.prototype,"eMiniChartsContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNavBar")],e.prototype,"eNavBar",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCardSelector")],e.prototype,"eCardSelector",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("ePrevBtn")],e.prototype,"ePrevBtn",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNextBtn")],e.prototype,"eNextBtn",void 0),__decorate$N([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$M=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TabbedChartMenu=function(t){function e(e){var n=t.call(this)||this;n.tabs=[];var o=e.panels,r=e.chartOptionsService;return n.chartController=e.controller,n.chartOptionsService=r,n.panels=o,n}return __extends$1c(e,t),e.prototype.init=function(){var t=this;this.panels.forEach(function(e){var n=e.replace("chart","").toLowerCase(),o=t.createTab(e,n,t.getPanelClass(n)),r=o.comp;t.tabs.push(o.tab),t.addDestroyFunc(function(){return t.destroyBean(r)})}),this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},e.prototype.createTab=function(t,e,n){var o=document.createElement("div");o.classList.add("ag-chart-tab","ag-chart-"+e);var r=new n(this.chartController,this.chartOptionsService);this.getContext().createBean(r),o.appendChild(r.getGui());var i=document.createElement("div"),s=this.chartTranslationService.translate(e);return i.innerText=s,{comp:r,tab:{title:i,titleLabel:s,bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(o),getScrollableContainer:function(){return o.querySelector(".ag-scrollable-container")||o},name:t}}},e.prototype.showTab=function(t){this.tabbedLayout.showItem(this.tabs[t])},e.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},e.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),t.prototype.destroy.call(this)},e.prototype.getPanelClass=function(t){switch(t){case e.TAB_DATA:return ChartDataPanel;case e.TAB_FORMAT:return FormatPanel;default:return ChartSettingsPanel}},e.TAB_DATA="data",e.TAB_FORMAT="format",__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$M([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$L=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$9=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ChartMenu=function(t){function e(n,o,r,i){var s=t.call(this,e.TEMPLATE)||this;return s.eChartContainer=n,s.eMenuPanelContainer=o,s.chartController=r,s.chartOptionsService=i,s.buttons={chartSettings:["menu",function(){return s.showMenu("chartSettings")}],chartData:["menu",function(){return s.showMenu("chartData")}],chartFormat:["menu",function(){return s.showMenu("chartFormat")}],chartLink:["linked",function(t){return s.toggleDetached(t)}],chartUnlink:["unlinked",function(t){return s.toggleDetached(t)}],chartDownload:["save",function(){return s.saveChart()}]},s.tabs=[],s.menuVisible=!1,s}return __extends$1b(e,t),e.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},e.prototype.isVisible=function(){return this.menuVisible},e.prototype.getToolbarOptions=function(){var t=this,e=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],n=this.gridOptionsWrapper.getChartToolbarItemsFunc();n&&(e=n({defaultItems:e}).filter(function(e){return!!t.buttons[e]||(console.warn("AG Grid: '"+e+" is not a valid Chart Toolbar Option"),!1)})),this.chartController.isPivotChart()&&(e=e.filter(function(t){return"chartData"!==t}));var o=["chartUnlink","chartLink","chartDownload"];return this.tabs=e.filter(function(t){return-1===o.indexOf(t)}),e.filter(function(e){return-1!==o.indexOf(e)||t.tabs.length&&e===t.tabs[0]})},e.prototype.toggleDetached=function(t){var e=t.target,n=e.classList.contains("ag-icon-linked");e.classList.toggle("ag-icon-linked",!n),e.classList.toggle("ag-icon-unlinked",n);var o=this.chartTranslationService.translate(n?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");o&&(e.title=o),this.chartController.detachChartRange()},e.prototype.createButtons=function(){var t=this,e=this.getToolbarOptions(),n=this.getGui();e.forEach(function(e){var o=__read$9(t.buttons[e],2),r=o[1],i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(o[0],t.gridOptionsWrapper,void 0,!0);i.classList.add("ag-chart-menu-icon");var s=t.chartTranslationService.translate(e+"ToolbarTooltip");s&&(i.title=s),t.addManagedListener(i,"click",r),n.appendChild(i)})},e.prototype.saveChart=function(){this.dispatchEvent({type:e.EVENT_DOWNLOAD_CHART})},e.prototype.createMenuPanel=function(t){var e=this,n=this.gridOptionsWrapper.chartMenuPanelWidth(),o=this.menuPanel=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wSp({minWidth:n,width:n,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new TabbedChartMenu({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs,chartOptionsService:this.chartOptionsService})),this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DESTROYED,function(){return e.destroyBean(e.tabbedMenu)}),new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(n){window.setTimeout(function(){o.setBodyComponent(e.tabbedMenu),e.tabbedMenu.showTab(t),e.addManagedListener(e.eChartContainer,"click",function(t){e.getGui().contains(t.target)||e.menuVisible&&e.hideMenu()}),n(o)},100)})},e.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},e.prototype.showMenu=function(t){var e=this.tabs.indexOf(t);this.menuPanel?this.showContainer():this.createMenuPanel(e).then(this.showContainer.bind(this))},e.prototype.hideMenu=function(){var t=this;this.hideParent(),window.setTimeout(function(){t.menuVisible=!1,t.refreshMenuClasses()},500)},e.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)},e.prototype.showParent=function(t){this.eMenuPanelContainer.style.minWidth=t+"px"},e.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},e.EVENT_DOWNLOAD_CHART="downloadChart",e.TEMPLATE='<div class="ag-chart-menu"></div>',__decorate$L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$L([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$i=function(){return(__assign$i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$K=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TitleEdit=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.chartMenu=n,o}return __extends$1a(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.getGui(),"keypress",function(e){"Enter"===e.key&&t.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},e.prototype.refreshTitle=function(t,e){var n=this;this.chartController=t,this.chartOptionsService=e;var o=this.chartController.getChartProxy();if(o){for(var r=0;r++;r<this.destroyableChartListeners.length)this.destroyableChartListeners[r]();this.destroyableChartListeners=[]}var i=o.getChart(),s=i.scene.canvas.element,a=this.addManagedListener(s,"dblclick",function(t){var e=i.title;if(e&&e.node.containsPoint(t.offsetX,t.offsetY)){var o=e.node.computeBBox(),r=e.node.inverseTransformPoint(o.x,o.y);n.startEditing(__assign$i(__assign$i({},o),r))}}),l=!1,c=this.addManagedListener(s,"mousemove",function(t){var e=i.title,n=!!(e&&e.enabled&&e.node.containsPoint(t.offsetX,t.offsetY));l!==n&&(s.style.cursor=n?"pointer":""),l=n});this.destroyableChartListeners=[a,c]},e.prototype.startEditing=function(t){if(!this.chartMenu||!this.chartMenu.isVisible()){var e=this.chartController.getChartProxy().getChart().width,n=Math.max(Math.min(t.width+20,e),300),o=this.getGui();o.classList.add("currently-editing");var r=o.style;r.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),r.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),r.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),r.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",r.color=this.chartOptionsService.getChartOption("title.color");var i=this.chartOptionsService.getChartOption("title.text"),s=i===this.chartTranslationService.translate("titlePlaceholder")?"":i;o.value=s;var a=o.getBoundingClientRect();r.left=Math.round(t.x+t.width/2-n/2)+"px",r.top=Math.round(t.y+t.height/2-a.height/2)+"px",r.width=Math.round(n)+"px",o.focus()}},e.prototype.endEditing=function(){var t=this.getGui().value;this.chartOptionsService.setChartOption("title.text",t),this.eventService.dispatchEvent({type:"chartTitleEdit"}),this.removeCssClass("currently-editing")},e.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$K([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function emptyTarget(t){return Array.isArray(t)?[]:{}}function cloneUnlessOtherwiseSpecified(t,e){return!1!==e.clone&&e.isMergeableObject(t)?deepMerge(emptyTarget(t),t,e):t}function defaultArrayMerge(t,e,n){return t.concat(e).map(function(t){return cloneUnlessOtherwiseSpecified(t,n)})}function getMergeFunction(t,e){if(!e.customMerge)return deepMerge;var n=e.customMerge(t);return"function"==typeof n?n:deepMerge}function getEnumerableOwnPropertySymbols(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function getKeys(t){return Object.keys(t).concat(getEnumerableOwnPropertySymbols(t))}function propertyIsOnObject(t,e){try{return e in t}catch(n){return!1}}function propertyIsUnsafe(t,e){return propertyIsOnObject(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function mergeObject(t,e,n){var o={};return n.isMergeableObject(t)&&getKeys(t).forEach(function(e){o[e]=cloneUnlessOtherwiseSpecified(t[e],n)}),getKeys(e).forEach(function(r){propertyIsUnsafe(t,r)||(o[r]=propertyIsOnObject(t,r)&&n.isMergeableObject(e[r])?getMergeFunction(r,n)(t[r],e[r],n):cloneUnlessOtherwiseSpecified(e[r],n))}),o}function defaultIsMergeableObject(t){return isNonNullObject(t)&&!isSpecial(t)}function isNonNullObject(t){return!!t&&"object"==typeof t}function isSpecial(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e}function deepMerge(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||defaultArrayMerge,n.isMergeableObject=n.isMergeableObject||defaultIsMergeableObject,n.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var o=Array.isArray(e);return o===Array.isArray(t)?o?n.arrayMerge(t,e,n):mergeObject(t,e,n):cloneUnlessOtherwiseSpecified(e,n)}var __assign$h=function(){return(__assign$h=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ChartProxy=function(){function t(t){if(this.chartProxyParams=t,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=getSeriesType(this.chartType),this.chartProxyParams.chartOptionsToRestore){this.chartOptions=this.chartProxyParams.chartOptionsToRestore,this.chartPalette=this.chartProxyParams.chartPaletteToRestore;var e={overrides:this.chartOptions,palette:this.chartPalette};this.chartTheme=getChartTheme(__assign$h({baseTheme:this.getSelectedTheme()},e))}else this.chartTheme=this.createChartTheme(),this.chartOptions=this.convertConfigToOverrides(this.chartTheme.config),this.chartPalette=this.chartTheme.palette}return t.prototype.recreateChart=function(){var t=this;this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering&&this.chart.addEventListener("click",function(e){return t.crossFilterCallback(e,!0)})},t.prototype.getChart=function(){return this.chart},t.prototype.createChartTheme=function(){var e=this.getSelectedTheme(),n=this.isStockTheme(e),o=this.chartProxyParams.getGridOptionsChartThemeOverrides(),r=this.chartProxyParams.apiChartThemeOverrides;if(o||r){var i={overrides:t.mergeThemeOverrides(o,r)};return getChartTheme(n?__assign$h({baseTheme:e},i):deepMerge(this.lookupCustomChartTheme(e),i))}return getChartTheme(n?e:this.lookupCustomChartTheme(e))},t.prototype.isStockTheme=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(Object.keys(themes),t)},t.prototype.getSelectedTheme=function(){var t=this.chartProxyParams.getChartThemeName(),e=this.chartProxyParams.getChartThemes();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,t)||(t=e[0]),t},t.prototype.lookupCustomChartTheme=function(t){var e=this.chartProxyParams.customChartThemes,n=e&&e[t];return n||console.warn("AG Grid: no stock theme exists with the name '"+t+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),n},t.mergeThemeOverrides=function(t,e){return t?e?deepMerge(t,e):t:e},t.prototype.downloadChart=function(){var t=this.chart;t.scene.download(t.title?t.title.text:"chart")},t.prototype.getChartImageDataURL=function(t){return this.chart.scene.getDataURL(t)},t.prototype.getChartOptions=function(){return this.chartOptions},t.prototype.getChartPalette=function(){return this.chartPalette},t.prototype.transformData=function(t,e,n){return n?t.map(function(t,n){var o=t[e],r=o&&o.toString?o.toString():"",i=__assign$h({},t);return i[e]={id:n,value:o,toString:function(){return r}},i}):t},t.prototype.getCommonChartOptions=function(){var t=this,e=function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(t.chartOptions,t.standaloneChartType+"."+e,void 0)};return{padding:e("padding"),background:e("background"),title:e("title"),subtitle:e("subtitle"),tooltip:e("tooltip"),legend:e("legend"),navigator:e("navigator")}},t.prototype.convertConfigToOverrides=function(t){var e=["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType),n={};return(e?["line","area","column","cartesian"]:[this.standaloneChartType]).forEach(function(e){var o=deepMerge({},t[e]);o.series=o.series[e],"scatter"===e&&(o.paired=!0),n[e]=o}),n},t.prototype.destroy=function(){this.destroyChart()},t.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},t}(),__extends$19=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$g=function(){return(__assign$g=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},CartesianChartProxy=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsAxesUpdates=!0,n.axisTypeToClassMap={number:NumberAxis,category:CategoryAxis,groupedCategory:GroupedCategoryAxis,time:TimeAxis},n.crossFilteringAllPoints=new Set,n.crossFilteringSelectedPoints=[],n}return __extends$19(e,t),e.prototype.createChart=function(){return AgChart.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme})},e.prototype.update=function(t){this.supportsAxesUpdates&&this.updateAxes(t);var e=__assign$g(__assign$g({},this.getCommonChartOptions()),{data:this.getData(t),axes:this.getAxes(t),series:this.getSeries(t)});this.crossFiltering&&(e=this.addCrossFilterOptions(e)),AgChart.update(this.chart,e)},e.prototype.getDataTransformedData=function(t){return this.transformData(t.data,t.category.id,"category"===this.xAxisType)},e.prototype.addCrossFilterOptions=function(t){var e=this,n=this.extractSeriesOverrides();return t.tooltip=__assign$g(__assign$g({},t.tooltip),{delay:500}),t.legend=__assign$g(__assign$g(__assign$g({},t.legend),n.legend),{listeners:{legendItemClick:function(t){e.chart.series.forEach(function(e){e.toggleSeriesItem(t.itemId,t.enabled),e.toggleSeriesItem(t.itemId+"-filtered-out",t.enabled)})}}}),t},e.prototype.extractSeriesOverrides=function(t){var e=this.chartOptions[t||this.standaloneChartType].series;return delete e.yKeys,delete e.yNames,e},e.prototype.updateAxes=function(t){if(t.grouping)this.axisTypeToClassMap[this.xAxisType]!==GroupedCategoryAxis&&(this.xAxisType="groupedCategory",this.recreateChart());else{var n=e.isTimeAxis(t)?"time":"category";n!==this.xAxisType&&(this.xAxisType=n,this.recreateChart())}},e.prototype.getAxesOptions=function(t){return void 0===t&&(t=this.standaloneChartType),this.chartOptions[t].axes},e.isTimeAxis=function(t){if(t.category&&t.category.chartDataType)return"time"===t.category.chartDataType;var e=t.data[0];return(e&&e[t.category.id])instanceof Date},e.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},e.prototype.crossFilteringPointSelected=function(t){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(t)},e.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},e.prototype.extractLineAreaCrossFilterSeries=function(t,e){var n=this;return t.map(function(t){var o,r=n.extractSeriesOverrides();return t.yKey=(o=t.yKey,"area"===n.standaloneChartType?e.getCrossFilteringContext().lastSelectedChartId===e.chartId?o+"-total":o:o+"-total"),t.listeners=__assign$g(__assign$g({},r.listeners),{nodeClick:function(e){n.crossFilteringAddSelectedPoint(e.event.metaKey||e.event.ctrlKey,e.datum[t.xKey]),n.crossFilterCallback(e)}}),t.marker={formatter:function(t){return{fill:t.highlighted?"yellow":t.fill,size:t.highlighted?14:n.crossFilteringPointSelected(t.datum[e.category.id])?8:0}}},"area"===n.standaloneChartType&&(t.fillOpacity=n.crossFilteringDeselectedPoints()?.3:1),"line"===n.standaloneChartType&&(t.strokeOpacity=n.crossFilteringDeselectedPoints()?.3:1),t})},e.prototype.getLineAreaCrossFilterData=function(t){var e=this;this.crossFilteringAllPoints.clear();var n=t.fields[0].colId,o=n+"-filtered-out",r=t.getCrossFilteringContext().lastSelectedChartId;return t.data.map(function(i){var s=i[t.category.id];e.crossFilteringAllPoints.add(s);var a=e.crossFilteringPointSelected(s);return"area"===e.standaloneChartType&&r===t.chartId&&(i[n+"-total"]=a?i[n]:i[n]+i[o]),"line"===e.standaloneChartType&&(i[n+"-total"]=a?i[n]:i[n]+i[o]),i})},e.prototype.crossFilteringAddSelectedPoint=function(t,e){t?this.crossFilteringSelectedPoints.push(e):this.crossFilteringSelectedPoints=[e]},e}(ChartProxy);function hexToRGBA(t,e){var n=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),r=parseInt(t.slice(5,7),16);return e?"rgba("+n+", "+o+", "+r+", "+e+")":"rgba("+n+", "+o+", "+r+")"}function changeOpacity(t,e){return t.map(function(t){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Ilk.fromString(t);return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Ilk(n.r,n.g,n.b,e).toHexString()})}var __extends$18=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$f=function(){return(__assign$f=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},BarChartProxy=function(t){function e(e){var n=t.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return __extends$18(e,t),e.prototype.getData=function(t){return this.getDataTransformedData(t)},e.prototype.getAxes=function(){var t="bar"===this.standaloneChartType,e=this.getAxesOptions(),n=[__assign$f(__assign$f({},deepMerge(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:t?ChartAxisPosition.Left:ChartAxisPosition.Bottom}),__assign$f(__assign$f({},deepMerge(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:t?ChartAxisPosition.Bottom:ChartAxisPosition.Left})];if(this.isNormalised()){var o=n[1];o.label=__assign$f(__assign$f({},o.label),{formatter:function(t){return Math.round(t.value)+"%"}})}return n},e.prototype.getSeries=function(t){var e=this,n=!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["groupedColumn","groupedBar"],this.chartType),o=t.fields.map(function(o){return __assign$f(__assign$f({},e.extractSeriesOverrides()),{type:e.standaloneChartType,grouped:n,normalizedTo:e.isNormalised()?100:void 0,xKey:t.category.id,xName:t.category.name,yKey:o.colId,yName:o.displayName})});return this.crossFiltering?this.extractCrossFilterSeries(o):o},e.prototype.extractCrossFilterSeries=function(t){for(var e,n=this.chartTheme.palette,o=[],r=0;r<t.length;r++){var i=(e=r,__assign$f(__assign$f({},t[r]),{highlightStyle:{item:{fill:void 0}},fill:n.fills[e],stroke:n.strokes[e],listeners:__assign$f(__assign$f({},this.extractSeriesOverrides().listeners),{nodeClick:this.crossFilterCallback})}));o.push(i),o.push((void 0,a=(s=i).yKey+"-filtered-out",__assign$f(__assign$f({},deepMerge({},s)),{yKey:a,fill:hexToRGBA(s.fill,"0.3"),stroke:hexToRGBA(s.stroke,"0.3"),hideInLegend:[a]})))}var s,a;return o},e.prototype.isNormalised=function(){return!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["normalizedColumn","normalizedBar"],this.chartType)},e}(CartesianChartProxy),__extends$17=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$e=function(){return(__assign$e=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},AreaChartProxy=function(t){function e(e){var n=t.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return __extends$17(e,t),e.prototype.getData=function(t){return this.crossFiltering?this.getLineAreaCrossFilterData(t):this.getDataTransformedData(t)},e.prototype.getAxes=function(){var t=this.getAxesOptions();return[__assign$e(__assign$e({},deepMerge(t[this.xAxisType],t[this.xAxisType].bottom)),{type:this.xAxisType,position:ChartAxisPosition.Bottom}),__assign$e(__assign$e({},deepMerge(t[this.yAxisType],t[this.yAxisType].left)),{type:this.yAxisType,position:ChartAxisPosition.Left})]},e.prototype.getSeries=function(t){var e=this,n=t.fields.map(function(n){return __assign$e(__assign$e({},e.extractSeriesOverrides()),{type:e.standaloneChartType,xKey:t.category.id,xName:t.category.name,yKey:n.colId,yName:n.displayName,normalizedTo:"normalizedArea"===e.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(e.chartType)})});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(n,t):n},e}(CartesianChartProxy),__extends$16=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$d=function(){return(__assign$d=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},LineChartProxy=function(t){function e(e){var n=t.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return __extends$16(e,t),e.prototype.getData=function(t){return this.crossFiltering?this.getLineAreaCrossFilterData(t):this.getDataTransformedData(t)},e.prototype.getAxes=function(){var t=this.getAxesOptions();return[__assign$d(__assign$d({},deepMerge(t[this.xAxisType],t[this.xAxisType].bottom)),{type:this.xAxisType,position:ChartAxisPosition.Bottom}),__assign$d(__assign$d({},deepMerge(t[this.yAxisType],t[this.yAxisType].left)),{type:this.yAxisType,position:ChartAxisPosition.Left})]},e.prototype.getSeries=function(t){var e=this,n=t.fields.map(function(n){return __assign$d(__assign$d({},e.extractSeriesOverrides()),{type:e.standaloneChartType,xKey:t.category.id,xName:t.category.name,yKey:n.colId,yName:n.displayName})});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(n,t):n},e}(CartesianChartProxy),__extends$15=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$c=function(){return(__assign$c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},PieChartProxy=function(t){function e(e){var n=t.call(this,e)||this;return n.recreateChart(),n}return __extends$15(e,t),e.prototype.createChart=function(){return AgChart.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},e.prototype.update=function(t){var e=t.data,n=t.category,o=__assign$c(__assign$c({},this.getCommonChartOptions()),{data:this.crossFiltering?this.getCrossFilterData(t):this.transformData(e,n.id),series:this.getSeries(t)});this.crossFiltering&&(o=this.getCrossFilterChartOptions(o)),AgChart.update(this.chart,o)},e.prototype.getSeries=function(t){var n=this,o=t.fields.length,r={currentOffset:0,offsetAmount:o>1?20:40},i=this.getFields(t).map(function(i){var s=n.extractSeriesOverrides(),a=__assign$c(__assign$c({},s),{type:n.standaloneChartType,angleKey:i.colId,angleName:i.displayName,labelKey:t.category.id,labelName:t.category.name});if("doughnut"===n.chartType){var l=e.calculateOffsets(r),c=l.outerRadiusOffset,u=l.innerRadiusOffset;return __assign$c(__assign$c({},a),{outerRadiusOffset:c,innerRadiusOffset:u,title:__assign$c(__assign$c({},s.title),{text:s.title.text||i.displayName,showInLegend:o>1}),callout:__assign$c(__assign$c({},s.callout),{colors:n.chartTheme.palette.strokes})})}return a});return this.crossFiltering?this.extractCrossFilterSeries(i):i},e.prototype.getCrossFilterChartOptions=function(t){var e=this,n=this.extractSeriesOverrides();return __assign$c(__assign$c({},t),{tooltip:__assign$c(__assign$c({},n.tooltip),{delay:500}),legend:__assign$c(__assign$c({},n.legend),{listeners:{legendItemClick:function(t){e.chart.series.forEach(function(e){return e.toggleSeriesItem(t.itemId,t.enabled)})}}})})},e.prototype.getCrossFilterData=function(t){var e=t.fields[0].colId,n=e+"-filtered-out";return t.data.map(function(t){var o=t[e]+t[n];return t[e+"-total"]=o,t[n]=1,t[e]=t[e]/o,t})},e.prototype.extractCrossFilterSeries=function(t){var e,n=this.chartTheme.palette,o=this.extractSeriesOverrides(),r=t[0],i=r.angleKey,s=__assign$c(__assign$c({},e=r),{label:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:e.angleKey,angleKey:e.angleKey+"-total",radiusMin:0,radiusMax:1,fills:n.fills,strokes:n.strokes,listeners:__assign$c(__assign$c({},o.listeners),{nodeClick:this.crossFilterCallback}),tooltip:__assign$c(__assign$c({},o.tooltip),{renderer:this.getCrossFilterTooltipRenderer(""+e.angleName)})});return[s,function(t,e){var r;return __assign$c(__assign$c({},deepMerge({},s)),{radiusKey:e+"-filtered-out",label:o.label,callout:__assign$c(__assign$c({},o.callout),{colors:(r=o.callout.colors,null!=r?r:n.strokes)}),fills:changeOpacity(n.fills,.3),strokes:changeOpacity(n.strokes,.3),showInLegend:!1})}(0,i)]},e.calculateOffsets=function(t){var e=t.currentOffset;t.currentOffset-=t.offsetAmount;var n=t.currentOffset;return t.currentOffset-=t.offsetAmount,{outerRadiusOffset:e,innerRadiusOffset:n}},e.prototype.getFields=function(t){return"pie"===this.chartType?t.fields.slice(0,1):t.fields},e.prototype.getCrossFilterTooltipRenderer=function(t){return function(e){return{title:t,content:e.datum[e.labelKey]+": "+e.angleValue*e.datum[e.radiusKey]}}},e.prototype.extractSeriesOverrides=function(){return this.chartOptions[this.standaloneChartType].series},e.prototype.crossFilteringReset=function(){},e}(ChartProxy),__extends$14=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$b=function(){return(__assign$b=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ScatterChartProxy=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsAxesUpdates=!1,n.xAxisType="number",n.yAxisType="number",n.recreateChart(),n}return __extends$14(e,t),e.prototype.getData=function(t){return this.getDataTransformedData(t)},e.prototype.getAxes=function(){var t=this.getAxesOptions();return[__assign$b(__assign$b({},deepMerge(t[this.xAxisType],t[this.xAxisType].bottom)),{type:this.xAxisType,position:ChartAxisPosition.Bottom}),__assign$b(__assign$b({},deepMerge(t[this.yAxisType],t[this.yAxisType].left)),{type:this.yAxisType,position:ChartAxisPosition.Left})]},e.prototype.getSeries=function(t){var e=this,n=this.getSeriesDefinitions(t.fields,this.chartOptions[this.standaloneChartType].paired),o=t.category.id===ChartDataModel.DEFAULT_CATEGORY?void 0:t.category,r=n.map(function(t){return __assign$b(__assign$b({},e.extractSeriesOverrides()),{type:e.standaloneChartType,xKey:t.xField.colId,xName:t.xField.displayName,yKey:t.yField.colId,yName:t.yField.displayName,title:t.yField.displayName+" vs "+t.xField.displayName,sizeKey:t.sizeField?t.sizeField.colId:void 0,sizeName:t.sizeField?t.sizeField.displayName:void 0,labelKey:o?o.id:t.yField.colId,labelName:o?o.name:void 0})});return this.crossFiltering?this.extractCrossFilterSeries(r):r},e.prototype.extractCrossFilterSeries=function(t){return[]},e.prototype.getSeriesDefinitions=function(t,e){if(t.length<2)return[];var n="bubble"===this.chartType;if(e)return n?t.map(function(e,n){return n%3==0?{xField:e,yField:t[n+1],sizeField:t[n+2]}:null}).filter(function(t){return t&&t.yField&&t.sizeField}):t.map(function(e,n){return n%2==0?{xField:e,yField:t[n+1]}:null}).filter(function(t){return t&&t.yField});var o=t[0];return n?t.map(function(e,n){return n%2==1?{xField:o,yField:e,sizeField:t[n+1]}:null}).filter(function(t){return t&&t.sizeField}):t.filter(function(t,e){return e>0}).map(function(t){return{xField:o,yField:t}})},e}(CartesianChartProxy),__extends$13=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$a=function(){return(__assign$a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},HistogramChartProxy=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsAxesUpdates=!1,n.xAxisType="number",n.yAxisType="number",n.recreateChart(),n}return __extends$13(e,t),e.prototype.getData=function(t){return this.getDataTransformedData(t)},e.prototype.getSeries=function(t){var e=t.fields[0];return[__assign$a(__assign$a({},this.extractSeriesOverrides()),{type:this.standaloneChartType,xKey:e.colId,xName:e.displayName,areaPlot:!1})]},e.prototype.getAxes=function(){var t=this.getAxesOptions();return[__assign$a(__assign$a({},deepMerge(t[this.xAxisType],t[this.xAxisType].bottom)),{type:this.xAxisType,position:ChartAxisPosition.Bottom}),__assign$a(__assign$a({},deepMerge(t[this.yAxisType],t[this.yAxisType].left)),{type:this.yAxisType,position:ChartAxisPosition.Left})]},e}(CartesianChartProxy),__extends$12=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$J=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartOptionsService=function(t){function e(e){var n=t.call(this)||this;return n.chartController=e,n}return __extends$12(e,t),e.prototype.getChartOption=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChart(),t,void 0)},e.prototype.setChartOption=function(t,e){var n=this,o=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&o.push("cartesian"),o.forEach(function(o){var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(n.getChartOptions(),""+o,void 0);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(r,t,e)}),this.updateChart(),this.raiseChartOptionsChangedEvent()},e.prototype.getAxisProperty=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChart().axes[0],t,void 0)},e.prototype.setAxisProperty=function(t,e){var n=this;this.getChart().axes.forEach(function(o){n.updateAxisOptions(o,t,e)}),this.updateChart(),this.raiseChartOptionsChangedEvent()},e.prototype.getLabelRotation=function(t){var e=this.getAxis(t);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(e,"label.rotation",void 0)},e.prototype.setLabelRotation=function(t,e){var n=this.getAxis(t);n&&(this.updateAxisOptions(n,"label.rotation",e),this.updateChart(),this.raiseChartOptionsChangedEvent())},e.prototype.getSeriesOption=function(t,n){var o=this.getChart().series.find(function(t){return e.isMatchingSeries(n,t)});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(o,t,void 0)},e.prototype.setSeriesOption=function(t,e,n){var o=this.getChartOptions();o[n]||(o[n]={}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(o[n].series,t,e),this.updateChart(),this.raiseChartOptionsChangedEvent()},e.prototype.getPairedMode=function(){var t=getSeriesType(this.getChartType());return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChartOptions(),t+".paired",void 0)},e.prototype.setPairedMode=function(t){var e=getSeriesType(this.getChartType()),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChartOptions(),""+e,void 0);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(n,"paired",t)},e.prototype.getAxis=function(t){var e=this.getChart();if(e.axes&&!(e.axes.length<1))return"xAxis"===t?e.axes&&"x"===e.axes[0].direction?e.axes[0]:e.axes[1]:e.axes&&"y"===e.axes[1].direction?e.axes[1]:e.axes[0]},e.prototype.updateAxisOptions=function(t,e,n){var o=getSeriesType(this.getChartType()),r=this.getChartOptions()[o].axes;t instanceof NumberAxis?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(r.number,e,n):t instanceof CategoryAxis?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(r.category,e,n):t instanceof TimeAxis?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(r.time,e,n):t instanceof GroupedCategoryAxis&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(r.groupedCategory,e,n)},e.prototype.getChartType=function(){return this.chartController.getChartType()},e.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},e.prototype.getChartOptions=function(){return this.chartController.getChartProxy().getChartOptions()},e.prototype.updateChart=function(){var t=this.chartController.getChartUpdateParams();this.chartController.getChartProxy().update(t)},e.prototype.raiseChartOptionsChangedEvent=function(){var t=this.chartController.getChartModel(),e=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:t.chartId,chartType:t.chartType,chartThemeName:t.chartThemeName,chartOptions:t.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},e.isMatchingSeries=function(t,e){return"area"===t&&e instanceof AreaSeries||"bar"===t&&e instanceof BarSeries||"column"===t&&e instanceof BarSeries||"histogram"===t&&e instanceof HistogramSeries||"line"===t&&e instanceof LineSeries||"pie"===t&&e instanceof PieSeries||"scatter"===t&&e instanceof ScatterSeries},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$11=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$9=function(){return(__assign$9=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ComboChartProxy=function(t){function e(e){var n=t.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return __extends$11(e,t),e.prototype.getData=function(t){return this.getDataTransformedData(t)},e.prototype.getAxes=function(t){var e=this;this.xAxisType=t.grouping?"groupedCategory":"category";var n=t?t.fields:[],o=new Map(n.map(function(t){return[t.colId,t]})),r=this.getYKeys(n,t.seriesChartTypes),i=r.primaryYKeys,s=r.secondaryYKeys,a=this.getAxisOptions(),l=a.leftOptions,c=a.rightOptions,u=[__assign$9(__assign$9({},a.bottomOptions),{type:this.xAxisType,position:ChartAxisPosition.Bottom,gridStyle:[{strokeWidth:0}]})];return i.length>0&&u.push(__assign$9(__assign$9({},l),{type:this.yAxisType,keys:i,position:ChartAxisPosition.Left,title:__assign$9({},deepMerge(l.title,{enabled:!0,text:i.map(function(t){var e=o.get(t);return e?e.displayName:t}).join(" / ")}))})),s.length>0&&s.forEach(function(t,n){var r=o.get(t);if(r&&r.colId===t){var a=__assign$9(__assign$9({},c),{type:e.yAxisType,keys:[t],position:ChartAxisPosition.Right,title:__assign$9({},deepMerge(c.title,{enabled:!0,text:r?r.displayName:t}))});!i.some(function(t){return!!o.get(t)})&&n===s.length-1||(a.gridStyle=[{strokeWidth:0}]),u.push(a)}}),u},e.prototype.getSeries=function(t){var e=this,n=t.category,o=t.seriesChartTypes;return t.fields.map(function(t){var r=o.find(function(e){return e.colId===t.colId});if(r){var i=r.chartType;return __assign$9(__assign$9({},e.extractSeriesOverrides(getSeriesType(r.chartType))),{type:getSeriesType(i),xKey:n.id,yKey:t.colId,yName:t.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(i),stacked:["stackedArea","stackedColumn"].includes(i)})}})},e.prototype.getAxisOptions=function(){var t=this.getAxesOptions("cartesian");return{bottomOptions:deepMerge(t[this.xAxisType],t[this.xAxisType].bottom),leftOptions:deepMerge(t[this.yAxisType],t[this.yAxisType].left),rightOptions:deepMerge(t[this.yAxisType],t[this.yAxisType].right)}},e.prototype.getYKeys=function(t,e){var n=[],o=[];return t.forEach(function(t){var r=t.colId,i=e.find(function(t){return t.colId===r});i&&(i.secondaryAxis?o.push(r):n.push(r))}),{primaryYKeys:n,secondaryYKeys:o}},e}(CartesianChartProxy),__extends$10=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$I=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},GridChartComp=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.params=n,o}return __extends$10(e,t),e.prototype.init=function(){var t=this.gridOptionsWrapper.getChartThemes();if(t.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var e=this.params.chartThemeName;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t,e)||(e=t[0]);var n={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:e,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},o=this.gridOptionsWrapper.isEnableRtl();this.addCssClass(o?"ag-rtl":"ag-ltr");var r=this.createBean(new ChartDataModel(n));this.chartController=this.createManagedBean(new ChartController(r)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,ChartMenu.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},e.prototype.validateCustomThemes=function(){var t=this.gridOptionsWrapper.getChartThemes(),e=this.gridOptionsWrapper.getCustomChartThemes();e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllKeysInObjects([e]).forEach(function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t,e)||console.warn("AG Grid: a custom chart theme with the name '"+e+"' has been supplied but not added to the 'chartThemes' list")})},e.prototype.createChart=function(){var t=this;this.chartProxy&&this.chartProxy.destroy();var n=this.chartController.getChartType(),o={chartType:n,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsWrapper.getCustomChartThemes(),getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(e,n){t.params.crossFilteringContext.lastSelectedChartId=n?"":t.chartController.getChartId(),n&&t.params.crossFilteringResetCallback(),t.crossFilterService.filter(e,n)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes()};if(this.params.chartOptionsToRestore=void 0,this.chartType=n,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=e.createChartProxy(o),this.chartProxy){var r=this.eChart.querySelector("canvas");r&&r.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new ChartOptionsService(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",o.chartType)},e.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},e.prototype.getChartThemes=function(){return this.chartController.getThemes()},e.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},e.createChartProxy=function(t){switch(t.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new BarChartProxy(t);case"pie":case"doughnut":return new PieChartProxy(t);case"area":case"stackedArea":case"normalizedArea":return new AreaChartProxy(t);case"line":return new LineChartProxy(t);case"scatter":case"bubble":return new ScatterChartProxy(t);case"histogram":return new HistogramChartProxy(t);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new ComboChartProxy(t);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+t.chartType+"' was supplied."}},e.prototype.addDialog=function(){var t=this,e=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),n=this.getBestDialogSize();this.chartDialog=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({resizable:!0,movable:!0,maximizable:!0,title:e,width:n.width,height:n.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI.EVENT_DESTROYED,function(){return t.destroy()})},e.prototype.getBestDialogSize=function(){var t=this.popupService.getPopupParent(),e=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(t),n=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteHeight(t),o=this.chartProxy.getChart(),r=this.params.insideDialog?850:o.width,i=this.params.insideDialog?470:o.height;return(r>e||i>n)&&(r=Math.min(r,e),(i=Math.round(.553*r))>n&&(i=n,r=Math.min(r,Math.round(i/.553)))),{width:r,height:i}},e.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new ChartMenu(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},e.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new TitleEdit(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},e.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},e.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},e.prototype.getCurrentChartType=function(){return this.chartType},e.prototype.getChartModel=function(){return this.chartController.getChartModel()},e.prototype.getChartImageDataURL=function(t){return this.chartProxy.getChartImageDataURL(t)},e.prototype.updateChart=function(){var t=this.chartProxy,e=this.chartController.getSelectedValueColState().map(function(t){return{colId:t.colId,displayName:t.displayName}}),n=this.chartController.getChartData();if(!this.handleEmptyChart(n,e)){var o=this.chartController.getChartUpdateParams();t.update(o),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},e.prototype.handleEmptyChart=function(t,e){var n=this.chartProxy.getChart().container,o=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),r=1;this.chartController.isActiveXYChart()&&(r="bubble"===this.chartController.getChartType()?3:2);var i=e.length<r||0===t.length;if(n){var s=o||i;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eChart,!s),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eEmpty,s)}return o?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!i&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},e.prototype.downloadChart=function(){this.chartProxy.downloadChart()},e.prototype.getChartId=function(){return this.chartController.getChartId()},e.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},e.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},e.prototype.setActiveChartCellRange=function(t){this.getGui().contains(t.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},e.prototype.raiseChartCreatedEvent=function(){var t=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(t)},e.prototype.raiseChartDestroyedEvent=function(){var t=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e),this.raiseChartDestroyedEvent()},e.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChart")],e.prototype,"eChart",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChartContainer")],e.prototype,"eChartContainer",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenuContainer")],e.prototype,"eMenuContainer",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eEmpty")],e.prototype,"eEmpty",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eTitleEditContainer")],e.prototype,"eTitleEditContainer",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("environment")],e.prototype,"environment",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartCrossFilterService")],e.prototype,"crossFilterService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$I([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),CURRENT_VERSION="28.0.1";function upgradeChartModel(t){return null==t.version&&(t.version="27.1.0"),versionParts(t.version),t}function versionParts(t){var e="string"==typeof t?t.split(".").map(function(t){return Number(t)}):[];if(3!==e.length||e.some(function(t){return isNaN(t)}))throw new Error("AG Grid - Illegal version string: "+t);return{major:e[0],minor:e[1],patch:e[2]}}var __extends$$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$8=function(){return(__assign$8=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$H=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return __extends$$(e,t),e.prototype.getChartModels=function(){var t=[];return this.activeChartComps.forEach(function(e){return t.push(function(t){return __assign$8(__assign$8({},t),{version:CURRENT_VERSION})}(e.getChartModel()))}),t},e.prototype.getChartRef=function(t){var e;return this.activeCharts.forEach(function(n){n.chartId===t&&(e=n)}),e},e.prototype.getChartImageDataURL=function(t){var e;return this.activeChartComps.forEach(function(n){n.getChartId()===t.chartId&&(e=n.getChartImageDataURL(t.fileFormat))}),e},e.prototype.createChartFromCurrentRange=function(t){void 0===t&&(t="groupedColumn");var e=this.getSelectedRange();return this.createChart(e,t)},e.prototype.restoreChart=function(t,e){var n=this;if(t){t.version!==CURRENT_VERSION&&(t=upgradeChartModel(t));var o={cellRange:t.cellRange,chartType:t.chartType,chartThemeName:t.chartThemeName,chartContainer:e,suppressChartRanges:t.suppressChartRanges,aggFunc:t.aggFunc,unlinkChart:t.unlinkChart,seriesChartTypes:t.seriesChartTypes},r=function(t){return n.rangeService?n.rangeService.createCellRangeFromCellRangeParams(t):void 0};if("pivot"===t.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var i=r({rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(t){return t.getColId()})});return i?this.createChart(i,o.chartType,o.chartThemeName,!0,!0,o.chartContainer,void 0,void 0,o.unlinkChart,!1,t.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var s=r(o.cellRange);if(s)return this.createChart(s,o.chartType,o.chartThemeName,!1,o.suppressChartRanges,o.chartContainer,o.aggFunc,void 0,o.unlinkChart,!1,t.chartOptions,t.chartPalette,o.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},e.prototype.createRangeChart=function(t){var e=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t.cellRange):void 0;if(e)return this.createChart(e,t.chartType,t.chartThemeName,!1,t.suppressChartRanges,t.chartContainer,t.aggFunc,t.chartThemeOverrides,t.unlinkChart,void 0,void 0,void 0,t.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},e.prototype.createPivotChart=function(t){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var e={rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(t){return t.getColId()})},n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e):void 0;if(n)return this.createChart(n,t.chartType,t.chartThemeName,!0,!0,t.chartContainer,void 0,t.chartThemeOverrides,t.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},e.prototype.createCrossFilterChart=function(t){var e=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t.cellRange):void 0;if(e)return this.createChart(e,t.chartType,t.chartThemeName,!1,!(null!=t.suppressChartRanges)||t.suppressChartRanges,t.chartContainer,t.aggFunc,t.chartThemeOverrides,t.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},e.prototype.createChart=function(t,e,n,o,r,i,s,a,l,c,u,p,d){var h=this;void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===l&&(l=!1),void 0===c&&(c=!1);var f=this.gridOptionsWrapper.getCreateChartContainerFunc(),g={chartId:this.generateId(),pivotChart:o,cellRange:t,chartType:e,chartThemeName:n,insideDialog:!(i||f),suppressChartRanges:r,aggFunc:s,chartThemeOverrides:a,unlinkChart:l,crossFiltering:c,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:u,chartPaletteToRestore:p,seriesChartTypes:d,crossFilteringResetCallback:function(){return h.activeChartComps.forEach(function(t){return t.crossFilteringReset()})}},m=new GridChartComp(g);this.context.createBean(m);var y=this.createChartRef(m);if(i){i.appendChild(m.getGui());var _=this.environment.getTheme();_.el&&!_.el.contains(i)&&i.classList.add(_.theme)}else f?f(y):m.addEventListener(GridChartComp.EVENT_DESTROYED,function(){h.activeChartComps.delete(m),h.activeCharts.delete(y)});return y},e.prototype.createChartRef=function(t){var e=this,n={destroyChart:function(){e.activeCharts.has(n)&&(e.context.destroyBean(t),e.activeChartComps.delete(t),e.activeCharts.delete(n))},chartElement:t.getGui(),chart:t.getUnderlyingChart(),chartId:t.getChartModel().chartId};return this.activeCharts.add(n),this.activeChartComps.add(t),n},e.prototype.getSelectedRange=function(){var t=this.rangeService.getCellRanges();return t.length>0?t[0]:{}},e.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},e.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(t){return t.destroyChart()})},__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("environment")],e.prototype,"environment",void 0),__decorate$H([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyAllActiveCharts",null),__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$G=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartTranslationService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$_(e,t),n=e,e.prototype.translate=function(t,e){return this.gridOptionsWrapper.getLocaleTextFunc()(t,n.DEFAULT_TRANSLATIONS[t]||e)},e.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},n=__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartTranslationService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$F=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ChartCrossFilterService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$Z(e,t),n=e,e.prototype.filter=function(t,e){void 0===e&&(e=!1);var o=this.gridApi.getFilterModel();if(e)this.resetFilters(o);else{var r=n.extractFilterColId(t);this.isValidColumnFilter(r)?this.updateFilters(o,t,r):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+r+"'")}},e.prototype.resetFilters=function(t){Object.keys(t).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},e.prototype.updateFilters=function(t,e,o){var r,i=n.extractFilterColId(e),s=e.datum[i];if(void 0!==s){var a=s.toString();if(e.event.metaKey||e.event.ctrlKey){var l=this.getCurrentGridValuesForCategory(o),c=void 0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(l,a)?c=l.filter(function(t){return t!==a}):(c=l).push(a),t[o]=this.getUpdatedFilterModel(o,c)}else(r={})[o]=this.getUpdatedFilterModel(o,c=[a]),t=r;this.gridApi.setFilterModel(t)}},e.prototype.getUpdatedFilterModel=function(t,e){return"agMultiColumnFilter"===this.getColumnFilterType(t)?{filterType:"multi",filterModels:[null,{filterType:"set",values:e}]}:{filterType:"set",values:e}},e.prototype.getCurrentGridValuesForCategory=function(t){var e=this,n=[],o=this.getColumnById(t);return this.gridApi.forEachNodeAfterFilter(function(t){if(o&&!t.group){var r=e.valueService.getValue(o,t)+"";n.includes(r)||n.push(r)}}),n},e.extractFilterColId=function(t){return t.xKey?t.xKey:t.labelKey},e.prototype.isValidColumnFilter=function(t){t.indexOf("-filtered-out")&&(t=t.replace("-filtered-out",""));var e=this.getColumnFilterType(t);return"boolean"==typeof e?e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["agSetColumnFilter","agMultiColumnFilter"],e)},e.prototype.getColumnFilterType=function(t){var e=this.getColumnById(t);if(e){var n=e.getColDef();return null!=n.filter?n.filter:n.filterFramework}},e.prototype.getColumnById=function(t){return this.columnModel.getGridColumn(t)},__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),n=__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartCrossFilterService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$7=function(){return(__assign$7=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$E=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$8=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$2=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$8(arguments[e]));return t},__values$2=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RangeService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return __extends$Y(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady(function(){var e=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:e.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return e.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(t){return e.getScrollFeature().setVerticalScrollPosition(t)},getHorizontalPosition:function(){return e.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(t){return e.getScrollFeature().setHorizontalScrollPosition(t)},shouldSkipVerticalScroll:function(){return t.gridOptionsWrapper.getDomLayout()!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.DOM_LAYOUT_NORMAL},shouldSkipHorizontalScroll:function(){return e.getScrollFeature().isHorizontalScrollShowing()}})})},e.prototype.onColumnsChanged=function(){var t=this;this.refreshLastRangeStart();var e=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach(function(n){var o=n.columns;n.columns=n.columns.filter(function(t){return t.isVisible()&&-1!==e.indexOf(t)}),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(o,n.columns)&&t.dispatchChangedEvent(!1,!0,n.id)});var n=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(function(t){return t.columns.length>0}),n>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},e.prototype.refreshLastRangeStart=function(){var t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);t&&this.refreshRangeStart(t)},e.prototype.isContiguousRange=function(t){var e=t.columns;if(!e.length)return!1;var n=this.columnModel.getAllDisplayedColumns(),o=e.map(function(t){return n.indexOf(t)}).sort(function(t,e){return t-e});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o)-o[0]+1===e.length},e.prototype.getRangeStartRow=function(t){return t.startRow&&t.endRow?this.rowPositionUtils.before(t.startRow,t.endRow)?t.startRow:t.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.PINNED_TOP:null}},e.prototype.getRangeEndRow=function(t){if(t.startRow&&t.endRow)return this.rowPositionUtils.before(t.startRow,t.endRow)?t.endRow:t.startRow;var e=this.pinnedRowModel.getPinnedBottomRowCount();return e>0?{rowIndex:e-1,rowPinned:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},e.prototype.setRangeToCell=function(t,e){if(void 0===e&&(e=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var n=this.calculateColumnsBetween(t.column,t.column);if(n){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var o={rowIndex:t.rowIndex,rowPinned:t.rowPinned};this.cellRanges.push({startRow:o,endRow:o,columns:n,startColumn:t.column}),this.setNewestRangeStartCell(t),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},e.prototype.extendLatestRangeToCell=function(t){if(!this.isEmpty()&&this.newestRangeStartCell){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);this.updateRangeEnd(e,t)}},e.prototype.updateRangeEnd=function(t,e,n){void 0===n&&(n=!1);var o=this.calculateColumnsBetween(t.startColumn,e.column);o&&!this.isLastCellOfRange(t,e)&&(t.columns=o,t.endRow={rowIndex:e.rowIndex,rowPinned:e.rowPinned},n||this.dispatchChangedEvent(!0,!0,t.id))},e.prototype.refreshRangeStart=function(t){var e=t.startColumn,n=t.columns,o=function(e,n){var o=t.columns.filter(function(t){return t!==e});e?(t.startColumn=e,t.columns=n?__spread$2([e],o):__spread$2(o,[e])):t.columns=o},r=this.getRangeEdgeColumns(t),i=r.left,s=r.right;e===n[0]&&e!==i?o(i,!0):e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n)&&e===s&&o(s,!1)},e.prototype.getRangeEdgeColumns=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.columns.map(function(t){return e.indexOf(t)}).filter(function(t){return t>-1}).sort(function(t,e){return t-e});return{left:e[n[0]],right:e[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n)]}},e.prototype.extendLatestRangeInDirection=function(t){if(!this.isEmpty()&&this.newestRangeStartCell){var e=t.key,n=t.ctrlKey||t.metaKey,o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),r=this.newestRangeStartCell,i=o.columns[0],s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o.columns),a=this.cellNavigationService.getNextCellToFocus(e,{column:r.column===i?s:i,rowIndex:o.endRow.rowIndex,rowPinned:o.endRow.rowPinned},n);if(a)return this.setCellRange({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:a.rowIndex,rowEndPinned:a.rowPinned,columnStart:r.column,columnEnd:a.column}),a}},e.prototype.setCellRange=function(t){this.gridOptionsWrapper.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(t))},e.prototype.setCellRanges=function(t){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(this.cellRanges,t)||(this.removeAllCellRanges(!0),t.forEach(function(t){t.columns&&t.startRow&&e.setNewestRangeStartCell({rowIndex:t.startRow.rowIndex,rowPinned:t.startRow.rowPinned,column:t.columns[0]}),e.cellRanges.push(t)}),this.dispatchChangedEvent(!1,!0))},e.prototype.setNewestRangeStartCell=function(t){this.newestRangeStartCell=t},e.prototype.createCellRangeFromCellRangeParams=function(t){var e,n=this,o=!1;if(t.columns)e=t.columns.map(function(t){return n.columnModel.getColumnWithValidation(t)}).filter(function(t){return t});else{var r=this.columnModel.getColumnWithValidation(t.columnStart),i=this.columnModel.getColumnWithValidation(t.columnEnd);if(!r||!i)return;(e=this.calculateColumnsBetween(r,i))&&e.length&&(o=e[0]!==r)}if(e)return{startRow:null!=t.rowStartIndex?{rowIndex:t.rowStartIndex,rowPinned:t.rowStartPinned||null}:void 0,endRow:null!=t.rowEndIndex?{rowIndex:t.rowEndIndex,rowPinned:t.rowEndPinned||null}:void 0,columns:e,startColumn:o?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e):e[0]}},e.prototype.addCellRange=function(t){if(this.gridOptionsWrapper.isEnableRangeSelection()){var e=this.createCellRangeFromCellRangeParams(t);e&&(e.startRow&&this.setNewestRangeStartCell({rowIndex:e.startRow.rowIndex,rowPinned:e.startRow.rowPinned,column:e.startColumn}),this.cellRanges.push(e),this.dispatchChangedEvent(!1,!0,e.id))}},e.prototype.getCellRanges=function(){return this.cellRanges},e.prototype.isEmpty=function(){return 0===this.cellRanges.length},e.prototype.isMoreThanOneCell=function(){var t=this.cellRanges.length;if(0===t)return!1;if(t>1)return!0;var e=this.cellRanges[0],n=this.getRangeStartRow(e),o=this.getRangeEndRow(e);return n.rowPinned!==o.rowPinned||n.rowIndex!==o.rowIndex||1!==e.columns.length},e.prototype.areAllRangesAbleToMerge=function(){var t,e,n,o=this,r=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(t){for(var e=o.getRangeStartRow(t),n=o.getRangeEndRow(t),i=e,s=function(){var e=(i.rowPinned||"normal")+"_"+i.rowIndex,s=r.get(e),a=t.columns.map(function(t){return t.getId()});if(s){var l=a.filter(function(t){return-1===s.indexOf(t)});s.push.apply(s,__spread$2(l))}else r.set(e,a);if(o.rowPositionUtils.sameRow(i,n))return"break";i=o.cellNavigationService.getRowBelow(i)};i&&"break"!==s(););});try{for(var i=__values$2(r.values()),s=i.next();!s.done;s=i.next()){var a=s.value.sort().join();if(void 0!==n){if(n!==a)return!1}else n=a}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.removeAllCellRanges=function(t){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,t||this.dispatchChangedEvent(!1,!0))},e.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},e.prototype.isCellInAnyRange=function(t){return this.getCellRangeCount(t)>0},e.prototype.isCellInSpecificRange=function(t,e){var n=null!==e.columns&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e.columns,t.column),o=this.isRowInRange(t.rowIndex,t.rowPinned,e);return n&&o},e.prototype.isLastCellOfRange=function(t,e){var n=t.startRow,o=t.endRow,r=this.rowPositionUtils.before(n,o)?o:n,i=e.rowIndex===r.rowIndex&&e.rowPinned===r.rowPinned,s=t.columns[0],a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.columns);return e.column===(t.startColumn===s?a:s)&&i},e.prototype.isBottomRightCell=function(t,e){var n=this.columnModel.getAllDisplayedColumns(),o=t.columns.map(function(t){return n.indexOf(t)}).sort(function(t,e){return t-e}),r=t.startRow,i=t.endRow,s=this.rowPositionUtils.before(r,i)?i:r,a=n.indexOf(e.column)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o),l=e.rowIndex===s.rowIndex&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(e.rowPinned)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s.rowPinned);return a&&l},e.prototype.getCellRangeCount=function(t){var e=this;return this.isEmpty()?0:this.cellRanges.filter(function(n){return e.isCellInSpecificRange(t,n)}).length},e.prototype.isRowInRange=function(t,e,n){var o=this.getRangeStartRow(n),r=this.getRangeEndRow(n),i={rowIndex:t,rowPinned:e||null};if(i.rowIndex===o.rowIndex&&i.rowPinned==o.rowPinned||i.rowIndex===r.rowIndex&&i.rowPinned==r.rowPinned)return!0;var s=!this.rowPositionUtils.before(i,o),a=this.rowPositionUtils.before(i,r);return s&&a},e.prototype.getDraggingRange=function(){return this.draggingRange},e.prototype.onDragStart=function(t){if(this.gridOptionsWrapper.isEnableRangeSelection()){var e=t.shiftKey,n=t.ctrlKey||t.metaKey,o=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&n,r=e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.cellRanges);if(o||r&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges).type)||this.removeAllCellRanges(!0),this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),this.updateValuesOnMove(t),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=t,this.intersectionRange=o&&this.getCellRangeCount(this.lastCellHovered)>1,r||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);else{var i={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:i,endRow:i,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},e.prototype.intersectLastRange=function(t){var e=this;if(!(t&&this.dragging||this.gridOptionsWrapper.isSuppressMultiRangeSelection()||this.isEmpty())){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),o=this.getRangeStartRow(n),r=this.getRangeEndRow(n),i=[];this.cellRanges.slice(0,-1).forEach(function(t){var s=e.getRangeStartRow(t),a=e.getRangeEndRow(t),l=t.columns,c=l.filter(function(t){return-1===n.columns.indexOf(t)});if(c.length!==l.length)if(e.rowPositionUtils.before(r,s)||e.rowPositionUtils.before(a,o))i.push(t);else{var u=i.length;if(e.rowPositionUtils.before(s,o)){var p={columns:__spread$2(l),startColumn:n.startColumn,startRow:__assign$7({},s),endRow:e.cellNavigationService.getRowAbove(o)};i.push(p)}if(c.length>0){var d={columns:c,startColumn:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(c,n.startColumn)?n.startColumn:c[0],startRow:e.rowPositionUtils.rowMax([__assign$7({},o),__assign$7({},s)]),endRow:e.rowPositionUtils.rowMin([__assign$7({},r),__assign$7({},a)])};i.push(d)}e.rowPositionUtils.before(r,a)&&i.push({columns:__spread$2(l),startColumn:n.startColumn,startRow:e.cellNavigationService.getRowBelow(r),endRow:__assign$7({},a)}),i.length-u==1&&(i[i.length-1].id=t.id)}else i.push(t)}),this.cellRanges=i,t&&this.dispatchChangedEvent(!1,!0)}},e.prototype.updateValuesOnMove=function(t){var e=this.mouseEventService.getCellPositionForEvent(t);this.cellHasChanged=!1,!e||this.lastCellHovered&&this.cellPositionUtils.equals(e,this.lastCellHovered)||(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=e)},e.prototype.onDragging=function(t){var e=this;if(this.dragging&&t){this.lastMouseEvent=t;var n=this.lastCellHovered,o=function(t){return n&&n.rowPinned===t&&e.newestRangeStartCell.rowPinned===t},r=o("top")||o("bottom");if(this.autoScrollService.check(t,r),this.cellHasChanged){var i=this.calculateColumnsBetween(this.newestRangeStartCell.column,n.column);i&&(this.draggingRange.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},this.draggingRange.columns=i,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},e.prototype.onDragStop=function(){if(this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0),this.dragging){var t=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,t)}},e.prototype.dispatchChangedEvent=function(t,e,n){var o=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:t,finished:e,id:n});this.eventService.dispatchEvent(o)},e.prototype.calculateColumnsBetween=function(t,e){var n=this.columnModel.getAllDisplayedColumns(),o=t===e,r=n.indexOf(t);if(r<0)console.warn("AG Grid: column "+t.getId()+" is not visible");else{var i=o?r:n.indexOf(e);if(!(i<0)){if(o)return[t];for(var s=Math.min(r,i),a=s===r?i:r,l=[],c=s;c<=a;c++)l.push(n[c]);return l}console.warn("AG Grid: column "+e.getId()+" is not visible")}},__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$E([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rangeService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$D=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AbstractSelectionHandle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return __extends$X(e,t),e.prototype.init=function(){var t=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(e){t.dragging=!0,t.rangeService.autoScrollService.check(e),t.changedCalculatedValues&&(t.onDrag(e),t.changedCalculatedValues=!1)},onDragStop:function(e){t.dragging=!1,t.onDragEnd(e),t.clearValues(),t.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(t.getDraggingCssClass()),t.shouldDestroyOnEndDragging&&t.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},e.prototype.isDragging=function(){return this.dragging},e.prototype.getCellCtrl=function(){return this.cellCtrl},e.prototype.setCellCtrl=function(t){this.cellCtrl=t},e.prototype.getCellRange=function(){return this.cellRange},e.prototype.setCellRange=function(t){this.cellRange=t},e.prototype.getRangeStartRow=function(){return this.rangeStartRow},e.prototype.setRangeStartRow=function(t){this.rangeStartRow=t},e.prototype.getRangeEndRow=function(){return this.rangeEndRow},e.prototype.setRangeEndRow=function(t){this.rangeEndRow=t},e.prototype.getLastCellHovered=function(){return this.lastCellHovered},e.prototype.preventRangeExtension=function(t){t.preventDefault(),t.stopPropagation()},e.prototype.onDragStart=function(t){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},e.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL?"fill":"range")+"-handle"},e.prototype.updateValuesOnMove=function(t){var e=this.mouseEventService.getCellPositionForEvent(t);!e||this.lastCellHovered&&this.cellPositionUtils.equals(e,this.lastCellHovered)||(this.lastCellHovered=e,this.changedCalculatedValues=!0)},e.prototype.getType=function(){return this.type},e.prototype.refresh=function(t){var e=this.getCellCtrl(),n=this.getGui(),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges()),r=o.startRow,i=o.endRow;if(r&&i&&(this.rowPositionUtils.before(i,r)?(this.setRangeStartRow(i),this.setRangeEndRow(r)):(this.setRangeStartRow(r),this.setRangeEndRow(i))),e!==t||!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(n)){this.setCellCtrl(t);var s=t.getComp().getParentOfValue();s&&s.appendChild(n)}this.setCellRange(o)},e.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},e.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},e.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,t.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],e.prototype,"dragService",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("navigationService")],e.prototype,"navigationService",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$D([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$6=function(){return(__assign$6=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$C=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__read$7=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread$1=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$7(arguments[e]));return t},FillHandle=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.markedCells=[],n.cellValues=[],n.isUp=!1,n.isLeft=!1,n.isReduce=!1,n.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL,n}return __extends$W(e,t),e.prototype.updateValuesOnMove=function(e){t.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var n,o=this.initialXY,r=o.x,i=o.y,s=this.mouseEventService.getNormalisedPosition(e),a=s.y,l=Math.abs(r-s.x),c=Math.abs(i-a),u=this.gridOptionsWrapper.getFillHandleDirection();(n="xy"===u?l>c?"x":"y":u)!==this.dragAxis&&(this.dragAxis=n,this.changedCalculatedValues=!0)},e.prototype.onDrag=function(t){if(!this.initialPosition){var e=this.getCellCtrl();if(!e)return;this.initialPosition=e.getCellPosition()}var n=this.getLastCellHovered();n&&this.markPathFrom(this.initialPosition,n)},e.prototype.onDragEnd=function(t){if(this.initialXY=null,this.markedCells.length){var e,n="x"===this.dragAxis,o=this.getCellRange(),r=o.columns.length,i=this.getRangeStartRow(),s=this.getRangeEndRow();if(this.isUp||this.isLeft){var a=n?i:this.lastCellMarked;e=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:n?this.lastCellMarked.column:o.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:o.columns[r-1]})}else e=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,columnStart:o.columns[0],rowEndIndex:n?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:n?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:n?this.lastCellMarked.column:o.columns[r-1]});e&&(this.raiseFillStartEvent(),this.handleValueChanged(o,e,t),this.rangeService.setCellRanges([e]),this.raiseFillEndEvent(o,e))}},e.prototype.raiseFillStartEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(t)},e.prototype.raiseFillEndEvent=function(t,e){var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:t,finalRange:e};this.eventService.dispatchEvent(n)},e.prototype.handleValueChanged=function(t,e,n){var o=this,r=this.rangeService.getRangeEndRow(t),i=this.rangeService.getRangeStartRow(t),s=this.rangeService.getRangeEndRow(e),a=this.rangeService.getRangeStartRow(e),l="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var c=!0,u=[],p=[],d=0,h=function(){u.length=0,p.length=0,d=0},f=function(e,n){var p=o.isUp?r:i,d=!1;l&&(c=!0,h());for(var f=function(){var f=o.rowPositionUtils.getRowNode(p);if(!f)return"break";l&&e?g(u,e,f,function(){return!o.rowPositionUtils.sameRow(p,o.isUp?i:r)}):n&&(c=!0,h(),n.forEach(function(e){return g(u,e,f,function(){return e!==(o.isLeft?t.columns[0]:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.columns))})})),d=o.rowPositionUtils.sameRow(p,o.isUp?a:s),p=o.isUp?o.cellNavigationService.getRowAbove(p):o.cellNavigationService.getRowBelow(p)};!d&&p&&"break"!==f(););},g=function(t,e,r,i){var s,a=!1;if(c)s=o.valueService.getValue(e,r),p.push(s),c=i();else{var l=o.processValues(n,t,p,e,r,d++),u=l.fromUserFunction;if(s=l.value,e.isCellEditable(r)){var h=o.valueService.getValue(e,r);u&&h===s?a=!0:r.setDataValue(e,s)}}a||t.push(s)};l?t.columns.forEach(function(t){f(t)}):(m=this.isLeft?__spread$1(e.columns).reverse():e.columns,f(void 0,m))}else{var m=l?t.columns:t.columns.filter(function(t){return e.columns.indexOf(t)<0}),y=l?this.cellNavigationService.getRowBelow(s):a;y&&this.clearCellsInRange(y,r,m)}},e.prototype.clearCellsInRange=function(t,e,n){for(var o=t,r=!1,i=function(){var t=s.rowPositionUtils.getRowNode(o);if(!t)return"break";n.forEach(function(e){e.isCellEditable(t)&&t.setDataValue(e,null)}),r=s.rowPositionUtils.sameRow(o,e),o=s.cellNavigationService.getRowBelow(o)},s=this;!r&&o&&"break"!==i(););},e.prototype.processValues=function(t,e,n,o,r,i){var s,a=this.gridOptionsWrapper.getFillOperation();if(s="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",a){var l=a({event:t,values:e,initialValues:n,currentIndex:i,currentCellValue:this.valueService.getValue(o,r),direction:s,column:o,rowNode:r});if(!1!==l)return{value:l,fromUserFunction:!0}}var c=!e.some(function(t){var e=parseFloat(t);return isNaN(e)||e.toString()!==t.toString()});if(t.altKey||!c){if(c&&1===n.length){var u=this.isUp||this.isLeft?-1:1;return{value:parseFloat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e))+1*u,fromUserFunction:!1}}return{value:e[i%e.length],fromUserFunction:!1}}return{value:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.findLineByLeastSquares(e.map(Number))),fromUserFunction:!1}},e.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,t.prototype.clearValues.call(this)},e.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(t){var e=t.getComp();e.addOrRemoveCssClass("ag-selection-fill-top",!1),e.addOrRemoveCssClass("ag-selection-fill-right",!1),e.addOrRemoveCssClass("ag-selection-fill-bottom",!1),e.addOrRemoveCssClass("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},e.prototype.clearCellValues=function(){this.cellValues.length=0},e.prototype.markPathFrom=function(t,e){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(e,t))return;var n=this.rowPositionUtils.before(e,t),o=this.getRangeStartRow(),r=this.getRangeEndRow();n&&(e.rowPinned==o.rowPinned&&e.rowIndex>=o.rowIndex||o.rowPinned!=r.rowPinned&&e.rowPinned==r.rowPinned&&e.rowIndex<=r.rowIndex)?(this.reduceVertical(t,e),this.isReduce=!0):(this.extendVertical(t,e,n),this.isReduce=!1)}else{var i=t.column,s=e.column;if(i===s)return;var a=this.columnModel.getAllDisplayedColumns(),l=a.indexOf(i),c=a.indexOf(s);c<=l&&c>=a.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(t,e),this.isReduce=!0):(this.extendHorizontal(t,e,c<l),this.isReduce=!1)}this.lastCellMarked=e},e.prototype.extendVertical=function(t,e,n){var o=this.navigationService,r=this.rangeService,i=t;do{for(var s=this.getCellRange(),a=s.columns.length,l=0;l<a;l++){var c=s.columns[l],u=__assign$6(__assign$6({},{rowIndex:i.rowIndex,rowPinned:i.rowPinned}),{column:c}),p=r.isCellInSpecificRange(u,s),d=this.rowPositionUtils.sameRow(i,t);if(n&&(this.isUp=!0),!d){var h=o.getCellByPosition(u);if(h){this.markedCells.push(h);var f=h.getComp();p||(f.addOrRemoveCssClass("ag-selection-fill-left",0===l),f.addOrRemoveCssClass("ag-selection-fill-right",l===a-1)),f.addOrRemoveCssClass(n?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,e))}}}if(this.rowPositionUtils.sameRow(i,e))break}while(i=n?this.cellNavigationService.getRowAbove(i):this.cellNavigationService.getRowBelow(i))},e.prototype.reduceVertical=function(t,e){var n=t;do{for(var o=this.getCellRange(),r=o.columns.length,i=this.rowPositionUtils.sameRow(n,e),s=0;s<r;s++){var a=__assign$6(__assign$6({},{rowIndex:n.rowIndex,rowPinned:n.rowPinned}),{column:o.columns[s]}),l=this.navigationService.getCellByPosition(a);l&&(this.markedCells.push(l),l.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(n,e)))}if(i)break}while(n=this.cellNavigationService.getRowAbove(n))},e.prototype.extendHorizontal=function(t,e,n){var o=this,r=this.columnModel.getAllDisplayedColumns(),i=r.indexOf(n?e.column:t.column),s=r.indexOf(n?this.getCellRange().columns[0]:e.column),a=n?0:1,l=r.slice(i+a,s+a),c=this.getRangeStartRow(),u=this.getRangeEndRow();l.forEach(function(t){var e=c,r=!1;do{r=o.rowPositionUtils.sameRow(e,u);var i=o.navigationService.getCellByPosition({rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t});if(i){o.markedCells.push(i);var s=i.getComp();s.addOrRemoveCssClass("ag-selection-fill-top",o.rowPositionUtils.sameRow(e,c)),s.addOrRemoveCssClass("ag-selection-fill-bottom",o.rowPositionUtils.sameRow(e,u)),n?(o.isLeft=!0,s.addOrRemoveCssClass("ag-selection-fill-left",t===l[0])):s.addOrRemoveCssClass("ag-selection-fill-right",t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(l))}e=o.cellNavigationService.getRowBelow(e)}while(!r)})},e.prototype.reduceHorizontal=function(t,e){var n=this,o=this.columnModel.getAllDisplayedColumns(),r=o.indexOf(e.column),i=o.indexOf(t.column),s=o.slice(r,i),a=this.getRangeStartRow(),l=this.getRangeEndRow();s.forEach(function(t){var e=a,o=!1;do{o=n.rowPositionUtils.sameRow(e,l);var r=n.navigationService.getCellByPosition({rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t});r&&(n.markedCells.push(r),r.getComp().addOrRemoveCssClass("ag-selection-fill-right",t===s[0])),e=n.cellNavigationService.getRowBelow(e)}while(!o)})},e.prototype.refresh=function(e){var n=this.rangeService.getCellRanges()[0];n.startRow&&n.endRow?t.prototype.refresh.call(this,e):this.destroy()},e.TEMPLATE='<div class="ag-fill-handle"></div>',__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),e}(AbstractSelectionHandle),__extends$V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$5=function(){return(__assign$5=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},RangeHandle=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE,n.rangeFixed=!1,n}return __extends$V(e,t),e.prototype.onDrag=function(t){var e=this.getLastCellHovered();if(e){var n=this.rangeService.getCellRanges(),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n);this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column},2===n.length&&n[0].type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION&&o.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(o))&&this.rangeService.updateRangeEnd(n[0],__assign$5(__assign$5({},this.endPosition),{column:n[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},e.prototype.onDragEnd=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(e),this.rangeFixed=!1},e.prototype.fixRangeStartEnd=function(t){var e=this.rangeService.getRangeStartRow(t),n=this.rangeService.getRangeEndRow(t),o=t.columns[0];t.startRow=e,t.endRow=n,t.startColumn=o},e.TEMPLATE='<div class="ag-range-handle"></div>',e}(AbstractSelectionHandle),__extends$U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$B=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SelectionHandleFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$U(e,t),e.prototype.createSelectionHandle=function(t){return this.createBean(t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE?new RangeHandle:new FillHandle)},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionHandleFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),RangeSelectionModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RangeSelectionModule,beans:[RangeService,SelectionHandleFactory],agStackComponents:[{componentName:"AgFillHandle",componentClass:FillHandle},{componentName:"AgRangeHandle",componentClass:RangeHandle}],dependantModules:[EnterpriseCoreModule]},GridChartsModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,beans:[ChartService,ChartTranslationService,ChartCrossFilterService],dependantModules:[RangeSelectionModule,EnterpriseCoreModule]},agCharts={time:time},__extends$T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$4=function(){return(__assign$4=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$A=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},DetailCellRendererCtrl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return __extends$T(e,t),e.prototype.init=function(t,e){var n=this;this.params=e,this.comp=t,null!=e.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(e.node.parent,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.EVENT_DATA_CHANGED,function(){n.needRefresh=!0}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},e.prototype.onFullWidthRowFocused=function(t){var e=this.params;this.rowPositionUtils.sameRow({rowIndex:e.node.rowIndex,rowPinned:e.node.rowPinned},{rowIndex:t.rowIndex,rowPinned:t.rowPinned})&&this.focusService.focusInto(this.comp.getGui(),t.fromBelow)},e.prototype.setAutoHeightClasses=function(){var t=this.gridOptionsWrapper.isDetailRowAutoHeight(),e=t?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(t?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(e,!0)},e.prototype.setupRefreshStrategy=function(){if(this.params.suppressRefresh)return console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),void(this.refreshStrategy="nothing");var t=this.params.refreshStrategy;"everything"==t||"nothing"==t||"rows"==t?this.refreshStrategy=t:(null!=t&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+t+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},e.prototype.addThemeToDetailGrid=function(){var t=this.environment.getTheme().theme;t&&this.comp.addOrRemoveDetailGridCssClass(t,!0)},e.prototype.createDetailGrid=function(){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var t=this.gridOptionsWrapper.isDetailRowAutoHeight(),e=__assign$4({},this.params.detailGridOptions);t&&(e.domLayout="autoHeight"),this.comp.setDetailGrid(e)}},e.prototype.registerDetailWithMaster=function(t,e){var n=this.params.node.id,o=this.params.api,r={id:n,api:t,columnApi:e},i=this.params.node;o.addDetailGridInfo(n,r),i.detailGridInfo=r,this.addDestroyFunc(function(){i.detailGridInfo===r&&(o.removeDetailGridInfo(n),i.detailGridInfo=null)})},e.prototype.loadRowData=function(){var t=this;this.loadRowDataVersion++;var e=this.loadRowDataVersion,n=this.params.getDetailRowData;n?n({node:this.params.node,data:this.params.node.data,successCallback:function(n){t.loadRowDataVersion===e&&t.comp.setRowData(n)},context:this.gridOptionsWrapper.getContext()}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},e.prototype.refresh=function(){return!this.needRefresh||"nothing"===this.refreshStrategy||(this.needRefresh=!1,"everything"!==this.refreshStrategy&&(this.loadRowData(),!0))},__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("environment")],e.prototype,"environment",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$z=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},DetailCellRenderer=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$S(e,t),e.prototype.init=function(t){var e=this;this.params=t,this.selectAndSetTemplate();var n={addOrRemoveCssClass:function(t,n){return e.addOrRemoveCssClass(t,n)},addOrRemoveDetailGridCssClass:function(t,n){return e.eDetailGrid.classList.toggle(t,n)},setDetailGrid:function(t){return e.setDetailGrid(t)},setRowData:function(t){return e.setRowData(t)},getGui:function(){return e.eDetailGrid}};this.ctrl=this.createManagedBean(new DetailCellRendererCtrl),this.ctrl.init(n,t)},e.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.selectAndSetTemplate=function(){var t=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var n=function(){t.setTemplate(e.TEMPLATE)};if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.template))n();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var o=(0,this.params.template)(this.params);this.setTemplate(o)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),n();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},e.prototype.setDetailGrid=function(t){if(this.eDetailGrid){var e=this.context.getBean("agGridReact"),n=e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(e):void 0,o=this.context.getBean("frameworkComponentWrapper"),r=this.getFrameworkOverrides();new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rjZ(this.eDetailGrid,t,{frameworkOverrides:r,providedBeanInstances:{agGridReact:n,frameworkComponentWrapper:o}}),this.detailApi=t.api,this.ctrl.registerDetailWithMaster(t.api,t.columnApi),this.addDestroyFunc(function(){t.api&&t.api.destroy()})}},e.prototype.setRowData=function(t){this.detailApi&&this.detailApi.setRowData(t)},e.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"></div>\n        </div>',__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDetailGrid")],e.prototype,"eDetailGrid",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),MasterDetailModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:DetailCellRenderer}],controllers:[{controllerName:"detailCellRenderer",controllerClass:DetailCellRendererCtrl}],dependantModules:[EnterpriseCoreModule]},__extends$R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$y=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},EnterpriseMenuFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$R(e,t),e.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},e.prototype.showMenuAfterMouseEvent=function(t,e,n){var o=this;this.showMenu(t,function(r){var i=r.getGui();o.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:t,mouseEvent:e,ePopup:i}),n&&r.showTab(n)},"columnMenu",n,void 0,e.target)},e.prototype.showMenuAfterButtonClick=function(t,e,n,o,r){var i=this,s=-1,a="left";this.gridOptionsWrapper.isEnableRtl()&&(s=1,a="right"),this.showMenu(t,function(r){var l=r.getGui();i.popupService.positionPopupUnderComponent({type:n,column:t,eventSource:e,ePopup:l,alignSide:a,nudgeX:9*s,nudgeY:-23,keepWithinBounds:!0}),o&&r.showTab(o)},n,o,r,e)},e.prototype.showMenu=function(t,e,n,o,r,i){var s=this,a=this.createBean(new EnterpriseMenu(t,this.lastSelectedTab,r)),l=a.getGui(),c=i||this.ctrlsService.getGridBodyCtrl().getGui(),u=[];u.push(function(e){if(s.destroyBean(a),t.setMenuVisible(!1,"contextMenu"),e instanceof KeyboardEvent&&i&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(i)){var n=s.focusService.findTabbableParent(i);n&&n.focus()}});var p=this.gridOptionsWrapper.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:function(t){u.forEach(function(e){return e(t)})},afterGuiAttached:function(t){return a.afterGuiAttached(Object.assign({},{container:n},t))},positionCallback:function(){return e(a)},anchorToElement:c,ariaLabel:p("ariaLabelColumnMenu","Column Menu")});if(d){var h=d.stopAnchoringPromise;h&&h.then(function(e){t.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_LEFT_CHANGED,e),t.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,e),u.push(function(){t.removeEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_LEFT_CHANGED,e),t.removeEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,e)})})}o||(a.showTabBasedOnPreviousSelection(),e(a)),a.addEventListener(EnterpriseMenu.EVENT_TAB_SELECTED,function(t){s.lastSelectedTab=t.key}),t.setMenuVisible(!0,"contextMenu"),this.activeMenu=a,a.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,function(){s.activeMenu===a&&(s.activeMenu=null)})},e.prototype.isMenuEnabled=function(t){return t.getMenuTabs(EnterpriseMenu.TABS_DEFAULT).length>0},__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),EnterpriseMenu=function(t){function e(n,o,r){var i=t.call(this)||this;return i.tabFactories={},i.includeChecks={},i.column=n,i.initialSelection=o,i.tabFactories[e.TAB_GENERAL]=i.createMainPanel.bind(i),i.tabFactories[e.TAB_FILTER]=i.createFilterPanel.bind(i),i.tabFactories[e.TAB_COLUMNS]=i.createColumnsPanel.bind(i),i.includeChecks[e.TAB_GENERAL]=function(){return!0},i.includeChecks[e.TAB_FILTER]=function(){return n.isFilterAllowed()},i.includeChecks[e.TAB_COLUMNS]=function(){return!0},i.restrictTo=r,i}return __extends$R(e,t),e.prototype.init=function(){var t=this,e=this.getTabsToCreate().map(function(e){return t.createTab(e)});this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:e,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},e.prototype.getTabsToCreate=function(){var t=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(e.TABS_DEFAULT).filter(function(e){return t.isValidMenuTabItem(e)}).filter(function(e){return t.isNotSuppressed(e)}).filter(function(e){return t.isModuleLoaded(e)})},e.prototype.isModuleLoaded=function(t){return t!==e.TAB_COLUMNS||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnToolPanelModule)},e.prototype.isValidMenuTabItem=function(t){var n=!0,o=e.TABS_DEFAULT;return null!=this.restrictTo&&(n=this.restrictTo.indexOf(t)>-1,o=this.restrictTo),(n=n&&e.TABS_DEFAULT.indexOf(t)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+t+"'. Check that your 'menuTabs' contains one of ["+o+"]"),n},e.prototype.isNotSuppressed=function(t){return this.includeChecks[t]()},e.prototype.createTab=function(t){return this.tabFactories[t]()},e.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},e.prototype.showTab=function(t){this.tabItemColumns&&t===e.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&t===e.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&t===e.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},e.prototype.onTabItemClicked=function(t){var n=null;switch(t.item){case this.tabItemColumns:n=e.TAB_COLUMNS;break;case this.tabItemFilter:n=e.TAB_FILTER;break;case this.tabItemGeneral:n=e.TAB_GENERAL}n&&this.activateTab(n)},e.prototype.activateTab=function(t){this.dispatchEvent({type:e.EVENT_TAB_SELECTED,key:t})},e.prototype.getMenuItems=function(){var t,n=this.getDefaultMenuOptions(),o=this.gridOptionsWrapper.getMainMenuItemsFunc();return t=o?o({column:this.column,defaultItems:n}):n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeRepeatsFromArray(t,e.MENU_ITEM_SEPARATOR),t},e.prototype.getDefaultMenuOptions=function(){var t=[],n=!this.column.getColDef().lockPinned,o=this.columnModel.getRowGroupColumns().length,r=o>0,i=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),a=this.column.isAllowRowGroup(),l=this.column.isPrimary(),c=this.columnModel.isPivotMode(),u=this.rowModel.getType()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ROW_MODEL_TYPE_CLIENT_SIDE,p=this.gridOptionsWrapper.isTreeData(),d=l&&r&&s||!l;return n&&t.push("pinSubMenu"),d&&t.push("valueAggSubMenu"),(n||d)&&t.push(e.MENU_ITEM_SEPARATOR),t.push("autoSizeThis"),t.push("autoSizeAll"),t.push(e.MENU_ITEM_SEPARATOR),a&&this.column.isPrimary()&&t.push(i?"rowUnGroup":"rowGroup"),t.push(e.MENU_ITEM_SEPARATOR),t.push("resetColumns"),u&&(p||o>(c?1:0))&&(t.push("expandAll"),t.push("contractAll")),t},e.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3);var t=this.getMenuItems(),n=this.menuItemMapper.mapWithStockItems(t,this.column);return this.mainMenuList.addMenuItems(n),this.mainMenuList.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:e.TAB_GENERAL.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(this.mainMenuList.getGui()),name:e.TAB_GENERAL},this.tabItemGeneral},e.prototype.onHidePopup=function(t){var e;t&&t.event&&t.event instanceof KeyboardEvent&&(e=t.event),this.hidePopupFunc(e&&{keyboardEvent:e});var n=this.focusService.getFocusedCell(),o=this.gridOptionsWrapper.getDocument();o.activeElement===o.body&&n&&this.focusService.setFocusedCell({rowIndex:n.rowIndex,column:n.column,rowPinned:n.rowPinned,forceBrowserFocus:!0})},e.prototype.createFilterPanel=function(){var t,n=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!n)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:e.TAB_FILTER.replace("MenuTab",""),bodyPromise:null===(t=n)||void 0===t?void 0:t.guiPromise,afterAttachedCallback:function(t){var e;(null===(e=n)||void 0===e?void 0:e.filterPromise)&&n.filterPromise.then(function(e){e&&e.afterGuiAttached&&e.afterGuiAttached(t)})},name:e.TAB_FILTER},this.tabItemFilter},e.prototype.createColumnsPanel=function(){var t=document.createElement("div");t.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new PrimaryColsPanel);var n=this.column.getColDef().columnsMenuParams;n||(n={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!n.contractColumnSelection,suppressColumnExpandAll:!!n.suppressColumnExpandAll,suppressColumnFilter:!!n.suppressColumnFilter,suppressColumnSelectAll:!!n.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!n.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},"columnMenu");var o=this.columnSelectPanel.getGui();return o.classList.add("ag-menu-column-select"),t.appendChild(o),this.tabItemColumns={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:e.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(t),name:e.TAB_COLUMNS},this.tabItemColumns},e.prototype.afterGuiAttached=function(t){var e=t.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:t.container,hidePopup:e}),e&&(this.hidePopupFunc=e,this.addDestroyFunc(e))},e.prototype.getGui=function(){return this.tabbedLayout.getGui()},e.EVENT_TAB_SELECTED="tabSelected",e.TAB_FILTER="filterMenuTab",e.TABS_DEFAULT=[e.TAB_GENERAL="generalMenuTab",e.TAB_FILTER,e.TAB_COLUMNS="columnsMenuTab"],e.MENU_ITEM_SEPARATOR="separator",__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],e.prototype,"menuItemMapper",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$Q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$x=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},CSS_MENU="ag-menu",CSS_CONTEXT_MENU_OPEN="ag-context-menu-open",ContextMenuFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$Q(e,t),e.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},e.prototype.getMenuItems=function(t,e,n){var o=[];if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule)&&e&&o.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RangeSelectionModule)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule)&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)){var r=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),i=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule),s=this.gridOptionsWrapper.isSuppressExcelExport()||i,a=this.gridOptionsWrapper.isSuppressCsvExport()||r;!(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isIOSUserAgent()||s&&a)&&o.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var l=this.gridOptionsWrapper.getContextMenuItemsFunc();return l?l({node:t,column:e,value:n,defaultItems:o.length?o:void 0}):void 0}return o},e.prototype.onContextMenu=function(t,e,n,o,r,i){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&t&&(t.ctrlKey||t.metaKey)||(t&&this.blockMiddleClickScrollsIfNeeded(t),this.gridOptionsWrapper.isSuppressContextMenu()||this.showMenu(n,o,r,t||e.touches[0],i)&&(t||e).preventDefault())},e.prototype.blockMiddleClickScrollsIfNeeded=function(t){var e=t.which;this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===e&&t.preventDefault()},e.prototype.showMenu=function(t,e,n,o,r){var i=this,s=this.getMenuItems(t,e,n),a=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===s||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(s))return!1;var l=new ContextMenu(s);this.createBean(l);var c=l.getGui(),u={column:e,rowNode:t,type:"contextMenu",mouseEvent:o,ePopup:c,nudgeY:1},p=this.gridOptionsWrapper.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(){a.classList.remove(CSS_CONTEXT_MENU_OPEN),i.destroyBean(l)},click:o,positionCallback:function(){i.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:i.gridOptionsWrapper.isEnableRtl()?-1*(c.offsetWidth+1):1},u))},anchorToElement:r,ariaLabel:p("ariaLabelContextMenu","Context Menu")});return d&&(a.classList.add(CSS_CONTEXT_MENU_OPEN),l.afterGuiAttached({container:"contextMenu",hidePopup:d.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=l,l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,function(){i.activeMenu===l&&(i.activeMenu=null)}),d&&l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,d.hideFunc),!0},__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("contextMenuFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ContextMenu=function(t){function e(e){var n=t.call(this,'<div class="'+CSS_MENU+'" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=e,n}return __extends$Q(e,t),e.prototype.addMenuItems=function(){var t=this,e=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),n=this.menuItemMapper.mapWithStockItems(this.menuItems,null);e.addMenuItems(n),this.appendChild(e),this.menuList=e,e.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,function(e){return t.dispatchEvent(e)})},e.prototype.afterGuiAttached=function(t){t.hidePopup&&this.addDestroyFunc(t.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},e.prototype.restoreFocusedCell=function(){var t=this.focusService.getFocusedCell();if(t&&this.focusedCell&&this.cellPositionUtils.equals(t,this.focusedCell)){var e=this.focusedCell,n=e.rowIndex,o=e.rowPinned,r=e.column,i=this.gridOptionsWrapper.getDocument();i.activeElement===i.body&&this.focusService.setFocusedCell({rowIndex:n,column:r,rowPinned:o,forceBrowserFocus:!0})}},e.prototype.destroy=function(){this.restoreFocusedCell(),t.prototype.destroy.call(this)},__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],e.prototype,"menuItemMapper",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$x([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addMenuItems",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$w=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MenuItemMapper=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$P(e,t),e.prototype.mapWithStockItems=function(t,e){var n=this;if(!t)return[];var o=[];return t.forEach(function(t){var r;if(r="string"==typeof t?n.getStockMenuItem(t,e):t){var i=r.subMenu;i&&i instanceof Array&&(r.subMenu=n.mapWithStockItems(r.subMenu,e)),null!=r&&o.push(r)}}),o},e.prototype.getStockMenuItem=function(t,e){var n=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(t){case"pinSubMenu":return{name:o("pinColumn","Pin Column"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:o("pinLeft","Pin Left"),action:function(){return n.columnModel.setColumnPinned(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.PINNED_LEFT,"contextMenu")},checked:!!e&&e.isPinnedLeft()};case"pinRight":return{name:o("pinRight","Pin Right"),action:function(){return n.columnModel.setColumnPinned(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.PINNED_RIGHT,"contextMenu")},checked:!!e&&e.isPinnedRight()};case"clearPinned":return{name:o("noPin","No Pin"),action:function(){return n.columnModel.setColumnPinned(e,null,"contextMenu")},checked:!!e&&!e.isPinned()};case"valueAggSubMenu":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Aggregation from Menu")?{name:o("valueAggregation","Value Aggregation"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(e)}:null;case"autoSizeThis":return{name:o("autosizeThiscolumn","Autosize This Column"),action:function(){return n.columnModel.autoSizeColumn(e,r,"contextMenu")}};case"autoSizeAll":return{name:o("autosizeAllColumns","Autosize All Columns"),action:function(){return n.columnModel.autoSizeAllColumns(r,"contextMenu")}};case"rowGroup":return{name:o("groupBy","Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(e,"header")),action:function(){return n.columnModel.addRowGroupColumn(e,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:o("ungroupBy","Un-Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(e,"header")),action:function(){return n.columnModel.removeRowGroupColumn(e,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:o("resetColumns","Reset Columns"),action:function(){return n.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:o("expandAll","Expand All"),action:function(){return n.gridApi.expandAll()}};case"contractAll":return{name:o("collapseAll","Collapse All"),action:function(){return n.gridApi.collapseAll()}};case"copy":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy from Menu")?{name:o("copy","Copy"),shortcut:o("ctrlC","Ctrl+C"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Headers from Menu")?{name:o("copyWithHeaders","Copy with Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Group Headers from Menu")?{name:o("copyWithGroupHeaders","Copy with Group Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Paste from Clipboard")?{name:o("paste","Paste"),shortcut:o("ctrlV","Ctrl+V"),disabled:!0,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return n.clipboardService.pasteFromClipboard()}}:null;case"export":var i=[],s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&s&&i.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&a&&i.push("excelExport"),{name:o("export","Export"),subMenu:i,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:o("csvExport","CSV Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return n.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:o("excelExport","Excel Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return n.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:return this.getChartItems(t)||(console.warn("AG Grid: unknown menu item type "+t),null)}},e.prototype.getChartItems=function(t){var e=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),o=function(t,o,r){return{name:n(t,o),action:function(){return e.chartService.createPivotChart({chartType:r})}}},r=function(t,o,r){return{name:n(t,o),action:function(){return e.chartService.createChartFromCurrentRange(r)}}};switch(t){case"pivotChart":return{name:n("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:n("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:n("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return o("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return o("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return o("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:n("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return r("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return r("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return r("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:n("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return o("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return o("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return o("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:n("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return r("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return r("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return r("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:n("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return o("pie","Pie&lrm;","pie");case"pivotDoughnut":return o("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:n("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return r("pie","Pie&lrm;","pie");case"rangeDoughnut":return r("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return o("line","Line&lrm;","line");case"rangeLineChart":return r("line","Line&lrm;","line");case"pivotXYChart":return{name:n("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return o("scatter","Scatter&lrm;","scatter");case"pivotBubble":return o("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:n("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return r("scatter","Scatter&lrm;","scatter");case"rangeBubble":return r("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:n("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return o("area","Area&lrm;","area");case"pivotStackedArea":return o("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return o("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:n("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return r("area","Area&lrm;","area");case"rangeStackedArea":return r("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return r("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return r("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return r("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return r("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:n("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},e.prototype.createAggregationSubMenu=function(t){var e,n=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),r=t.isValueActive(),i=this.aggFuncService.getFuncNames(t);if(t.isPrimary())e=t;else{var s=t.getColDef().pivotValueColumn;e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)?s:void 0}var a=[];return i.forEach(function(t){a.push({name:o(t,t),action:function(){n.columnModel.setColumnAggFunc(e,t,"contextMenu"),n.columnModel.addValueColumn(e,"contextMenu")},checked:r&&e.getAggFunc()===t})}),a},__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("clipboardService")],e.prototype,"clipboardService",void 0),__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("chartService")],e.prototype,"chartService",void 0),__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuItemMapper")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),MenuModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MenuModule,beans:[EnterpriseMenuFactory,ContextMenuFactory,MenuItemMapper],dependantModules:[EnterpriseCoreModule]},__extends$O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$3=function(){return(__assign$3=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$v=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MultiFilter=function(t){function e(){var e=t.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return __extends$O(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onFocusIn:function(e){return t.onFocusIn(e)}})},e.getFilterDefs=function(t){var e=t.filters;return e&&e.length>0?e:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},e.prototype.init=function(t){var n=this;this.params=t,this.filterDefs=e.getFilterDefs(t);var o=t.filterChangedCallback;this.column=t.column,this.filterChangedCallback=o;var r=[];return this.filterDefs.forEach(function(t,e){var o=n.createFilter(t,e);null!=o&&r.push(o)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(r).then(function(t){n.filters=t,n.refreshGui("columnMenu"),n.afterFiltersReadyFuncs.forEach(function(t){return t()}),n.afterFiltersReadyFuncs.length=0})},e.prototype.refreshGui=function(t){var e=this;t!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach(function(n,o){o>0&&e.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>'));var r,i=e.filterDefs[o],s=e.getFilterTitle(n,i);r="subMenu"===i.display&&"toolPanel"!==t?e.insertFilterMenu(n,s).getGui():"subMenu"===i.display||"accordion"===i.display?e.insertFilterGroup(n,s).getGui():n.getGui(),e.appendChild(r)}),this.lastOpenedInContainer=t)},e.prototype.getFilterTitle=function(t,e){return null!=e.title?e.title:"function"==typeof t.getFilterTitle?t.getFilterTitle():"Filter"},e.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(t){return t()}),this.guiDestroyFuncs.length=0},e.prototype.insertFilterMenu=function(t,e){var n=this,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC({name:e,subMenu:t,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return o.setParentComponent(this),this.guiDestroyFuncs.push(function(){return n.destroyBean(o)}),this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_ACTIVATED,function(t){n.lastActivatedMenuItem&&n.lastActivatedMenuItem!==t.menuItem&&n.lastActivatedMenuItem.deactivate(),n.lastActivatedMenuItem=t.menuItem}),o.addGuiEventListener("focusin",function(){return o.activate()}),o.addGuiEventListener("focusout",function(){o.isSubMenuOpen()||o.deactivate()}),o},e.prototype.insertFilterGroup=function(t,e){var n=this,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:e,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return n.destroyBean(o)}),o.addItem(t.getGui()),o.toggleGroupExpand(!1),t.afterGuiAttached){var r={container:this.lastOpenedInContainer,suppressFocus:!0};o.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,function(){return t.afterGuiAttached(r)})}return o},e.prototype.isFilterActive=function(){return this.filters.some(function(t){return t.isFilterActive()})},e.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},e.prototype.doesFilterPass=function(t,e){var n=!0;return this.filters.forEach(function(o){n&&o!==e&&o.isFilterActive()&&(n=o.doesFilterPass(t))}),n},e.prototype.getFilterType=function(){return"multi"},e.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(t){return"function"==typeof t.getModelFromUi?t.getModelFromUi():null})}},e.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(t){return t.isFilterActive()?t.getModel():null})}:null},e.prototype.setModel=function(t){var e=this,n=function(t,e){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(n){var o=t.setModel(e);o?o.then(function(){return n()}):n()})},o=[];return null==t?o=this.filters.map(function(t,o){var r=n(t,null);return e.updateActiveList(o),r}):this.filters.forEach(function(r,i){var s=n(r,t.filterModels.length>i?t.filterModels[i]:null);o.push(s),e.updateActiveList(i)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(o).then(function(){})},e.prototype.applyModel=function(){var t=!1;return this.filters.forEach(function(e){e instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU&&(t=e.applyModel()||t)}),t},e.prototype.getChildFilterInstance=function(t){return this.filters[t]},e.prototype.afterGuiAttached=function(t){t&&this.refreshGui(t.container);var e=this.params.filters,n=e&&e.some(function(t){return t.display&&"inline"!==t.display});this.executeFunctionIfExists("afterGuiAttached",__assign$3(__assign$3({},t||{}),{suppressFocus:n}));var o=this.gridOptionsWrapper.getDocument(),r=o.activeElement;n&&(r===o.body||this.getGui().contains(r))&&this.forceFocusOutOfContainer(!0)},e.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},e.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},e.prototype.destroy=function(){var e=this;this.filters.forEach(function(t){t.setModel(null),e.destroyBean(t)}),this.filters.length=0,this.destroyChildren(),t.prototype.destroy.call(this)},e.prototype.executeFunctionIfExists=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.forEachReverse(this.filters,function(n){var o=n[t];"function"==typeof o&&o.apply(n,e)})},e.prototype.createFilter=function(t,e){var n,o=this,r=this.params,i=r.filterModifiedCallback,s=r.doesRowPassOtherFilter,a=__assign$3(__assign$3({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:i,filterChangedCallback:function(t){o.executeWhenAllFiltersReady(function(){return o.filterChanged(e,t)})},doesRowPassOtherFilter:function(t){return s(t)&&o.doesFilterPass({node:t,data:t.data},n)}}),l=this.userComponentFactory.getFilterDetails(t,a,"agTextColumnFilter");if(!l)return null;var c=l.newAgStackInstance();return c&&c.then(function(t){return n=t}),c},e.prototype.executeWhenAllFiltersReady=function(t){this.filters&&this.filters.length>0?t():this.afterFiltersReadyFuncs.push(t)},e.prototype.updateActiveList=function(t){var e=this.filters[t];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(this.activeFilterIndices,t),e.isFilterActive()&&this.activeFilterIndices.push(t)},e.prototype.filterChanged=function(t,e){this.updateActiveList(t),this.filterChangedCallback(e);var n=this.filters[t];this.filters.forEach(function(t){t!==n&&"function"==typeof t.onAnyFilterChanged&&t.onAnyFilterChanged()})},e.prototype.onFocusIn=function(t){return null==this.lastActivatedMenuItem||this.lastActivatedMenuItem.getGui().contains(t.target)||(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$v([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$2=function(){return(__assign$2=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$u=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},MultiFloatingFilterComp=function(t){function e(){var e=t.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return __extends$N(e,t),e.prototype.init=function(t){var e=this;this.params=t;var n=[];return MultiFilter.getFilterDefs(t.filterParams).forEach(function(o,r){var i=__assign$2(__assign$2({},t),{parentFilterInstance:function(t){e.parentMultiFilterInstance(function(e){var n=e.getChildFilterInstance(r);null!=n&&t(n)})}}),s=e.createFloatingFilter(o,i);null!=s&&n.push(s)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(n).then(function(t){t.forEach(function(t,n){e.floatingFilters.push(t);var o=t.getGui();e.appendChild(o),n>0&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(o,!1)})})},e.prototype.onParentModelChanged=function(t,e){var n=this;e&&e.afterFloatingFilter||this.parentMultiFilterInstance(function(o){if(null==t)n.floatingFilters.forEach(function(t,n){t.onParentModelChanged(null,e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(t.getGui(),0===n)});else{var r=o.getLastActiveFilterIndex();n.floatingFilters.forEach(function(n,o){n.onParentModelChanged(t.filterModels.length>o?t.filterModels[o]:null,e);var i=null==r?0===o:o===r;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(n.getGui(),i)})}})},e.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,t.prototype.destroy.call(this)},e.prototype.createFloatingFilter=function(t,e){var n=this.userComponentFactory.getDefaultFloatingFilterType(t)||"agTextColumnFloatingFilter",o=this.userComponentFactory.getFloatingFilterCompDetails(t,e,n);return o?o.newAgStackInstance():null},e.prototype.parentMultiFilterInstance=function(t){this.params.parentFilterInstance(function(e){if(!(e instanceof MultiFilter))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as it's parent");t(e)})},__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),MultiFilterModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:MultiFilter},{componentName:"agMultiColumnFloatingFilter",componentClass:MultiFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$t=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},RichSelectRow=function(t){function e(e){var n=t.call(this,'<div class="ag-rich-select-row"></div>')||this;return n.params=e,n}return __extends$M(e,t),e.prototype.setState=function(t,e,n){this.populateWithRenderer(t,e)||this.populateWithoutRenderer(t,e),this.updateSelected(n)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,e){var n=null!=e?e:t;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n)&&""!==n?this.getGui().textContent=n.toString():this.getGui().innerHTML="&nbsp;"},e.prototype.populateWithRenderer=function(t,e){var n=this,o={value:t,valueFormatted:e,api:this.gridOptionsWrapper.getApi()},r=this.userComponentFactory.getCellRendererDetails(this.params,o),i=r?r.newAgStackInstance():void 0;return null!=i?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.bindCellRendererToHtmlElement(i,this.getGui()):this.getGui().innerText=null!=o.valueFormatted?o.valueFormatted:o.value,!!i&&(i.then(function(t){n.addDestroyFunc(function(){n.getContext().destroyBean(t)})}),!0)},__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$s=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},RichSelectCellEditor=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.selectionConfirmed=!1,n.searchString="",n}return __extends$L(e,t),e.prototype.init=function(t){this.params=t,this.selectedValue=t.value,this.originalSelectedValue=t.value,this.focusAfterAttached=t.cellStartedEdit;var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(e.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(e),this.virtualList=this.getContext().createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var n=t.values;this.virtualList.setModel({getRowCount:function(){return n.length},getRow:function(t){return n[t]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var o=this.virtualList.getGui();this.addManagedListener(o,"click",this.onClick.bind(this)),this.addManagedListener(o,"mousemove",this.onMouseMove.bind(this));var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.searchDebounceDelay)?t.searchDebounceDelay:300;this.clearSearchString=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(this.clearSearchString,r),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.charPress)&&this.searchText(t.charPress)}},e.prototype.onKeyDown=function(t){var e=t.key;switch(t.preventDefault(),e){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.onEnterKeyDown();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB:this.confirmSelection();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:this.onNavigationKeyPressed(t,e);break;default:this.searchText(t)}},e.prototype.confirmSelection=function(){this.selectionConfirmed=!0},e.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},e.prototype.onNavigationKeyPressed=function(t,e){t.preventDefault();var n=this.params.values.indexOf(this.selectedValue),o=e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP?n-1:n+1;o>=0&&o<this.params.values.length&&this.setSelectedValue(this.params.values[o])},e.prototype.searchText=function(t){if("string"==typeof t)this.searchString+=t,this.runSearch(),this.clearSearchString();else{var e=t.key;if(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.BACKSPACE)this.searchString=this.searchString.slice(0,-1),e="";else if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isEventFromPrintableCharacter(t))return;this.searchText(e)}},e.prototype.runSearch=function(){var t,e=this,n=this.params.values;if("number"!=typeof n[0]&&"string"!=typeof n[0]||(t=n.map(String)),"object"==typeof n[0]&&this.params.colDef.keyCreator&&(t=n.map(function(t){var n={value:t,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsWrapper.getApi(),columnApi:e.gridOptionsWrapper.getColumnApi(),context:e.gridOptionsWrapper.getContext()};return e.params.colDef.keyCreator(n)})),t){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.fuzzySuggestions(this.searchString,t,!0,!0)[0];if(o){var r=t.indexOf(o);this.setSelectedValue(n[r])}}},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.renderSelectedValue=function(){var t=this,e=this.params.formatValue(this.selectedValue),n=this.eValue,o={value:this.selectedValue,valueFormatted:e,api:this.gridOptionsWrapper.getApi()},r=this.userComponentFactory.getCellRendererDetails(this.params,o),i=r?r.newAgStackInstance():void 0;i?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.bindCellRendererToHtmlElement(i,n),i.then(function(e){t.addDestroyFunc(function(){return t.getContext().destroyBean(e)})})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.selectedValue)?n.innerHTML=e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(n)},e.prototype.setSelectedValue=function(t){if(this.selectedValue!==t){var e=this.params.values.indexOf(t);-1!==e&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(t,n){t.updateSelected(e===n)}))}},e.prototype.createRowComponent=function(t){var e=this.params.formatValue(t),n=new RichSelectRow(this.params);return this.getContext().createBean(n),n.setState(t,e,t===this.selectedValue),n},e.prototype.onMouseMove=function(t){var e=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),o=Math.floor((t.clientY-e.top+n)/this.virtualList.getRowHeight()),r=this.params.values[o];void 0!==r&&this.setSelectedValue(r)},e.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},e.prototype.afterGuiAttached=function(){var t=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),t>=0&&this.virtualList.ensureIndexVisible(t),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},e.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},e.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],e.prototype,"eValue",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eList")],e.prototype,"eList",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RXH),RichSelectModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:RichSelectCellEditor},{componentName:"agRichSelectCellEditor",componentClass:RichSelectCellEditor}],dependantModules:[EnterpriseCoreModule]},__extends$K=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$r=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ServerSideRowModel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pauseStoreUpdateListening=!1,e.started=!1,e}return __extends$K(e,t),e.prototype.ensureRowHeightsValid=function(){return!1},e.prototype.start=function(){this.started=!0;var t=this.gridOptionsWrapper.getServerSideDatasource();t&&this.setDatasource(t)},e.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var t=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.verifyProps()},e.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Infinite Scroll, then sorting is done on the server side, nothing to do with the client.")},"SSRM.InitialGroupOrderComparator"),this.gridOptionsWrapper.isRowSelection()&&null==this.gridOptionsWrapper.getRowIdFunc()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")},"SSRM.SelectionNeedsRowNodeIdFunc")},e.prototype.setDatasource=function(t){this.started&&(this.destroyDatasource(),this.datasource=t,this.resetRootStore())},e.prototype.isLastRowIndexKnown=function(){var t=this.getRootStore();return!!t&&t.isLastRowIndexKnown()},e.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns())if(this.storeParams){var t=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),e=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),r=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.rowGroupCols,t),i=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.pivotCols,n),s=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.valueCols,e);(o||r||i||s)&&this.resetRootStore()}else this.resetRootStore()},e.prototype.destroyRootStore=function(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},e.prototype.refreshAfterSort=function(t,e){this.storeParams&&(this.storeParams.sortModel=t);var n=this.getRootStore();n&&(n.refreshAfterSort(e),this.onStoreUpdated())},e.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi}),this.dispatchModelUpdated(!0)},e.prototype.columnsToValueObjects=function(t){var e=this;return t.map(function(t){return{id:t.getId(),aggFunc:t.getAggFunc(),displayName:e.columnModel.getDisplayNameForColumn(t,"model"),field:t.getColDef().field}})},e.prototype.createStoreParams=function(){var t=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),e=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:e,rowGroupCols:t,pivotCols:n,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,dynamicRowHeight:o}},e.prototype.getParams=function(){return this.storeParams},e.prototype.dispatchModelUpdated=function(t){void 0===t&&(t=!1),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!t,keepRenderedRows:!t,newPage:!1,newData:!1})},e.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},e.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},e.prototype.updateRowIndexesAndBounds=function(){var t=this.getRootStore();t&&t.setDisplayIndexes(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,{value:0})},e.prototype.retryLoads=function(){var t=this.getRootStore();t&&(t.retryLoads(),this.onStoreUpdated())},e.prototype.getRow=function(t){var e=this.getRootStore();if(e)return e.getRowUsingDisplayIndex(t)},e.prototype.expandAll=function(t){this.pauseStoreUpdateListening=!0,this.forEachNode(function(e){e.group&&e.setExpanded(t)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},e.prototype.refreshAfterFilter=function(t,e){this.storeParams&&(this.storeParams.filterModel=t);var n=this.getRootStore();n&&(n.refreshAfterFilter(e),this.onStoreUpdated())},e.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},e.prototype.getRowCount=function(){var t=this.getRootStore();return t?t.getDisplayIndexEnd():0},e.prototype.getTopLevelRowCount=function(){var t=this.getRootStore();return t?t.getRowCount():1},e.prototype.getTopLevelRowDisplayedIndex=function(t){var e=this.getRootStore();return e?e.getTopLevelRowDisplayedIndex(t):t},e.prototype.getRowBounds=function(t){var e=this.getRootStore();return e?e.getRowBounds(t):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},e.prototype.getRowIndexAtPixel=function(t){var e=this.getRootStore();return t<=0||!e?0:e.getRowIndexAtPixel(t)},e.prototype.isEmpty=function(){return!1},e.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},e.prototype.getType=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ROW_MODEL_TYPE_SERVER_SIDE},e.prototype.forEachNode=function(t){var e=this.getRootStore();e&&e.forEachNodeDeep(t)},e.prototype.forEachNodeAfterFilterAndSort=function(t){var e=this.getRootStore();e&&e.forEachNodeDeepAfterFilterAndSort(t)},e.prototype.executeOnStore=function(t,e){var n=this.getRootStore();if(n){var o=n.getChildStore(t);o&&e(o)}},e.prototype.refreshStore=function(t){void 0===t&&(t={}),this.executeOnStore(t.route?t.route:[],function(e){return e.refreshStore(1==t.purge)})},e.prototype.getStoreState=function(){var t=[],e=this.getRootStore();return e&&e.addStoreStates(t),t},e.prototype.getNodesInRangeForSelection=function(t,e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&t.parent!==e.parent?[]:t.parent.childStore.getRowNodesInRange(e,t)},e.prototype.getRowNode=function(t){var e;return this.forEachNode(function(n){n.id===t&&(e=n),n.detailNode&&n.detailNode.id===t&&(e=n.detailNode)}),e},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmSortService")],e.prototype,"sortListener",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],e.prototype,"storeFactory",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyDatasource",null),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addEventListeners",null),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRootStore",null),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},StoreUtils=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$J(e,t),e.prototype.loadFromDatasource=function(t){var e=t.storeParams,n=t.parentBlock,o=t.parentNode.getGroupKeys();if(e.datasource){var r={successCallback:t.successCallback,success:t.success,failCallback:t.failCallback,fail:t.fail,request:{startRow:t.startRow,endRow:t.endRow,rowGroupCols:e.rowGroupCols,valueCols:e.valueCols,pivotCols:e.pivotCols,pivotMode:e.pivotMode,groupKeys:o,filterModel:e.filterModel,sortModel:e.sortModel},parentNode:t.parentNode,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};window.setTimeout(function(){e.datasource&&n.isAlive()?e.datasource.getRows(r):t.failCallback()},0)}},e.prototype.getChildStore=function(t,e,n){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(t))return e;var o=n(t[0]);if(o){var r=t.slice(1,t.length),i=o.childStore;return i?i.getChildStore(r):null}return null},e.prototype.isServerRefreshNeeded=function(t,e,n){if(n.valueColChanged||n.secondaryColChanged)return!0;var o=t.level+1;return!(o<e.length&&!(n.changedColumns.indexOf(e[o].id)>-1))},__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreUtils")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$p=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},BlockUtils=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$I(e,t),e.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},e.prototype.createRowNode=function(t){var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return e.setRowHeight(null!=t.rowHeight?t.rowHeight:this.rowHeight),e.group=t.group,e.leafGroup=t.leafGroup,e.level=t.level,e.uiLevel=t.level,e.parent=t.parent,e.stub=!0,e.group&&(e.expanded=!1,e.field=t.field,e.rowGroupColumn=t.rowGroupColumn),e},e.prototype.destroyRowNodes=function(t){var e=this;t&&t.forEach(function(t){return e.destroyRowNode(t)})},e.prototype.destroyRowNode=function(t,e){void 0===e&&(e=!1),t.childStore&&!e&&(this.destroyBean(t.childStore),t.childStore=null),t.clearRowTopAndRowIndex(),null!=t.id&&this.nodeManager.removeNode(t)},e.prototype.setTreeGroupInfo=function(t){var e=this.gridOptionsWrapper.getIsServerSideGroupFunc(),n=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=e&&(t.setGroup(e(t.data)),t.group&&null!=n&&(t.key=n(t.data))),t.group||null==t.childStore||(this.destroyBean(t.childStore),t.childStore=null)},e.prototype.setRowGroupInfo=function(t){t.key=this.valueService.getValue(t.rowGroupColumn,t),null==t.key&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),t.rowGroupColumn&&console.warn("column = "+t.rowGroupColumn.getId()),console.warn("data is ",t.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},e.prototype.setMasterDetailInfo=function(t){var e=this.gridOptionsWrapper.getIsRowMasterFunc();t.master=null==e||e(t.data)},e.prototype.updateDataIntoRowNode=function(t,e){t.updateData(e),this.usingTreeData&&this.setTreeGroupInfo(t)},e.prototype.setDataIntoRowNode=function(t,e,n,o){t.stub=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)?(t.setDataAndId(e,n),this.usingTreeData?this.setTreeGroupInfo(t):t.group?this.setRowGroupInfo(t):this.usingMasterDetail&&this.setMasterDetailInfo(t)):(t.setDataAndId(void 0,void 0),t.key=null),(this.usingTreeData||t.group)&&(this.setGroupDataIntoRowNode(t),this.setChildCountIntoRowNode(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&t.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(t,!1,o).height)},e.prototype.setChildCountIntoRowNode=function(t){var e=this.gridOptionsWrapper.getChildCountFunc();e&&(t.allChildrenCount=e(t.data))},e.prototype.setGroupDataIntoRowNode=function(t){var e=this,n=this.columnModel.getGroupDisplayColumns(),o=this.gridOptionsWrapper.isTreeData();n.forEach(function(n){if(null==t.groupData&&(t.groupData={}),o)t.groupData[n.getColId()]=t.key;else if(n.isRowGroupDisplayed(t.rowGroupColumn.getId())){var r=e.valueService.getValue(t.rowGroupColumn,t);t.groupData[n.getColId()]=r}})},e.prototype.clearDisplayIndex=function(t){t.clearRowTopAndRowIndex(),t.group&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)&&t.childStore.clearDisplayIndexes(),t.master&&t.detailNode&&t.detailNode.clearRowTopAndRowIndex()},e.prototype.setDisplayIndex=function(t,e,n){if(t.setRowIndex(e.next()),t.setRowTop(n.value),n.value+=t.rowHeight,t.master&&(t.expanded&&t.detailNode?(t.detailNode.setRowIndex(e.next()),t.detailNode.setRowTop(n.value),n.value+=t.detailNode.rowHeight):t.detailNode&&t.detailNode.clearRowTopAndRowIndex()),t.group&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var o=t.childStore;t.expanded?o.setDisplayIndexes(e,n):o.clearDisplayIndexes()}},e.prototype.binarySearchForDisplayIndex=function(t,e){var n=0,o=e.length-1;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(o)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(n))console.warn("AG Grid: error: topPointer = "+o+", bottomPointer = "+n);else for(;;){var r=Math.floor((n+o)/2),i=e[r];if(i.rowIndex===t)return i;var s=i.detailNode;if(i.master&&i.expanded&&s&&s.rowIndex===t)return i.detailNode;var a=i.childStore;if(i.expanded&&a&&a.isDisplayIndexInStore(t))return a.getRowUsingDisplayIndex(t);if(i.rowIndex<t)n=r+1;else{if(!(i.rowIndex>t))return void console.warn("AG Grid: error: unable to locate rowIndex = "+t+" in cache");o=r-1}}},e.prototype.extractRowBounds=function(t,e){var n=function(t){return{rowHeight:t.rowHeight,rowTop:t.rowTop}};if(t.rowIndex===e)return n(t);if(t.group&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var o=t.childStore;if(o.isDisplayIndexInStore(e))return o.getRowBounds(e)}else if(t.master&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.detailNode)&&t.detailNode.rowIndex===e)return n(t.detailNode)},e.prototype.getIndexAtPixel=function(t,e){if(t.isPixelInRange(e))return t.rowIndex;var n=t.detailNode;if(t.master&&t.expanded&&n&&n.isPixelInRange(e))return t.detailNode.rowIndex;if(t.group&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var o=t.childStore;if(o.isPixelInRange(e))return o.getRowIndexAtPixel(e)}return null},e.prototype.createNodeIdPrefix=function(t){for(var e=[],n=t;n&&n.level>=0;)e.push(n.key),n=n.parent;if(e.length>0)return e.reverse().join("-")},e.prototype.checkOpenByDefault=function(t){if(t.isExpandable()){var e=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();e&&e({data:t.data,rowNode:t})&&window.setTimeout(function(){return t.setExpanded(!0)},0)}},__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$p([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmBlockUtils")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$o=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},NodeManager=function(){function t(){this.rowNodes={}}return t.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id "+t.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},t.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},t.prototype.clear=function(){this.rowNodes={}},__decorate$o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"clear",null),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmNodeManager")],t)}(),__extends$H=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$n=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TransactionManager=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asyncTransactions=[],e}return __extends$H(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},e.prototype.applyTransactionAsync=function(t,e){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:t,callback:e})},e.prototype.scheduleExecuteAsync=function(){var t=this,e=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){t.executeAsyncTransactions()},e)},e.prototype.executeAsyncTransactions=function(){var t=this;if(this.asyncTransactions){var e=[],n=[],o=[],r=!1;if(this.asyncTransactions.forEach(function(i){var s;t.serverSideRowModel.executeOnStore(i.transaction.route,function(t){s=t.applyTransaction(i.transaction)}),null==s&&(s={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}),n.push(s),s.status==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading?o.push(i):(i.callback&&e.push(function(){return i.callback(s)}),s.status===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied&&(r=!0))}),e.length>0&&window.setTimeout(function(){e.forEach(function(t){return t()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=o,r&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})),n.length>0){var i={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(i)}}},e.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},e.prototype.applyTransaction=function(t){var e;return this.serverSideRowModel.executeOnStore(t.route,function(n){e=n.applyTransaction(t)}),e?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED}),e):{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}},__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueCache")],e.prototype,"valueCache",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmTransactionManager")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$m=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ExpandListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$G(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},e.prototype.onRowGroupOpened=function(t){var e=t.node;if(e.expanded){if(e.master)this.createDetailNode(e);else if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e.childStore)){var n=this.serverSideRowModel.getParams();e.childStore=this.createBean(this.storeFactory.createStore(n,e))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)&&(e.childStore=this.destroyBean(e.childStore));this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},e.prototype.createDetailNode=function(t){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.detailNode))return t.detailNode;var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);e.detail=!0,e.selectable=!1,e.parent=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1;var n=this.gridOptionsWrapper.getRowHeightForNode(e).height;return e.rowHeight=n||200,t.detailNode=e,e},__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],e.prototype,"storeFactory",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$m([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmExpandListener")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$l=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SortListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$F(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},e.prototype.extractSortModel=function(){var t=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(t),this.removeMultiColumnPrefixOnColumnIds(t)),t},e.prototype.removeMultiColumnPrefixOnColumnIds=function(t){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.GROUP_AUTO_COLUMN_ID+"-",n=0;n<t.length;++n)t[n].colId.indexOf(e)>-1&&(t[n].colId=t[n].colId.substr(e.length))},e.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(t){var e=t.find(function(t){return t.colId==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.GROUP_AUTO_COLUMN_ID});if(e){var n=t.indexOf(e);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t,e);var o=this.columnModel.getRowGroupColumns().filter(function(e){return 0==t.filter(function(t){return t.colId===e.getColId()}).length}).map(function(t){return{colId:t.getId(),sort:e.sort}});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(t,o,n)}},e.prototype.onSortChanged=function(){var t=this.serverSideRowModel.getParams();if(t){var e=this.extractSortModel(),n=this.findChangedColumnsInSort(e,t.sortModel),o=this.listenerUtils.isSortingWithValueColumn(n),r=this.listenerUtils.isSortingWithSecondaryColumn(n);this.serverSideRowModel.refreshAfterSort(e,{valueColChanged:o,secondaryColChanged:r,changedColumns:n})}},e.prototype.findChangedColumnsInSort=function(t,e){var n=[];return[t,e].forEach(function(t){if(t){var e=t.map(function(t){return t.colId});n=n.concat(e)}}),n.filter(function(n){var o=e.find(function(t){return t.colId===n}),r=t.find(function(t){return t.colId===n});return function(t,e){return(t?t.sort:null)!==(e?e.sort:null)}(o,r)||function(n,o){return(n?e.indexOf(n):-1)!==(o?t.indexOf(o):-1)}(o,r)})},__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],e.prototype,"listenerUtils",void 0),__decorate$l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmSortService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$k=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FilterListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$E(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},e.prototype.onFilterChanged=function(){var t=this.serverSideRowModel.getParams();if(t){var e=this.filterManager.getFilterModel(),n=this.findChangedColumns(e,t?t.filterModel:{}),o=this.listenerUtils.isSortingWithValueColumn(n),r=this.listenerUtils.isSortingWithSecondaryColumn(n);this.serverSideRowModel.refreshAfterFilter(e,{valueColChanged:o,secondaryColChanged:r,changedColumns:n})}},e.prototype.findChangedColumns=function(t,e){var n={};Object.keys(t).forEach(function(t){return n[t]=!0}),Object.keys(e).forEach(function(t){return n[t]=!0});var o=[];return Object.keys(n).forEach(function(n){JSON.stringify(t[n])!=JSON.stringify(e[n])&&o.push(n)}),o},__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],e.prototype,"listenerUtils",void 0),__decorate$k([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmFilterListener")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$j=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__param$1=function(t,e){return function(n,o){e(n,o,t)}},__values$1=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},InfiniteStoreBlock=function(t){function e(e,n,o,r,i){var s=t.call(this,e)||this;return s.ssrmParams=o,s.storeParams=r,s.parentRowNode=n,s.startRow=e*r.cacheBlockSize,s.parentStore=i,s.level=n.level+1,s.groupLevel=o.rowGroupCols?s.level<o.rowGroupCols.length:void 0,s.leafGroup=!!o.rowGroupCols&&s.level===o.rowGroupCols.length-1,s}return __extends$D(e,t),e.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},e.prototype.isDisplayIndexInBlock=function(t){return t>=this.displayIndexStart&&t<this.displayIndexEnd},e.prototype.isBlockBefore=function(t){return t>=this.displayIndexEnd},e.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.getBlockHeightPx=function(){return this.blockHeightPx},e.prototype.getBlockTopPx=function(){return this.blockTopPx},e.prototype.isGroupLevel=function(){return this.groupLevel},e.prototype.getGroupField=function(){return this.groupField},e.prototype.prefixId=function(t){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+t:t.toString()},e.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},e.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter(function(t){return t.expanded}).length>0},e.prototype.forEachNode=function(t,e,n,o){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.rowNodes.forEach(function(r){if(t(r,e.next()),n&&r.childStore){var i=r.childStore;o?i.forEachNodeDeepAfterFilterAndSort(t,e):i.forEachNodeDeep(t,e)}})},e.prototype.forEachNodeDeep=function(t,e){this.forEachNode(t,e,!0,!1)},e.prototype.forEachNodeAfterFilterAndSort=function(t,e){this.forEachNode(t,e,!0,!0)},e.prototype.forEachNodeShallow=function(t,e){this.forEachNode(t,e,!1,!1)},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRowUsingLocalIndex=function(t){return this.rowNodes[t-this.startRow]},e.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},e.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},e.prototype.retryLoads=function(){this.getState()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(t){t.childStore&&t.childStore.retryLoads()})},e.prototype.processServerResult=function(t){this.parentStore.onBlockLoaded(this,t)},e.prototype.setData=function(t,e){var n=this;void 0===t&&(t=[]),void 0===e&&(e=!1),this.destroyRowNodes();for(var o=this.parentStore.getRowCount(),r=this.getId()*this.storeParams.cacheBlockSize,i=Math.min(r+this.storeParams.cacheBlockSize,o)-r,s=this.columnModel.getAllDisplayedAutoHeightCols().length>0?this.parentStore.getCachedBlockHeight(this.getId()):void 0,a=s?Math.round(s/i):void 0,l=function(o){var r=o<t.length,i=function(i){var s=null!=i?i:n.blockUtils.createRowNode({field:n.groupField,group:n.groupLevel,leafGroup:n.leafGroup,level:n.level,parent:n.parentRowNode,rowGroupColumn:n.rowGroupColumn,rowHeight:a});if(r){var l=t[o];if(i)n.blockUtils.updateDataIntoRowNode(s,l);else{var c=n.prefixId(n.startRow+o);n.blockUtils.setDataIntoRowNode(s,l,c,a),n.blockUtils.checkOpenByDefault(s)}n.parentStore.removeDuplicateNode(s.id),n.nodeManager.addRowNode(s),n.allNodesMap[s.id]=s}return e&&(s.failedLoad=!0),s},s=c.gridOptionsWrapper.getRowIdFunc(),l=void 0;if(s&&r){var u=t[o],p=c.parentRowNode.getGroupKeys(),d=s({data:u,level:c.level,parentKeys:p.length>0?p:void 0});l=i(c.parentStore.retrieveNodeFromCache(d))}l||(l=i()),c.rowNodes.push(l)},c=this,u=0;u<i;u++)l(u)},e.prototype.removeDuplicateNode=function(t){if(this.getState()!=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADED){var e=this.allNodesMap[t];if(e){this.blockUtils.destroyRowNode(e);var n=this.rowNodes.indexOf(e),o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[n]=o}}},e.prototype.refresh=function(){this.getState()!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},e.prototype.destroyRowNodes=function(){var t,e=this;null===(t=this.rowNodes)||void 0===t||t.forEach(function(t){var n=e.parentStore.isNodeCached(t.id);e.blockUtils.destroyRowNode(t,n)}),this.rowNodes=[],this.allNodesMap={}},e.prototype.setBeans=function(t){this.logger=t.create("ServerSideBlock")},e.prototype.getRowUsingDisplayIndex=function(t){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(t,this.rowNodes)},e.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},e.prototype.isPixelInRange=function(t){return t>=this.blockTopPx&&t<this.blockTopPx+this.blockHeightPx},e.prototype.getRowBounds=function(t){var e,n,o;this.touchLastAccessed();try{for(var r=__values$1(this.rowNodes),i=r.next();!i.done&&null==(o=this.blockUtils.extractRowBounds(i.value,t));i=r.next());}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return o},e.prototype.getRowIndexAtPixel=function(t){var e,n;this.touchLastAccessed();var o=null;try{for(var r=__values$1(this.rowNodes),i=r.next();!i.done&&null==(o=this.blockUtils.getIndexAtPixel(i.value,t));i=r.next());}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return o},e.prototype.clearDisplayIndexes=function(){var t=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(e){return t.blockUtils.clearDisplayIndex(e)})},e.prototype.setDisplayIndexes=function(t,e){var n=this;this.displayIndexStart=t.peek(),this.blockTopPx=e.value,this.rowNodes.forEach(function(o){return n.blockUtils.setDisplayIndex(o,t,e)}),this.displayIndexEnd=t.peek(),this.blockHeightPx=e.value-this.blockTopPx},__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],e.prototype,"storeUtils",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$j([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$j([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),__decorate$j([__param$1(0,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.qaB)("loggerFactory"))],e.prototype,"setBeans",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK),__extends$C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$i=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},__param=function(t,e){return function(n,o){e(n,o,t)}},FindResult=(()=>(function(t){t[t.FOUND=0]="FOUND",t[t.CONTINUE_FIND=1]="CONTINUE_FIND",t[t.BREAK_FIND=2]="BREAK_FIND"}(FindResult||(FindResult={})),FindResult))(),InfiniteStore=function(t){function e(n,o,r){var i=t.call(this)||this;return i.blocks={},i.blockHeights={},i.lastRowIndexKnown=!1,i.displayIndexStart=0,i.displayIndexEnd=0,i.cacheTopPixel=0,i.info={},i.refreshedNodeCache={},i.ssrmParams=n,i.storeParams=o,i.parentRowNode=r,i.rowCount=e.INITIAL_ROW_COUNT,i}return __extends$C(e,t),e.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(e){return t.destroyBlock(e)}),this.blockUtils.destroyRowNodes(Object.values(this.refreshedNodeCache))},e.prototype.setBeans=function(t){this.logger=t.create("ServerSideCache")},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(t){return t.retryLoads()})},e.prototype.onBlockLoadFailed=function(t){t.setData([],!0),this.fireCacheUpdatedEvent()},e.prototype.onBlockLoaded=function(t,e){this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+e.rowCount);var n=e.storeInfo||e.groupLevelInfo;n&&Object.assign(this.info,n),e.rowData||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',e)},"InfiniteStore.noData");var o=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.isAlive()&&(this.checkRowCount(t,o),t.setData(e.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,o=this.getBlocksInOrder().filter(function(e){return e!=t});o.sort(function(t,e){return e.getLastAccessed()-t.getLastAccessed()});var r=this.storeParams.maxBlocksInCache>0,i=r?this.storeParams.maxBlocksInCache-1:null,s=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(t,e){if(t.getState()===InfiniteStoreBlock.STATE_WAITING_TO_LOAD&&e>=s||r&&e>=i){if(t.isAnyNodeOpen())return;if(n.isBlockCurrentlyDisplayed(t))return;if(n.isBlockFocused(t))return;n.destroyBlock(t)}})},e.prototype.isBlockFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();if(!e)return!1;if(null!=e.rowPinned)return!1;var n=t.getDisplayIndexStart(),o=t.getDisplayIndexEnd();return null!=o&&null!=n&&e.rowIndex>=n&&e.rowIndex<o},e.prototype.isBlockCurrentlyDisplayed=function(t){var e=t.getDisplayIndexStart(),n=t.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(e,n)},e.prototype.removeDuplicateNode=function(t){this.getBlocksInOrder().forEach(function(e){return e.removeDuplicateNode(t)})},e.prototype.checkRowCount=function(t,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var o=(t.getId()+1)*this.storeParams.cacheBlockSize+e.OVERFLOW_SIZE;this.rowCount<o&&(this.rowCount=o)}},e.prototype.forEachNodeDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.getBlocksInOrder().forEach(function(n){return n.forEachNodeDeep(t,e)})},e.prototype.forEachNodeDeepAfterFilterAndSort=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.getBlocksInOrder().forEach(function(n){return n.forEachNodeAfterFilterAndSort(t,e)})},e.prototype.getBlocksInOrder=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllValuesInObject(this.blocks).sort(function(t,e){return t.getId()-e.getId()})},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.rowNodeBlockLoader.removeBlock(t)},e.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,e=[];this.getBlocksInOrder().forEach(function(n){n.getId()*t.storeParams.cacheBlockSize>=t.rowCount&&e.push(n)}),e.length>0&&e.forEach(function(e){return t.destroyBlock(e)})},e.prototype.refreshStore=function(t){0==this.getRowCount()||t?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},e.prototype.isNodeCached=function(t){return!!this.refreshedNodeCache[t]},e.prototype.retrieveNodeFromCache=function(t){var e=this.refreshedNodeCache[t];return e&&delete this.refreshedNodeCache[t],e},e.prototype.buildRowNodeCache=function(){var t={};this.getBlocksInOrder().forEach(function(e){e.rowNodes.forEach(function(e){e.group&&(t[e.id]=e)})}),this.refreshedNodeCache=t},e.prototype.refreshBlocks=function(){this.buildRowNodeCache(),this.getBlocksInOrder().forEach(function(t){t.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,(this.columnModel.isAutoRowHeightActive()||0===this.rowCount)&&(this.rowCount=e.INITIAL_ROW_COUNT)},e.prototype.getRowNodesInRange=function(t,e){var n=[],o=-1,r=!1;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t)&&(r=!0);var i=!1;return this.getBlocksInOrder().forEach(function(s){i||(r&&o+1!==s.getId()?i=!0:(o=s.getId(),s.forEachNodeShallow(function(o){var i=o===t||o===e;(r||i)&&n.push(o),i&&(r=!r)})))}),i||r?[]:n},e.prototype.findBlockAndExecute=function(t,e,n){var o,r=!1,i=!1,s=null;return this.getBlocksInOrder().forEach(function(n){if(!r&&!i){var a=t(n);a==FindResult.FOUND?(o=e(n),r=!0):a==FindResult.CONTINUE_FIND?s=n:a==FindResult.BREAK_FIND&&(i=!0)}}),r||(o=n(s)),o},e.prototype.getRowBounds=function(t){var e=this;return this.findBlockAndExecute(function(e){return e.isDisplayIndexInBlock(t)?FindResult.FOUND:e.isBlockBefore(t)?FindResult.CONTINUE_FIND:FindResult.BREAK_FIND},function(e){return e.getRowBounds(t)},function(n){var o,r;return null!==n?(o=n.getBlockTopPx()+n.getBlockHeightPx(),r=n.getDisplayIndexEnd()):(o=e.cacheTopPixel,r=e.displayIndexStart),{rowHeight:e.defaultRowHeight,rowTop:o+(t-r)*e.defaultRowHeight}})},e.prototype.getRowIndexAtPixel=function(t){var e=this,n=this.findBlockAndExecute(function(e){return e.isPixelInRange(t)?FindResult.FOUND:e.getBlockTopPx()<t?FindResult.CONTINUE_FIND:FindResult.BREAK_FIND},function(e){return e.getRowIndexAtPixel(t)},function(n){var o,r;n?(o=n.getBlockTopPx()+n.getBlockHeightPx(),r=n.getDisplayIndexEnd()):(o=e.cacheTopPixel,r=e.displayIndexStart);for(var i=e.storeParams.cacheBlockSize,s=e.defaultRowHeight*i,a=n?n.getId()+1:0,l=function(n){var r=e.getCachedBlockHeight(n),i=null!=r?r:s;return{height:i,pixelInBlock:t<=i+o}},c=l(a);!c.pixelInBlock;)o+=c.height,r+=i,c=l(++a);return r+(0|Math.floor((t-o)/(c.height/i)))}),o=this.getDisplayIndexEnd()-1;return Math.min(n,o)},e.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(t){return t.clearDisplayIndexes()})},e.prototype.setDisplayIndexes=function(t,e){var n=this;this.displayIndexStart=t.peek(),this.cacheTopPixel=e.value;var o=-1,r=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(i){var s=i.getId(),a=s-o-1,l=a*r;l>0&&t.skip(l);for(var c=1;c<=a;c++){var u=s-c;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.blockHeights[u])?e.value+=n.blockHeights[u]:e.value+=r*n.defaultRowHeight}o=s,i.setDisplayIndexes(t,e),n.blockHeights[s]=i.getBlockHeightPx()});var i=(o+1)*r-1,s=this.getRowCount()-i-1;s>0&&(t.skip(s),e.value+=s*this.defaultRowHeight),this.displayIndexEnd=t.peek(),this.cacheHeightPixels=e.value-this.cacheTopPixel},e.prototype.getRowUsingDisplayIndex=function(t,e){var n=this;if(void 0===e&&(e=!1),this.isDisplayIndexInStore(t))return this.findBlockAndExecute(function(e){return e.isDisplayIndexInBlock(t)?FindResult.FOUND:e.isBlockBefore(t)?FindResult.CONTINUE_FIND:FindResult.BREAK_FIND},function(e){return e.getRowUsingDisplayIndex(t)},function(o){if(!e){var r,i,s,a=n.storeParams.cacheBlockSize;if(o)for(r=o.getId()+1,i=o.getDisplayIndexEnd(),s=o.getBlockHeightPx()+o.getBlockTopPx();!(t>=i&&t<i+a);){i+=a;var l=n.blockHeights[r];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(l)?s+=l:s+=n.defaultRowHeight*a,r++}else r=Math.floor((t-n.displayIndexStart)/a),i=n.displayIndexStart+r*a,s=n.cacheTopPixel+r*a*n.defaultRowHeight;return n.logger.log("block missing, rowIndex = "+t+", creating #"+r+", displayIndexStart = "+i),n.createBlock(r,i,{value:s}).getRowUsingDisplayIndex(t)}})},e.prototype.getTopLevelRowDisplayedIndex=function(t){var e=this.storeParams.cacheBlockSize,n=Math.floor(t/e);return this.findBlockAndExecute(function(t){return t.getId()===n?FindResult.FOUND:t.getId()<n?FindResult.CONTINUE_FIND:FindResult.BREAK_FIND},function(e){return e.getRowUsingLocalIndex(t).rowIndex},function(n){if(!n)return t;var o=e*(n.getId()+1)-1,r=n.getRowUsingLocalIndex(o);return(r.expanded&&r.childStore?r.childStore.getDisplayIndexEnd()-1:r.expanded&&r.detailNode?r.detailNode.rowIndex:r.rowIndex)+(t-o)})},e.prototype.addStoreStates=function(t){t.push({infiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(e){return e.addStoreStates(t)})},e.prototype.getCachedBlockHeight=function(t){return this.blockHeights[t]},e.prototype.createBlock=function(t,e,n){var o=this.createBean(new InfiniteStoreBlock(t,this.parentRowNode,this.ssrmParams,this.storeParams,this));return o.setDisplayIndexes(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1(e),n),this.blocks[o.getId()]=o,this.purgeBlocksIfNeeded(o),this.rowNodeBlockLoader.addBlock(o),o},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.isDisplayIndexInStore=function(t){return 0!==this.getRowCount()&&t>=this.displayIndexStart&&t<this.displayIndexEnd},e.prototype.applyTransaction=function(t){return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreWrongType}},e.prototype.getChildStore=function(t){var e=this;return this.storeUtils.getChildStore(t,this,function(t){var n=null;return e.getBlocksInOrder().forEach(function(e){e.forEachNodeShallow(function(e){e.key==t&&(n=e)},new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1)}),n})},e.prototype.isPixelInRange=function(t){return 0!==this.getRowCount()&&t>=this.cacheTopPixel&&t<this.cacheTopPixel+this.cacheHeightPixels},e.prototype.refreshAfterFilter=function(t){this.gridOptionsWrapper.isServerSideFilterAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t)?this.resetStore():this.forEachChildStoreShallow(function(e){return e.refreshAfterFilter(t)})},e.prototype.refreshAfterSort=function(t){this.gridOptionsWrapper.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t)?this.resetStore():this.forEachChildStoreShallow(function(e){return e.refreshAfterSort(t)})},e.prototype.forEachChildStoreShallow=function(t){this.getBlocksInOrder().forEach(function(e){e.isGroupLevel()&&e.forEachNodeShallow(function(e){var n=e.childStore;n&&t(n)},new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1)})},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,e.INITIAL_ROW_COUNT=1,e.OVERFLOW_SIZE=1,__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],e.prototype,"storeUtils",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyAllBlocks",null),__decorate$i([__param(0,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.qaB)("loggerFactory"))],e.prototype,"setBeans",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$h=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FullStore=function(t){function e(e,n,o){var r=t.call(this,0)||this;return r.nodeIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,r.info={},r.ssrmParams=e,r.parentRowNode=o,r.level=o.level+1,r.groupLevel=e.rowGroupCols?r.level<e.rowGroupCols.length:void 0,r.leafGroup=!!e.rowGroupCols&&r.level===e.rowGroupCols.length-1,r}return __extends$B(e,t),e.prototype.postConstruct=function(){var t=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return t.rowNodeBlockLoader.removeBlock(t)})},e.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},e.prototype.initialiseRowNodes=function(t,e){void 0===t&&(t=1),void 0===e&&(e=!1),this.destroyRowNodes();for(var n=0;n<t;n++){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});e&&(o.failedLoad=!0),this.allRowNodes.push(o),this.nodesAfterFilter.push(o),this.nodesAfterSort.push(o)}},e.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},e.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},e.prototype.getStartRow=function(){return 0},e.prototype.getEndRow=function(){return this.nodesAfterSort.length},e.prototype.createDataNode=function(t,e){var n=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertIntoArray(this.allRowNodes,n,e):this.allRowNodes.push(n);var o=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(n,t,o,void 0),this.nodeManager.addRowNode(n),this.blockUtils.checkOpenByDefault(n),this.allNodesMap[n.id]=n,n},e.prototype.prefixId=function(t){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+t:t.toString()},e.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},e.prototype.processServerResult=function(t){if(this.isAlive()){var e=t.storeInfo||t.groupLevelInfo;e&&Object.assign(this.info,e);var n=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},t.rowData||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',t)},"FullStore.noData"),this.createOrRecycleNodes(n,t.rowData),n&&this.blockUtils.destroyRowNodes(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllValuesInObject(n)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},e.prototype.createOrRecycleNodes=function(t,e){var n=this;e&&e.forEach(function(e){var o=function(e){if(t){var o=n.gridOptionsWrapper.getRowIdFunc();if(o){var r=n.parentRowNode.getGroupKeys(),i=o({data:e,parentKeys:r.length>0?r:void 0,level:n.level}),s=t[i];if(s)return delete t[i],s}}}(e);o?function(t,e){n.allNodesMap[t.id]=t,n.blockUtils.updateDataIntoRowNode(t,e),n.allRowNodes.push(t)}(o,e):n.createDataNode(e)})},e.prototype.flushAsyncTransactions=function(){var t=this;window.setTimeout(function(){return t.transactionManager.flushAsyncTransactions()},0)},e.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},e.prototype.sortRowNodes=function(){var t=this.gridOptionsWrapper.isServerSideSortAllLevels()||this.gridOptionsWrapper.isServerSideSortOnServer(),e=this.sortController.getSortOptions();this.nodesAfterSort=t||!e||0==e.length?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},e.prototype.filterRowNodes=function(){var t=this;this.nodesAfterFilter=this.gridOptionsWrapper.isServerSideFilterAllLevels()||this.gridOptionsWrapper.isServerSideFilterOnServer()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(e){return t.filterManager.doesRowPassFilter({rowNode:e})})},e.prototype.clearDisplayIndexes=function(){var t=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(e){return t.blockUtils.clearDisplayIndex(e)})},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.isDisplayIndexInStore=function(t){return 0!==this.getRowCount()&&t>=this.displayIndexStart&&t<this.displayIndexEnd},e.prototype.setDisplayIndexes=function(t,e){var n=this;this.displayIndexStart=t.peek(),this.topPx=e.value;var o={};this.nodesAfterSort.forEach(function(r){n.blockUtils.setDisplayIndex(r,t,e),o[r.id]=!0}),this.allRowNodes.forEach(function(t){o[t.id]||n.blockUtils.clearDisplayIndex(t)}),this.displayIndexEnd=t.peek(),this.heightPx=e.value-this.topPx},e.prototype.forEachNodeDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.allRowNodes.forEach(function(n){t(n,e.next());var o=n.childStore;o&&o.forEachNodeDeep(t,e)})},e.prototype.forEachNodeDeepAfterFilterAndSort=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.nodesAfterSort.forEach(function(n){t(n,e.next());var o=n.childStore;o&&o.forEachNodeDeepAfterFilterAndSort(t,e)})},e.prototype.getRowUsingDisplayIndex=function(t){if(this.isDisplayIndexInStore(t))return this.blockUtils.binarySearchForDisplayIndex(t,this.nodesAfterSort)},e.prototype.getRowBounds=function(t){for(var e=0;e<this.nodesAfterSort.length;e++){var n=this.blockUtils.extractRowBounds(this.nodesAfterSort[e],t);if(n)return n}return null},e.prototype.isPixelInRange=function(t){return t>=this.topPx&&t<this.topPx+this.heightPx},e.prototype.getRowIndexAtPixel=function(t){var e=this;if(t<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(t>=this.topPx+this.heightPx){var n=this.nodesAfterSort[this.nodesAfterSort.length-1];if(t>=n.rowTop+n.rowHeight&&n.expanded){if(n.childStore&&n.childStore.getRowCount()>0)return n.childStore.getRowIndexAtPixel(t);if(n.detailNode)return n.detailNode.rowIndex}return n.rowIndex}var o=null;return this.nodesAfterSort.forEach(function(n){var r=e.blockUtils.getIndexAtPixel(n,t);null!=r&&(o=r)}),null==o?this.displayIndexEnd-1:o},e.prototype.getChildStore=function(t){var e=this;return this.storeUtils.getChildStore(t,this,function(t){return e.allRowNodes.find(function(e){return e.key==t})})},e.prototype.forEachChildStoreShallow=function(t){this.allRowNodes.forEach(function(e){var n=e.childStore;n&&t(n)})},e.prototype.refreshAfterFilter=function(t){var e=this.gridOptionsWrapper.isServerSideFilterOnServer(),n=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t);if(this.gridOptionsWrapper.isServerSideFilterAllLevels()||e&&n)return this.refreshStore(!0),void this.sortRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(e){return e.refreshAfterFilter(t)})},e.prototype.refreshAfterSort=function(t){var e=this.gridOptionsWrapper.isServerSideSortOnServer(),n=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t);if(this.gridOptionsWrapper.isServerSideSortAllLevels()||e&&n)return this.refreshStore(!0),void this.filterRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(e){return e.refreshAfterSort(t)})},e.prototype.applyTransaction=function(t){switch(this.getState()){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoadingFailed};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADING:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_WAITING_TO_LOAD:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreWaitingToLoad}}var e=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(e&&!e({transaction:t,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var n={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,remove:[],update:[],add:[]},o=[];return this.executeAdd(t,n),this.executeRemove(t,n,o),this.executeUpdate(t,n,o),this.filterAndSortNodes(),this.updateSelection(o),n},e.prototype.updateSelection=function(t){if(t.length>0){t.forEach(function(t){t.setSelected(!1,!1,!0)});var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(e)}},e.prototype.executeAdd=function(t,e){var n=this,o=t.add,r=t.addIndex;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(o)||("number"==typeof r&&r>=0?o.reverse().forEach(function(t){var o=n.createDataNode(t,r);e.add.push(o)}):o.forEach(function(t){var o=n.createDataNode(t);e.add.push(o)}))},e.prototype.executeRemove=function(t,e,n){var o=this,r=t.remove;if(null!=r){var i={};r.forEach(function(t){var r=o.lookupRowNode(t);r&&(r.isSelected()&&n.push(r),r.clearRowTopAndRowIndex(),i[r.id]=!0,delete o.allNodesMap[r.id],e.remove.push(r),o.nodeManager.removeNode(r))}),this.allRowNodes=this.allRowNodes.filter(function(t){return!i[t.id]})}},e.prototype.executeUpdate=function(t,e,n){var o=this,r=t.update;null!=r&&r.forEach(function(t){var r=o.lookupRowNode(t);r&&(r.updateData(t),!r.selectable&&r.isSelected()&&n.push(r),e.update.push(r))})},e.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsWrapper.getRowIdFunc();if(null!=n){var o=this.level,r=this.parentRowNode.getGroupKeys(),i=n({data:t,parentKeys:r.length>0?r:void 0,level:o});if(!(e=this.allNodesMap[i]))return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(!(e=this.allRowNodes.find(function(e){return e.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),null;return e},e.prototype.addStoreStates=function(t){t.push({infiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(e){return e.addStoreStates(t)})},e.prototype.refreshStore=function(t){t&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},e.prototype.retryLoads=function(){this.getState()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(t){return t.retryLoads()})},e.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},e.prototype.getRowCount=function(){return this.nodesAfterSort.length},e.prototype.getTopLevelRowDisplayedIndex=function(t){return this.nodesAfterSort[t].rowIndex},e.prototype.isLastRowIndexKnown=function(){return this.getState()==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADED},e.prototype.getRowNodesInRange=function(t,e){var n=[],o=!1;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t)&&(o=!0),this.nodesAfterSort.forEach(function(r){var i=r===t||r===e;(o||i)&&n.push(r),i&&(o=!o)}),o?[]:n},__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],e.prototype,"storeUtils",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmTransactionManager")],e.prototype,"transactionManager",void 0),__decorate$h([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$h([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK),__decorate$g=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},StoreFactory=function(){function t(){}return t.prototype.createStore=function(t,e){var n=this.getStoreParams(t,e);return new(n.infiniteScroll?InfiniteStore:FullStore)(t,n,e)},t.prototype.getStoreParams=function(t,e){var n=this.getLevelSpecificParams(e),o=this.isInfiniteScroll(n);return{infiniteScroll:o,cacheBlockSize:this.getBlockSize(o,n),maxBlocksInCache:this.getMaxBlocksInCache(o,t,n)}},t.prototype.getMaxBlocksInCache=function(t,e,n){if(t){var o=n&&null!=n.maxBlocksInCache?n.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=o&&o>=0)if(e.dynamicRowHeight)ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight");else{if(!this.columnModel.isAutoRowHeightActive())return o;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive")}}},t.prototype.getBlockSize=function(t,e){if(t){var n=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=n&&n>0?n:100}},t.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsWrapper.getServerSideGroupLevelParamsFunc();if(e){var n=e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()});return null!=n.storeType&&(n.infiniteScroll="partial"===n.storeType),n}},t.prototype.isInfiniteScroll=function(t){return t&&null!=t.infiniteScroll?t.infiniteScroll:this.gridOptionsWrapper.isServerSideInfiniteScroll()},__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreFactory")],t)}(),__decorate$f=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ListenerUtils=function(){function t(){}return t.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(t){return t.getColId()}),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},t.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(t){return t.getColId()}),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmListenerUtils")],t)}(),ServerSideRowModelModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ServerSideRowModelModule,rowModels:{serverSide:ServerSideRowModel},beans:[ExpandListener,SortListener,StoreUtils,BlockUtils,NodeManager,TransactionManager,FilterListener,StoreFactory,ListenerUtils],dependantModules:[EnterpriseCoreModule]},NULL_SUBSTITUTE$1="__<ag-grid-pseudo-null>__",ClientSideValuesExtractor=function(){function t(t,e,n){this.rowModel=t,this.filterParams=e,this.caseFormat=n}return t.prototype.extractUniqueValues=function(t){var e=this,n={},o=this.filterParams.colDef.keyCreator,r=function(t){var o=null!=t?e.caseFormat(t):NULL_SUBSTITUTE$1;o&&null==n[o]&&(n[o]=t)};return this.rowModel.forEachLeafNode(function(n){if(n.data&&t(n)){var i=e.filterParams,s=e.filterParams.valueGetter({api:i.api,colDef:i.colDef,column:i.column,columnApi:i.columnApi,context:i.context,data:n.data,getValue:function(t){return n.data[t]},node:n});o&&(s=o({value:s,colDef:e.filterParams.colDef,column:e.filterParams.column,node:n,data:n.data,api:e.filterParams.api,columnApi:e.filterParams.columnApi,context:e.filterParams.context})),null!=(s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s))&&Array.isArray(s)?s.forEach(function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t));r(e)}):r(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(s))}}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(n)},t}(),SetFilterModelValuesType=(()=>(function(t){t[t.PROVIDED_LIST=0]="PROVIDED_LIST",t[t.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",t[t.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(SetFilterModelValuesType||(SetFilterModelValuesType={})),SetFilterModelValuesType))(),NULL_SUBSTITUTE="__<ag-grid-pseudo-null>__",SetValueModel=function(){function t(t,e,n,o,r){var i=this;this.filterParams=t,this.setIsLoading=e,this.valueFormatterService=n,this.translate=o,this.caseFormat=r,this.localEventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var s=t.colDef,a=t.textFormatter,l=t.doesRowPassOtherFilter,c=t.suppressSorting,u=t.comparator,p=t.rowModel,d=t.values;this.column=t.column,this.formatter=a||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.QVL.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=l,this.suppressSorting=c||!1,this.comparator=u||s.comparator||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator,p.getType()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new ClientSideValuesExtractor(p,this.filterParams,this.caseFormat)),null==d?this.valuesType=SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(d)?SetFilterModelValuesType.PROVIDED_LIST:SetFilterModelValuesType.PROVIDED_CALLBACK,this.providedValues=d),this.updateAllValues().then(function(t){return i.resetSelectionState(t||[])})}return t.prototype.addEventListener=function(t,e,n){this.localEventService.addEventListener(t,e,n)},t.prototype.removeEventListener=function(t,e,n){this.localEventService.removeEventListener(t,e,n)},t.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},t.prototype.overrideValues=function(t){var e=this;return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(n){e.allValuesPromise.then(function(){e.valuesType=SetFilterModelValuesType.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return n()})})})},t.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},t.prototype.isInitialised=function(){return this.initialised},t.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(e){switch(t.valuesType){case SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:case SetFilterModelValuesType.PROVIDED_LIST:var n=t.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES?t.getValuesFromRows(!1):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(t.uniqueValues(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStrings(t.providedValues)||[])),o=t.sortValues(n||[]);t.allValues=o,e(o);break;case SetFilterModelValuesType.PROVIDED_CALLBACK:t.setIsLoading(!0);var r=t.providedValues,i=t.filterParams,s={success:function(n){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(t.uniqueValues(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStrings(n)||[]));t.setIsLoading(!1);var r=t.sortValues(o||[]);t.allValues=r,e(r)},colDef:i.colDef,column:i.column,columnApi:i.columnApi,api:i.api,context:i.context};window.setTimeout(function(){return r(s)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}).then(function(){return t.initialised=!0}),this.allValuesPromise},t.prototype.setValuesType=function(t){this.valuesType=t},t.prototype.getValuesType=function(){return this.valuesType},t.prototype.isValueAvailable=function(t){return this.availableValues.has(t)},t.prototype.showAvailableOnly=function(){return this.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},t.prototype.updateAvailableValues=function(e){var n=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):e;this.availableValues=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(n),this.localEventService.dispatchEvent({type:t.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},t.prototype.sortValues=function(t){return this.suppressSorting?t:!this.filterParams.excelMode||t.indexOf(null)<0?t.sort(this.comparator):t.filter(function(t){return null!=t}).sort(this.comparator).concat(null)},t.prototype.getValuesFromRows=function(t){var e=this;return void 0===t&&(t=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(n){return!t||e.doesRowPassOtherFilters(n)}):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},t.prototype.setMiniFilter=function(t){return t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues(),!0)},t.prototype.getMiniFilter=function(){return this.miniFilterText},t.prototype.updateDisplayedValues=function(){var t=this;if(null!=this.miniFilterText){this.displayedValues=[];var e=this.caseFormat(this.formatter(this.miniFilterText)||""),n=function(n){return null!=n&&t.caseFormat(n).indexOf(e)>=0};this.availableValues.forEach(function(e){if(null==e)t.filterParams.excelMode&&n(t.translate("blanks"))&&t.displayedValues.push(e);else{var o=t.formatter(e),r=t.valueFormatterService.formatValue(t.column,null,o,t.filterParams.valueFormatter,!1);(n(o)||n(r))&&t.displayedValues.push(e)}})}else this.displayedValues=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(this.availableValues)},t.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},t.prototype.getDisplayedValue=function(t){return this.displayedValues[t]},t.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},t.prototype.getValues=function(){return this.allValues.slice()},t.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedValues=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(this.allValues):(t&&this.selectedValues.clear(),this.displayedValues.forEach(function(t){return e.selectedValues.add(t)}))},t.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedValues.clear():this.displayedValues.forEach(function(e){return t.selectedValues.delete(e)})},t.prototype.selectValue=function(t){this.selectedValues.add(t)},t.prototype.deselectValue=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(t)},t.prototype.isValueSelected=function(t){return this.selectedValues.has(t)},t.prototype.isEverythingVisibleSelected=function(){var t=this;return this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length===this.displayedValues.length},t.prototype.isNothingVisibleSelected=function(){var t=this;return 0===this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length},t.prototype.getModel=function(){return this.hasSelections()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(this.selectedValues):null},t.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(n){if(null==t)e.resetSelectionState(n||[]);else{e.selectedValues.clear();var o=e.uniqueValues(n||[]);t.forEach(function(t){var n=o[e.uniqueKey(t)];void 0!==n&&e.selectedValues.add(n)})}})},t.prototype.uniqueValues=function(t){var e=this,n={};return(t||[]).forEach(function(t){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t),r=e.uniqueKey(o);void 0===n[r]&&(n[r]=o)}),n},t.prototype.uniqueKey=function(t){return null==t?NULL_SUBSTITUTE:this.caseFormat(t)},t.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(t||[])},t.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",t}(),__extends$A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$e=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SetFilterListItem=function(t){function e(n,o,r,i){var s=t.call(this,e.TEMPLATE)||this;return s.value=n,s.params=o,s.translate=r,s.isSelected=i,s}return __extends$A(e,t),e.prototype.init=function(){var t=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),this.params.readOnly||this.eCheckbox.onValueChange(function(n){var o=n||!1;t.isSelected=o,t.dispatchEvent({type:e.EVENT_SELECTION_CHANGED,isSelected:o})})},e.prototype.toggleSelected=function(){this.params.readOnly||(this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected))},e.prototype.render=function(){var t=this.params.column,e=this.value,n=null;"function"==typeof e?e=e():n=this.getFormattedValue(this.params,t,e),this.params.showTooltips&&this.setTooltip(null!=n?n:e);var o={value:e,valueFormatted:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),colDef:this.params.colDef,column:this.params.column};this.renderCell(o)},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),e},e.prototype.getFormattedValue=function(t,e,n){return this.valueFormatterService.formatValue(e,null,n,t&&t.valueFormatter,!1)},e.prototype.renderCell=function(t){var e=this,n=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,t),o=n?n.newAgStackInstance():void 0;if(null!=o)o.then(function(t){t&&(e.eCheckbox.setLabel(t.getGui()),e.addDestroyFunc(function(){return e.destroyBean(t)}))});else{var r=null==t.valueFormatted?t.value:t.valueFormatted;this.eCheckbox.setLabel(null==r?this.translate("blanks"):r)}},e.prototype.getComponentHolder=function(){return this.params.column.getColDef()},e.EVENT_SELECTION_CHANGED="selectionChanged",e.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCheckbox")],e.prototype,"eCheckbox",void 0),__decorate$e([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),DEFAULT_LOCALE_TEXT={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},__extends$z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$d=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SetFilter=function(t){function e(){var e=t.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.appliedModelValues=null,e}return __extends$z(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.updateUiVisibility=function(){},e.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},e.prototype.handleKeyDown=function(e){if(t.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:this.handleKeySpace(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.handleKeyEnter(e)}},e.prototype.handleKeySpace=function(t){var e=this.gridOptionsWrapper.getDocument();if(this.eSetFilterList.contains(e.activeElement)&&this.virtualList){var n=this.virtualList.getLastFocusedRow();if(null!=n){var o=this.virtualList.getComponentAt(n);null!=o&&(t.preventDefault(),(this.setFilterParams||{}).readOnly||o.toggleSelected())}}},e.prototype.handleKeyEnter=function(t){if(this.setFilterParams){var e=this.setFilterParams||{};e.excelMode&&!e.readOnly&&(t.preventDefault(),this.onBtApply(!1,!1,t),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},e.prototype.getCssIdentifier=function(){return"set-filter"},e.prototype.setModelAndRefresh=function(t){var e=this;return this.valueModel?this.valueModel.setModel(t).then(function(){return e.refresh()}):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},e.prototype.setModelIntoUi=function(t){return this.setMiniFilter(null),this.setModelAndRefresh(null==t?null:t.values)},e.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.valueModel.getModel();return t?{values:t,filterType:this.getFilterType()}:null},e.prototype.getFilterType=function(){return"set"},e.prototype.getValueModel=function(){return this.valueModel},e.prototype.areModelsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(t.values,e.values)},e.prototype.setParams=function(e){var n=this;this.applyExcelModeOptions(e),t.prototype.setParams.call(this,e),this.setFilterParams=e,this.caseSensitive=e.caseSensitive||!1,this.valueModel=new SetValueModel(e,function(t){return n.showOrHideLoadingScreen(t)},this.valueFormatterService,function(t){return n.translateForSetFilter(t)},function(t){return n.caseFormat(t)}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},e.prototype.applyExcelModeOptions=function(t){"windows"===t.excelMode?(t.buttons||(t.buttons=["apply","cancel"]),null==t.closeOnApply&&(t.closeOnApply=!0)):"mac"===t.excelMode&&(t.buttons||(t.buttons=["reset"]),null==t.applyMiniFilterWhileTyping&&(t.applyMiniFilterWhileTyping=!0),null==t.debounceMs&&(t.debounceMs=500))},e.prototype.addEventListenersForDataChanges=function(){var t=this;this.isValuesTakenFromGrid()&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,function(e){t.setFilterParams&&e.column===t.setFilterParams.column&&t.syncAfterDataChange()})},e.prototype.syncAfterDataChange=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then(function(){t.refresh(),t.onBtApply(!1,!0)})},e.prototype.showOrHideLoadingScreen=function(t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterLoading,t)},e.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},e.prototype.initVirtualList=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilterList","Filter List"),n=this.virtualList=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("filter","listbox",e)),o=this.getRefElement("eSetFilterList");o&&o.appendChild(n.getGui());var r,i=this.setFilterParams.cellHeight;null!=i&&n.setRowHeight(i),n.setComponentCreator(function(e){return t.createSetListItem(e)}),r=this.setFilterParams.suppressSelectAll?new ModelWrapper(this.valueModel):new ModelWrapperWithSelectAll(this.valueModel,function(){return t.isSelectAllSelected()}),n.setModel(r)},e.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(t)},e.prototype.createSetListItem=function(t){var n,o=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return t===e.SELECT_ALL_VALUE?((n=this.createBean(new SetFilterListItem(function(){return o.getSelectAllLabel()},this.setFilterParams,function(t){return o.translateForSetFilter(t)},this.isSelectAllSelected()))).addEventListener(SetFilterListItem.EVENT_SELECTION_CHANGED,function(t){return o.onSelectAll(t.isSelected)}),n):((n=this.createBean(new SetFilterListItem(t,this.setFilterParams,function(t){return o.translateForSetFilter(t)},this.valueModel.isValueSelected(t)))).addEventListener(SetFilterListItem.EVENT_SELECTION_CHANGED,function(e){return o.onItemSelected(t,e.isSelected)}),n)},e.prototype.initMiniFilter=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.eMiniFilter,n=this.gridOptionsWrapper.getLocaleTextFunc();e.setDisplayed(!this.setFilterParams.suppressMiniFilter),e.setValue(this.valueModel.getMiniFilter()),e.onValueChange(function(){return t.onMiniFilterInput()}),e.setInputAriaLabel(n("ariaSearchFilterValues","Search filter values")),this.addManagedListener(e.getInputElement(),"keypress",function(e){return t.onMiniFilterKeyPress(e)})},e.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");t.prototype.afterGuiAttached.call(this,e),this.setFilterParams.excelMode&&(this.resetUiToActiveModel(),this.showOrHideResults()),this.refreshVirtualList();var n=this.eMiniFilter;n.setInputPlaceholder(this.translateForSetFilter("searchOoo")),e&&e.suppressFocus||n.getFocusableElement().focus();var o,r=!(!e||"floatingFilter"!==e.container);o=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},r?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(o)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},e.prototype.applyModel=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var n=t.prototype.applyModel.call(this),o=this.getModel();return this.appliedModelValues=o?o.values.reduce(function(t,n){return t[e.caseFormat(String(n))]=!0,t},{}):null,n},e.prototype.isModelValid=function(t){return!this.setFilterParams||!this.setFilterParams.excelMode||null==t||t.values.length>0},e.prototype.doesFilterPass=function(t){var e=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var n=t.node,o=t.data,r=this.setFilterParams,i=r.colDef.keyCreator,s=r.api,a=r.colDef,l=r.column,c=r.columnApi,u=r.context,p=(0,r.valueGetter)({api:s,colDef:a,column:l,columnApi:c,context:u,data:o,getValue:function(t){return o[t]},node:n});return i&&(p=i({value:p,colDef:a,column:l,node:n,data:o,api:s,columnApi:c,context:u})),p=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(p),Array.isArray(p)?p.some(function(t){return!0===e.appliedModelValues[e.caseFormat(String(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t)))]}):!0===this.appliedModelValues[this.caseFormat(String(p))]},e.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},e.prototype.isValuesTakenFromGrid=function(){return!!this.valueModel&&this.valueModel.getValuesType()===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},e.prototype.setFilterValues=function(t){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(t).then(function(){e.refresh(),e.onUiChanged()})},e.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},e.prototype.refreshFilterValues=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){t.refresh(),t.onUiChanged()})},e.prototype.onAnyFilterChanged=function(){var t=this;setTimeout(function(){if(t.isAlive()){if(!t.valueModel)throw new Error("Value model has not been created.");t.valueModel.refreshAfterAnyFilterChanged().then(function(){return t.refresh()})}},0)},e.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var t=this.setFilterParams||{};!t.readOnly&&t.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},e.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.setFilterParams||{};null==t.excelMode||t.readOnly?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},e.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNoMatches,t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSetFilterList,!t)},e.prototype.resetUiToActiveModel=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return t.onUiChanged(!1,"prevent")})},e.prototype.onMiniFilterKeyPress=function(t){var e=this.setFilterParams||{};t.key!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||e.excelMode||e.readOnly||this.filterOnAllVisibleValues()},e.prototype.filterOnAllVisibleValues=function(t){void 0===t&&(t=!0);var e=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(e)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,t?"immediately":"debounce"),this.showOrHideResults()},e.prototype.focusRowIfAlive=function(t){var e=this;null!=t&&window.setTimeout(function(){if(!e.virtualList)throw new Error("Virtual list has not been created.");e.isAlive()&&e.virtualList.focusRow(t)},0)},e.prototype.onSelectAll=function(t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");t?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var e=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(e)},e.prototype.onItemSelected=function(t,e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectValue(t):this.valueModel.deselectValue(t);var n=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(n)},e.prototype.setMiniFilter=function(t){this.eMiniFilter.setValue(t),this.onMiniFilterInput()},e.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},e.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},e.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},e.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},e.prototype.translateForSetFilter=function(t){return this.gridOptionsWrapper.getLocaleTextFunc()(t,DEFAULT_LOCALE_TEXT[t])},e.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},e.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),t.prototype.destroy.call(this)},e.prototype.caseFormat=function(t){return null==t||"string"!=typeof t||this.caseSensitive?t:t.toUpperCase()},e.SELECT_ALL_VALUE="__AG_SELECT_ALL__",__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniFilter")],e.prototype,"eMiniFilter",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterLoading")],e.prototype,"eFilterLoading",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSetFilterList")],e.prototype,"eSetFilterList",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterNoMatches")],e.prototype,"eNoMatches",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU),ModelWrapper=function(){function t(t){this.model=t}return t.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},t.prototype.getRow=function(t){return this.model.getDisplayedValue(t)},t.prototype.isRowSelected=function(t){return this.model.isValueSelected(this.getRow(t))},t}(),ModelWrapperWithSelectAll=function(){function t(t,e){this.model=t,this.isSelectAllSelected=e}return t.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},t.prototype.getRow=function(t){return 0===t?SetFilter.SELECT_ALL_VALUE:this.model.getDisplayedValue(t-1)},t.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(t))},t}(),__extends$y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$c=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SetFloatingFilterComp=function(t){function e(){var e=t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e}return __extends$y(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+n("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return t.showParentFilter()}),this.params=t},e.prototype.onParentModelChanged=function(t){this.updateFloatingFilterText(t)},e.prototype.parentSetFilterInstance=function(t){this.params.parentFilterInstance(function(e){if(!(e instanceof SetFilter))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as it's parent");t(e)})},e.prototype.addAvailableValuesListener=function(){var t=this;this.parentSetFilterInstance(function(e){var n=e.getValueModel();n&&t.addManagedListener(n,SetValueModel.EVENT_AVAILABLE_VALUES_CHANGED,function(){return t.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},e.prototype.updateFloatingFilterText=function(t){var e=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(n){var o=(t||n.getModel()||{}).values,r=n.getValueModel();if(null!=o&&null!=r){var i=e.gridOptionsWrapper.getLocaleTextFunc(),s=o.filter(function(t){return r.isValueAvailable(t)}).map(function(t){var n=e.params,o=e.valueFormatterService.formatValue(n.column,null,t,n.filterParams.valueFormatter,!1),r=null!=o?o:t;return null==r?i("blanks",DEFAULT_LOCALE_TEXT.blanks):r}),a=s.length>10?s.slice(0,10).concat("..."):s,l="("+s.length+") "+a.join(",");e.eFloatingFilterText.setValue(l)}else e.eFloatingFilterText.setValue("")})},__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),SetFilterModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:SetFilter},{componentName:"agSetColumnFloatingFilter",componentClass:SetFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$b=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},StatusBarService=function(t){function e(){var e=t.call(this)||this;return e.allComponents={},e}return __extends$x(e,t),e.prototype.registerStatusPanel=function(t,e){this.allComponents[t]=e},e.prototype.getStatusPanel=function(t){return this.allComponents[t]},__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("statusBarService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$a=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},StatusBar=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$w(e,t),e.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var t=this.gridOptions.statusBar.statusPanels.filter(function(t){return"left"===t.align});this.createAndRenderComponents(t,this.eStatusBarLeft);var e=this.gridOptions.statusBar.statusPanels.filter(function(t){return"center"===t.align});this.createAndRenderComponents(e,this.eStatusBarCenter);var n=this.gridOptions.statusBar.statusPanels.filter(function(t){return!t.align||"right"===t.align});this.createAndRenderComponents(n,this.eStatusBarRight)}else this.setDisplayed(!1)},e.prototype.createAndRenderComponents=function(t,e){var n=this,o=[];t.forEach(function(t){var e=n.userComponentFactory.getStatusPanelCompDetails(t,{}).newAgStackInstance();e&&o.push({key:t.key||t.statusPanel,promise:e})}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(o.map(function(t){return t.promise})).then(function(){o.forEach(function(t){t.promise.then(function(o){var r=function(){n.getContext().destroyBean(o)};n.isAlive()?(n.statusBarService.registerStatusPanel(t.key,o),e.appendChild(o.getGui()),n.addDestroyFunc(r)):r()})})})},e.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptions")],e.prototype,"gridOptions",void 0),__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("statusBarService")],e.prototype,"statusBarService",void 0),__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarLeft")],e.prototype,"eStatusBarLeft",void 0),__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarCenter")],e.prototype,"eStatusBarCenter",void 0),__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarRight")],e.prototype,"eStatusBarRight",void 0),__decorate$a([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$9=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},NameValueComp=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$v(e,t),e.prototype.setLabel=function(t,e){this.setDisplayed(!1);var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=n(t,e)},e.prototype.setValue=function(t){this.eValue.innerHTML=t},e.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],e.prototype,"eValue",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$8=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TotalAndFilteredRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$u(e,t),e.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=t("thousandSeparator",","),n=t("decimalSeparator","."),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getFilteredRowCountValue(),e,n),r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getTotalRowCount(),e,n);if(o===r)this.setValue(o);else{var i=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(o+" "+i("of","of")+" "+r)}},e.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter(function(e){e.group||t++}),t},e.prototype.getTotalRowCount=function(){var t=0;return this.gridApi.forEachNode(function(e){e.group||t++}),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$8([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$7=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},FilteredRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$t(e,t),e.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var t=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,t),t()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.getTotalRowCountValue(),e=this.getFilteredRowCountValue(),n=this.gridOptionsWrapper.getLocaleTextFunc(),o=n("thousandSeparator",","),r=n("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(e,o,r)),this.setDisplayed(t!==e)},e.prototype.getTotalRowCountValue=function(){var t=0;return this.gridApi.forEachNode(function(e){return t+=1}),t},e.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter(function(e){e.group||(t+=1)}),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$7([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$7([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$6=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},TotalRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$s(e,t),e.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=t("thousandSeparator",","),n=t("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getRowCountValue(),e,n))},e.prototype.getRowCountValue=function(){var t=0;return this.gridApi.forEachLeafNode(function(e){return t+=1}),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$6([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$6([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$5=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SelectedRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$r(e,t),e.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var t=this.gridApi.getSelectedRows().length,e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("thousandSeparator",","),o=e("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(t,n,o)),this.setDisplayed(t>0);var r=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,r),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,r)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},e.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},e.prototype.onRowSelectionChanged=function(){var t=this.gridApi.getSelectedRows().length,e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("thousandSeparator",","),o=e("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(t,n,o)),this.setDisplayed(t>0)},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$5([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$5([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$4=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},AggregationComp=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$q(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},e.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},e.prototype.init=function(){},e.prototype.setAggregationComponentValue=function(t,e,n){var o=this.getAggregationValueComponent(t);if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)&&o){var r=this.gridOptionsWrapper.getLocaleTextFunc(),i=r("thousandSeparator",","),s=r("decimalSeparator",".");o.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberTwoDecimalPlacesAndCommas(e,i,s)),o.setDisplayed(n)}},e.prototype.getAggregationValueComponent=function(t){var e=t+"AggregationComp",n=null,o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?this.gridOptions.statusBar.statusPanels.find(function(t){return"agAggregationComponent"===t.statusPanel}):null;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)&&o?(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o.statusPanelParams)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o.statusPanelParams)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o.statusPanelParams.aggFuncs)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o.statusPanelParams.aggFuncs.find(function(e){return e===t})))&&(n=this[e]):n=this[e],n},e.prototype.onRangeSelectionChanged=function(){var t=this,e=this.rangeService?this.rangeService.getCellRanges():void 0,n=0,o=0,r=0,i=null,s=null,a={};e&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(e)&&e.forEach(function(e){for(var l=t.rangeService.getRangeStartRow(e),c=t.rangeService.getRangeEndRow(e);!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(l)&&l&&!t.rowPositionUtils.before(c,l)&&l&&e.columns;)e.columns.forEach(function(e){if(null!==l){var c=t.cellPositionUtils.createId({rowPinned:l.rowPinned,column:e,rowIndex:l.rowIndex});if(!a[c]){a[c]=!0;var u=t.rowRenderer.getRowNode(l);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(u)){var p=t.valueService.getValue(e,u);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(p)||""===p||(p.value&&(p=p.value),"string"==typeof p&&(p=Number(p)),"number"!=typeof p||isNaN(p)||(n+=p,(null===s||p>s)&&(s=p),(null===i||p<i)&&(i=p),r++),o++)}}}}),l=t.cellNavigationService.getRowBelow(l)});var l=r>1;this.setAggregationComponentValue("count",o,o>1),this.setAggregationComponentValue("sum",n,l),this.setAggregationComponentValue("min",i,l),this.setAggregationComponentValue("max",s,l),this.setAggregationComponentValue("avg",n/r,l)},e.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptions")],e.prototype,"gridOptions",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sumAggregationComp")],e.prototype,"sumAggregationComp",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("countAggregationComp")],e.prototype,"countAggregationComp",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("minAggregationComp")],e.prototype,"minAggregationComp",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("maxAggregationComp")],e.prototype,"maxAggregationComp",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("avgAggregationComp")],e.prototype,"avgAggregationComp",void 0),__decorate$4([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),StatusBarModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.StatusBarModule,beans:[StatusBarService],agStackComponents:[{componentName:"AgStatusBar",componentClass:StatusBar},{componentName:"AgNameValue",componentClass:NameValueComp}],userComponents:[{componentName:"agAggregationComponent",componentClass:AggregationComp},{componentName:"agSelectedRowCountComponent",componentClass:SelectedRowsComp},{componentName:"agTotalRowCountComponent",componentClass:TotalRowsComp},{componentName:"agFilteredRowCountComponent",componentClass:FilteredRowsComp},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:TotalAndFilteredRowsComp}],dependantModules:[EnterpriseCoreModule]},__extends$p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$3=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ViewportRowModel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return __extends$p(e,t),e.prototype.ensureRowHeightsValid=function(t,e,n,o){return!1},e.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},e.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},e.prototype.calculateFirstRow=function(t){var e=this.gridOptionsWrapper.getViewportRowModelBufferSize(),n=this.gridOptionsWrapper.getViewportRowModelPageSize(),o=t-e;return o<0?0:Math.floor(o/n)*n},e.prototype.calculateLastRow=function(t){if(-1===t)return t;var e=this.gridOptionsWrapper.getViewportRowModelBufferSize(),n=this.gridOptionsWrapper.getViewportRowModelPageSize(),o=Math.ceil((t+e)/n)*n;return Math.min(o,this.rowCount-1)},e.prototype.onViewportChanged=function(t){var e=this.calculateFirstRow(t.firstRow),n=this.calculateLastRow(t.lastRow);this.firstRow===e&&this.lastRow===n||(this.firstRow=e,this.lastRow=n,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},e.prototype.purgeRowsNotInViewport=function(){var t=this;Object.keys(this.rowNodesByIndex).forEach(function(e){var n=parseInt(e,10);(n<t.firstRow||n>t.lastRow)&&delete t.rowNodesByIndex[n]})},e.prototype.setViewportDatasource=function(t){this.destroyDatasource(),this.viewportDatasource=t,this.rowCount=0,t.init?t.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},e.prototype.getType=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ROW_MODEL_TYPE_VIEWPORT},e.prototype.getRow=function(t){return this.rowNodesByIndex[t]||(this.rowNodesByIndex[t]=this.createBlankRowNode(t)),this.rowNodesByIndex[t]},e.prototype.getRowNode=function(t){var e;return this.forEachNode(function(n){n.id===t&&(e=n)}),e},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowIndexAtPixel=function(t){return 0!==this.rowHeight?Math.floor(t/this.rowHeight):0},e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.isEmpty=function(){return this.rowCount>0},e.prototype.isRowsToRender=function(){return this.rowCount>0},e.prototype.getNodesInRangeForSelection=function(t,e){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t)?0:t.rowIndex,o=e.rowIndex;if(n<this.firstRow||n>this.lastRow||o<this.firstRow||o>this.lastRow)return[];for(var r=[],i=n<=o?o:n,s=n<=o?n:o;s<=i;s++)r.push(this.rowNodesByIndex[s]);return r},e.prototype.forEachNode=function(t){var e=this,n=0;Object.keys(this.rowNodesByIndex).forEach(function(o){var r=parseInt(o,10);t(e.rowNodesByIndex[r],n),n++})},e.prototype.setRowData=function(t){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(t,function(t,n){var o=parseInt(t,10);if(o>=e.firstRow&&o<=e.lastRow){var r=e.rowNodesByIndex[o];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(r)&&(r=e.createBlankRowNode(o),e.rowNodesByIndex[o]=r),r.setDataAndId(n,o.toString())}})},e.prototype.createBlankRowNode=function(t){var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*t),e.setRowIndex(t),e},e.prototype.setRowCount=function(t,e){void 0===e&&(e=!1),t!==this.rowCount&&(this.rowCount=t,this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:e,animate:!1}))},e.prototype.isRowPresent=function(t){return!1},__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$3([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$3([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyDatasource",null),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ViewportRowModelModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ViewportRowModelModule,rowModels:{viewport:ViewportRowModel},dependantModules:[EnterpriseCoreModule]},BBox=function(){function t(t,e,n,o){this.x=t,this.y=e,this.width=n,this.height=o}return t.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},t.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.render=function(e,n){void 0===n&&(n=t.noParams),e.save(),n.resetTransform&&e.setTransform(1,0,0,1,0,0),e.strokeStyle=n.strokeStyle||"cyan",e.lineWidth=n.lineWidth||1,e.strokeRect(this.x,this.y,this.width,this.height),n.label&&(e.fillStyle=n.fillStyle||"black",e.textBaseline="bottom",e.fillText(n.label,this.x,this.y)),e.restore()},t.noParams={},t}(),__read$6=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Matrix=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return t.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},t.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(t.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),t.prototype.AxB=function(t,e,n){var o=__read$6(t,6),r=o[0],i=o[1],s=o[2],a=o[3],l=o[4],c=o[5],u=__read$6(e,6),p=u[0],d=u[1],h=u[2],f=u[3],g=u[4],m=u[5];(n=n||t)[0]=r*p+s*d,n[1]=i*p+a*d,n[2]=r*h+s*f,n[3]=i*h+a*f,n[4]=r*g+s*m+l,n[5]=i*g+a*m+c},t.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},t.prototype.multiply=function(e){var n=new Array(6);return this.AxB(this.elements,e.elements,n),new t(n)},t.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},t.prototype.inverse=function(){var e=__read$6(this.elements,6),n=e[0],o=e[1],r=e[2],i=e[3],s=e[4],a=e[5],l=1/(n*i-o*r);return new t([i*=l,-(o*=l),-(r*=l),n*=l,r*a-i*s,o*s-n*a])},t.prototype.inverseTo=function(t){var e=__read$6(this.elements,6),n=e[0],o=e[1],r=e[2],i=e[3],s=e[4],a=e[5],l=1/(n*i-o*r);return t.setElements([i*=l,-(o*=l),-(r*=l),n*=l,r*a-i*s,o*s-n*a]),this},t.prototype.invertSelf=function(){var t=this.elements,e=__read$6(t,6),n=e[0],o=e[1],r=e[2],i=e[3],s=e[4],a=e[5],l=1/(n*i-o*r);return n*=l,o*=l,r*=l,t[0]=i*=l,t[1]=-o,t[2]=-r,t[3]=n,t[4]=r*a-i*s,t[5]=o*s-n*a,this},t.prototype.clone=function(){return new t(this.elements.slice())},t.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},t.prototype.transformBBox=function(t,e,n){void 0===e&&(e=0);var o,r,i=this.elements,s=i[0],a=i[1],l=i[2],c=i[3],u=.5*t.width,p=.5*t.height,d=t.x+u,h=t.y+p;if(e){u-=e,p-=e;var f=Math.sqrt(s*s+l*l),g=Math.sqrt(a*a+c*c);o=Math.abs(u*s)+Math.abs(p*l)+Math.abs(f*e),r=Math.abs(u*a)+Math.abs(p*c)+Math.abs(g*e)}else o=Math.abs(u*s)+Math.abs(p*l),r=Math.abs(u*a)+Math.abs(p*c);return n||(n=new BBox(0,0,0,0)),n.x=d*s+h*l+i[4]-o,n.y=d*a+h*c+i[5]-r,n.width=o+o,n.height=r+r,n},t.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},t.flyweight=function(e){return e?t.matrix.setElements(e instanceof t?e.elements:e):t.matrix.setIdentityElements(),t.matrix},t.matrix=new t,t}();function createId(t){var e=t.constructor,n=e.className;if(!n)throw new Error("The "+e+" is missing the 'className' property.");return n+"-"+(e.id=(e.id||0)+1)}var __read$5=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},PointerEvents=(()=>(function(t){t[t.All=0]="All",t[t.None=1]="None"}(PointerEvents||(PointerEvents={})),PointerEvents))(),Node=function(){function t(){this.id=createId(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new Matrix,this.inverseMatrix=new Matrix,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=PointerEvents.All}return t.isNode=function(t){return!!t&&void 0!==t.matrix},t.prototype._setScene=function(t){this._scene=t;for(var e=this.children,n=e.length,o=0;o<n;o++)e[o]._setScene(t)},Object.defineProperty(t.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),t.prototype._setParent=function(t){this._parent=t},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),t.prototype.countChildren=function(e){if(void 0===e&&(e=t.MAX_SAFE_INTEGER),e<=0)return 0;for(var n=this.children,o=n.length,r=o,i=0;i<o;i++)r+=n[i].countChildren(e-1);return r},t.prototype.append=function(e){t.isNode(e)&&(e=[e]);for(var n=e.length,o=0;o<n;o++){var r=e[o];if(r.parent)throw new Error(r+" already belongs to another parent: "+r.parent+".");if(r.scene)throw new Error(r+" already belongs a scene: "+r.scene+".");if(this.childSet[r.id])throw new Error("Duplicate "+r.constructor.name+" node: "+r);this._children.push(r),this.childSet[r.id]=!0,r._setParent(this),r._setScene(this.scene)}this.dirty=!0},t.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},t.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},t.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var o=this.children.indexOf(e);if(!(o>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(o,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(t.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,n=e.indexOf(this);if(n>=0&&n<=e.length-1)return e[n+1]}},enumerable:!0,configurable:!0}),t.prototype.transformPoint=function(t,e){for(var n=Matrix.flyweight(this.matrix),o=this.parent;o;)n.preMultiplySelf(o.matrix),o=o.parent;return n.invertSelf().transformPoint(t,e)},t.prototype.inverseTransformPoint=function(t,e){for(var n=Matrix.flyweight(this.matrix),o=this.parent;o;)n.preMultiplySelf(o.matrix),o=o.parent;return n.transformPoint(t,e)},Object.defineProperty(t.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(t,e){return!1},t.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==PointerEvents.None&&this.containsPoint(t,e)){var n=this.children;if(n.length)for(var o=n.length-1;o>=0;o--){var r=n[o].pickNode(t,e);if(r)return r}else if(!this.isContainerNode)return this}},t.prototype.computeBBox=function(){},t.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},t.prototype.computeTransformMatrix=function(){var t,e,n=__read$5([0,0],2),o=n[0],r=n[1],i=this.scalingX,s=this.scalingY;1===i&&1===s?(t=0,e=0):(t=null===this.scalingCenterX?o:this.scalingCenterX,e=null===this.scalingCenterY?r:this.scalingCenterY);var a,l,c=this.rotation,u=Math.cos(c),p=Math.sin(c);0===c?(a=0,l=0):(a=null===this.rotationCenterX?o:this.rotationCenterX,l=null===this.rotationCenterY?r:this.rotationCenterY);var d=this.translationX,h=this.translationY,f=t*(1-i)-a,g=e*(1-s)-l;this.dirtyTransform=!1,this.matrix.setElements([u*i,p*i,-p*s,u*s,u*f-p*g+a+d,p*f+u*g+l+h]).inverseTo(this.inverseMatrix)},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),t.MAX_SAFE_INTEGER=Math.pow(2,53)-1,t}(),__extends$o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Group=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return __extends$o(e,t),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},set:function(t){t=Math.min(1,Math.max(0,t)),this._opacity!==t&&(this._opacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.containsPoint=function(t,e){return!0},e.prototype.computeBBox=function(){var t=1/0,n=-1/0,o=1/0,r=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(i){if(i.visible){var s=i.computeBBox();if(s){if(!(i instanceof e)){i.dirtyTransform&&i.computeTransformMatrix();for(var a=Matrix.flyweight(i.matrix),l=i.parent;l;)a.preMultiplySelf(l.matrix),l=l.parent;a.transformBBox(s,0,s)}var c=s.x,u=s.y;c<t&&(t=c),u<o&&(o=u),c+s.width>n&&(n=c+s.width),u+s.height>r&&(r=u+s.height)}}}),new BBox(t,o,n-t,r-o)},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.children,n=e.length;t.globalAlpha*=this.opacity;for(var o=0;o<n;o++){var r=e[o];r.visible&&(t.save(),r.render(t),t.restore())}},e.className="Group",e}(Node);function chainObjects(t,e){var n=Object.create(t);for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}var __extends$n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Shape=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.lastInstanceId=0,n._fillOpacity=1,n._strokeOpacity=1,n._fill=e.defaultStyles.fill,n._stroke=e.defaultStyles.stroke,n._strokeWidth=e.defaultStyles.strokeWidth,n._lineDash=e.defaultStyles.lineDash,n._lineDashOffset=e.defaultStyles.lineDashOffset,n._lineCap=e.defaultStyles.lineCap,n._lineJoin=e.defaultStyles.lineJoin,n._opacity=e.defaultStyles.opacity,n.onShadowChange=function(){n.dirty=!0},n._fillShadow=e.defaultStyles.fillShadow,n._strokeShadow=e.defaultStyles.strokeShadow,n}return __extends$n(e,t),e.createInstance=function(t){var e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e},e.prototype.restoreOwnStyles=function(){for(var t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t),n=0,o=e.length;n<o;n++){var r=e[n];this[r]=t[r]}},e.prototype.restoreAllStyles=function(){var t=this.constructor.defaultStyles;for(var e in t)this[e]=t[e]},e.prototype.restoreOverriddenStyles=function(){var t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(this[n]=t[n])},Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(t){this._fillOpacity!==t&&(this._fillOpacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(t){this._strokeOpacity!==t&&(this._strokeOpacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill!==t&&(this._fill=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!==t&&(this._stroke=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth!==t&&(this._strokeWidth=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),e.prototype.align=function(t,e,n){return null!=n?Math.floor(n)+Math.floor(e%1+n%1):Math.floor(e)+t},Object.defineProperty(e.prototype,"lineDash",{get:function(){return this._lineDash},set:function(t){var e=this._lineDash;if(e!==t){if(e&&t&&e.length===t.length){for(var n=!0,o=t.length,r=0;r<o;r++)if(e[r]!==t[r]){n=!1;break}if(n)return}this._lineDash=t,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(t){this._lineDashOffset!==t&&(this._lineDashOffset=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineCap",{get:function(){return this._lineCap},set:function(t){this._lineCap!==t&&(this._lineCap=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},set:function(t){t=Math.min(1,Math.max(0,t)),this._opacity!==t&&(this._opacity=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(t){var e=this._fillShadow;e!==t&&(e&&e.removeEventListener("change",this.onShadowChange),t&&t.addEventListener("change",this.onShadowChange),this._fillShadow=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(t){var e=this._strokeShadow;e!==t&&(e&&e.removeEventListener("change",this.onShadowChange),t&&t.addEventListener("change",this.onShadowChange),this._strokeShadow=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.fillStroke=function(t){if(this.scene){var e=this.scene.canvas.pixelRatio||1,n=t.globalAlpha;if(this.fill){t.fillStyle=this.fill,t.globalAlpha=n*this.opacity*this.fillOpacity;var o=this.fillShadow;o&&o.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*e,t.shadowOffsetY=o.yOffset*e,t.shadowBlur=o.blur*e),t.fill()}if(t.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){t.strokeStyle=this.stroke,t.globalAlpha=n*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin);var r=this.strokeShadow;r&&r.enabled&&(t.shadowColor=r.color,t.shadowOffsetX=r.xOffset*e,t.shadowOffsetY=r.yOffset*e,t.shadowBlur=r.blur*e),t.stroke()}}},e.prototype.containsPoint=function(t,e){return this.isPointInPath(t,e)},e.defaultStyles=chainObjects({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),e}(Node),sign=Math.sign?Math.sign:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1};function linearRoot(t,e){var n=-e/t;return 0!==t&&n>=0&&n<=1?[n]:[]}function quadraticRoots(t,e,n){if(0===t)return linearRoot(e,n);var o=e*e-4*t*n,r=[];if(0===o){var i=-e/(2*t);i>=0&&i<=1&&r.push(i)}else if(o>0){var s=Math.sqrt(o),a=(-e-s)/(2*t),l=(-e+s)/(2*t);a>=0&&a<=1&&r.push(a),l>=0&&l<=1&&r.push(l)}return r}function cubicRoots(t,e,n,o){if(0===t)return quadraticRoots(e,n,o);var r=e/t,i=n/t,s=(3*i-r*r)/9,a=(9*r*i-o/t*27-2*r*r*r)/54,l=s*s*s+a*a,c=1/3,u=[];if(l>=0){var p=Math.sqrt(l),d=sign(a+p)*Math.pow(Math.abs(a+p),c),h=sign(a-p)*Math.pow(Math.abs(a-p),c),f=Math.abs(Math.sqrt(3)*(d-h)/2),g=-c*r+(d+h);if(g>=0&&g<=1&&u.push(g),0===f){var m=-c*r-(d+h)/2;m>=0&&m<=1&&u.push(m)}}else{var y=Math.acos(a/Math.sqrt(-s*s*s)),_=c*r,v=2*Math.sqrt(-s),C=v*Math.cos(c*y)-_,E=v*Math.cos(c*(y+2*Math.PI))-_,w=v*Math.cos(c*(y+4*Math.PI))-_;C>=0&&C<=1&&u.push(C),E>=0&&E<=1&&u.push(E),w>=0&&w<=1&&u.push(w)}return u}function segmentIntersection(t,e,n,o,r,i,s,a){var l=(n-t)*(a-i)-(o-e)*(s-r);if(0===l)return null;var c=((s-r)*(e-i)-(t-r)*(a-i))/l,u=((n-t)*(e-i)-(o-e)*(t-r))/l;return c>=0&&c<=1&&u>=0&&u<=1?{x:t+c*(n-t),y:e+c*(o-e)}:null}function cubicSegmentIntersections(t,e,n,o,r,i,s,a,l,c,u,p){for(var d=[],h=c-p,f=u-l,g=l*(p-c)-c*(u-l),m=bezierCoefficients(t,n,r,s),y=bezierCoefficients(e,o,i,a),_=cubicRoots(h*m[0]+f*y[0],h*m[1]+f*y[1],h*m[2]+f*y[2],h*m[3]+f*y[3]+g),v=0;v<_.length;v++){var C,E=_[v],w=E*E,O=E*w,b=m[0]*O+m[1]*w+m[2]*E+m[3],S=y[0]*O+y[1]*w+y[2]*E+y[3];(C=l!==u?(b-l)/(u-l):(S-c)/(p-c))>=0&&C<=1&&d.push({x:b,y:S})}return d}function bezierCoefficients(t,e,n,o){return[3*e-t-3*n+o,3*t-6*e+3*n,-3*t+3*e,t]}var Path2D=function(){function t(){this.commands=[],this.params=[],this._closedPath=!1}return t.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},t.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},t.prototype.rect=function(t,e,n,o){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+o),this.lineTo(t,e+o),this.closePath()},t.prototype.arcTo=function(t,e,n,o,r,i,s){var a=this.xy;if(a){t<0&&(t=-t),e<0&&(e=-e);var l=a[0],c=a[1],u=(l-i)/2,p=(c-s)/2,d=Math.sin(n),h=Math.cos(n),f=h*u+d*p,g=-d*u+h*p,m=f/t,y=g/e,_=m*m+y*y,v=(l+i)/2,C=(c+s)/2,E=0,w=0;_>=1?(t*=_=Math.sqrt(_),e*=_):(_=Math.sqrt(1/_-1),o===r&&(_=-_),v+=h*(E=_*t*y)-d*(w=-_*e*m),C+=d*E+h*w);var O=Math.atan2((g-w)/e,(f-E)/t),b=Math.atan2((-g-w)/e,(-f-E)/t)-O;this.cubicArc(v,C,t,e,n,O,O+b,1-r)}},t.cubicArc=function(t,e,n,o,r,i,s,a,l,c){if(c){var u=a;a=l,l=u}var p=e.length,d=.5522847498307935,h=Math.sin(a),f=Math.cos(a),g=Math.sin(s),m=Math.cos(s),y=Math.PI/2,_=m*f*r-g*h*i,v=g*f*r+m*h*i,C=-m*h*r-g*f*i,E=-g*h*r+m*f*i;for((l-=a)<0&&(l+=2*Math.PI),t.push("M"),e.push(_+n,v+o);l>=y;){l-=y,t.push("C");var w=C+n;e.push(_+C*d+n,v+E*d+o,_*d+C+n,v*d+E+o,Math.abs(w)<1e-8?0:w,E+o),u=_,_=C,C=-u,u=v,v=E,E=-u}if(l){var O=4/3*Math.tan(l/4),b=Math.sin(l),S=Math.cos(l),P=S+O*b,D=b-O*S;t.push("C"),w=_*S+C*b+n,e.push(_+C*O+n,v+E*O+o,_*P+C*D+n,v*P+E*D+o,Math.abs(w)<1e-8?0:w,v*S+E*b+o)}if(c)for(var T=p,R=e.length-2;T<R;T+=2,R-=2)u=e[T],e[T]=e[R],e[R]=u,u=e[T+1],e[T+1]=e[R+1],e[R+1]=u},t.prototype.cubicArc=function(e,n,o,r,i,s,a,l){var c=this.commands,u=this.params,p=c.length;t.cubicArc(c,u,e,n,o,r,i,s,a,l);var d=u[u.length-2],h=u[u.length-1];this.xy?(c[p]="L",this.xy[0]=d,this.xy[1]=h):this.xy=[d,h]},t.prototype.deCasteljau=function(t,e){var n=t.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var o=[],r=n-2,i=0;i<r;i+=2)o.push((1-e)*t[i]+e*t[i+2],(1-e)*t[i+1]+e*t[i+3]);return this.deCasteljau(o,e)},t.prototype.approximateCurve=function(t,e){var n=this.deCasteljau(t,0);this.moveTo(n[0],n[1]);for(var o=1/e,r=o;r<=1;r+=o){var i=this.deCasteljau(t,r);this.lineTo(i[0],i[1])}},t.prototype.quadraticCurveTo=function(t,e,n,o){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+n)/3,(2*e+o)/3,n,o)},t.prototype.cubicCurveTo=function(t,e,n,o,r,i){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,n,o,r,i),this.xy[0]=r,this.xy[1]=i},Object.defineProperty(t.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),t.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},t.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},t.prototype.isPointInPath=function(t,e){for(var n=this.commands,o=this.params,r=n.length,i=-1e4,s=-1e4,a=NaN,l=NaN,c=0,u=0,p=0,d=0,h=0;d<r;d++)switch(n[d]){case"M":isNaN(a)||segmentIntersection(a,l,c,u,i,s,t,e)&&p++,a=c=o[h++],l=u=o[h++];break;case"L":segmentIntersection(c,u,c=o[h++],u=o[h++],i,s,t,e)&&p++;break;case"C":p+=cubicSegmentIntersections(c,u,o[h++],o[h++],o[h++],o[h++],c=o[h++],u=o[h++],i,s,t,e).length;break;case"Z":isNaN(a)||segmentIntersection(a,l,c,u,i,s,t,e)&&p++}return p%2==1},t.fromString=function(e){var n=new t;return n.setFromString(e),n},t.parseSvgPath=function(e){return e.trim().split(t.splitCommandsRe).map(function(e){var n=e.match(t.matchParamsRe);return{command:e.substr(0,1),params:n?n.map(parseFloat):[]}})},t.prettifySvgPath=function(e){return t.parseSvgPath(e).map(function(t){return t.command+t.params.join(",")}).join("\n")},t.prototype.setFromString=function(e){var n,o,r,i,s,a=this;function l(){s.match(t.quadraticCommandRe)||(r=n,i=o)}function c(){s.match(t.cubicCommandRe)||(r=n,i=o)}this.clear(),t.parseSvgPath(e).forEach(function(t){var e=t.params,u=e.length,p=0;switch(t.command){case"M":for(a.moveTo(n=e[p++],o=e[p++]);p<u;)a.lineTo(n=e[p++],o=e[p++]);break;case"m":for(a.moveTo(n+=e[p++],o+=e[p++]);p<u;)a.lineTo(n+=e[p++],o+=e[p++]);break;case"L":for(;p<u;)a.lineTo(n=e[p++],o=e[p++]);break;case"l":for(;p<u;)a.lineTo(n+=e[p++],o+=e[p++]);break;case"C":for(;p<u;)a.cubicCurveTo(e[p++],e[p++],r=e[p++],i=e[p++],n=e[p++],o=e[p++]);break;case"c":for(;p<u;)a.cubicCurveTo(n+e[p++],o+e[p++],r=n+e[p++],i=o+e[p++],n+=e[p++],o+=e[p++]);break;case"S":for(c();p<u;)a.cubicCurveTo(n+n-r,o+o-i,r=e[p++],i=e[p++],n=e[p++],o=e[p++]);break;case"s":for(c();p<u;)a.cubicCurveTo(n+n-r,o+o-i,r=n+e[p++],i=o+e[p++],n+=e[p++],o+=e[p++]);break;case"Q":for(;p<u;)a.quadraticCurveTo(r=e[p++],i=e[p++],n=e[p++],o=e[p++]);break;case"q":for(;p<u;)a.quadraticCurveTo(r=n+e[p++],i=o+e[p++],n+=e[p++],o+=e[p++]);break;case"T":for(l();p<u;)a.quadraticCurveTo(r=n+n-r,i=o+o-i,n=e[p++],o=e[p++]);break;case"t":for(l();p<u;)a.quadraticCurveTo(r=n+n-r,i=o+o-i,n+=e[p++],o+=e[p++]);break;case"A":for(;p<u;)a.arcTo(e[p++],e[p++],e[p++]*Math.PI/180,e[p++],e[p++],n=e[p++],o=e[p++]);break;case"a":for(;p<u;)a.arcTo(e[p++],e[p++],e[p++]*Math.PI/180,e[p++],e[p++],n+=e[p++],o+=e[p++]);break;case"Z":case"z":a.closePath();break;case"H":for(;p<u;)a.lineTo(n=e[p++],o);break;case"h":for(;p<u;)a.lineTo(n+=e[p++],o);break;case"V":for(;p<u;)a.lineTo(n,o=e[p++]);break;case"v":for(;p<u;)a.lineTo(n,o+=e[p++])}s=t.command})},t.prototype.toString=function(){for(var t=this.commands,e=this.params,n=t.length,o=[],r=0,i=0;r<n;r++)switch(t[r]){case"M":o.push("M"+e[i++]+","+e[i++]);break;case"L":o.push("L"+e[i++]+","+e[i++]);break;case"C":o.push("C"+e[i++]+","+e[i++]+" "+e[i++]+","+e[i++]+" "+e[i++]+","+e[i++]);break;case"Z":o.push("Z")}return o.join("")},t.prototype.toPrettyString=function(){return t.prettifySvgPath(this.toString())},t.prototype.toSvg=function(){return t.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+t.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},t.prototype.toDebugSvg=function(){var e=t.prettifySvgPath(this.toString());return t.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+t.xmlns+'">\n    <path d="'+e+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},t.prototype.toCubicPaths=function(){var t,e,n,o,r,i=[],s=this.params,a=0;return this.commands.forEach(function(l){switch(l){case"M":t=[e=o=s[a++],n=r=s[a++]],i.push(t);break;case"L":var c=s[a++],u=s[a++];t.push((o+o+c)/3,(r+r+u)/3,(o+c+c)/3,(r+u+u)/3,o=c,r=u);break;case"C":t.push(s[a++],s[a++],s[a++],s[a++],o=s[a++],r=s[a++]);break;case"Z":t.push((o+o+e)/3,(r+r+n)/3,(o+e+e)/3,(r+n+n)/3,o=e,r=n)}}),i},t.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},t.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,t.matchParamsRe=/-?[0-9]*\.?\d+/g,t.quadraticCommandRe=/[QqTt]/,t.cubicCommandRe=/[CcSs]/,t.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',t.xmlns="http://www.w3.org/2000/svg",t}(),__extends$m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Path=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new Path2D,e._dirtyPath=!0,e._svgPath="",e}return __extends$m(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"svgPath",{get:function(){return this._svgPath},set:function(t){this._svgPath!==t&&(this._svgPath=t,this.path.setFromString(t),this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.updatePath=function(){},e.prototype.render=function(t){var e=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),e.appendPath(this.path),this.fillStroke(t),this.dirty=!1},e.className="Path",e}(Shape),__extends$l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Line=function(t){function e(){var e=t.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return __extends$l(e,t),Object.defineProperty(e.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1!==t&&(this._x1=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1!==t&&(this._y1=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2!==t&&(this._x2=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2!==t&&(this._y2=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this.x1,n=this.y1,o=this.x2,r=this.y2;if(e===o){var i=Math.round(e)+Math.floor(this.strokeWidth)%2/2;e=i,o=i}else if(n===r){var s=Math.round(n)+Math.floor(this.strokeWidth)%2/2;n=s,r=s}t.beginPath(),t.moveTo(e,n),t.lineTo(o,r),this.fillStroke(t),this.dirty=!1},e.className="Line",e.defaultStyles=chainObjects(Shape.defaultStyles,{fill:void 0,strokeWidth:1}),e}(Shape),__read$4=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},BandScale=function(){function t(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var n=this.index;t.forEach(function(t){void 0===n.get(t)&&n.set(t,e.push(t)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),t.prototype.ticks=function(){return this._domain},t.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},Object.defineProperty(t.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var t,e=this._domain.length;if(e){var n=__read$4(this._range,2),o=n[0],r=n[1],i=r<o;i&&(o=(t=__read$4([r,o],2))[0],r=t[1]);var s=(r-o)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(s=Math.floor(s)),o+=(r-o-s*(e-this._paddingInner))*this._align,this._bandwidth=s*(1-this._paddingInner),this._round&&(o=Math.round(o),this._bandwidth=Math.round(this._bandwidth));for(var a=[],l=0;l<e;l++)a.push(o+s*l);this.ordinalRange=i?a.reverse():a}},t}(),EnterNode=function(){function t(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return t.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!Node.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},t.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},t}(),Selection=function(){function t(t,e){this.groups=t,this.parents=e}return t.select=function(e){return new t([["function"==typeof e?e():e]],[void 0])},t.selectAll=function(e){return new t([null==e?[]:e],[void 0])},t.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},t.prototype.appendFn=function(t){return this.select(function(e,n,o,r){return e.appendChild(t(e,n,o,r))})},t.prototype.select=function(e){for(var n=this.groups,o=n.length,r=[],i=0;i<o;i++)for(var s=n[i],a=s.length,l=r[i]=new Array(a),c=0;c<a;c++){var u=s[c];if(u){var p=e(u,u.datum,c,s);p&&(p.datum=u.datum),l[c]=p}}return new t(r,this.parents)},t.prototype.selectByClass=function(t){return this.select(function(e){if(Node.isNode(e))for(var n=e.children,o=n.length,r=0;r<o;r++){var i=n[r];if(i instanceof t)return i}})},t.prototype.selectByTag=function(t){return this.select(function(e){if(Node.isNode(e))for(var n=e.children,o=n.length,r=0;r<o;r++){var i=n[r];if(i.tag===t)return i}})},t.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var n=[];if(Node.isNode(e))for(var o=e.children,r=o.length,i=0;i<r;i++){var s=o[i];s instanceof t&&n.push(s)}return n})},t.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var n=[];if(Node.isNode(e))for(var o=e.children,r=o.length,i=0;i<r;i++){var s=o[i];s.tag===t&&n.push(s)}return n})},t.prototype.selectNone=function(){return[]},t.prototype.selectAll=function(e){e||(e=this.selectNone);for(var n=[],o=[],r=this.groups,i=r.length,s=0;s<i;s++)for(var a=r[s],l=a.length,c=0;c<l;c++){var u=a[c];u&&(n.push(e(u,u.datum,c,a)),o.push(u))}return new t(n,o)},t.prototype.each=function(t){for(var e=this.groups,n=e.length,o=0;o<n;o++)for(var r=e[o],i=r.length,s=0;s<i;s++){var a=r[s];a&&t(a,a.datum,s,r)}return this},t.prototype.remove=function(){return this.each(function(t){if(Node.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},t.prototype.merge=function(e){for(var n=this.groups,o=e.groups,r=n.length,i=Math.min(r,o.length),s=new Array(r),a=0;a<i;a++)for(var l=n[a],c=o[a],u=l.length,p=s[a]=new Array(u),d=0;d<u;d++)p[d]=l[d]||c[d]||void 0;for(;a<r;a++)s[a]=n[a];return new t(s,this.parents)},t.prototype.node=function(){for(var t=this.groups,e=t.length,n=0;n<e;n++)for(var o=t[n],r=o.length,i=0;i<r;i++){var s=o[i];if(s)return s}return null},t.prototype.attr=function(t,e){return this.each(function(n){n[t]=e}),this},t.prototype.attrFn=function(t,e){return this.each(function(n,o,r,i){n[t]=e(n,o,r,i)}),this},t.prototype.call=function(t){return t(this),this},Object.defineProperty(t.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var t=[];return this.each(function(e,n){return t.push(n)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enter",{get:function(){return new t(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exit",{get:function(){return new t(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),t.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(t.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),t.prototype.setData=function(e,n){if("function"!=typeof e){var o=e;e=function(){return o}}for(var r=this.groups,i=this.parents,s=r.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;u++){var p=r[u],d=i[u];if(!d)throw new Error("Group #"+u+" has no parent: "+p);var h=p.length,f=e(d,d.datum,u,i),g=f.length,m=l[u]=new Array(g),y=a[u]=new Array(g),_=c[u]=new Array(h);n?this.bindKey(d,p,m,y,_,f,n):this.bindIndex(d,p,m,y,_,f);for(var v=0,C=0;v<g;v++){var E=m[v];if(E){v>=C&&(C=v+1);for(var w=void 0;!(w=y[C])&&C<g;)C++;E.next=w||null}}}var O=new t(a,i);return O.enterGroups=l,O.exitGroups=c,O},t.prototype.bindIndex=function(t,e,n,o,r,i){for(var s=e.length,a=i.length,l=0;l<a;l++)(c=e[l])?(c.datum=i[l],o[l]=c):n[l]=new EnterNode(t,i[l]);for(;l<s;l++){var c;(c=e[l])&&(r[l]=c)}},t.prototype.bindKey=function(e,n,o,r,i,s,a){for(var l=n.length,c=s.length,u=new Array(l),p={},d=0;d<l;d++)(f=n[d])&&((h=u[d]=t.keyPrefix+a(f,f.datum,d,n))in p?i[d]=f:p[h]=f);for(d=0;d<c;d++){var h;(f=p[h=t.keyPrefix+a(e,s[d],d,s)])?(r[d]=f,f.datum=s[d],p[h]=void 0):o[d]=new EnterNode(e,s[d])}for(d=0;d<l;d++){var f;(f=n[d])&&p[u[d]]===f&&(i[d]=f)}},t.keyPrefix="$",t}(),HdpiCanvas=function(){function t(t,e,n){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===n&&(n=300),this._container=void 0,this._pixelRatio=NaN,this._width=100,this._height=100,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,n)}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),t.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},t.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},t.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},t.prototype.getDataURL=function(t){return this.element.toDataURL(t)},t.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var e=this.getDataURL("image/png"),n=this.document,o=n.createElement("a");o.href=e,o.download=t,o.style.display="none",n.body.appendChild(o),o.click(),n.body.removeChild(o)},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),t.prototype.setPixelRatio=function(e){var n=e||window.devicePixelRatio;n!==this.pixelRatio&&(t.overrideScale(this.context,n),this._pixelRatio=n,this.resize(this.width,this.height))},Object.defineProperty(t.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,o=n.element,r=n.context,i=n.pixelRatio;o.width=Math.round(t*i),o.height=Math.round(e*i),o.style.width=t+"px",o.style.height=e+"px",r.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(t,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(t,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),t.measureText=function(t,e,n,o){var r=this.textMeasuringContext;return r.font=e,r.textBaseline=n,r.textAlign=o,r.measureText(t)},t.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var o=n.measureText(t);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},t.measureSvgText=function(t,e){var n=this.textSizeCache,o=n[e];if(o){var r=o[t];if(r)return r}else n[e]={};var i=this.svgText;i.style.font=e,i.textContent=t;var s=i.getBBox(),a={width:s.width,height:s.height};return n[e][t]=a,a},t.overrideScale=function(t,e){var n=0,o={save:function(){this.$save(),n++},restore:function(){n>0&&(this.$restore(),n--)},setTransform:function(t,n,o,r,i,s){this.$setTransform(t*e,n*e,o*e,r*e,i*e,s*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),n=0}};for(var r in o)o.hasOwnProperty(r)&&(t["$"+r]||(t["$"+r]=t[r]),t[r]=o[r])},t.textSizeCache={},t}(),__read$3=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$3(arguments[e]));return t},Scene=function(){function t(t,e,n){var o=this;void 0===t&&(t=window.document),this.id=createId(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var t,e=o.ctx,n=o.root,r=o.pendingSize;o.animationFrameId=0,r&&((t=o.canvas).resize.apply(t,__spread(r)),o.pendingSize=void 0),!n||n.visible?(e.clearRect(0,0,o.width,o.height),n&&(e.save(),n.visible&&n.render(e),e.restore()),o._frameIndex++,o.debug.renderFrameIndex&&(e.fillStyle="white",e.fillRect(0,0,40,15),e.fillStyle="black",e.fillText(o.frameIndex.toString(),2,10)),o.dirty=!1):o.dirty=!1},this.canvas=new HdpiCanvas(t,e,n),this.ctx=this.canvas.context}return Object.defineProperty(t.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),t.prototype.download=function(t){this.canvas.download(t)},t.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),t.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),t===this.width&&e===this.height||(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=t},enumerable:!0,configurable:!0}),t.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(t.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.appendPath=function(t){var e=this.ctx,n=t.commands,o=t.params,r=n.length,i=0;e.beginPath();for(var s=0;s<r;s++)switch(n[s]){case"M":e.moveTo(o[i++],o[i++]);break;case"L":e.lineTo(o[i++],o[i++]);break;case"C":e.bezierCurveTo(o[i++],o[i++],o[i++],o[i++],o[i++],o[i++]);break;case"Z":e.closePath()}},Object.defineProperty(t.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),t.className="Scene",t}(),__assign$1=function(){return(__assign$1=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Observable=function(){function t(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return t.prototype.addPropertyListener=function(t,e,n){void 0===n&&(n=this);var o=this.allPropertyListeners,r=o.get(t);if(r||(r=new Map,o.set(t,r)),!r.has(e)){var i=new Set;r.set(e,i)}var s=r.get(e);s&&s.add(n)},t.prototype.removePropertyListener=function(t,e,n){void 0===n&&(n=this);var o=this.allPropertyListeners.get(t);if(o)if(e){var r=o.get(e);r&&(r.delete(n),r.size||o.delete(e))}else o.clear()},t.prototype.notifyPropertyListeners=function(t,e,n){var o=this,r=this.allPropertyListeners.get(t);r&&r.forEach(function(r,i){r.forEach(function(r){return i.call(r,{type:t,source:o,value:n,oldValue:e})})})},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=this);var o=this.allEventListeners,r=o.get(t);if(r||(r=new Map,o.set(t,r)),!r.has(e)){var i=new Set;r.set(e,i)}var s=r.get(e);s&&s.add(n)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=this);var o=this.allEventListeners.get(t);if(o)if(e){var r=o.get(e);r&&(r.delete(n),r.size||o.delete(e))}else o.clear()},t.prototype.notifyEventListeners=function(t){var e=this,n=this.allEventListeners;t.forEach(function(t){var o=n.get(t);o&&o.forEach(function(n,o){n.forEach(function(n){return o.call(n,{type:t,source:e})})})})},t.prototype.fireEvent=function(t){var e=this,n=this.allEventListeners.get(t.type);n&&n.forEach(function(n,o){n.forEach(function(n){return o.call(n,__assign$1(__assign$1({},t),{source:e}))})})},t.privateKeyPrefix="_",t}();function reactive(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.indexOf("debugger"),function(e,n){var o=Observable.privateKeyPrefix+n,r=o+"Events";e[n]||(t&&(e[r]=t),Object.defineProperty(e,n,{set:function(t){var e=this[o];if(t!==e||"object"==typeof t&&null!==t){this[o]=t,this.notifyPropertyListeners(n,e,t);var i=this[r];i&&this.notifyEventListeners(i)}},get:function(){return this[o]},enumerable:!0,configurable:!0}))}}var Padding=function(){function t(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===o&&(o=e),this.top=t,this.right=e,this.bottom=n,this.left=o}return t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},t}(),defaultTooltipCss="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n";function isNumber(t){return"number"==typeof t&&Number.isFinite(t)}function isNumberObject(t){return!!t&&t.hasOwnProperty("valueOf")&&isNumber(t.valueOf())}function isNumeric(t){return isNumber(t)||isNumberObject(t)}function isDate(t){return t instanceof Date&&!isNaN(+t)}function isString(t){return"string"==typeof t}function isStringObject(t){return!!t&&t.hasOwnProperty("toString")&&isString(t.toString())}function isContinuous(t){return isNumeric(t)||isDate(t)}var constant$1=function(t){return function(){return t}};function interpolateNumber(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function date(t,e){var n=new Date,o=+t,r=+e;return function(t){return n.setTime(o*(1-t)+r*t),n}}function array(t,e){var n,o=e?e.length:0,r=t?Math.min(o,t.length):0,i=new Array(r),s=new Array(o);for(n=0;n<r;++n)i[n]=interpolateValue(t[n],e[n]);for(;n<o;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=i[n](t);return s}}function object(t,e){var n,o={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?o[n]=interpolateValue(t[n],e[n]):r[n]=e[n];return function(t){for(n in o)r[n]=o[n](t);return r}}var __read$2=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Color=function(){function t(t,e,n,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,o||0))}return t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map(function(t){return parseInt(t,16)}).map(function(t){return t+16*t})}if(e.length>=3&&e.every(function(t){return t>=0}))return 3===e.length&&e.push(255),e},t.fromHexString=function(e){var n=t.parseHex(e);if(n){var o=__read$2(n,4);return new t(o[0]/255,o[1]/255,o[2]/255,o[3]/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.stringToRgba=function(t){for(var e=__read$2([NaN,NaN],2),n=e[0],o=e[1],r=0;r<t.length;r++){var i=t[r];if(n||"("!==i){if(")"===i){o=r;break}}else n=r}var s=n&&o&&t.substring(n+1,o);if(s){var a=s.split(","),l=[];for(r=0;r<a.length;r++){var c=a[r],u=parseFloat(c);if(isNaN(u))return;c.indexOf("%")>=0?(u=Math.max(0,Math.min(100,u)),u/=100):3===r?u=Math.max(0,Math.min(1,u)):(u=Math.max(0,Math.min(255,u)),u/=255),l.push(u)}return l}},t.fromRgbaString=function(e){var n=t.stringToRgba(e);if(n){if(3===n.length)return new t(n[0],n[1],n[2]);if(4===n.length)return new t(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,o,r){void 0===r&&(r=1);var i=t.HSBtoRGB(e,n,o);return new t(i[0],i[1],i[2],r)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var o=Math.min(t,e,n),r=Math.max(t,e,n),i=NaN;if(o!==r){var s=r-o,a=(r-t)/s,l=(r-e)/s,c=(r-n)/s;i=t===r?c-l:e===r?2+a-c:4+l-a,(i/=6)<0&&(i+=1)}return[360*i,0!==r?(r-o)/r:0,r]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,r=0,i=0;if(0===e)o=r=i=n;else{var s=6*(t-Math.floor(t)),a=s-Math.floor(s),l=n*(1-e),c=n*(1-e*a),u=n*(1-e*(1-a));switch(s>>0){case 0:o=n,r=u,i=l;break;case 1:o=c,r=n,i=l;break;case 2:o=l,r=n,i=u;break;case 3:o=l,r=c,i=n;break;case 4:o=u,r=l,i=n;break;case 5:o=n,r=l,i=c}}return[o,r,i]},t.prototype.derive=function(e,n,o,r){var i=t.RGBtoHSB(this.r,this.g,this.b),s=i[2];0==s&&o>1&&(s=.05);var a=((i[0]+e)%360+360)%360,l=Math.max(Math.min(i[1]*n,1),0);s=Math.max(Math.min(s*o,1),0);var c=Math.max(Math.min(this.a*r,1),0),u=t.HSBtoRGB(a,l,s);return u.push(c),t.fromArray(u)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}();function color(t,e){if("string"==typeof t)try{t=Color.fromString(t)}catch(s){t=Color.fromArray([0,0,0])}if("string"==typeof e)try{e=Color.fromString(e)}catch(s){e=Color.fromArray([0,0,0])}var n=interpolateNumber(t.r,e.r),o=interpolateNumber(t.g,e.g),r=interpolateNumber(t.b,e.b),i=interpolateNumber(t.a,e.a);return function(t){return Color.fromArray([n(t),o(t),r(t),i(t)]).toRgbaString()}}function interpolateValue(t,e){var n=typeof e;if(null==e||"boolean"===n)return constant$1(e);if("number"===n)return interpolateNumber(t,e);if("string"===n)try{return color(t,e=Color.fromString(e))}catch(o){}return e instanceof Color?color(t,e):e instanceof Date?date(t,e):Array.isArray(e)?array(t,e):"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object(t,e):interpolateNumber(t,e)}var __read$1=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},constant=function(t){return function(){return t}},identity$2=function(t){return t};function clamper(t){var e,n=t[0],o=t[t.length-1];return n>o&&(e=__read$1([o,n],2),n=e[0],o=e[1]),function(t){return Math.max(n,Math.min(o,t))}}var ContinuousScale=function(){function t(){this.unknown=void 0,this._clamp=identity$2,this._domain=[0,1],this._range=[0,1],this.transform=identity$2,this.untransform=identity$2,this._interpolate=interpolateValue,this.rescale()}return Object.defineProperty(t.prototype,"clamp",{get:function(){return this._clamp!==identity$2},set:function(t){this._clamp=t?clamper(this.domain):identity$2},enumerable:!0,configurable:!0}),t.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(t){return+t}),this._clamp!==identity$2&&(this._clamp=clamper(this.domain)),this.rescale()},t.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(t.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){this.piecewise=this.bimap,this.output=void 0,this.input=void 0},t.prototype.normalize=function(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:constant(isNaN(e)?NaN:.5)},t.prototype.bimap=function(t,e,n){var o,r,i=t[0],s=t[1],a=e[0],l=e[1];return s<i?(o=this.normalize(s,i),r=n(l,a)):(o=this.normalize(i,s),r=n(a,l)),function(t){return r(o(t))}},t.prototype.convert=function(t){return t=+t,isNaN(t)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(t))))},t.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),interpolateNumber)),this._clamp(this.untransform(this.input(t)))},t}(),__extends$k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function ticks(t,e,n){var o=tickStep(t,e,n);return range(t=Math.ceil(t/o)*o,e=Math.floor(e/o)*o+o/2,o)}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickStep(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),i=o/r;return i>=e10?r*=10:i>=e5?r*=5:i>=e2&&(r*=2),e<t?-r:r}function tickIncrement(t,e,n){var o=(e-t)/Math.max(0,n),r=Math.floor(Math.log(o)/Math.LN10),i=o/Math.pow(10,r);return r>=0?(i>=e10?10:i>=e5?5:i>=e2?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(i>=e10?10:i>=e5?5:i>=e2?2:1)}var NumericTicks=function(t){function e(e,n){var o=t.call(this)||this;if(n)for(var r=0,i=n.length;r<i;r++)o[r]=n[r];return o.fractionDigits=e,o}return __extends$k(e,t),e}(Array);function range(t,e,n){void 0===n&&(n=1);for(var o=Math.abs(n),r=o>0&&o<1?Math.abs(Math.floor(Math.log(o)/Math.LN10)):0,i=Math.pow(10,r),s=Math.max(0,Math.ceil((e-t)/n))||0,a=new NumericTicks(r),l=0;l<s;l++)a[l]=Math.round((t+n*l)*i)/i;return a}function formatDefault(t,e){var n=t.toPrecision(e);t:for(var o=n.length,r=1,i=-1,s=0;r<o;++r)switch(n[r]){case".":i=s=r;break;case"0":0===i&&(i=r),s=r;break;case"e":break t;default:i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(s+1):n}var formatTypes={"":formatDefault,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return String(t)},d:formatDecimal,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return formatRounded(100*t,e)},r:formatRounded,s:formatPrefixAuto,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},prefixes=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],FormatSpecifier=function t(e){e instanceof t?(this.fill=e.fill,this.align=e.align,this.sign=e.sign,this.symbol=e.symbol,this.zero=e.zero,this.width=e.width,this.comma=e.comma,this.precision=e.precision,this.trim=e.trim,this.type=e.type,this.string=e.string):(this.fill=void 0===e.fill?" ":String(e.fill),this.align=void 0===e.align?">":String(e.align),this.sign=void 0===e.sign?"-":String(e.sign),this.symbol=void 0===e.symbol?"":String(e.symbol),this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":String(e.type),this.string=e.string)},formatRegEx=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,interpolateRegEx=/(#\{(.*?)\})/g,prefixExponent,formatDefaultLocale,format,formatPrefix;function makeFormatSpecifier(t){if(t instanceof FormatSpecifier)return new FormatSpecifier(t);var e=!1,n=t.replace(interpolateRegEx,function(){return e||(t=arguments[2],e=!0),"#{}"}),o=formatRegEx.exec(t);if(!o)throw new Error("Invalid format: "+t);return new FormatSpecifier({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10],string:e?n:void 0})}function tickFormat(t,e,n,o){var r,i=tickStep(t,e,n),s=makeFormatSpecifier(null==o?",f":o);switch(s.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=s.precision||isNaN(r=precisionPrefix(i,a))||(s.precision=r),formatPrefix(s,a);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(r=precisionRound(i,Math.max(Math.abs(t),Math.abs(e))))||(s.precision=r-+("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(r=precisionFixed(i))||(s.precision=r-2*+("%"===s.type))}return format(s)}function formatPrefixAuto(t,e){void 0===e&&(e=0);var n=formatDecimalParts(t,e);if(!n)return String(t);var o=n[0],r=n[1],i=r-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=o.length;if(i===s)return o;if(i>s)return o+new Array(i-s+1).join("0");if(i>0)return o.slice(0,i)+"."+o.slice(i);var a=formatDecimalParts(t,Math.max(0,e+i-1));return"0."+new Array(1-i).join("0")+a[0]}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatGroup(t,e){return function(n,o){for(var r=[],i=n.length,s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>o&&(a=Math.max(1,o-l)),r.push(n.substring(i-=a,i+a)),!((l+=a+1)>o));)a=t[s=(s+1)%t.length];return r.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}function formatTrim(t){t:for(var e=t.length,n=1,o=-1,r=0;n<e;++n)switch(t[n]){case".":o=r=n;break;case"0":0===o&&(o=n),r=n;break;default:if(!+t[n])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(r+1):t}function formatRounded(t,e){var n=formatDecimalParts(t,e);if(!n)return String(t);var o=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+o:o.length>r+1?o.slice(0,r+1)+"."+o.slice(r+1):o+new Array(r-o.length+2).join("0")}function formatDecimalParts(t,e){var n=e?t.toExponential(e-1):t.toExponential(),o=n.indexOf("e");if(!(o<0)){var r=n.slice(0,o);return[r.length>1?r[0]+r.slice(2):r,+n.slice(o+1)]}}function identity$1(t){return t}function defaultLocale(t){formatDefaultLocale=formatLocale$1(t),format=formatDefaultLocale.format,formatPrefix=formatDefaultLocale.formatPrefix}function exponent(t){var e=formatDecimalParts(Math.abs(t));return e?e[1]:NaN}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){var n=Math.floor(exponent(e)/3);return n=Math.min(8,n),n=Math.max(-8,n),Math.max(0,3*n-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}function formatLocale$1(t){var e=void 0===t.grouping||void 0===t.thousands?identity$1:formatGroup(Array.prototype.map.call(t.grouping,Number),String(t.thousands)),n=void 0===t.currency?"":String(t.currency[0]),o=void 0===t.currency?"":String(t.currency[1]),r=void 0===t.decimal?".":String(t.decimal),i=void 0===t.numerals?identity$1:formatNumerals(Array.prototype.map.call(t.numerals,String)),s=void 0===t.percent?"%":String(t.percent),a=void 0===t.minus?"\u2212":String(t.minus),l=void 0===t.nan?"NaN":String(t.nan);function c(t){var c=makeFormatSpecifier(t),u=c.fill,p=c.align,d=c.sign,h=c.symbol,f=c.zero,g=c.width,m=c.comma,y=c.precision,_=c.trim,v=c.type;"n"===v?(m=!0,v="g"):formatTypes[v]||(void 0===y&&(y=12),_=!0,v="g"),(f||"0"===u&&"="===p)&&(f=!0,u="0",p="=");var C="$"===h?n:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",E="$"===h?o:/[%p]/.test(v)?s:"",w=formatTypes[v],O=/[defgprs%]/.test(v);return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),function(t){var n,o=C,s=E;if("c"===v)s=w(+t)+s,n="";else{var h=+t,b=t<0||1/h<0;if(n=isNaN(h)?l:w(Math.abs(h),y),_&&(n=formatTrim(n)),b&&0==+n&&"+"!==d&&(b=!1),o=(b?"("===d?d:a:"-"===d||"("===d?"":d)+o,s=("s"===v?prefixes[8+prefixExponent/3]:"")+s+(b&&"("===d?")":""),O)for(var S=0,P=n.length;S<P;S++){var D=n.charCodeAt(S);if(48>D||D>57){s=(46===D?r+n.slice(S+1):n.slice(S))+s,n=n.slice(0,S);break}}}m&&!f&&(n=e(n,1/0));var T=o.length+n.length+s.length,R=T<g?new Array(g-T+1).join(u):"";switch(m&&f&&(n=e(R+n,R.length?g-s.length:1/0),R=""),p){case"<":n=o+n+s+R;break;case"=":n=o+R+n+s;break;case"^":n=R.slice(0,T=R.length>>1)+o+n+s+R.slice(T);break;default:n=R+o+n+s}var A=c.string;return A?A.replace(interpolateRegEx,function(){return i(n)}):i(n)}}return{format:c,formatPrefix:function(t,e){var n=makeFormatSpecifier(t);n.type="f";var o=c(n),r=3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3))),i=Math.pow(10,-r),s=prefixes[8+r/3];return function(t){return o(i*+t)+s}}}}defaultLocale({thousands:",",grouping:[3],currency:["$",""]});var __extends$j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),LinearScale=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e}return __extends$j(e,t),e.prototype.ticks=function(t){void 0===t&&(t=10);var e=this._domain;return ticks(e[0],e[e.length-1],t)},e.prototype.nice=function(t){void 0===t&&(t=10);var e,n=this.domain,o=0,r=n.length-1,i=n[o],s=n[r];s<i&&(e=i,i=s,s=e,e=o,o=r,r=e),(e=tickIncrement(i,s,t))>0?e=tickIncrement(i=Math.floor(i/e)*e,s=Math.ceil(s/e)*e,t):e<0&&(e=tickIncrement(i=Math.ceil(i*e)/e,s=Math.floor(s*e)/e,t)),e>0?(n[o]=Math.floor(i/e)*e,n[r]=Math.ceil(s/e)*e,this.domain=n):e<0&&(n[o]=Math.ceil(i*e)/e,n[r]=Math.floor(s*e)/e,this.domain=n)},e.prototype.tickFormat=function(t,e){var n=this.domain;return tickFormat(n[0],n[n.length-1],null==t?10:t,e)},e}(ContinuousScale),__extends$i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),t0=new Date,t1=new Date,TimeInterval=function(){function t(t,e){this._floor=t,this._offset=e}return t.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},t.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},t.prototype.round=function(t){var e=this.floor(t),n=this.ceil(t),o=+t;return o-e.getTime()<n.getTime()-o?e:n},t.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},t.prototype.range=function(t,e,n){void 0===n&&(n=1);var o,r=[];if(t=this.ceil(t),n=Math.floor(n),t>e||n<=0)return r;do{o=new Date(+t),r.push(o),this._offset(t,n),this._floor(t)}while(o<t&&t<e);return r},t.prototype.filter=function(e){var n=this;return new t(function(t){if(t instanceof Date)for(n._floor(t);!e(t);)t.setTime(t.getTime()-1),n._floor(t);return t},function(t,o){if(t instanceof Date)if(o<0)for(;++o<=0;)do{n._offset(t,-1)}while(!e(t));else for(;--o>=0;)do{n._offset(t,1)}while(!e(t));return t})},t}(),CountableTimeInterval=function(t){function e(e,n,o,r){var i=t.call(this,e,n)||this;return i._count=o,i._field=r,i}return __extends$i(e,t),e.prototype.count=function(t,e){return t0.setTime(+t),t1.setTime(+e),this._floor(t0),this._floor(t1),Math.floor(this._count(t0,t1))},e.prototype.every=function(t){var e,n=this;if(t=Math.floor(t),isFinite(t)&&t>0)if(t>1){var o=this._field;e=this.filter(o?function(e){return o(e)%t==0}:function(e){return n.count(0,e)%t==0})}else e=this;return e},e}(TimeInterval);function floor$8(t){return t}function offset$8(t,e){t.setTime(t.getTime()+e)}function count$8(t,e){return e.getTime()-t.getTime()}var millisecond=new CountableTimeInterval(floor$8,offset$8,count$8),durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay;function floor$7(t){t.setTime(t.getTime()-t.getMilliseconds())}function offset$7(t,e){t.setTime(t.getTime()+e*durationSecond)}function count$7(t,e){return(e.getTime()-t.getTime())/durationSecond}var second=new CountableTimeInterval(floor$7,offset$7,count$7);function floor$6(t){t.setTime(t.getTime()-t.getMilliseconds()-t.getSeconds()*durationSecond)}function offset$6(t,e){t.setTime(t.getTime()+e*durationMinute)}function count$6(t,e){return(e.getTime()-t.getTime())/durationMinute}function field$6(t){return t.getMinutes()}var minute=new CountableTimeInterval(floor$6,offset$6,count$6,field$6);function floor$5(t){t.setTime(t.getTime()-t.getMilliseconds()-t.getSeconds()*durationSecond-t.getMinutes()*durationMinute)}function offset$5(t,e){t.setTime(t.getTime()+e*durationHour)}function count$5(t,e){return(e.getTime()-t.getTime())/durationHour}function field$5(t){return t.getHours()}var hour=new CountableTimeInterval(floor$5,offset$5,count$5,field$5);function floor$4(t){t.setHours(0,0,0,0)}function offset$4(t,e){t.setDate(t.getDate()+e)}function count$4(t,e){var n=e.getTimezoneOffset()-t.getTimezoneOffset();return(e.getTime()-t.getTime()-n*durationMinute)/durationDay}function field$4(t){return t.getDate()-1}var day=new CountableTimeInterval(floor$4,offset$4,count$4,field$4);function weekday$1(t){return new CountableTimeInterval(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e.getTime()-t.getTime()-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationWeek})}var sunday=weekday$1(0),monday=weekday$1(1);weekday$1(2),weekday$1(3);var thursday=weekday$1(4);function floor$3(t){t.setDate(1),t.setHours(0,0,0,0)}function offset$3(t,e){t.setMonth(t.getMonth()+e)}function count$3(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}function field$3(t){return t.getMonth()}weekday$1(5),weekday$1(6);var month=new CountableTimeInterval(floor$3,offset$3,count$3,field$3);function floor$2(t){t.setMonth(0,1),t.setHours(0,0,0,0)}function offset$2(t,e){t.setFullYear(t.getFullYear()+e)}function count$2(t,e){return e.getFullYear()-t.getFullYear()}function field$2(t){return t.getFullYear()}var year=new CountableTimeInterval(floor$2,offset$2,count$2,field$2);function ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function complexBisectRight(t,e,n,o,r){void 0===o&&(o=0),void 0===r&&(r=t.length);for(var i=ascendingComparator(n);o<r;){var s=o+r>>>1;i(t[s],e)<0?o=s+1:r=s}return o}function ascendingComparator(t){return function(e,n){return ascending(t(e),n)}}function floor$1(t){t.setUTCHours(0,0,0,0)}function offset$1(t,e){t.setUTCDate(t.getUTCDate()+e)}function count$1(t,e){return(e.getTime()-t.getTime())/durationDay}function field$1(t){return t.getUTCDate()-1}var utcDay=new CountableTimeInterval(floor$1,offset$1,count$1,field$1);function floor(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}function offset(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}function count(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}function field(t){return t.getUTCFullYear()}var utcYear=new CountableTimeInterval(floor,offset,count,field);function weekday(t){return new CountableTimeInterval(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e.getTime()-t.getTime())/durationWeek})}var utcSunday=weekday(0),utcMonday=weekday(1);weekday(2),weekday(3);var utcThursday=weekday(4);function localDate(t){if(t.y>=0&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(t.y>=0&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function formatLookup(t){for(var e={},n=0,o=t.length;n<o;n++)e[t[n].toLowerCase()]=n;return e}function newYear(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}weekday(5),weekday(6);var percentCharCode=37,numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g,requote=function(t){return t.replace(requoteRe,"\\$&")},formatRe=function(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")},pads={"-":"",_:" ",0:"0"},locale;function pad(t,e,n){var o=t<0?"-":"",r=String(o?-t:t),i=r.length;return o+(i<n?new Array(n-i+1).join(e)+r:r)}function formatLocale(t){var e=t.dateTime,n=t.date,o=t.time,r=t.periods,i=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=formatRe(r),u=formatLookup(r),p=formatRe(i),d=formatLookup(i),h=formatRe(s),f=formatLookup(s),g=formatRe(a),m=formatLookup(a),y=formatRe(l),_=formatLookup(l),v={a:function(t){return s[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:void 0,d:P,e:P,f:function(t,e){return S(t,e)+"000"},H:function(t,e){return pad(t.getHours(),e,2)},I:function(t,e){return pad(t.getHours()%12||12,e,2)},j:function(t,e){return pad(1+day.count(year.floor(t),t),e,3)},L:S,m:function(t,e){return pad(t.getMonth()+1,e,2)},M:function(t,e){return pad(t.getMinutes(),e,2)},p:function(t){return r[t.getHours()>=12?1:0]},Q:A,s:M,S:function(t,e){return pad(t.getSeconds(),e,2)},u:function(t){var e=t.getDay();return 0===e?7:e},U:function(t,e){return pad(sunday.count(year.floor(t),t),e,2)},V:function(t,e){var n=t.getDay();t=n>=4||0===n?thursday.floor(t):thursday.ceil(t);var o=year.floor(t);return pad(thursday.count(o,t)+(4===o.getDay()?1:0),e,2)},w:function(t){return t.getDay()},W:function(t,e){return pad(monday.count(year.floor(t),t),e,2)},x:void 0,X:void 0,y:function(t,e){return pad(t.getFullYear()%100,e,2)},Y:function(t,e){return pad(t.getFullYear()%1e4,e,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(Math.floor(e/60),"0",2)+pad(e%60,"0",2)},"%":R},C={a:function(t){return s[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:void 0,d:T,e:T,f:function(t,e){return D(t,e)+"000"},H:function(t,e){return pad(t.getUTCHours(),e,2)},I:function(t,e){return pad(t.getUTCHours()%12||12,e,2)},j:function(t,e){return pad(1+utcDay.count(utcYear.floor(t),t),e,3)},L:D,m:function(t,e){return pad(t.getUTCMonth()+1,e,2)},M:function(t,e){return pad(t.getUTCMinutes(),e,2)},p:function(t){return r[t.getUTCHours()>=12?1:0]},Q:A,s:M,S:function(t,e){return pad(t.getUTCSeconds(),e,2)},u:function(t){var e=t.getUTCDay();return 0===e?7:e},U:function(t,e){return pad(utcSunday.count(utcYear.floor(t),t),e,2)},V:function(t,e){var n=t.getUTCDay();t=n>=4||0===n?utcThursday.floor(t):utcThursday.ceil(t);var o=utcYear.floor(t);return pad(utcThursday.count(o,t)+(4===o.getUTCDay()?1:0),e,4)},w:function(t){return t.getUTCDay()},W:function(t,e){return pad(utcMonday.count(utcYear.floor(t),t),e,2)},x:void 0,X:void 0,y:function(t,e){return pad(t.getUTCFullYear()%100,e,2)},Y:function(t,e){return pad(t.getUTCFullYear()%1e4,e,4)},Z:function(){return"+0000"},"%":R},E={a:function(t,e,n){var o=h.exec(e.slice(n));return o?(t.w=f[o[0].toLowerCase()],n+o[0].length):-1},A:function(t,e,n){var o=p.exec(e.slice(n));return o?(t.w=d[o[0].toLowerCase()],n+o[0].length):-1},b:function(t,e,n){var o=y.exec(e.slice(n));return o?(t.m=_[o[0].toLowerCase()],n+o[0].length):-1},B:function(t,e,n){var o=g.exec(e.slice(n));return o?(t.m=m[o[0].toLowerCase()],n+o[0].length):-1},c:function(t,n,o){return b(t,e,n,o)},d:I,e:I,f:function(t,e,n){var o=numberRe.exec(e.slice(n,n+6));return o?(t.L=Math.floor(parseFloat(o[0])/1e3),n+o[0].length):-1},H:x,I:x,j:function(t,e,n){var o=numberRe.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1},L:function(t,e,n){var o=numberRe.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1},m:function(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.m=parseFloat(o[0])-1,n+o[0].length):-1},M:function(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1},p:function(t,e,n){var o=c.exec(e.slice(n));return o?(t.p=u[o[0].toLowerCase()],n+o[0].length):-1},Q:function(t,e,n){var o=numberRe.exec(e.slice(n));return o?(t.Q=+o[0],n+o[0].length):-1},s:function(t,e,n){var o=numberRe.exec(e.slice(n));return o?(t.Q=1e3*+o[0],n+o[0].length):-1},S:function(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1},u:function(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.u=+o[0],n+o[0].length):-1},U:function(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.U=+o[0],n+o[0].length):-1},V:function(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.V=+o[0],n+o[0].length):-1},w:function(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1},W:function(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.W=+o[0],n+o[0].length):-1},x:function(t,e,o){return b(t,n,e,o)},X:function(t,e,n){return b(t,o,e,n)},y:function(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1},Y:function(t,e,n){var o=numberRe.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1},Z:function(t,e,n){var o=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1},"%":function(t,e,n){var o=percentRe.exec(e.slice(n,n+1));return o?n+o[0].length:-1}};function w(t,e){return function(n){var o=newYear(1900);if(b(o,t,n+="",0)==n.length){if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return;if("w"in o||(o.w=1),"Z"in o){var r=(i=utcDate(newYear(o.y))).getUTCDay();i=r>4||0===r?utcMonday.ceil(i):utcMonday.floor(i),i=utcDay.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7}else{var i;r=(i=e(newYear(o.y))).getDay(),i=r>4||0===r?monday.ceil(i):monday.floor(i),i=day.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7}}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?utcDate(newYear(o.y)).getUTCDay():e(newYear(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,utcDate(o)):e(o)}}}function O(t,e){return function(n){var o=[],r=t.length,i=-1,s=0;for(n instanceof Date||(n=new Date(+n));++i<r;)if(t.charCodeAt(i)===percentCharCode){o.push(t.slice(s,i));var a=t.charAt(++i),l=pads[a];null!=l?a=t.charAt(++i):l="e"===a?" ":"0";var c=e[a];c&&(a=c(n,l)),o.push(a),s=i+1}return o.push(t.slice(s,i)),o.join("")}}function b(t,e,n,o){for(var r=0,i=e.length,s=n.length;r<i;){if(o>=s)return-1;var a=e.charCodeAt(r++);if(a===percentCharCode){var l=e.charAt(r++),c=E[l in pads?e.charAt(r++):l];if(!c||(o=c(t,n,o))<0)return-1}else if(a!=n.charCodeAt(o++))return-1}return o}function S(t,e){return pad(t.getMilliseconds(),e,3)}function P(t,e){return pad(t.getDate(),e,2)}function D(t,e){return pad(t.getUTCMilliseconds(),e,3)}function T(t,e){return pad(t.getUTCDate(),e,2)}function R(t){return"%"}function A(t){return t.getTime()}function M(t){return Math.floor(t.getTime()/1e3)}function x(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function I(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}return v.x=O(n,v),v.X=O(o,v),v.c=O(e,v),C.x=O(n,C),C.X=O(o,C),C.c=O(e,C),{format:function(t){var e=O(t,v);return e.toString=function(){return t},e},parse:function(t){var e=w(t,localDate);return e.toString=function(){return t},e},utcFormat:function(t){var e=O(t,C);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t,utcDate);return e.toString=function(){return t},e}}}function setDefaultLocale(t){return locale=formatLocale(t)}setDefaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var __extends$h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__read=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},TimeScale=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e.year=year,e.month=month,e.week=sunday,e.day=day,e.hour=hour,e.minute=minute,e.second=second,e.millisecond=millisecond,e.format=locale.format,e.tickIntervals=[[e.second,1,durationSecond],[e.second,5,5*durationSecond],[e.second,15,15*durationSecond],[e.second,30,30*durationSecond],[e.minute,1,durationMinute],[e.minute,5,5*durationMinute],[e.minute,15,15*durationMinute],[e.minute,30,30*durationMinute],[e.hour,1,durationHour],[e.hour,3,3*durationHour],[e.hour,6,6*durationHour],[e.hour,12,12*durationHour],[e.day,1,durationDay],[e.day,2,2*durationDay],[e.week,1,durationWeek],[e.month,1,durationMonth],[e.month,3,3*durationMonth],[e.year,1,durationYear]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return __extends$h(e,t),e.prototype.defaultTickFormat=function(t){return(this.second.floor(t)<t?this.formatMillisecond:this.minute.floor(t)<t?this.formatSecond:this.hour.floor(t)<t?this.formatMinute:this.day.floor(t)<t?this.formatHour:this.month.floor(t)<t?this.week.floor(t)<t?this.formatDay:this.formatWeek:this.year.floor(t)<t?this.formatMonth:this.formatYear)(t)},e.prototype.tickInterval=function(t,e,n,o){var r;if("number"==typeof t){var i=t,s=this.tickIntervals,a=Math.abs(n-e)/i,l=complexBisectRight(s,a,function(t){return t[2]});l===s.length?(o=tickStep(e/durationYear,n/durationYear,i),t=this.year):l?(t=(r=__read(s[a/s[l-1][2]<s[l][2]/a?l-1:l],2))[0],o=r[1]):(o=Math.max(tickStep(e,n,t),1),t=this.millisecond)}return null==o?t:t.every(o)},Object.defineProperty(e.prototype,"domain",{get:function(){return t.prototype.getDomain.call(this).map(function(t){return new Date(t)})},set:function(e){t.prototype.setDomain.call(this,Array.prototype.map.call(e,function(t){return t instanceof Date?+t:+new Date(+t)}))},enumerable:!0,configurable:!0}),e.prototype.invert=function(e){return new Date(t.prototype.invert.call(this,e))},e.prototype.ticks=function(e){void 0===e&&(e=10);var n=t.prototype.getDomain.call(this),o=n[0],r=n[n.length-1],i=r<o;if(i){var s=o;o=r,r=s}var a=this.tickInterval(e,o,r),l=a?a.range(o,r+1):[];return i?l.reverse():l},e.prototype.tickFormat=function(t,e){return null==e?this.defaultTickFormat.bind(this):this.format(e)},e.prototype.nice=function(e){void 0===e&&(e=10);var n=t.prototype.getDomain.call(this),o=this.tickInterval(e,n[0],n[n.length-1]);o&&(this.domain=this._nice(n,o))},e.prototype._nice=function(t,e){var n,o,r=0,i=(t=t.slice()).length-1,s=t[r],a=t[i];return a<s&&(r=(n=__read([i,r],2))[0],i=n[1],s=(o=__read([a,s],2))[0],a=o[1]),t[r]=e.floor(s),t[i]=e.ceil(a),t},e}(ContinuousScale);function identity(t){return t}function extent(t,e,n){for(var o,r,i,s=n||identity,a=t.length,l=-1;++l<a;)if(e(o=t[l]))for(r=i=o;++l<a;)e(o=t[l])&&(r>o&&(r=o),i<o&&(i=o));return void 0===r||void 0===i?void 0:[s(r),s(i)]}var __extends$g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__values=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SparklineAxis=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="category",e.stroke="rgb(204, 214, 235)",e.strokeWidth=1,e}return __extends$g(e,t),e}(Observable),Sparkline=function(t){function e(){var n=t.call(this)||this;n.id=createId(n),n.seriesRect={x:0,y:0,width:0,height:0},n._context=void 0,n._container=void 0,n._data=void 0,n.padding=new Padding(3),n.xKey="x",n.yKey="y",n.dataType=void 0,n.xData=[],n.yData=[],n.min=void 0,n.max=void 0,n.yScale=new LinearScale,n.axis=new SparklineAxis,n.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},n._width=100,n._height=100,n.smallestInterval=void 0,n.layoutId=0,n.defaultDateFormatter=locale.format("%m/%d/%y, %H:%M:%S"),n._onMouseMove=n.onMouseMove.bind(n),n._onMouseOut=n.onMouseOut.bind(n);var o=new Group;n.rootGroup=o;var r=document.createElement("div");r.setAttribute("class","ag-sparkline-wrapper");var i=new Scene(document);if(n.scene=i,n.canvasElement=i.canvas.element,i.root=o,i.container=r,i.resize(n.width,n.height),n.seriesRect.width=n.width,n.seriesRect.height=n.height,-1===e.tooltipDocuments.indexOf(document)){var s=document.createElement("style");s.innerHTML=defaultTooltipCss,document.head.insertBefore(s,document.head.querySelector("style")),e.tooltipDocuments.push(document)}return n.setupDomEventListeners(n.scene.canvas.element),n}return __extends$g(e,t),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;null!=e&&e.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!0,configurable:!0}),e.prototype.update=function(){},e.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},e.prototype.updateYScaleDomain=function(){},e.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},e.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},e.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},e.prototype.updateXScaleDomain=function(){var t,e=this.xData,n=this.xScale;n instanceof LinearScale?t=extent(e,isNumber):n instanceof TimeScale&&(t=extent(e,isContinuous)),this.xScale.domain=t?t.slice():e},e.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new LinearScale;case"time":return new TimeScale;case"category":default:return new BandScale}},e.prototype.updateAxisLine=function(){},e.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},e.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},e.prototype.generateNodeData=function(){return[]},e.prototype.getNodeData=function(){return[]},e.prototype.updateNodes=function(){},e.prototype.updateXCrosshairLine=function(){},e.prototype.updateYCrosshairLine=function(){},e.prototype.highlightDatum=function(t){this.updateNodes()},e.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},e.prototype.onMouseMove=function(t){var e=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(e){var n=this.highlightedDatum;this.highlightedDatum=e,(this.highlightedDatum&&!n||this.highlightedDatum&&n&&this.highlightedDatum!==n)&&(this.highlightDatum(e),this.updateCrosshairs()),this.tooltip.enabled&&this.handleTooltip(t,e)}},e.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1)},e.prototype.processData=function(){var t=this,e=this,n=e.data,o=e.yData,r=e.xData;if(n&&!this.invalidData(this.data)){o.length=0,r.length=0;var i=n.length,s=this.getDataType(n);this.dataType=s;var a,l=this.axis.type,c="number"!==l&&"time"!==l?"category":l,u="number"===c||"time"===c,p=function(e,n){null==t.smallestInterval&&(t.smallestInterval={x:1/0,y:1/0});var o=t.smallestInterval.x,r=Math.abs(e-n);r>0&&r<o&&(t.smallestInterval.x=r)};if("number"===s)for(var d=0;d<i;d++){var h=n[d],f=this.getDatum(d,c),g=this.getDatum(h,"number");u&&p(f,a),r.push(f),o.push(g),a=f}else if("array"===s)for(d=0;d<i;d++){var m=n[d];if(Array.isArray(m)){if(h=m[1],f=this.getDatum(m[0],c),g=this.getDatum(h,"number"),null==f)continue;u&&p(f,a),r.push(f),o.push(g),a=f}}else if("object"===s){var y=this.yKey,_=this.xKey;for(d=0;d<i;d++)if("object"==typeof(m=n[d])&&!Array.isArray(m)){if(h=m[y],f=this.getDatum(m[_],c),g=this.getDatum(h,"number"),null==f)continue;u&&p(f,a),r.push(f),o.push(g),a=f}}this.updateAxes(),this.update()}},e.prototype.getDataType=function(t){var e,n;try{for(var o=__values(t),r=o.next();!r.done;r=o.next()){var i=r.value;if(null!=i){if(isNumber(i))return"number";if(Array.isArray(i))return"array";if("object"==typeof i)return"object"}}}catch(s){e={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},e.prototype.getDatum=function(t,e){if("number"===e&&isNumber(t)||"time"===e&&(isNumber(t)||isDate(t)))return t;if("category"===e){if(isString(t)||isDate(t)||isNumber(t))return{toString:function(){return String(t)}};if(isStringObject(t))return t}},Object.defineProperty(e.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!0,configurable:!0}),e.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){t.setSparklineDimensions(),t.invalidData(t.data)||(t.updateXScaleRange(),t.updateYScaleRange(),t.updateAxisLine(),t.update(),t.layoutId=0)})},e.prototype.setSparklineDimensions=function(){var t=this,e=t.padding,n=t.seriesRect,o=t.rootGroup,r=t.height-e.top-e.bottom;n.width=t.width-e.left-e.right,n.height=r,n.x=e.left,n.y=e.top,o.translationX=n.x,o.translationY=n.y},e.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var n,o=1/0,r=this.rootGroup.transformPoint(t,e),i=this.getNodeData(),s=0;s<i.length;s++){var a=i[s];if(!a.point)return;var l=this.getDistance(r,a.point);if(!(l<=o))return n;o=l,n=a}return n},e.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},e.prototype.handleTooltip=function(t,e){var n=e.seriesDatum,o=t.clientX,r=t.clientY;null==this.tooltip.container&&(this.tooltip.container=this.canvasElement);var i={pageX:o,pageY:r},s=this.tooltip.enabled;if(this.tooltip.renderer){var a=this.tooltip.renderer({context:this.context,datum:n,yValue:n.y,xValue:n.x});s="string"!=typeof a&&void 0!==a.enabled?a.enabled:s}var l=s&&void 0!==n.y&&this.getTooltipHtml(e);l&&this.tooltip.show(i,l)},e.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},e.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||isNumber(t))?this.defaultDateFormatter(t):String(t)},e.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},e.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},e.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},e.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},e.tooltipDocuments=[],e}(Observable),__extends$f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function toTooltipHtml(t,e){if("string"==typeof t)return t;e=e||{};var n,o,r=t.content,i=void 0===r?e.content||"":r,s=t.title,a=void 0===s?e.title||void 0:s,l=t.color,c=void 0===l?e.color:l,u=t.backgroundColor,p=void 0===u?e.backgroundColor:u,d=t.opacity,h=void 0===d?e.opacity||1:d;if(c?(n=a?'<span class="'+SparklineTooltip.class+'-title"; style="color: '+c+'">'+a+"</span>":"",o='<span class="'+SparklineTooltip.class+'-content" style="color: '+c+'">'+i+"</span>"):(n=a?'<span class="'+SparklineTooltip.class+'-title">'+a+"</span>":"",o='<span class="'+SparklineTooltip.class+'-content">'+i+"</span>"),p){var f=Color.fromString(p.toLowerCase()),g=Color.fromArray([f.r,f.g,f.b,h]).toRgbaString();return'<div class="'+SparklineTooltip.class+'" style="background-color: '+g+'">\n                    '+n+"\n                    "+o+"\n                </div>"}return'<div class="'+SparklineTooltip.class+'">\n                    '+n+"\n                    "+o+"\n                </div>"}var SparklineTooltip=function(t){function e(){var e=t.call(this)||this;return e.element=document.createElement("div"),e.enabled=!0,e.container=void 0,e.xOffset=10,e.yOffset=0,e.renderer=void 0,document.body.appendChild(e.element),e}return __extends$f(e,t),e.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains(e.class+"-wrapper-hidden");var n=t.getAttribute("class");return!!n&&n.split(" ").indexOf(e.class+"-wrapper-hidden")<0},e.prototype.updateClass=function(t){var n=[e.class+"-wrapper"];!0!==t&&n.push(e.class+"-wrapper-hidden"),this.element.setAttribute("class",n.join(" "))},e.prototype.show=function(t,e){this.toggle(!1);var n=this.element;if(void 0!==e)n.innerHTML=e;else if(!n.innerHTML)return;var o=t.pageX+this.xOffset,r=t.pageY+this.yOffset,i=n.getBoundingClientRect(),s=window.innerWidth-i.width;if(this.container){var a=this.container.getBoundingClientRect();s=a.left+(a.width-i.width)}o>s&&(o=t.pageX-n.clientWidth-this.xOffset),n.style.left=Math.round(o)+"px",n.style.top=Math.round(r)+"px",this.toggle(!0)},e.prototype.toggle=function(t){this.updateClass(t)},e.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},e.class="ag-sparkline-tooltip",e}(Observable),__extends$e=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Marker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=3,e}return __extends$e(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size!==t&&(this._size=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e}(Shape),__extends$d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Circle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$d(e,t),e.prototype.isPointInPath=function(t,e){return!1},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this,n=e.x,o=e.y,r=e.size/2;t.beginPath(),t.arc(n,o,r,0,2*Math.PI,!1),this.fillStroke(t),this.dirty=!1},e.className="Circle",e}(Marker),__extends$c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Diamond=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$c(e,t),e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this,n=e.x,o=e.y,r=e.size/2;t.beginPath(),t.moveTo(n,o-=r),t.lineTo(n+=r,o+=r),t.lineTo(n-=r,o+=r),t.lineTo(n-=r,o-=r),t.lineTo(n+=r,o-=r),t.closePath(),this.fillStroke(t),this.dirty=!1},e.className="Diamond",e}(Marker),__extends$b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Square=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$b(e,t),e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this,n=e.x,o=e.y,r=e.size,i=r/2;t.beginPath(),t.moveTo(n-=i,o-=i),t.lineTo(n+=r,o),t.lineTo(n,o+=r),t.lineTo(n-=r,o),t.lineTo(n,o-=r),t.closePath(),this.fillStroke(t),this.dirty=!1},e.className="Square",e}(Marker);function getMarker(t){switch(t){case"circle":return Circle;case"square":return Square;case"diamond":return Diamond;default:return Circle}}function getLineDash(t,e){void 0===e&&(e="solid");var n={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},o={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===t||"square"===t?null==o[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),o.solid):o[e]:null==n[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),n.solid):n[e]}var __extends$a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),SparklineMarker$1=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine$1=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs$1=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},AreaSparkline=function(t){function e(){var e=t.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Path,e.fillPath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.areaSparklineGroup=new Group,e.fillPathData=[],e.strokePathData=[],e.xAxisLine=new Line,e.markers=new Group,e.markerSelection=Selection.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new SparklineMarker$1,e.line=new SparklineLine$1,e.crosshairs=new SparklineCrosshairs$1,e.rootGroup.append(e.areaSparklineGroup),e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$a(e,t),e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},e.prototype.update=function(){var t=this.generateNodeData();if(t){var e=t.nodeData,n=t.fillData,o=t.strokeData;this.markerSelectionData=e,this.fillPathData=n,this.strokePathData=o,this.updateSelection(e),this.updateNodes(),this.updateStroke(o),this.updateFill(n)}},e.prototype.updateYScaleDomain=function(){var t=this.yScale,e=extent(this.yData,isNumber),n=0,o=1;void 0!==e&&(n=this.min=e[0],o=this.max=e[1]),t.domain=[n=n<0?n:0,o=o<0?0:o]},e.prototype.generateNodeData=function(){var t=this,e=t.yData,n=t.xData,o=t.xScale,r=t.yScale;if(t.data){for(var i,s,a,l,c=o instanceof BandScale?o.bandwidth/2:0,u=e.length,p=[],d=[],h=[],f=r.convert(0),g=0;g<u;g++){var m=e[g],y=n[g],_=o.convert(y)+c,v=r.convert(m);g+1<u&&(l=o.convert(n[g+1])+c),h.push({seriesDatum:{x:y,y:m},point:{x:_,y:v}}),void 0===m&&void 0!==a?(d.push({seriesDatum:void 0,point:{x:a,y:f}}),void 0!==l&&d.push({seriesDatum:void 0,point:{x:l,y:f}})):void 0!==m&&(d.push({seriesDatum:{x:y,y:m},point:{x:_,y:v}}),p.push({seriesDatum:{x:y,y:m},point:{x:_,y:v}}),i=void 0!==i?i:_,s=_),a=_}return d.push({seriesDatum:void 0,point:{x:s,y:f}},{seriesDatum:void 0,point:{x:i,y:f}}),{nodeData:p,fillData:d,strokeData:h}}},e.prototype.updateAxisLine=function(){var t=this,e=t.xScale,n=t.yScale,o=t.axis,r=t.xAxisLine;r.x1=e.range[0],r.x2=e.range[1],r.y1=r.y2=0,r.stroke=o.stroke,r.strokeWidth=o.strokeWidth;var i=n.convert(0);r.translationY=i},e.prototype.updateSelection=function(t){var e=getMarker(this.marker.shape),n=this.markerSelection.setData(t),o=n.enter.append(e);n.exit.remove(),this.markerSelection=n.merge(o)},e.prototype.updateNodes=function(){var t=this,e=this,n=e.highlightedDatum,o=e.highlightStyle,r=e.marker,i=o.size,s=o.fill,a=o.stroke,l=o.strokeWidth,c=r.formatter;this.markerSelection.each(function(e,o,u){var p=o.point,d=o.seriesDatum;if(p){var h,f=o===n,g=f&&void 0!==s?s:r.fill,m=f&&void 0!==a?a:r.stroke,y=f&&void 0!==l?l:r.strokeWidth,_=f&&void 0!==i?i:r.size;c&&(h=c({datum:o,xValue:d.x,yValue:d.y,min:d.y===t.min,max:d.y===t.max,first:0===u,last:u===t.markerSelectionData.length-1,fill:g,stroke:m,strokeWidth:y,size:_,highlighted:f})),e.size=h&&null!=h.size?h.size:_,e.fill=h&&null!=h.fill?h.fill:g,e.stroke=h&&null!=h.stroke?h.stroke:m,e.strokeWidth=h&&null!=h.strokeWidth?h.strokeWidth:y,e.translationX=p.x,e.translationY=p.y,e.visible=h&&null!=h.enabled?h.enabled:r.enabled&&e.size>0}})},e.prototype.updateStroke=function(t){var e=this,n=e.strokePath,o=e.line;if(!(e.yData.length<2)){var r=n.path,i=t.length,s=!0;r.clear();for(var a=0;a<i;a++){var l=t[a],c=l.point,u=c.x,p=c.y;null==l.seriesDatum.y?s=!0:s?(r.moveTo(u,p),s=!1):r.lineTo(u,p)}n.lineJoin=n.lineCap="round",n.fill=void 0,n.stroke=o.stroke,n.strokeWidth=o.strokeWidth}},e.prototype.updateFill=function(t){var e=this,n=e.fillPath,o=e.yData,r=e.fill,i=n.path,s=t.length;if(i.clear(),!(o.length<2)){for(var a=0;a<s;a++){var l=t[a].point,c=l.x,u=l.y;a>0?i.lineTo(c,u):i.moveTo(c,u)}i.closePath(),n.lineJoin="round",n.stroke=void 0,n.fill=r}},e.prototype.updateXCrosshairLine=function(){var t=this,e=t.yScale,n=t.xCrosshairLine,o=t.highlightedDatum,r=t.crosshairs.xLine;if(r.enabled&&null!=o){n.y1=e.range[0],n.y2=e.range[1],n.x1=n.x2=0,n.stroke=r.stroke,n.strokeWidth=r.strokeWidth||1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;n.lineDash=Array.isArray(i)?i:getLineDash(n.lineCap,r.lineDash),n.translationX=o.point.x}else n.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t=this,e=t.xScale,n=t.yCrosshairLine,o=t.highlightedDatum,r=t.crosshairs.yLine;if(r.enabled&&null!=o){n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=r.stroke,n.strokeWidth=r.strokeWidth||1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;n.lineDash=Array.isArray(i)?i:getLineDash(n.lineCap,r.lineDash),n.translationY=o.point.y}else n.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e=this.dataType,n=t.seriesDatum,o=n.y,r=n.x,i={content:this.formatNumericDatum(o),title:"array"===e||"object"===e?this.formatDatum(r):void 0};return this.tooltip.renderer?toTooltipHtml(this.tooltip.renderer({context:this.context,datum:n,yValue:o,xValue:r}),i):toTooltipHtml(i)},e.className="AreaSparkline",e}(Sparkline),__extends$9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),SparklineMarker=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},LineSparkline=function(t){function e(){var e=t.call(this)||this;return e.linePath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.lineSparklineGroup=new Group,e.markers=new Group,e.markerSelection=Selection.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new SparklineMarker,e.line=new SparklineLine,e.crosshairs=new SparklineCrosshairs,e.rootGroup.append(e.lineSparklineGroup),e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$9(e,t),e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},e.prototype.update=function(){var t=this.generateNodeData();t&&(this.markerSelectionData=t,this.updateSelection(t),this.updateNodes(),this.updateLine())},e.prototype.updateYScaleDomain=function(){var t=this.yScale,e=extent(this.yData,isNumber),n=0,o=1;if(void 0!==e&&(n=this.min=e[0],o=this.max=e[1]),n===o){var r=Math.abs(.01*n);n-=r,o+=r}t.domain=[n,o]},e.prototype.generateNodeData=function(){var t=this,e=t.yData,n=t.xData,o=t.xScale,r=t.yScale;if(t.data){for(var i=o instanceof BandScale?o.bandwidth/2:0,s=[],a=0;a<e.length;a++){var l=e[a],c=n[a];if(null!=l){var u=o.convert(c)+i,p=r.convert(l);s.push({seriesDatum:{x:c,y:l},point:{x:u,y:p}})}}return s}},e.prototype.updateSelection=function(t){var e=getMarker(this.marker.shape),n=this.markerSelection.setData(t),o=n.enter.append(e);n.exit.remove(),this.markerSelection=n.merge(o)},e.prototype.updateNodes=function(){var t=this,e=this,n=e.highlightedDatum,o=e.highlightStyle,r=e.marker,i=o.size,s=o.fill,a=o.stroke,l=o.strokeWidth,c=r.formatter;this.markerSelection.each(function(e,o,u){var p,d=o===n,h=d&&void 0!==s?s:r.fill,f=d&&void 0!==a?a:r.stroke,g=d&&void 0!==l?l:r.strokeWidth,m=d&&void 0!==i?i:r.size,y=o.seriesDatum,_=o.point;c&&(p=c({datum:o,xValue:y.x,yValue:y.y,min:y.y===t.min,max:y.y===t.max,first:0===u,last:u===t.markerSelectionData.length-1,fill:h,stroke:f,strokeWidth:g,size:m,highlighted:d})),e.size=p&&null!=p.size?p.size:m,e.fill=p&&null!=p.fill?p.fill:h,e.stroke=p&&null!=p.stroke?p.stroke:f,e.strokeWidth=p&&null!=p.strokeWidth?p.strokeWidth:g,e.translationX=_.x,e.translationY=_.y,e.visible=p&&null!=p.enabled?p.enabled:r.enabled&&e.size>0})},e.prototype.updateLine=function(){var t=this,e=t.linePath,n=t.yData,o=t.xData,r=t.xScale,i=t.yScale,s=t.line;if(!(n.length<2)){var a=e.path,l=n.length,c=r instanceof BandScale?r.bandwidth/2:0,u=!0;a.clear();for(var p=0;p<l;p++){var d=n[p],h=r.convert(o[p])+c,f=i.convert(d);null==d?u=!0:u?(a.moveTo(h,f),u=!1):a.lineTo(h,f)}e.fill=void 0,e.stroke=s.stroke,e.strokeWidth=s.strokeWidth}},e.prototype.updateXCrosshairLine=function(){var t=this,e=t.yScale,n=t.xCrosshairLine,o=t.highlightedDatum,r=t.crosshairs.xLine;if(r.enabled&&null!=o){n.y1=e.range[0],n.y2=e.range[1],n.x1=n.x2=0,n.stroke=r.stroke,n.strokeWidth=r.strokeWidth||1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;n.lineDash=Array.isArray(i)?i:getLineDash(n.lineCap,r.lineDash),n.translationX=o.point.x}else n.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t=this,e=t.xScale,n=t.yCrosshairLine,o=t.highlightedDatum,r=t.crosshairs.yLine;if(r.enabled&&null!=o){n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=r.stroke,n.strokeWidth=r.strokeWidth||1,n.lineCap="round"===r.lineCap||"square"===r.lineCap?r.lineCap:void 0;var i=r.lineDash;n.lineDash=Array.isArray(i)?i:getLineDash(n.lineCap,r.lineDash),n.translationY=o.point.y}else n.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e=this.dataType,n=t.seriesDatum,o=n.y,r=n.x,i={content:this.formatNumericDatum(o),title:"array"===e||"object"===e?this.formatDatum(r):void 0};return this.tooltip.renderer?toTooltipHtml(this.tooltip.renderer({context:this.context,datum:n,yValue:o,xValue:r}),i):toTooltipHtml(i)},e.className="LineSparkline",e}(Sparkline),__extends$8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rectangle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=0,e._height=0,e._crisp=!1,e}return __extends$8(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crisp",{get:function(){return this._crisp},set:function(t){this._crisp!==t&&(this._crisp=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(t){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this,n=e.x,o=e.y,r=e.width,i=e.height,s=e.crisp;if(t.beginPath(),s){var a=this.alignment,l=this.align;t.rect(l(a,n),l(a,o),l(a,n,r),l(a,o,i))}else t.rect(n,o,r,i);this.fillStroke(t),this.dirty=!1},e.className="Column",e}(Shape),__extends$7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function getFont$1(t,e,n,o){return[n||"",o||"",t+"px",e].join(" ").trim()}!function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n._x=0,n._y=0,n.lineBreakRegex=/\r?\n/g,n.lines=[],n._text="",n._dirtyFont=!0,n._fontSize=10,n._fontFamily="sans-serif",n._textAlign=e.defaultStyles.textAlign,n._textBaseline=e.defaultStyles.textBaseline,n._lineHeight=14,n}__extends$7(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){var e=String(t);this._text!==e&&(this._text=e,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=getFont$1(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(t){this._dirtyFont!==t&&(this._dirtyFont=t,t&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){isFinite(t)||(t=10),this._fontSize!==t&&(this._fontSize=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily!==t&&(this._fontFamily=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!==t&&(this._textAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){return HdpiCanvas.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},e.prototype.getPreciseBBox=function(){var t=HdpiCanvas.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new BBox(this.x-t.actualBoundingBoxLeft,this.y-t.actualBoundingBoxAscent,t.width,t.actualBoundingBoxAscent+t.actualBoundingBoxDescent)},e.prototype.getApproximateBBox=function(){var t=HdpiCanvas.getTextSize(this.text,this.font),e=this.x,n=this.y;switch(this.textAlign){case"end":case"right":e-=t.width;break;case"center":e-=t.width/2}switch(this.textBaseline){case"alphabetic":n-=.7*t.height;break;case"middle":n-=.45*t.height;break;case"ideographic":n-=t.height;break;case"hanging":n-=.2*t.height;break;case"bottom":n-=t.height}return new BBox(e,n,t.width,t.height)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),o=this.computeBBox();return!!o&&o.containsPoint(n.x,n.y)},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.render=function(t){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this,n=e.fill,o=e.stroke,r=e.strokeWidth;t.font=this.font,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline;var i=this.scene.canvas.pixelRatio||1,s=t.globalAlpha;if(n){t.fillStyle=n,t.globalAlpha=s*this.opacity*this.fillOpacity;var a=this,l=a.fillShadow,c=a.text,u=a.x,p=a.y;l&&l.enabled&&(t.shadowColor=l.color,t.shadowOffsetX=l.xOffset*i,t.shadowOffsetY=l.yOffset*i,t.shadowBlur=l.blur*i),t.fillText(c,u,p)}if(o&&r){t.strokeStyle=o,t.lineWidth=r,t.globalAlpha=s*this.opacity*this.strokeOpacity;var d=this,h=d.lineDash,f=d.lineDashOffset,g=d.lineCap,m=d.lineJoin,y=d.strokeShadow;c=d.text,u=d.x,p=d.y,h&&t.setLineDash(h),f&&(t.lineDashOffset=f),g&&(t.lineCap=g),m&&(t.lineJoin=m),y&&y.enabled&&(t.shadowColor=y.color,t.shadowOffsetX=y.xOffset*i,t.shadowOffsetY=y.yOffset*i,t.shadowBlur=y.blur*i),t.strokeText(c,u,p)}this.dirty=!1}},e.className="Text",e.defaultStyles=chainObjects(Shape.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"})}(Shape);var __extends$6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate$2=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Label=function(t){function e(){var e=t.call(this)||this;return e.enabled=!0,e.fontSize=8,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return __extends$6(e,t),e.prototype.getFont=function(){return getFont$1(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$2([reactive("change","dataChange")],e.prototype,"enabled",void 0),__decorate$2([reactive("change")],e.prototype,"fontSize",void 0),__decorate$2([reactive("change")],e.prototype,"fontFamily",void 0),__decorate$2([reactive("change")],e.prototype,"fontStyle",void 0),__decorate$2([reactive("change")],e.prototype,"fontWeight",void 0),__decorate$2([reactive("change")],e.prototype,"color",void 0),e}(Observable),__extends$5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Text=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n._x=0,n._y=0,n.lineBreakRegex=/\r?\n/g,n.lines=[],n._text="",n._dirtyFont=!0,n._fontSize=10,n._fontFamily="sans-serif",n._textAlign=e.defaultStyles.textAlign,n._textBaseline=e.defaultStyles.textBaseline,n._lineHeight=14,n}return __extends$5(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){var e=String(t);this._text!==e&&(this._text=e,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(t){this._dirtyFont!==t&&(this._dirtyFont=t,t&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){isFinite(t)||(t=10),this._fontSize!==t&&(this._fontSize=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily!==t&&(this._fontFamily=t,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!==t&&(this._textAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.computeBBox=function(){return HdpiCanvas.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},e.prototype.getPreciseBBox=function(){var t=HdpiCanvas.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new BBox(this.x-t.actualBoundingBoxLeft,this.y-t.actualBoundingBoxAscent,t.width,t.actualBoundingBoxAscent+t.actualBoundingBoxDescent)},e.prototype.getApproximateBBox=function(){var t=HdpiCanvas.getTextSize(this.text,this.font),e=this.x,n=this.y;switch(this.textAlign){case"end":case"right":e-=t.width;break;case"center":e-=t.width/2}switch(this.textBaseline){case"alphabetic":n-=.7*t.height;break;case"middle":n-=.45*t.height;break;case"ideographic":n-=t.height;break;case"hanging":n-=.2*t.height;break;case"bottom":n-=t.height}return new BBox(e,n,t.width,t.height)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),o=this.computeBBox();return!!o&&o.containsPoint(n.x,n.y)},e.prototype.isPointInStroke=function(t,e){return!1},e.prototype.render=function(t){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(t);var e=this,n=e.fill,o=e.stroke,r=e.strokeWidth;t.font=this.font,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline;var i=this.scene.canvas.pixelRatio||1,s=t.globalAlpha;if(n){t.fillStyle=n,t.globalAlpha=s*this.opacity*this.fillOpacity;var a=this,l=a.fillShadow,c=a.text,u=a.x,p=a.y;l&&l.enabled&&(t.shadowColor=l.color,t.shadowOffsetX=l.xOffset*i,t.shadowOffsetY=l.yOffset*i,t.shadowBlur=l.blur*i),t.fillText(c,u,p)}if(o&&r){t.strokeStyle=o,t.lineWidth=r,t.globalAlpha=s*this.opacity*this.strokeOpacity;var d=this,h=d.lineDash,f=d.lineDashOffset,g=d.lineCap,m=d.lineJoin,y=d.strokeShadow;c=d.text,u=d.x,p=d.y,h&&t.setLineDash(h),f&&(t.lineDashOffset=f),g&&(t.lineCap=g),m&&(t.lineJoin=m),y&&y.enabled&&(t.shadowColor=y.color,t.shadowOffsetX=y.xOffset*i,t.shadowOffsetY=y.yOffset*i,t.shadowBlur=y.blur*i),t.strokeText(c,u,p)}this.dirty=!1}},e.className="Text",e.defaultStyles=chainObjects(Shape.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),e}(Shape);function getFont(t,e,n,o){return[n||"",o||"",t+"px",e].join(" ").trim()}var __extends$4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),BarColumnNodeTag=(()=>(function(t){t[t.Rect=0]="Rect",t[t.Label=1]="Label"}(BarColumnNodeTag||(BarColumnNodeTag={})),BarColumnNodeTag))(),BarColumnLabelPlacement=(()=>(function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(BarColumnLabelPlacement||(BarColumnLabelPlacement={})),BarColumnLabelPlacement))(),BarColumnLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement=BarColumnLabelPlacement.InsideEnd,e}return __extends$4(e,t),e}(Label),BarColumnSparkline=function(t){function e(){var e=t.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new Line,e.bandWidth=0,e.sparklineGroup=new Group,e.rectGroup=new Group,e.labelGroup=new Group,e.rectSelection=Selection.select(e.rectGroup).selectAll(),e.labelSelection=Selection.select(e.labelGroup).selectAll(),e.nodeSelectionData=[],e.label=new BarColumnLabel,e.rootGroup.append(e.sparklineGroup),e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return __extends$4(e,t),e.prototype.getNodeData=function(){return this.nodeSelectionData},e.prototype.update=function(){this.updateSelections(),this.updateNodes()},e.prototype.updateSelections=function(){var t=this.generateNodeData();t&&(this.nodeSelectionData=t,this.updateRectSelection(t),this.updateLabelSelection(t))},e.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},e.prototype.calculateStep=function(t){var e,n,o=this,r=o.xScale,i=o.paddingInner,s=o.paddingOuter,a=(r.domain[1]-r.domain[0])/(null!=(n=null===(e=o.smallestInterval)||void 0===e?void 0:e.x)?n:1)+1,l=Math.min(a,50);return t/Math.max(1,2*s+(l-1)*i+l)},e.prototype.updateYScaleDomain=function(){var t=this,e=t.yScale,n=t.valueAxisDomain,o=extent(t.yData,isNumber),r=0,i=1;void 0!==o&&(r=this.min=o[0],i=this.max=o[1]),r=r<0?r:0,i=i<0?0:i,n&&(n[1]<i&&(n[1]=i),n[0]>r&&(n[0]=r)),e.domain=n||[r,i]},e.prototype.updateRectSelection=function(t){var e=this.rectSelection.setData(t),n=e.enter.append(Rectangle);e.exit.remove(),this.rectSelection=e.merge(n)},e.prototype.updateRectNodes=function(){var t=this,e=this,n=e.highlightedDatum,o=e.formatter,r=e.fill,i=e.stroke,s=e.strokeWidth,a=this.highlightStyle,l=a.fill,c=a.stroke,u=a.strokeWidth;this.rectSelection.each(function(e,a,p){var d,h=a===n,f=h&&void 0!==l?l:r,g=h&&void 0!==c?c:i,m=h&&void 0!==u?u:s,y=a.x,_=a.y,v=a.width,C=a.height,E=a.seriesDatum;o&&(d=o({datum:a,xValue:E.x,yValue:E.y,width:v,height:C,min:E.y===t.min,max:E.y===t.max,first:0===p,last:p===t.nodeSelectionData.length-1,fill:f,stroke:g,strokeWidth:m,highlighted:h})),e.fill=d&&d.fill||f,e.stroke=d&&d.stroke||g,e.strokeWidth=d&&d.strokeWidth||m,e.x=e.y=0,e.width=v,e.height=C,e.visible=e.height>0,e.translationX=y,e.translationY=_})},e.prototype.updateLabelSelection=function(t){var e=this.labelSelection.setData(t),n=e.enter.append(Text).each(function(t){t.tag=BarColumnNodeTag.Label,t.pointerEvents=PointerEvents.None});e.exit.remove(),this.labelSelection=e.merge(n)},e.prototype.updateLabelNodes=function(){var t=this.label,e=t.enabled,n=t.fontStyle,o=t.fontWeight,r=t.fontSize,i=t.fontFamily,s=t.color;this.labelSelection.each(function(t,a){var l=a.label;l&&e?(t.fontStyle=n,t.fontWeight=o,t.fontSize=r,t.fontFamily=i,t.textAlign=l.textAlign,t.textBaseline=l.textBaseline,t.text=l.text,t.x=l.x,t.y=l.y,t.fill=s,t.visible=!0):t.visible=!1})},e.prototype.getTooltipHtml=function(t){var e=this.dataType,n=t.seriesDatum,o=n.y,r=n.x,i={content:this.formatNumericDatum(o),title:"array"===e||"object"===e?this.formatDatum(r):void 0};return this.tooltip.renderer?toTooltipHtml(this.tooltip.renderer({context:this.context,datum:n,yValue:o,xValue:r}),i):toTooltipHtml(i)},e.prototype.formatLabelValue=function(t){return t.toFixed(t%1!=0?1:0)},e}(Sparkline),__extends$3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),BarSparkline=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3(e,t),e.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},e.prototype.updateXScaleRange=function(){var t=this,e=t.xScale,n=t.seriesRect,o=t.paddingOuter,r=t.paddingInner;if(e instanceof BandScale)e.range=[0,n.height],e.paddingInner=r,e.paddingOuter=o;else{var i=this.calculateStep(n.height),s=i*o;this.bandWidth=i*(1-r),e.range=[s,n.height-s-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this,e=t.yScale,n=t.axis,o=t.axisLine,r=t.seriesRect,i=n.strokeWidth;o.x1=0,o.x2=0,o.y1=0,o.y2=r.height,o.stroke=n.stroke,o.strokeWidth=i+(i%2==1?1:0);var s=e.convert(0);o.translationX=s},e.prototype.generateNodeData=function(){var t=this,e=t.yData,n=t.xData,o=t.xScale,r=t.yScale,i=t.fill,s=t.stroke,a=t.strokeWidth,l=t.label;if(t.data){for(var c=l.fontStyle,u=l.fontWeight,p=l.fontSize,d=l.fontFamily,h=l.color,f=l.formatter,g=l.placement,m=[],y=r.convert(0),_=0,v=e.length;_<v;_++){var C=e[_],E=n[_],w=void 0===C;w&&(C=0);var O,b=o.convert(E),S=Math.min(r.convert(C),y),P=Math.max(r.convert(C),y),D=o instanceof BandScale?o.bandwidth:this.bandWidth,T=P-S,R={x:y,y:b};O=f?f({value:C}):void 0!==C&&isNumber(C)?this.formatLabelValue(C):"";var A=b+D/2,M=void 0,x=void 0,I=void 0!==C&&C>=0;if(g===BarColumnLabelPlacement.Center)M=S+T/2,x="center";else if(g===BarColumnLabelPlacement.OutsideEnd)M=S+(I?T+4:-4),x=I?"start":"end";else if(g===BarColumnLabelPlacement.InsideEnd){M=S+(I?T-4:4),x=I?"end":"start";var L=HdpiCanvas.getTextSize(O,d).width||20;(I&&M<y+L||!I&&M>y-L)&&(M=y+4*(I?1:-1),x=I?"start":"end")}else M=y+4*(I?1:-1),x=I?"start":"end";m.push({x:S,y:b,width:T,height:D,fill:i,stroke:s,strokeWidth:a,seriesDatum:{x:E,y:w?void 0:C},point:R,label:{x:M,y:A,text:O,fontStyle:c,fontWeight:u,fontSize:p,fontFamily:d,textAlign:x,textBaseline:"middle",fill:h}})}return m}},e.prototype.getDistance=function(t,e){return Math.abs(t.y-e.y)},e.className="BarSparkline",e}(BarColumnSparkline),__extends$2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ColumnSparkline=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2(e,t),e.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},e.prototype.updateXScaleRange=function(){var t=this,e=t.xScale,n=t.seriesRect,o=t.paddingOuter,r=t.paddingInner;if(e instanceof BandScale)e.range=[0,n.width],e.paddingInner=r,e.paddingOuter=o;else{var i=this.calculateStep(n.width),s=i*o;this.bandWidth=i*(1-r),e.range=[s,n.width-s-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this,e=t.yScale,n=t.axis,o=t.axisLine,r=t.seriesRect,i=n.strokeWidth;o.x1=0,o.x2=r.width,o.y1=0,o.y2=0,o.stroke=n.stroke,o.strokeWidth=i+(i%2==1?1:0);var s=e.convert(0);o.translationY=s},e.prototype.generateNodeData=function(){var t=this,e=t.yData,n=t.xData,o=t.xScale,r=t.yScale,i=t.fill,s=t.stroke,a=t.strokeWidth,l=t.label;if(t.data){for(var c=l.fontStyle,u=l.fontWeight,p=l.fontSize,d=l.fontFamily,h=l.color,f=l.formatter,g=l.placement,m=[],y=r.convert(0),_=0,v=e.length;_<v;_++){var C=e[_],E=n[_],w=void 0===C;w&&(C=0);var O,b=Math.min(r.convert(C),y),S=o.convert(E),P=Math.max(r.convert(C),y),D=o instanceof BandScale?o.bandwidth:this.bandWidth,T=P-b,R={x:S+D/2,y:y};O=f?f({value:C}):void 0!==C&&isNumber(C)?this.formatLabelValue(C):"";var A=S+D/2,M=void 0,x=void 0,I=void 0!==C&&C>=0;if(g===BarColumnLabelPlacement.Center)M=b+T/2,x="middle";else if(g===BarColumnLabelPlacement.OutsideEnd)M=b+(I?-2:T+2),x=I?"bottom":"top";else if(g===BarColumnLabelPlacement.InsideEnd){M=b+(I?2:T-2),x=I?"top":"bottom";var L=HdpiCanvas.getTextSize(O,d).height||10;(I&&M>y-L||!I&&M<y+L)&&(M=y+2*(I?-1:1),x=I?"bottom":"top")}else M=y+2*(I?-1:1),x=I?"bottom":"top";m.push({x:S,y:b,width:D,height:T,fill:i,stroke:s,strokeWidth:a,seriesDatum:{x:E,y:w?void 0:C},point:R,label:{x:A,y:M,text:O,fontStyle:c,fontWeight:u,fontSize:p,fontFamily:d,textAlign:"center",textBaseline:x,fill:h}})}return m}},e.className="ColumnSparkline",e}(BarColumnSparkline),AgSparkline=function(){function t(){}return t.create=function(t,e){var n=getSparklineInstance((t=Object.create(t)).type);return e&&(n.tooltip=e),initSparkline(n,t),initSparklineByType(n,t),t.data&&(n.data=t.data),n},t}();function getSparklineInstance(t){switch(void 0===t&&(t="line"),t){case"column":return new ColumnSparkline;case"bar":return new BarSparkline;case"area":return new AreaSparkline;case"line":default:return new LineSparkline}}function initSparklineByType(t,e){switch(e.type){case"bar":case"column":initBarColumnSparkline(t,e);break;case"area":initAreaSparkline(t,e);break;case"line":default:initLineSparkline(t,e)}}function initSparkline(t,e){setValueIfPropertyExists(t,"context",e.context,e),setValueIfPropertyExists(t,"width",e.width,e),setValueIfPropertyExists(t,"height",e.height,e),setValueIfPropertyExists(t,"container",e.container,e),setValueIfPropertyExists(t,"xKey",e.xKey,e),setValueIfPropertyExists(t,"yKey",e.yKey,e),e.padding&&initPaddingOptions(t.padding,e.padding),e.axis&&initAxisOptions(t.axis,e.axis),e.highlightStyle&&initHighlightStyleOptions(t.highlightStyle,e.highlightStyle),e.tooltip&&t.tooltip&&initTooltipOptions(t.tooltip,e.tooltip)}function initLineSparkline(t,e){e.marker&&initMarkerOptions(t.marker,e.marker),e.line&&initLineOptions(t.line,e.line),e.crosshairs&&initCrosshairsOptions(t.crosshairs,e.crosshairs)}function initAreaSparkline(t,e){setValueIfPropertyExists(t,"fill",e.fill,e),e.marker&&initMarkerOptions(t.marker,e.marker),e.line&&initLineOptions(t.line,e.line),e.crosshairs&&initCrosshairsOptions(t.crosshairs,e.crosshairs)}function initBarColumnSparkline(t,e){setValueIfPropertyExists(t,"valueAxisDomain",e.valueAxisDomain,e),setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"paddingInner",e.paddingInner,e),setValueIfPropertyExists(t,"paddingOuter",e.paddingOuter,e),setValueIfPropertyExists(t,"formatter",e.formatter,e),e.label&&initLabelOptions(t.label,e.label)}function initPaddingOptions(t,e){setValueIfPropertyExists(t,"top",e.top,e),setValueIfPropertyExists(t,"right",e.right,e),setValueIfPropertyExists(t,"bottom",e.bottom,e),setValueIfPropertyExists(t,"left",e.left,e)}function initMarkerOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"size",e.size,e),setValueIfPropertyExists(t,"shape",e.shape,e),setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"formatter",e.formatter,e)}function initLabelOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"fontStyle",e.fontStyle,e),setValueIfPropertyExists(t,"fontWeight",e.fontWeight,e),setValueIfPropertyExists(t,"fontSize",e.fontSize,e),setValueIfPropertyExists(t,"fontFamily",e.fontFamily,e),setValueIfPropertyExists(t,"textAlign",e.textAlign,e),setValueIfPropertyExists(t,"textBaseline",e.textBaseline,e),setValueIfPropertyExists(t,"color",e.color,e),setValueIfPropertyExists(t,"formatter",e.formatter,e),setValueIfPropertyExists(t,"placement",e.placement,e)}function initLineOptions(t,e){setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initAxisOptions(t,e){setValueIfPropertyExists(t,"type",e.type,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initHighlightStyleOptions(t,e){setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"size",e.size,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initTooltipOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"container",e.container,e),setValueIfPropertyExists(t,"xOffset",e.xOffset,e),setValueIfPropertyExists(t,"yOffset",e.yOffset,e),setValueIfPropertyExists(t,"renderer",e.renderer,e)}function initCrosshairsOptions(t,e){t.xLine&&e.xLine&&initCrosshairLineOptions(t.xLine,e.xLine),t.yLine&&e.yLine&&initCrosshairLineOptions(t.yLine,e.yLine)}function initCrosshairLineOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"lineDash",e.lineDash,e),setValueIfPropertyExists(t,"lineCap",e.lineCap,e)}var doOnceFlags={};function doOnce(t,e){doOnceFlags[e]||(t(),doOnceFlags[e]=!0)}var offsetValidator=function(t,e,n){if(isNumber(e))return!0;var o="AG Charts: "+t+" must be a number, the value you provided is not a valid number. Using the default of "+n+"px.";return doOnce(function(){return console.warn(o)},t+" not a number"),!1},validators={xOffset:offsetValidator,yOffset:offsetValidator};function setValueIfPropertyExists(t,e,n,o){if(e in o)if(e in t){var r=validators[e];(!r||r(e,n,t[e]))&&t[e]!==n&&(t[e]=n)}else console.warn("Property "+e+" does not exist on the target object.")}var __extends$1=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign=function(){return(__assign=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$1=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SparklineCellRenderer=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$1(e,t),e.prototype.init=function(t){var e=this,n=!0,o=this.resizeObserverService.observeResize(this.getGui(),function(){var o=e.getGui(),r=o.clientWidth,i=o.clientHeight;if(0!==r&&0!==i)if(n){var s=__assign({data:t.value,width:r,height:i,context:{data:t.data}},t.sparklineOptions);e.sparkline=AgSparkline.create(s,e.sparklineTooltipSingleton.getSparklineTooltip()),e.eSparkline.appendChild(e.sparkline.canvasElement),n=!1}else e.sparkline.width=r,e.sparkline.height=i});this.addDestroyFunc(function(){return o()})},e.prototype.refresh=function(t){return!!this.sparkline&&(this.sparkline.data=t.value,!0)},e.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSparkline")],e.prototype,"eSparkline",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sparklineTooltipSingleton")],e.prototype,"sparklineTooltipSingleton",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},SparklineTooltipSingleton=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.postConstruct=function(){this.tooltip=new SparklineTooltip},e.prototype.getSparklineTooltip=function(){return this.tooltip},e.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyTooltip",null),__decorate([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("sparklineTooltipSingleton")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),SparklinesModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SparklinesModule,beans:[SparklineTooltipSingleton],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:SparklineCellRenderer}],dependantModules:[EnterpriseCoreModule]},AllEnterpriseModules=[ClipboardModule,ColumnsToolPanelModule,ExcelExportModule,FiltersToolPanelModule,GridChartsModule,MasterDetailModule,MenuModule,MultiFilterModule,RangeSelectionModule,RichSelectModule,RowGroupingModule,ServerSideRowModelModule,SetFilterModule,SideBarModule,StatusBarModule,ViewportRowModelModule,SparklinesModule],AllModules=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.F$j.concat(AllEnterpriseModules);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.registerModules(AllEnterpriseModules)},366:(t,e,n)=>{"use strict";function o(t){return"function"==typeof t}let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class p{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:r,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof p)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(o(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(s){t=s instanceof u?d(s.errors):[s]}}if(l(i)){let e=-1,n=i.length;for(;++e<n;){const n=i[e];if(c(n))try{n.unsubscribe()}catch(s){t=t||[],s instanceof u?t=t.concat(d(s.errors)):t.push(s)}}}if(t)throw new u(t)}add(t){let e=t;if(!t)return p.EMPTY;switch(typeof t){case"function":e=new p(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof p)){const t=e;e=new p,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof p){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[e]:o.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}p.EMPTY=function(t){return t.closed=!0,t}(new p);const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class f extends p{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[h](){return this}static create(t,e,n){const o=new f(t,e,n);return o.syncErrorThrowable=!1,o}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,n,r){let i;super(),this._parentSubscriber=t;let s=this;o(e)?i=e:e&&(i=e.next,n=e.error,r=e.complete,e!==a&&(s=Object.create(e),o(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(o){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(s(o),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(t){return t}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[h])return t[h]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(o?o.call(r,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:o}=t;if(e||o)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=v(e))((e,n)=>{let o;o=this.subscribe(e=>{try{t(e)}catch(r){n(r),o&&o.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=v(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function v(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const C=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class E extends p{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class w extends f{constructor(t){super(t),this.destination=t}}let O=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[h](){return new w(this)}lift(t){const e=new b(this,this);return e.operator=t,e}next(t){if(this.closed)throw new C;if(!this.isStopped){const{observers:e}=this,n=e.length,o=e.slice();for(let r=0;r<n;r++)o[r].next(t)}}error(t){if(this.closed)throw new C;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,o=e.slice();for(let r=0;r<n;r++)o[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let o=0;o<e;o++)n[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new C;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new C;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new E(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new b(t,e),t})();class b extends O{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):p.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}function P(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new D(t,e))}}class D{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new T(t,this.project,this.thisArg))}}class T extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const R=t=>e=>{for(let n=0,o=t.length;n<o&&!e.closed;n++)e.next(t[n]);e.complete()},A="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",M=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function x(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const I=t=>{if(t&&"function"==typeof t[m])return n=t,t=>{const e=n[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(M(t))return R(t);if(x(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e))(t);if(t&&"function"==typeof t[A])return e=t,t=>{const n=e[A]();for(;;){let e;try{e=n.next()}catch(o){return t.error(o),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function L(t,e){return new _(n=>{const o=new p;let r=0;return o.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||o.add(this.schedule())):n.complete()})),o})}function F(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new _(n=>{const o=new p;return o.add(e.schedule(()=>{const r=t[m]();o.add(r.subscribe({next(t){o.add(e.schedule(()=>n.next(t)))},error(t){o.add(e.schedule(()=>n.error(t)))},complete(){o.add(e.schedule(()=>n.complete()))}}))})),o})}(t,e);if(x(t))return function(t,e){return new _(n=>{const o=new p;return o.add(e.schedule(()=>t.then(t=>{o.add(e.schedule(()=>{n.next(t),o.add(e.schedule(()=>n.complete()))}))},t=>{o.add(e.schedule(()=>n.error(t)))}))),o})}(t,e);if(M(t))return L(t,e);if(function(t){return t&&"function"==typeof t[A]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const o=new p;let r;return o.add(()=>{r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(()=>{r=t[A](),o.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}))})),o})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(I(t))}class N extends f{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class k extends f{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function G(t,e){if(e.closed)return;if(t instanceof _)return t.subscribe(e);let n;try{n=I(t)(e)}catch(o){e.error(o)}return n}function B(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(B((n,o)=>F(t(n,o)).pipe(P((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new W(t,n)))}class W{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new V(t,this.project,this.concurrent))}}class V extends k{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(e)}_innerSub(t){const e=new N(this),n=this.destination;n.add(e);const o=G(t,e);o!==e&&n.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t=Number.POSITIVE_INFINITY){return B(y,t)}function U(t,e){return e?L(t,e):new _(R(t))}function $(...t){let e=Number.POSITIVE_INFINITY,n=null,o=t[t.length-1];return S(o)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof o&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:H(e)(U(t,n))}function z(){return function(t){return t.lift(new j(t))}}class j{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const o=new K(t,n),r=e.subscribe(o);return o.closed||(o.connection=n.connect()),r}}class K extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,o=t._connection;this.connection=null,!o||n&&o!==n||o.unsubscribe()}}class Y extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new p,t.add(this.source.subscribe(new X(this.getSubject(),this))),t.closed&&(this._connection=null,t=p.EMPTY)),t}refCount(){return z()(this)}}const q=(()=>{const t=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class X extends w{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Z(){return new O}function Q(){return t=>{return z()((e=Z,function(t){let n;n="function"==typeof e?e:function(){return e};const o=Object.create(t,q);return o.source=t,o.subjectFactory=n,o})(t));var e}}function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function tt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function nt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ot=J({__forward_ref__:J});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return et(this())},t}function it(t){return st(t)?t():t}function st(t){return"function"==typeof t&&t.hasOwnProperty(ot)&&t.__forward_ref__===rt}class at extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function lt(t){return"string"==typeof t?t:null==t?"":String(t)}function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lt(t)}function ut(t,e){const n=e?` in ${e}`:"";throw new at("201",`No provider for ${ct(t)} found${n}`)}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ht(t){return ft(t,mt)||ft(t,_t)}function ft(t,e){return t.hasOwnProperty(e)?t[e]:null}function gt(t){return t&&(t.hasOwnProperty(yt)||t.hasOwnProperty(vt))?t[yt]:null}const mt=J({"\u0275prov":J}),yt=J({"\u0275inj":J}),_t=J({ngInjectableDef:J}),vt=J({ngInjectorDef:J});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let Et;function wt(t){const e=Et;return Et=t,e}function Ot(t,e,n){const o=ht(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&Ct.Optional?null:void 0!==e?e:void ut(et(t),"Injector")}function bt(t){return{toString:t}.toString()}var St=(()=>((St=St||{})[St.OnPush=0]="OnPush",St[St.Default=1]="Default",St))(),Pt=(()=>((Pt=Pt||{})[Pt.Emulated=0]="Emulated",Pt[Pt.None=2]="None",Pt[Pt.ShadowDom=3]="ShadowDom",Pt))();const Dt="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,Rt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At="undefined"!=typeof global&&global,Mt=Dt||At||Tt||Rt,xt={},It=[],Lt=J({"\u0275cmp":J}),Ft=J({"\u0275dir":J}),Nt=J({"\u0275pipe":J}),kt=J({"\u0275mod":J}),Gt=J({"\u0275loc":J}),Bt=J({"\u0275fac":J}),Wt=J({__NG_ELEMENT_ID__:J});let Vt=0;function Ht(t){return bt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Pt.Emulated,id:"c",styles:t.styles||It,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,r=t.features,i=t.pipes;return n.id+=Vt++,n.inputs=Kt(t.inputs,e),n.outputs=Kt(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=o?()=>("function"==typeof o?o():o).map(Ut):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map($t):null,n})}function Ut(t){return Xt(t)||function(t){return t[Ft]||null}(t)}function $t(t){return function(t){return t[Nt]||null}(t)}const zt={};function jt(t){return bt(()=>{const e={type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(zt[t.id]=t.type),e})}function Kt(t,e){if(null==t)return xt;const n={};for(const o in t)if(t.hasOwnProperty(o)){let r=t[o],i=r;Array.isArray(r)&&(i=r[1],r=r[0]),n[r]=o,e&&(e[r]=i)}return n}const Yt=Ht;function qt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xt(t){return t[Lt]||null}function Zt(t,e){const n=t[kt]||null;if(!n&&!0===e)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return n}const Qt=20,Jt=10;function te(t){return Array.isArray(t)&&"object"==typeof t[1]}function ee(t){return Array.isArray(t)&&!0===t[1]}function ne(t){return 0!=(8&t.flags)}function oe(t){return 2==(2&t.flags)}function re(t){return 1==(1&t.flags)}function ie(t){return null!==t.template}function se(t,e){return t.hasOwnProperty(Bt)?t[Bt]:null}class ae{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function le(){return ce}function ce(t){return t.type.prototype.ngOnChanges&&(t.setInput=pe),ue}function ue(){const t=de(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===xt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function pe(t,e,n,o){const r=de(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:xt,current:null}),i=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],l=s[a];i[a]=new ae(l&&l.currentValue,e,s===xt),t[o]=e}function de(t){return t.__ngSimpleChanges__||null}le.ngInherit=!0;const he="http://www.w3.org/2000/svg";let fe;function ge(){return void 0!==fe?fe:"undefined"!=typeof document?document:void 0}function me(t){return!!t.listen}const ye={createRenderer:(t,e)=>ge()};function _e(t){for(;Array.isArray(t);)t=t[0];return t}function ve(t,e){return _e(e[t])}function Ce(t,e){return _e(e[t.index])}function Ee(t,e){return t.data[e]}function we(t,e){return t[e]}function Oe(t,e){const n=e[t];return te(n)?n:n[0]}function be(t){return 4==(4&t[2])}function Se(t){return 128==(128&t[2])}function Pe(t,e){return null==e?null:t[e]}function De(t){t[18]=0}function Te(t,e){t[5]+=e;let n=t,o=t[3];for(;null!==o&&(1===e&&1===n[5]||-1===e&&0===n[5]);)o[5]+=e,n=o,o=o[3]}const Re={lFrame:Ze(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ae(){return Re.bindingsEnabled}function Me(){return Re.lFrame.lView}function xe(){return Re.lFrame.tView}function Ie(t){return Re.lFrame.contextLView=t,t[8]}function Le(){let t=Fe();for(;null!==t&&64===t.type;)t=t.parent;return t}function Fe(){return Re.lFrame.currentTNode}function Ne(t,e){const n=Re.lFrame;n.currentTNode=t,n.isParent=e}function ke(){return Re.lFrame.isParent}function Ge(){Re.lFrame.isParent=!1}function Be(){return Re.isInCheckNoChangesMode}function We(t){Re.isInCheckNoChangesMode=t}function Ve(){const t=Re.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function He(){return Re.lFrame.bindingIndex++}function Ue(t,e){const n=Re.lFrame;n.bindingIndex=n.bindingRootIndex=t,$e(e)}function $e(t){Re.lFrame.currentDirectiveIndex=t}function ze(){return Re.lFrame.currentQueryIndex}function je(t){Re.lFrame.currentQueryIndex=t}function Ke(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ye(t,e,n){if(n&Ct.SkipSelf){let o=e,r=t;for(;o=o.parent,!(null!==o||n&Ct.Host||(o=Ke(r),null===o)||(r=r[15],10&o.type)););if(null===o)return!1;e=o,t=r}const o=Re.lFrame=Xe();return o.currentTNode=e,o.lView=t,!0}function qe(t){const e=Xe(),n=t[1];Re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Xe(){const t=Re.lFrame,e=null===t?null:t.child;return null===e?Ze(t):e}function Ze(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Qe(){const t=Re.lFrame;return Re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Je=Qe;function tn(){const t=Qe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function en(){return Re.lFrame.selectedIndex}function nn(t){Re.lFrame.selectedIndex=t}function on(){const t=Re.lFrame;return Ee(t.tView,t.selectedIndex)}function rn(){Re.lFrame.currentNamespace=he}function sn(t,e){for(let n=e.directiveStart,o=e.directiveEnd;n<o;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:r,ngAfterViewInit:i,ngAfterViewChecked:s,ngOnDestroy:a}=e;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),i&&(t.viewHooks||(t.viewHooks=[])).push(-n,i),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function an(t,e,n){un(t,e,3,n)}function ln(t,e,n,o){(3&t[2])===n&&un(t,e,n,o)}function cn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function un(t,e,n,o){const r=null!=o?o:-1,i=e.length-1;let s=0;for(let a=void 0!==o?65535&t[18]:0;a<i;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=o&&s>=o)break}else e[a]<0&&(t[18]+=65536),(s<r||-1==r)&&(pn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function pn(t,e,n,o){const r=n[o]<0,i=n[o+1],s=t[r?-n[o]:n[o]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{i.call(s)}finally{}}}else try{i.call(s)}finally{}}const dn=-1;class hn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function fn(t,e,n){const o=me(t);let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],a=n[r++],l=n[r++];o?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=i,a=n[++r];mn(s)?o&&t.setProperty(e,s,a):o?t.setAttribute(e,s,a):e.setAttribute(s,a),r++}}return r}function gn(t){return 3===t||4===t||6===t}function mn(t){return 64===t.charCodeAt(0)}function yn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let o=0;o<e.length;o++){const r=e[o];"number"==typeof r?n=r:0===n||_n(t,n,r,null,-1===n||2===n?e[++o]:null)}}return t}function _n(t,e,n,o,r){let i=0,s=t.length;if(-1===e)s=-1;else for(;i<t.length;){const n=t[i++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=i-1;break}}}for(;i<t.length;){const e=t[i];if("number"==typeof e)break;if(e===n){if(null===o)return void(null!==r&&(t[i+1]=r));if(o===t[i+1])return void(t[i+2]=r)}i++,null!==o&&i++,null!==r&&i++}-1!==s&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),null!==o&&t.splice(i++,0,o),null!==r&&t.splice(i++,0,r)}function vn(t){return t!==dn}function Cn(t){return 32767&t}function En(t,e){let n=t>>16,o=e;for(;n>0;)o=o[15],n--;return o}let wn=!0;function On(t){const e=wn;return wn=t,e}let bn=0;function Sn(t,e){const n=Dn(t,e);if(-1!==n)return n;const o=e[1];o.firstCreatePass&&(t.injectorIndex=e.length,Pn(o.data,t),Pn(e,null),Pn(o.blueprint,null));const r=Tn(t,e),i=t.injectorIndex;if(vn(r)){const t=Cn(r),n=En(r,e),o=n[1].data;for(let r=0;r<8;r++)e[i+r]=n[t+r]|o[t+r]}return e[i+8]=r,i}function Pn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Dn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Tn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,o=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(o=2===e?t.declTNode:1===e?r[6]:null,null===o)return dn;if(n++,r=r[15],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return dn}function Rn(t,e,n){!function(t,e,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(Wt)&&(o=n[Wt]),null==o&&(o=n[Wt]=bn++);const r=255&o;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function An(t,e,n){if(n&Ct.Optional)return t;ut(e,"NodeInjector")}function Mn(t,e,n,o){if(n&Ct.Optional&&void 0===o&&(o=null),0==(n&(Ct.Self|Ct.Host))){const r=t[9],i=wt(void 0);try{return r?r.get(e,o,n&Ct.Optional):Ot(e,o,n&Ct.Optional)}finally{wt(i)}}return An(o,e,n)}function xn(t,e,n,o=Ct.Default,r){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Wt)?t[Wt]:void 0;return"number"==typeof e?e>=0?255&e:Ln:e}(n);if("function"==typeof i){if(!Ye(e,t,o))return o&Ct.Host?An(r,n,o):Mn(e,n,o,r);try{const t=i(o);if(null!=t||o&Ct.Optional)return t;ut(n)}finally{Je()}}else if("number"==typeof i){let r=null,s=Dn(t,e),a=dn,l=o&Ct.Host?e[16][6]:null;for((-1===s||o&Ct.SkipSelf)&&(a=-1===s?Tn(t,e):e[s+8],a!==dn&&Bn(o,!1)?(r=e[1],s=Cn(a),e=En(a,e)):s=-1);-1!==s;){const t=e[1];if(Gn(i,s,t.data)){const t=Fn(s,e,n,r,o,l);if(t!==In)return t}a=e[s+8],a!==dn&&Bn(o,e[1].data[s+8]===l)&&Gn(i,s,e)?(r=t,s=Cn(a),e=En(a,e)):s=-1}}}return Mn(e,n,o,r)}const In={};function Ln(){return new Wn(Le(),Me())}function Fn(t,e,n,o,r,i){const s=e[1],a=s.data[t+8],l=Nn(a,s,n,null==o?oe(a)&&wn:o!=s&&0!=(3&a.type),r&Ct.Host&&i===a);return null!==l?kn(e,s,l,a):In}function Nn(t,e,n,o,r){const i=t.providerIndexes,s=e.data,a=1048575&i,l=t.directiveStart,c=i>>20,u=r?a+c:t.directiveEnd;for(let p=o?a:a+c;p<u;p++){const t=s[p];if(p<l&&n===t||p>=l&&t.type===n)return p}if(r){const t=s[l];if(t&&ie(t)&&t.type===n)return l}return null}function kn(t,e,n,o){let r=t[n];const i=e.data;if(r instanceof hn){const s=r;s.resolving&&function(t,e){throw new at("200",`Circular dependency in DI detected for ${t}`)}(ct(i[n]));const a=On(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?wt(s.injectImpl):null;Ye(t,o,Ct.Default);try{r=t[n]=s.factory(void 0,i,t,o),e.firstCreatePass&&n>=o.directiveStart&&function(t,e,n){const{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(o){const o=ce(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i))}(n,i[n],e)}finally{null!==l&&wt(l),On(a),s.resolving=!1,Je()}}return r}function Gn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Bn(t,e){return!(t&Ct.Self||t&Ct.Host&&e)}class Wn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return xn(this._tNode,this._lView,t,void 0,e)}}function Vn(t){return bt(()=>{const e=t.prototype.constructor,n=e[Bt]||Hn(e),o=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==o;){const t=r[Bt]||Hn(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function Hn(t){return st(t)?()=>{const e=Hn(it(t));return e&&e()}:se(t)}const Un="__parameters__";function $n(t,e,n){return bt(()=>{const o=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return o.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,o){const r=t.hasOwnProperty(Un)?t[Un]:Object.defineProperty(t,Un,{value:[]})[Un];for(;r.length<=o;)r.push(null);return(r[o]=r[o]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class zn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const jn=new zn("AnalyzeForEntryComponents"),Kn=Function;function Yn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let o=t[n];Array.isArray(o)?(e===t&&(e=t.slice(0,n)),Yn(o,e)):e!==t&&e.push(o)}return e}function qn(t,e){t.forEach(t=>Array.isArray(t)?qn(t,e):e(t))}function Xn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Qn(t,e){const n=[];for(let o=0;o<t;o++)n.push(e);return n}function Jn(t,e,n){let o=eo(t,e);return o>=0?t[1|o]=n:(o=~o,function(t,e,n,o){let r=t.length;if(r==e)t.push(n,o);else if(1===r)t.push(o,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=o}}(t,o,e,n)),o}function to(t,e){const n=eo(t,e);if(n>=0)return t[1|n]}function eo(t,e){return function(t,e,n){let o=0,r=t.length>>1;for(;r!==o;){const n=o+(r-o>>1),i=t[n<<1];if(e===i)return n<<1;i>e?r=n:o=n+1}return~(r<<1)}(t,e)}const no={},oo=/\n/gm,ro="__source",io=J({provide:String,useValue:J});let so;function ao(t){const e=so;return so=t,e}function lo(t,e=Ct.Default){if(void 0===so)throw new Error("inject() must be called from an injection context");return null===so?Ot(t,void 0,e):so.get(t,e&Ct.Optional?null:void 0,e)}function co(t,e=Ct.Default){return(Et||lo)(it(t),e)}const uo=co;function po(t){const e=[];for(let n=0;n<t.length;n++){const o=it(t[n]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let t,n=Ct.Default;for(let e=0;e<o.length;e++){const r=o[e],i=r.__NG_DI_FLAG__;"number"==typeof i?-1===i?t=r.token:n|=i:t=r}e.push(co(t,n))}else e.push(co(o))}return e}function ho(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const fo=ho($n("Inject",t=>({token:t})),-1),go=ho($n("Optional"),8),mo=ho($n("SkipSelf"),4);let yo,_o;function vo(t){var e;return(null===(e=function(){if(void 0===yo&&(yo=null,Mt.trustedTypes))try{yo=Mt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return yo}())||void 0===e?void 0:e.createHTML(t))||t}function Co(t){var e;return(null===(e=function(){if(void 0===_o&&(_o=null,Mt.trustedTypes))try{_o=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return _o}())||void 0===e?void 0:e.createHTML(t))||t}class Eo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wo extends Eo{getTypeName(){return"HTML"}}class Oo extends Eo{getTypeName(){return"Style"}}class bo extends Eo{getTypeName(){return"Script"}}class So extends Eo{getTypeName(){return"URL"}}class Po extends Eo{getTypeName(){return"ResourceURL"}}function Do(t){return t instanceof Eo?t.changingThisBreaksApplicationSecurity:t}function To(t,e){const n=Ro(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ro(t){return t instanceof Eo&&t.getTypeName()||null}class Ao{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(vo(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Mo{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=vo(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=vo(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let o=e.length-1;0<o;o--){const n=e.item(o).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const xo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Io=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lo(t){return(t=String(t)).match(xo)||t.match(Io)?t:"unsafe:"+t}function Fo(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function No(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ko=Fo("area,br,col,hr,img,wbr"),Go=Fo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bo=Fo("rp,rt"),Wo=No(Bo,Go),Vo=No(ko,No(Go,Fo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),No(Bo,Fo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wo),Ho=Fo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Uo=Fo("srcset"),$o=No(Ho,Uo,Fo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zo=Fo("script,style,template");class jo{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Vo.hasOwnProperty(e))return this.sanitizedSomething=!0,!zo.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!$o.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;Ho[i]&&(s=Lo(s)),Uo[i]&&(o=s,s=(o=String(o)).split(",").map(t=>Lo(t.trim())).join(", ")),this.buf.push(" ",e,'="',qo(s),'"')}var o;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Vo.hasOwnProperty(e)&&!ko.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(qo(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ko=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yo=/([^\#-~ |!])/g;function qo(t){return t.replace(/&/g,"&amp;").replace(Ko,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Yo,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xo;function Zo(t,e){let n=null;try{Xo=Xo||function(t){const e=new Mo(t);return function(){try{return!!(new window.DOMParser).parseFromString(vo(""),"text/html")}catch(t){return!1}}()?new Ao(e):e}(t);let o=e?String(e):"";n=Xo.getInertBodyElement(o);let r=5,i=o;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,o=i,i=n.innerHTML,n=Xo.getInertBodyElement(o)}while(o!==i);return vo((new jo).sanitizeChildren(Qo(n)||n))}finally{if(n){const t=Qo(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Qo(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Jo=(()=>((Jo=Jo||{})[Jo.NONE=0]="NONE",Jo[Jo.HTML=1]="HTML",Jo[Jo.STYLE=2]="STYLE",Jo[Jo.SCRIPT=3]="SCRIPT",Jo[Jo.URL=4]="URL",Jo[Jo.RESOURCE_URL=5]="RESOURCE_URL",Jo))();function tr(t){const e=nr();return e?Co(e.sanitize(Jo.HTML,t)||""):To(t,"HTML")?Co(Do(t)):Zo(ge(),lt(t))}function er(t){const e=nr();return e?e.sanitize(Jo.URL,t)||"":To(t,"URL")?Do(t):Lo(lt(t))}function nr(){const t=Me();return t&&t[12]}function or(t,e){t.__ngContext__=e}function rr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ir(t){return t.ngOriginalError}function sr(t,...e){t.error(...e)}class ar{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),o=function(t){return t&&t.ngErrorLogger||sr}(t);o(this._console,"ERROR",t),e&&o(this._console,"ORIGINAL ERROR",e),n&&o(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(ir(t)):null}_findOriginalError(t){let e=t&&ir(t);for(;e&&ir(e);)e=ir(e);return e||null}}const lr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Mt))();function cr(t){return t instanceof Function?t():t}var ur=(()=>((ur=ur||{})[ur.Important=1]="Important",ur[ur.DashCase=2]="DashCase",ur))();function pr(t,e){return(void 0)(t,e)}function dr(t){const e=t[3];return ee(e)?e[3]:e}function hr(t){return gr(t[13])}function fr(t){return gr(t[4])}function gr(t){for(;null!==t&&!ee(t);)t=t[4];return t}function mr(t,e,n,o,r){if(null!=o){let i,s=!1;ee(o)?i=o:te(o)&&(s=!0,o=o[0]);const a=_e(o);0===t&&null!==n?null==r?br(e,n,a):Or(e,n,a,r||null,!0):1===t&&null!==n?Or(e,n,a,r||null,!0):2===t?function(t,e,n){const o=Pr(t,e);o&&function(t,e,n,o){me(t)?t.removeChild(e,n,o):e.removeChild(n)}(t,o,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=i&&function(t,e,n,o,r){const i=n[7];i!==_e(n)&&mr(e,t,o,i,r);for(let s=Jt;s<n.length;s++){const r=n[s];Lr(r[1],r,t,e,o,i)}}(e,t,i,n,r)}}function yr(t,e,n){return me(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function _r(t,e){const n=t[9],o=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Te(r,-1)),n.splice(o,1)}function vr(t,e){if(t.length<=Jt)return;const n=Jt+e,o=t[n];if(o){const i=o[17];null!==i&&i!==t&&_r(i,o),e>0&&(t[n-1][4]=o[4]);const s=Zn(t,Jt+e);Lr(o[1],r=o,r[11],2,null,null),r[0]=null,r[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),o[3]=null,o[4]=null,o[2]&=-129}var r;return o}function Cr(t,e){if(!(256&e[2])){const n=e[11];me(n)&&n.destroyNode&&Lr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Er(t[1],t);for(;e;){let n=null;if(te(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)te(e)&&Er(e[1],e),e=e[3];null===e&&(e=t),te(e)&&Er(e[1],e),n=e&&e[4]}e=n}}(e)}}function Er(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let o=0;o<n.length;o+=2){const t=e[n[o]];if(!(t instanceof hn)){const e=n[o+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const o=t[e[n]],r=e[n+1];try{r.call(o)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,o=e[7];let r=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const t=n[i+1],s="function"==typeof t?t(e):_e(e[t]),a=o[r=n[i+2]],l=n[i+3];"boolean"==typeof l?s.removeEventListener(n[i],a,l):l>=0?o[r=l]():o[r=-l].unsubscribe(),i+=2}else{const t=o[r=n[i+1]];n[i].call(t)}if(null!==o){for(let t=r+1;t<o.length;t++)(0,o[t])();e[7]=null}}(t,e),1===e[1].type&&me(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ee(e[3])){n!==e[3]&&_r(n,e);const o=e[19];null!==o&&o.detachView(t)}}}function wr(t,e,n){return function(t,e,n){let o=e;for(;null!==o&&40&o.type;)o=(e=o).parent;if(null===o)return n[0];if(2&o.flags){const e=t.data[o.directiveStart].encapsulation;if(e===Pt.None||e===Pt.Emulated)return null}return Ce(o,n)}(t,e.parent,n)}function Or(t,e,n,o,r){me(t)?t.insertBefore(e,n,o,r):e.insertBefore(n,o,r)}function br(t,e,n){me(t)?t.appendChild(e,n):e.appendChild(n)}function Sr(t,e,n,o,r){null!==o?Or(t,e,n,o,r):br(t,e,n)}function Pr(t,e){return me(t)?t.parentNode(e):e.parentNode}function Dr(t,e,n){return Tr(t,e,n)}let Tr=function(t,e,n){return 40&t.type?Ce(t,n):null};function Rr(t,e,n,o){const r=wr(t,o,e),i=e[11],s=Dr(o.parent||e[6],o,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Sr(i,r,n[a],s,!1);else Sr(i,r,n,s,!1)}function Ar(t,e){if(null!==e){const n=e.type;if(3&n)return Ce(e,t);if(4&n)return xr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Ar(t,n);{const n=t[e.index];return ee(n)?xr(-1,n):_e(n)}}if(32&n)return pr(e,t)()||_e(t[e.index]);{const n=Mr(t,e);return null!==n?Array.isArray(n)?n[0]:Ar(dr(t[16]),n):Ar(t,e.next)}}return null}function Mr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function xr(t,e){const n=Jt+t+1;if(n<e.length){const t=e[n],o=t[1].firstChild;if(null!==o)return Ar(t,o)}return e[7]}function Ir(t,e,n,o,r,i,s){for(;null!=n;){const a=o[n.index],l=n.type;if(s&&0===e&&(a&&or(_e(a),o),n.flags|=4),64!=(64&n.flags))if(8&l)Ir(t,e,n.child,o,r,i,!1),mr(e,t,r,a,i);else if(32&l){const s=pr(n,o);let l;for(;l=s();)mr(e,t,r,l,i);mr(e,t,r,a,i)}else 16&l?Fr(t,e,o,n,r,i):mr(e,t,r,a,i);n=s?n.projectionNext:n.next}}function Lr(t,e,n,o,r,i){Ir(n,o,t.firstChild,e,r,i,!1)}function Fr(t,e,n,o,r,i){const s=n[16],a=s[6].projection[o.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)mr(e,t,r,a[l],i);else Ir(t,e,a,s[3],r,i,!0)}function Nr(t,e,n){me(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function kr(t,e,n){me(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Gr(t,e,n){let o=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===o||t.charCodeAt(r+n)<=32)return r}n=r+1}}const Br="ng-template";function Wr(t,e,n){let o=0;for(;o<t.length;){let r=t[o++];if(n&&"class"===r){if(r=t[o],-1!==Gr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;o<t.length&&"string"==typeof(r=t[o++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Vr(t){return 4===t.type&&t.value!==Br}function Hr(t,e,n){return e===(4!==t.type||n?t.value:Br)}function Ur(t,e,n){let o=4;const r=t.attrs||[],i=function(t){for(let e=0;e<t.length;e++)if(gn(t[e]))return e;return t.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&o){if(o=2|1&o,""!==l&&!Hr(t,l,n)||""===l&&1===e.length){if($r(o))return!1;s=!0}}else{const c=8&o?l:e[++a];if(8&o&&null!==t.attrs){if(!Wr(t.attrs,c,n)){if($r(o))return!1;s=!0}continue}const u=zr(8&o?"class":l,r,Vr(t),n);if(-1===u){if($r(o))return!1;s=!0;continue}if(""!==c){let t;t=u>i?"":r[u+1].toLowerCase();const e=8&o?t:null;if(e&&-1!==Gr(e,c,0)||2&o&&c!==t){if($r(o))return!1;s=!0}}}}else{if(!s&&!$r(o)&&!$r(l))return!1;if(s&&$r(l))continue;s=!1,o=l|1&o}}return $r(o)||s}function $r(t){return 0==(1&t)}function zr(t,e,n,o){if(null===e)return-1;let r=0;if(o||!n){let n=!1;for(;r<e.length;){const o=e[r];if(o===t)return r;if(3===o||6===o)n=!0;else{if(1===o||2===o){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const o=t[n];if("number"==typeof o)return-1;if(o===e)return n;n++}return-1}(e,t)}function jr(t,e,n=!1){for(let o=0;o<e.length;o++)if(Ur(t,e[o],n))return!0;return!1}function Kr(t,e){t:for(let n=0;n<e.length;n++){const o=e[n];if(t.length===o.length){for(let e=0;e<t.length;e++)if(t[e]!==o[e])continue t;return!0}}return!1}function Yr(t,e){return t?":not("+e.trim()+")":e}function qr(t){let e=t[0],n=1,o=2,r="",i=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&o){const e=t[++n];r+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&o?r+="."+s:4&o&&(r+=" "+s);else""===r||$r(s)||(e+=Yr(i,r),r=""),o=s,i=i||!$r(o);n++}return""!==r&&(e+=Yr(i,r)),e}const Xr={};function Zr(t){Qr(xe(),Me(),en()+t,Be())}function Qr(t,e,n,o){if(!o)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&an(e,o,n)}else{const o=t.preOrderHooks;null!==o&&ln(e,o,0,n)}nn(n)}function Jr(t,e){return t<<17|e<<2}function ti(t){return t>>17&32767}function ei(t){return 2|t}function ni(t){return(131068&t)>>2}function oi(t,e){return-131069&t|e<<2}function ri(t){return 1|t}function ii(t,e){const n=t.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const r=n[o],i=n[o+1];if(-1!==i){const n=t.data[i];je(r),n.contentQueries(2,e[i],i)}}}function si(t,e,n,o,r,i,s,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|o,De(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=i,u[16]=2==e.type?t[16]:u,u}function ai(t,e,n,o,r){let i=t.data[e];if(null===i)i=function(t,e,n,o,r){const i=Fe(),s=ke(),a=t.data[e]=function(t,e,n,o,r,i){return{type:n,index:o,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,e,o,r);return null===t.firstChild&&(t.firstChild=a),null!==i&&(s?null==i.child&&null!==a.parent&&(i.child=a):null===i.next&&(i.next=a)),a}(t,e,n,o,r),Re.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=o,i.attrs=r;const t=function(){const t=Re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();i.injectorIndex=null===t?-1:t.injectorIndex}return Ne(i,!0),i}function li(t,e,n,o){if(0===n)return-1;const r=e.length;for(let i=0;i<n;i++)e.push(o),t.blueprint.push(o),t.data.push(null);return r}function ci(t,e,n){qe(e);try{const o=t.viewQuery;null!==o&&Gi(1,o,n);const r=t.template;null!==r&&di(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ii(t,e),t.staticViewQueries&&Gi(2,t.viewQuery,n);const i=t.components;null!==i&&function(t,e){for(let n=0;n<e.length;n++)Ii(t,e[n])}(e,i)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),o}finally{e[2]&=-5,tn()}}function ui(t,e,n,o){const r=e[2];if(256==(256&r))return;qe(e);const i=Be();try{De(e),Re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&di(t,e,n,2,o);const s=3==(3&r);if(!i)if(s){const n=t.preOrderCheckHooks;null!==n&&an(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ln(e,n,0,null),cn(e,0)}if(function(t){for(let e=hr(t);null!==e;e=fr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],o=n[3];0==(1024&n[2])&&Te(o,1),n[2]|=1024}}}(e),function(t){for(let e=hr(t);null!==e;e=fr(e))for(let t=Jt;t<e.length;t++){const n=e[t],o=n[1];Se(n)&&ui(o,n,o.template,n[8])}}(e),null!==t.contentQueries&&ii(t,e),!i)if(s){const n=t.contentCheckHooks;null!==n&&an(e,n)}else{const n=t.contentHooks;null!==n&&ln(e,n,1),cn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const o=n[t];if(o<0)nn(~o);else{const r=o,i=n[++t],s=n[++t];Ue(i,r),s(2,e[r])}}}finally{nn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Mi(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Gi(2,l,o),!i)if(s){const n=t.viewCheckHooks;null!==n&&an(e,n)}else{const n=t.viewHooks;null!==n&&ln(e,n,2),cn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Te(e[3],-1))}finally{tn()}}function pi(t,e,n,o){const r=e[10],i=!Be(),s=be(e);try{i&&!s&&r.begin&&r.begin(),s&&ci(t,e,o),ui(t,e,n,o)}finally{i&&!s&&r.end&&r.end()}}function di(t,e,n,o,r){const i=en(),s=2&o;try{nn(-1),s&&e.length>Qt&&Qr(t,e,Qt,Be()),n(o,r)}finally{nn(i)}}function hi(t,e,n){if(ne(e)){const o=e.directiveEnd;for(let r=e.directiveStart;r<o;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function fi(t,e,n){Ae()&&(function(t,e,n,o){const r=n.directiveStart,i=n.directiveEnd;t.firstCreatePass||Sn(n,e),or(o,e);const s=n.initialInputs;for(let a=r;a<i;a++){const o=t.data[a],i=ie(o);i&&Di(e,n,o);const l=kn(e,t,a,n);or(l,e),null!==s&&Ti(0,a-r,l,o,0,s),i&&(Oe(n.index,e)[8]=l)}}(t,e,n,Ce(n,e)),128==(128&n.flags)&&function(t,e,n){const o=n.directiveStart,r=n.directiveEnd,i=n.index,s=Re.lFrame.currentDirectiveIndex;try{nn(i);for(let n=o;n<r;n++){const o=t.data[n],r=e[n];$e(n),null===o.hostBindings&&0===o.hostVars&&null===o.hostAttrs||wi(o,r)}}finally{nn(-1),$e(s)}}(t,e,n))}function gi(t,e,n=Ce){const o=e.localNames;if(null!==o){let r=e.index+1;for(let i=0;i<o.length;i+=2){const s=o[i+1],a=-1===s?n(e,t):t[s];t[r++]=a}}}function mi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=yi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function yi(t,e,n,o,r,i,s,a,l,c){const u=Qt+o,p=u+r,d=function(t,e){const n=[];for(let o=0;o<e;o++)n.push(o<t?null:Xr);return n}(u,p),h="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function _i(t,e,n,o){const r=Wi(e);null===n?r.push(o):(r.push(n),t.firstCreatePass&&Vi(t).push(o,r.length-1))}function vi(t,e,n){for(let o in t)if(t.hasOwnProperty(o)){const r=t[o];(n=null===n?{}:n).hasOwnProperty(o)?n[o].push(e,r):n[o]=[e,r]}return n}function Ci(t,e,n,o){let r=!1;if(Ae()){const i=function(t,e,n){const o=t.directiveRegistry;let r=null;if(o)for(let i=0;i<o.length;i++){const s=o[i];jr(n,s.selectors,!1)&&(r||(r=[]),Rn(Sn(n,e),t,s.type),ie(s)?(Oi(t,n),r.unshift(s)):r.push(s))}return r}(t,e,n),s=null===o?null:{"":-1};if(null!==i){r=!0,Si(n,t.data.length,i.length);for(let t=0;t<i.length;t++){const e=i[t];e.providersResolver&&e.providersResolver(e)}let o=!1,a=!1,l=li(t,e,i.length,null);for(let r=0;r<i.length;r++){const c=i[r];n.mergedAttrs=yn(n.mergedAttrs,c.hostAttrs),Pi(t,n,e,l,c),bi(l,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,o=t.data,r=e.attrs,i=[];let s=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=o[l],n=t.inputs,c=null===r||Vr(e)?null:Ri(n,r);i.push(c),s=vi(n,l,s),a=vi(t.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=i,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const o=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new at("301",`Export of name '${e[t+1]}' not found!`);o.push(e[t],r)}}}(n,o,s)}return n.mergedAttrs=yn(n.mergedAttrs,n.attrs),r}function Ei(t,e,n,o,r,i){const s=i.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const i=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(o,r,s)}}function wi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Oi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function bi(t,e,n){if(n){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)n[e.exportAs[o]]=t;ie(e)&&(n[""]=t)}}function Si(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Pi(t,e,n,o,r){t.data[o]=r;const i=r.factory||(r.factory=se(r.type)),s=new hn(i,ie(r),null);t.blueprint[o]=s,n[o]=s,Ei(t,e,0,o,li(t,n,r.hostVars,Xr),r)}function Di(t,e,n){const o=Ce(e,t),r=mi(n),i=t[10],s=Li(t,si(t,r,null,n.onPush?64:16,o,e,i,i.createRenderer(o,n),null,null));t[e.index]=s}function Ti(t,e,n,o,r,i){const s=i[e];if(null!==s){const t=o.setInput;for(let e=0;e<s.length;){const r=s[e++],i=s[e++],a=s[e++];null!==t?o.setInput(n,a,r,i):n[i]=a}}}function Ri(t,e){let n=null,o=0;for(;o<e.length;){const r=e[o];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[o+1])),o+=2}else o+=2;else o+=4}return n}function Ai(t,e,n,o){return new Array(t,!0,!1,e,null,0,o,n,null,null)}function Mi(t,e){const n=Oe(e,t);if(Se(n)){const t=n[1];80&n[2]?ui(t,n,t.template,n[8]):n[5]>0&&xi(n)}}function xi(t){for(let n=hr(t);null!==n;n=fr(n))for(let t=Jt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ui(t,e,t.template,e[8])}else e[5]>0&&xi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const o=Oe(e[n],t);Se(o)&&o[5]>0&&xi(o)}}function Ii(t,e){const n=Oe(e,t),o=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(o,n),ci(o,n,n[8])}function Li(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Fi(t){for(;t;){t[2]|=64;const e=dr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ni(t,e,n){const o=e[10];o.begin&&o.begin();try{ui(t,e,t.template,n)}catch(r){throw Hi(e,r),r}finally{o.end&&o.end()}}function ki(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],o=rr(n),r=o[1];pi(r,o,r.template,n)}}(t[8])}function Gi(t,e,n){je(0),e(t,n)}const Bi=(()=>Promise.resolve(null))();function Wi(t){return t[7]||(t[7]=[])}function Vi(t){return t.cleanup||(t.cleanup=[])}function Hi(t,e){const n=t[9],o=n?n.get(ar,null):null;o&&o.handleError(e)}function Ui(t,e,n,o,r){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],l=e[s],c=t.data[s];null!==c.setInput?c.setInput(l,r,o,a):l[a]=r}}function $i(t,e,n){let o=n?t.styles:null,r=n?t.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?i=t:1==i?r=nt(r,t):2==i&&(o=nt(o,t+": "+e[++s]+";"))}n?t.styles=o:t.stylesWithoutHost=o,n?t.classes=r:t.classesWithoutHost=r}const zi=new zn("INJECTOR",-1);class ji{get(t,e=no){if(e===no){const e=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ki=new zn("Set Injector scope."),Yi={},qi={};let Xi;function Zi(){return void 0===Xi&&(Xi=new ji),Xi}function Qi(t,e=null,n=null,o){return new Ji(t,n,e||Zi(),o)}class Ji{constructor(t,e,n,o=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&qn(e,n=>this.processProvider(n,t,e)),qn([t],t=>this.processInjectorType(t,[],r)),this.records.set(zi,ns(void 0,this));const i=this.records.get(Ki);this.scope=null!=i?i.value:null,this.source=o||("object"==typeof t?null:et(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=no,n=Ct.Default){this.assertNotDestroyed();const o=ao(this),r=wt(void 0);try{if(!(n&Ct.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof zn)&&ht(t);e=n&&this.injectableDefInScope(n)?ns(ts(t),Yi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&Ct.Self?Zi():this.parent).get(t,e=n&Ct.Optional&&e===no?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(et(t)),o)throw s;return function(t,e,n,o){const r=t.ngTempTokenPath;throw e[ro]&&r.unshift(e[ro]),t.message=function(t,e,n,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=et(e);if(Array.isArray(e))r=e.map(et).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let o=e[n];t.push(n+":"+("string"==typeof o?JSON.stringify(o):et(o)))}r=`{${t.join(", ")}}`}return`${n}${o?"("+o+")":""}[${r}]: ${t.replace(oo,"\n  ")}`}("\n"+t.message,r,n,o),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{wt(r),ao(o)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(et(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=it(t)))return!1;let o=gt(t);const r=null==o&&t.ngModule||void 0,i=void 0===r?t:r,s=-1!==n.indexOf(i);if(void 0!==r&&(o=gt(r)),null==o)return!1;if(null!=o.imports&&!s){let t;n.push(i);try{qn(o.imports,o=>{this.processInjectorType(o,e,n)&&(void 0===t&&(t=[]),t.push(o))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:o}=t[e];qn(o,t=>this.processProvider(t,n,o||It))}}this.injectorDefTypes.add(i);const a=se(i)||(()=>new i);this.records.set(i,ns(a,Yi));const l=o.providers;if(null!=l&&!s){const e=t;qn(l,t=>this.processProvider(t,e,l))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let o=rs(t=it(t))?t:it(t&&t.provide);const r=function(t,e,n){return os(t)?ns(void 0,t.useValue):ns(es(t),Yi)}(t);if(rs(t)||!0!==t.multi)this.records.get(o);else{let e=this.records.get(o);e||(e=ns(void 0,Yi,!0),e.factory=()=>po(e.multi),this.records.set(o,e)),o=t,e.multi.push(t)}this.records.set(o,r)}hydrate(t,e){var n;return e.value===Yi&&(e.value=qi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=it(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function ts(t){const e=ht(t),n=null!==e?e.factory:se(t);if(null!==n)return n;if(t instanceof zn)throw new Error(`Token ${et(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Qn(e,"?");throw new Error(`Can't resolve all parameters for ${et(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[mt]||t[_t]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function es(t,e,n){let o;if(rs(t)){const e=it(t);return se(e)||ts(e)}if(os(t))o=()=>it(t.useValue);else if((r=t)&&r.useFactory)o=()=>t.useFactory(...po(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))o=()=>co(it(t.useExisting));else{const e=it(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return se(e)||ts(e);o=()=>new e(...po(t.deps))}var r;return o}function ns(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function os(t){return null!==t&&"object"==typeof t&&io in t}function rs(t){return"function"==typeof t}const is=function(t,e,n){return function(t,e=null,n=null,o){const r=Qi(t,e,n,o);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};class ss{static create(t,e){return Array.isArray(t)?is(t,e,""):is(t.providers,t.parent,t.name||"")}}function as(t,e){sn(rr(t)[1],Le())}function ls(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const o=[t];for(;e;){let r;if(ie(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){o.push(r);const e=t;e.inputs=cs(t.inputs),e.declaredInputs=cs(t.declaredInputs),e.outputs=cs(t.outputs);const n=r.hostBindings;n&&ds(t,n);const i=r.viewQuery,s=r.contentQueries;if(i&&us(t,i),s&&ps(t,s),tt(t.inputs,r.inputs),tt(t.declaredInputs,r.declaredInputs),tt(t.outputs,r.outputs),ie(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let o=0;o<e.length;o++){const r=e[o];r&&r.ngInherit&&r(t),r===ls&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let o=t.length-1;o>=0;o--){const r=t[o];r.hostVars=e+=r.hostVars,r.hostAttrs=yn(r.hostAttrs,n=yn(n,r.hostAttrs))}}(o)}function cs(t){return t===xt?{}:t===It?[]:t}function us(t,e){const n=t.viewQuery;t.viewQuery=n?(t,o)=>{e(t,o),n(t,o)}:e}function ps(t,e){const n=t.contentQueries;t.contentQueries=n?(t,o,r)=>{e(t,o,r),n(t,o,r)}:e}function ds(t,e){const n=t.hostBindings;t.hostBindings=n?(t,o)=>{e(t,o),n(t,o)}:e}ss.THROW_IF_NOT_FOUND=no,ss.NULL=new ji,ss.\u0275prov=pt({token:ss,providedIn:"any",factory:()=>co(zi)}),ss.__NG_ELEMENT_ID__=-1;let hs=null;function fs(){if(!hs){const t=Mt.Symbol;if(t&&t.iterator)hs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(hs=n)}}}return hs}class gs{constructor(t){this.wrapped=t}static wrap(t){return new gs(t)}static unwrap(t){return gs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof gs}}function ms(t){return!!ys(t)&&(Array.isArray(t)||!(t instanceof Map)&&fs()in t)}function ys(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _s(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function vs(t,e,n,o){const r=Me();return _s(r,He(),e)&&(xe(),function(t,e,n,o,r,i){const s=Ce(t,e);!function(t,e,n,o,r,i,s){if(null==i)me(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==s?lt(i):s(i,o||"",r);me(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],s,i,t.value,n,o,r)}(on(),r,t,e,n,o)),vs}function Cs(t,e,n,o,r,i,s,a){const l=Me(),c=xe(),u=t+Qt,p=c.firstCreatePass?function(t,e,n,o,r,i,s,a,l){const c=e.consts,u=ai(e,t,4,s||null,Pe(c,a));Ci(e,n,u,Pe(c,l)),sn(e,u);const p=u.tViews=yi(2,u,o,r,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),p.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,o,r,i,s):c.data[u];Ne(p,!1);const d=l[11].createComment("");Rr(c,l,d,p),or(d,l),Li(l,l[u]=Ai(d,l,d,p)),re(p)&&fi(c,l,p),null!=s&&gi(l,p,a)}function Es(t){return we(Re.lFrame.contextLView,Qt+t)}function ws(t,e=Ct.Default){const n=Me();return null===n?co(t,e):xn(Le(),n,it(t),e)}function Os(t,e,n){const o=Me();return _s(o,He(),e)&&function(t,e,n,o,r,i,s,a){const l=Ce(e,n);let c,u=e.inputs;null!=u&&(c=u[o])?(Ui(t,n,c,o,r),oe(e)&&function(t,e){const n=Oe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(o=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),r=null!=s?s(r,e.value||"",o):r,me(i)?i.setProperty(l,o,r):mn(o)||(l.setProperty?l.setProperty(o,r):l[o]=r))}(xe(),on(),o,t,e,o[11],n),Os}function bs(t,e,n,o,r){const i=r?"class":"style";Ui(t,n,e.inputs[i],i,o)}function Ss(t,e,n,o){const r=Me(),i=xe(),s=Qt+t,a=r[11],l=r[s]=yr(a,e,Re.lFrame.currentNamespace),c=i.firstCreatePass?function(t,e,n,o,r,i,s){const a=e.consts,l=ai(e,t,2,r,Pe(a,i));return Ci(e,n,l,Pe(a,s)),null!==l.attrs&&$i(l,l.attrs,!1),null!==l.mergedAttrs&&$i(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,i,r,0,e,n,o):i.data[s];Ne(c,!0);const u=c.mergedAttrs;null!==u&&fn(a,l,u);const p=c.classes;null!==p&&kr(a,l,p);const d=c.styles;null!==d&&Nr(a,l,d),64!=(64&c.flags)&&Rr(i,r,l,c),0===Re.lFrame.elementDepthCount&&or(l,r),Re.lFrame.elementDepthCount++,re(c)&&(fi(i,r,c),hi(i,c,r)),null!==o&&gi(r,c)}function Ps(){let t=Le();ke()?Ge():(t=t.parent,Ne(t,!1));const e=t;Re.lFrame.elementDepthCount--;const n=xe();n.firstCreatePass&&(sn(n,t),ne(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&bs(n,e,Me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&bs(n,e,Me(),e.stylesWithoutHost,!1)}function Ds(t,e,n,o){Ss(t,e,n,o),Ps()}function Ts(t,e,n){const o=Me(),r=xe(),i=t+Qt,s=r.firstCreatePass?function(t,e,n,o,r){const i=e.consts,s=Pe(i,o),a=ai(e,t,8,"ng-container",s);return null!==s&&$i(a,s,!0),Ci(e,n,a,Pe(i,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,r,o,e,n):r.data[i];Ne(s,!0);const a=o[i]=o[11].createComment("");Rr(r,o,a,s),or(a,o),re(s)&&(fi(r,o,s),hi(r,s,o)),null!=n&&gi(o,s)}function Rs(){let t=Le();const e=xe();ke()?Ge():(t=t.parent,Ne(t,!1)),e.firstCreatePass&&(sn(e,t),ne(t)&&e.queries.elementEnd(t))}function As(){return Me()}function Ms(t){return!!t&&"function"==typeof t.then}const xs=function(t){return!!t&&"function"==typeof t.subscribe};function Is(t,e,n,o){const r=Me(),i=xe(),s=Le();return function(t,e,n,o,r,i,s,a){const l=re(o),c=t.firstCreatePass&&Vi(t),u=Wi(e);let p=!0;if(3&o.type||a){const d=Ce(o,e),h=a?a(d):d,f=u.length,g=a?t=>a(_e(t[o.index])):o.index;if(me(n)){let s=null;if(!a&&l&&(s=function(t,e,n,o){const r=t.cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const t=r[i];if(t===n&&r[i+1]===o){const t=e[7],n=r[i+2];return t.length>n?t[n]:null}"string"==typeof t&&(i+=2)}return null}(t,e,r,o.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=i,s.__ngLastListenerFn__=i,p=!1;else{i=Fs(o,e,0,i,!1);const t=n.listen(h,r,i);u.push(i,t),c&&c.push(r,g,f,f+1)}}else i=Fs(o,e,0,i,!0),h.addEventListener(r,i,s),u.push(i),c&&c.push(r,g,f,s)}else i=Fs(o,e,0,i,!1);const d=o.outputs;let h;if(p&&null!==d&&(h=d[r])){const t=h.length;if(t)for(let n=0;n<t;n+=2){const t=e[h[n]][h[n+1]].subscribe(i),s=u.length;u.push(i,t),c&&c.push(r,o.index,s,-(s+1))}}}(i,r,r[11],s,t,e,!!n,o),Is}function Ls(t,e,n,o){try{return!1!==n(o)}catch(r){return Hi(t,r),!1}}function Fs(t,e,n,o,r){return function n(i){if(i===Function)return o;const s=2&t.flags?Oe(t.index,e):e;0==(32&e[2])&&Fi(s);let a=Ls(e,0,o,i),l=n.__ngNextListenerFn__;for(;l;)a=Ls(e,0,l,i)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function Ns(t=1){return function(t){return(Re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Re.lFrame.contextLView))[8]}(t)}function ks(t,e){let n=null;const o=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const i=e[r];if("*"!==i){if(null===o?jr(t,i,!0):Kr(o,i))return r}else n=r}return n}function Gs(t){const e=Me()[16][6];if(!e.projection){const n=e.projection=Qn(t?t.length:1,null),o=n.slice();let r=e.child;for(;null!==r;){const e=t?ks(r,t):0;null!==e&&(o[e]?o[e].projectionNext=r:n[e]=r,o[e]=r),r=r.next}}}function Bs(t,e=0,n){const o=Me(),r=xe(),i=ai(r,Qt+t,16,null,n||null);null===i.projection&&(i.projection=e),Ge(),64!=(64&i.flags)&&function(t,e,n){Fr(e[11],0,e,n,wr(t,n,e),Dr(n.parent||e[6],n,e))}(r,o,i)}function Ws(t,e,n,o,r){const i=t[n+1],s=null===e;let a=o?ti(i):ni(i),l=!1;for(;0!==a&&(!1===l||s);){const n=t[a+1];Vs(t[a],e)&&(l=!0,t[a+1]=o?ri(n):ei(n)),a=o?ti(n):ni(n)}l&&(t[n+1]=o?ei(i):ri(i))}function Vs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&eo(t,e)>=0}function Hs(t,e,n){return $s(t,e,n,!1),Hs}function Us(t,e){return $s(t,e,null,!0),Us}function $s(t,e,n,o){const r=Me(),i=xe(),s=function(t){const e=Re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();i.firstUpdatePass&&function(t,e,n,o){const r=t.data;if(null===r[n+1]){const i=r[en()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(i,o)&&null===e&&!s&&(e=!1),e=function(t,e,n,o){const r=function(t){const e=Re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=o?e.residualClasses:e.residualStyles;if(null===r)0===(o?e.classBindings:e.styleBindings)&&(n=js(n=zs(null,t,e,n,o),e.attrs,o),i=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=zs(r,t,e,n,o),null===i){let n=function(t,e,n){const o=n?e.classBindings:e.styleBindings;if(0!==ni(o))return t[ti(o)]}(t,e,o);void 0!==n&&Array.isArray(n)&&(n=zs(null,t,e,n[1],o),n=js(n,e.attrs,o),function(t,e,n,o){t[ti(n?e.classBindings:e.styleBindings)]=o}(t,e,o,n))}else i=function(t,e,n){let o;const r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++)o=js(o,t[i].hostAttrs,n);return js(o,e.attrs,n)}(t,e,o)}return void 0!==i&&(o?e.residualClasses=i:e.residualStyles=i),n}(r,i,e,o),function(t,e,n,o,r,i){let s=i?e.classBindings:e.styleBindings,a=ti(s),l=ni(s);t[o]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||eo(t,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){const e=ti(t[a+1]);t[o+1]=Jr(e,a),0!==e&&(t[e+1]=oi(t[e+1],o)),t[a+1]=131071&t[a+1]|o<<17}else t[o+1]=Jr(a,0),0!==a&&(t[a+1]=oi(t[a+1],o)),a=o;else t[o+1]=Jr(l,0),0===a?a=o:t[l+1]=oi(t[l+1],o),l=o;u&&(t[o+1]=ei(t[o+1])),Ws(t,c,o,!0),Ws(t,c,o,!1),function(t,e,n,o,r){const i=r?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof e&&eo(i,e)>=0&&(n[o+1]=ri(n[o+1]))}(e,c,t,o,i),s=Jr(a,l),i?e.classBindings=s:e.styleBindings=s}(r,i,e,n,s,o)}}(i,t,s,o),e!==Xr&&_s(r,s,e)&&function(t,e,n,o,r,i,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];Ys(1==(1&c)?Ks(l,e,n,r,ni(c),s):void 0)||(Ys(i)||function(t){return 2==(2&t)}(c)&&(i=Ks(l,null,n,r,a,s)),function(t,e,n,o,r){const i=me(t);if(e)r?i?t.addClass(n,o):n.classList.add(o):i?t.removeClass(n,o):n.classList.remove(o);else{let e=-1===o.indexOf("-")?void 0:ur.DashCase;if(null==r)i?t.removeStyle(n,o,e):n.style.removeProperty(o);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),e|=ur.Important),i?t.setStyle(n,o,r,e):n.style.setProperty(o,r,s?"important":"")}}}(o,s,ve(en(),n),r,i))}(i,i.data[en()],r,r[11],t,r[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=et(Do(t)))),t}(e,n),o,s)}function zs(t,e,n,o,r){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=e[a],o=js(o,i.hostAttrs,r),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),o}function js(t,e,n){const o=n?1:2;let r=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?r=s:r===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jn(t,s,!!n||e[++i]))}return void 0===t?null:t}function Ks(t,e,n,o,r,i){const s=null===e;let a;for(;r>0;){const e=t[r],i=Array.isArray(e),l=i?e[1]:e,c=null===l;let u=n[r+1];u===Xr&&(u=c?It:void 0);let p=c?to(u,o):l===o?u:void 0;if(i&&!Ys(p)&&(p=to(e,o)),Ys(p)&&(a=p,s))return a;const d=t[r+1];r=s?ti(d):ni(d)}if(null!==e){let t=i?e.residualClasses:e.residualStyles;null!=t&&(a=to(t,o))}return a}function Ys(t){return void 0!==t}function qs(t,e=""){const n=Me(),o=xe(),r=t+Qt,i=o.firstCreatePass?ai(o,r,1,e,null):o.data[r],s=n[r]=function(t,e){return me(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Rr(o,n,s,i),Ne(i,!1)}function Xs(t){return Zs("",t,""),Xs}function Zs(t,e,n){const o=Me(),r=function(t,e,n,o){return _s(t,He(),n)?e+lt(n)+o:Xr}(o,t,e,n);return r!==Xr&&function(t,e,n){const o=ve(e,t);!function(t,e,n){me(t)?t.setValue(e,n):e.textContent=n}(t[11],o,n)}(o,en(),r),Zs}const Qs=void 0;var Js=["en",[["a","p"],["AM","PM"],Qs],[["AM","PM"],Qs,Qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qs,"{1} 'at' {0}",Qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ta={};function ea(t){return t in ta||(ta[t]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[t]),ta[t]}var na=(()=>((na=na||{})[na.LocaleId=0]="LocaleId",na[na.DayPeriodsFormat=1]="DayPeriodsFormat",na[na.DayPeriodsStandalone=2]="DayPeriodsStandalone",na[na.DaysFormat=3]="DaysFormat",na[na.DaysStandalone=4]="DaysStandalone",na[na.MonthsFormat=5]="MonthsFormat",na[na.MonthsStandalone=6]="MonthsStandalone",na[na.Eras=7]="Eras",na[na.FirstDayOfWeek=8]="FirstDayOfWeek",na[na.WeekendRange=9]="WeekendRange",na[na.DateFormat=10]="DateFormat",na[na.TimeFormat=11]="TimeFormat",na[na.DateTimeFormat=12]="DateTimeFormat",na[na.NumberSymbols=13]="NumberSymbols",na[na.NumberFormats=14]="NumberFormats",na[na.CurrencyCode=15]="CurrencyCode",na[na.CurrencySymbol=16]="CurrencySymbol",na[na.CurrencyName=17]="CurrencyName",na[na.Currencies=18]="Currencies",na[na.Directionality=19]="Directionality",na[na.PluralCase=20]="PluralCase",na[na.ExtraData=21]="ExtraData",na))();const oa="en-US";let ra=oa;function ia(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,o){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ra=t.toLowerCase().replace(/_/g,"-"))}function sa(t,e,n,o,r){if(t=it(t),Array.isArray(t))for(let i=0;i<t.length;i++)sa(t[i],e,n,o,r);else{const i=xe(),s=Me();let a=rs(t)?t:it(t.provide),l=es(t);const c=Le(),u=1048575&c.providerIndexes,p=c.directiveStart,d=c.providerIndexes>>20;if(rs(t)||!t.multi){const o=new hn(l,r,ws),h=ca(a,e,r?u:u+d,p);-1===h?(Rn(Sn(c,s),i,a),aa(i,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(o),s.push(o)):(n[h]=o,s[h]=o)}else{const h=ca(a,e,u+d,p),f=ca(a,e,u,u+d),g=h>=0&&n[h],m=f>=0&&n[f];if(r&&!m||!r&&!g){Rn(Sn(c,s),i,a);const u=function(t,e,n,o,r){const i=new hn(t,n,ws);return i.multi=[],i.index=e,i.componentProviders=0,la(i,r,o&&!n),i}(r?pa:ua,n.length,r,o,l);!r&&m&&(n[f].providerFactory=u),aa(i,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(u),s.push(u)}else aa(i,t,h>-1?h:f,la(n[r?f:h],l,!r&&o));!r&&o&&m&&n[f].componentProviders++}}}function aa(t,e,n,o){const r=rs(e);if(r||e.useClass){const i=(e.useClass||e).prototype.ngOnDestroy;if(i){const s=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[o,i]):s[t+1].push(o,i)}else s.push(n,i)}}}function la(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ca(t,e,n,o){for(let r=n;r<o;r++)if(e[r]===t)return r;return-1}function ua(t,e,n,o){return da(this.multi,[])}function pa(t,e,n,o){const r=this.multi;let i;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=kn(n,n[1],this.providerFactory.index,o);i=e.slice(0,t),da(r,i);for(let n=t;n<e.length;n++)i.push(e[n])}else i=[],da(r,i);return i}function da(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ha(t,e=[]){return n=>{n.providersResolver=(n,o)=>function(t,e,n){const o=xe();if(o.firstCreatePass){const r=ie(t);sa(n,o.data,o.blueprint,r,!0),sa(e,o.data,o.blueprint,r,!1)}}(n,o?o(t):t,e)}}class fa{}class ga{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${et(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class ma{}function ya(...t){}function _a(t,e){return new Ca(Ce(t,e))}ma.NULL=new ga;const va=function(){return _a(Le(),Me())};let Ca=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=va,t})();function Ea(t){return t instanceof Ca?t.nativeElement:t}class wa{}let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ba(),t})();const ba=function(){const t=Me(),e=Oe(Le().index,t);return function(t){return t[11]}(te(e)?e:t)};let Sa=(()=>{class t{}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>null}),t})();class Pa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Da=new Pa("12.1.5");class Ta{constructor(){}supports(t){return ms(t)}create(t){return new Aa(t)}}const Ra=(t,e)=>e;class Aa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ra}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,o=0,r=null;for(;e||n;){const i=!n||e&&e.currentIndex<La(n,o,r)?e:n,s=La(i,o,r),a=i.currentIndex;if(i===n)o--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)o++;else{r||(r=[]);const t=s-o,e=a-o;if(t!=e){for(let n=0;n<t;n++){const o=n<r.length?r[n]:r[n]=0,i=o+n;e<=i&&i<t&&(r[n]=o+1)}r[i.previousIndex]=e-t}}s!==a&&t(i,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ms(t))throw new Error(`Error trying to diff '${et(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,o,r=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],o=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,o)?(i&&(r=this._verifyReinsertion(r,n,o,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,o,e),i=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[fs()]();let o;for(;!(o=n.next()).done;)e(o.value)}}(t,t=>{o=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,o)?(i&&(r=this._verifyReinsertion(r,t,o,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,o,e),i=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,o){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,o)):t=this._addAfter(new Ma(e,n),r,o),t}_verifyReinsertion(t,e,n,o){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,r=t._nextRemoved;return null===o?this._removalsHead=r:o._nextRemoved=r,null===r?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const o=null===e?this._itHead:e._next;return t._next=o,t._prev=e,null===o?this._itTail=t:o._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ia),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ia),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ma{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ia{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new xa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function La(t,e,n){const o=t.previousIndex;if(null===o)return o;let r=0;return n&&o<n.length&&(r=n[o]),o+e+r}class Fa{constructor(){}supports(t){return t instanceof Map||ys(t)}create(){return new Na}}class Na{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ys(t)))throw new Error(`Error trying to diff '${et(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const o=n._prev,r=n._next;return o&&(o._next=r),r&&(r._prev=o),n._next=null,n._prev=null,n}const n=new ka(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ka{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ga(){return new Ba([new Ta])}let Ba=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ga()),deps:[[t,new mo,new go]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:Ga}),t})();function Wa(){return new Va([new Fa])}let Va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Wa()),deps:[[t,new mo,new go]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:Wa}),t})();function Ha(t,e,n,o,r=!1){for(;null!==n;){const i=e[n.index];if(null!==i&&o.push(_e(i)),ee(i))for(let t=Jt;t<i.length;t++){const e=i[t],n=e[1].firstChild;null!==n&&Ha(e[1],e,n,o)}const s=n.type;if(8&s)Ha(t,e,n.child,o);else if(32&s){const t=pr(n,e);let r;for(;r=t();)o.push(r)}else if(16&s){const t=Mr(e,n);if(Array.isArray(t))o.push(...t);else{const n=dr(e[16]);Ha(n[1],n,t,o,!0)}}n=r?n.projectionNext:n.next}return o}class Ua{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ha(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ee(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(vr(t,n),Zn(e,n))}this._attachedToViewContainer=!1}Cr(this._lView[1],this._lView)}onDestroy(t){_i(this._lView[1],this._lView,null,t)}markForCheck(){Fi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ni(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){We(!0);try{Ni(t,e,n)}finally{We(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Lr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class $a extends Ua{constructor(t){super(t),this._view=t}detectChanges(){ki(this._view)}checkNoChanges(){!function(t){We(!0);try{ki(t)}finally{We(!1)}}(this._view)}get context(){return null}}const za=function(t){return function(t,e,n){if(oe(t)&&!n){const n=Oe(t.index,e);return new Ua(n,n)}return 47&t.type?new Ua(e[16],e):null}(Le(),Me(),16==(16&t))};let ja=(()=>{class t{}return t.__NG_ELEMENT_ID__=za,t})();const Ka=[new Fa],Ya=new Ba([new Ta]),qa=new Va(Ka),Xa=function(){return tl(Le(),Me())};let Za=(()=>{class t{}return t.__NG_ELEMENT_ID__=Xa,t})();const Qa=Za,Ja=class extends Qa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=si(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(n[19]=o.createEmbeddedView(e)),ci(e,n,t),new Ua(n)}};function tl(t,e){return 4&t.type?new Ja(e,t,_a(t,e)):null}class el{}class nl{}const ol=function(){return cl(Le(),Me())};let rl=(()=>{class t{}return t.__NG_ELEMENT_ID__=ol,t})();const il=rl,sl=class extends il{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return _a(this._hostTNode,this._hostLView)}get injector(){return new Wn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Tn(this._hostTNode,this._hostLView);if(vn(t)){const e=En(t,this._hostLView),n=Cn(t);return new Wn(e[1].data[n+8],e)}return new Wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=al(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(t,e,n){const o=t.createEmbeddedView(e||{});return this.insert(o,n),o}createComponent(t,e,n,o,r){const i=n||this.parentInjector;if(!r&&null==t.ngModule&&i){const t=i.get(el,null);t&&(r=t)}const s=t.create(i,o,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,o=n[1];if(ee(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],o=new sl(e,e[6],e[3]);o.detach(o.indexOf(t))}}const r=this._adjustIndex(e),i=this._lContainer;!function(t,e,n,o){const r=Jt+o,i=n.length;o>0&&(n[r-1][4]=e),o<i-Jt?(e[4]=n[r],Xn(n,Jt+o,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(o,n,i,r);const s=xr(r,i),a=n[11],l=Pr(a,i[7]);return null!==l&&function(t,e,n,o,r,i){o[0]=r,o[6]=e,Lr(t,o,n,1,r,i)}(o,i[6],a,n,l,s),t.attachToViewContainerRef(),Xn(ll(i),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=al(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=vr(this._lContainer,e);n&&(Zn(ll(this._lContainer),e),Cr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=vr(this._lContainer,e);return n&&null!=Zn(ll(this._lContainer),e)?new Ua(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function al(t){return t[8]}function ll(t){return t[8]||(t[8]=[])}function cl(t,e){let n;const o=e[t.index];if(ee(o))n=o;else{let r;if(8&t.type)r=_e(o);else{const n=e[11];r=n.createComment("");const o=Ce(t,e);Or(n,Pr(n,o),r,function(t,e){return me(t)?t.nextSibling(e):e.nextSibling}(n,o),!1)}e[t.index]=n=Ai(o,e,r,t),Li(e,n)}return new sl(n,t,e)}const ul={};class pl extends ma{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xt(t);return new fl(e,this.ngModule)}}function dl(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const hl=new zn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lr});class fl extends fa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(qr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return dl(this.componentDef.inputs)}get outputs(){return dl(this.componentDef.outputs)}create(t,e,n,o){const r=(o=o||this.ngModule)?function(t,e){return{get:(n,o,r)=>{const i=t.get(n,ul,r);return i!==ul||o===ul?i:e.get(n,o,r)}}}(t,o.injector):t,i=r.get(wa,ye),s=r.get(Sa,null),a=i.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(me(t))return t.selectRootElement(e,n===Pt.ShadowDom);let o="string"==typeof e?t.querySelector(e):e;return o.textContent="",o}(a,n,this.componentDef.encapsulation):yr(i.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?he:"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,p={components:[],scheduler:lr,clean:Bi,playerHandler:null,flags:0},d=yi(0,null,null,1,0,null,null,null,null,null),h=si(null,d,p,u,null,null,i,a,s,r);let f,g;qe(h);try{const t=function(t,e,n,o,r,i){const s=n[1];n[20]=t;const a=ai(s,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&($i(a,l,!0),null!==t&&(fn(r,t,l),null!==a.classes&&kr(r,t,a.classes),null!==a.styles&&Nr(r,t,a.styles)));const c=o.createRenderer(t,e),u=si(n,mi(e),null,e.onPush?64:16,n[20],a,o,c,null,null);return s.firstCreatePass&&(Rn(Sn(a,n),s,e.type),Oi(s,a),Si(a,n.length,1)),Li(n,u),n[20]=u}(c,this.componentDef,h,i,a);if(c)if(n)fn(a,c,["ng-version",Da.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let o=1,r=2;for(;o<t.length;){let i=t[o];if("string"==typeof i)2===r?""!==i&&e.push(i,t[++o]):8===r&&n.push(i);else{if(!$r(r))break;r=i}o++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&fn(a,c,t),e&&e.length>0&&kr(a,c,e.join(" "))}if(g=Ee(d,Qt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const o=e[n];t.push(null!=o?Array.from(o):null)}}f=function(t,e,n,o,r){const i=n[1],s=function(t,e,n){const o=Le();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Pi(t,o,e,li(t,e,1,null),n));const r=kn(e,t,o.directiveStart,o);or(r,e);const i=Ce(o,e);return i&&or(i,e),r}(i,n,e);if(o.components.push(s),t[8]=s,r&&r.forEach(t=>t(s,e)),e.contentQueries){const t=Le();e.contentQueries(1,s,t.directiveStart)}const a=Le();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(nn(a.index),Ei(n[1],a,0,a.directiveStart,a.directiveEnd,e),wi(e,s)),s}(t,this.componentDef,h,p,[as]),ci(d,h,null)}finally{tn()}return new gl(this.componentType,f,_a(g,h),h,g)}}class gl extends class{}{constructor(t,e,n,o,r){super(),this.location=n,this._rootLView=o,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new $a(o),this.componentType=t}get injector(){return new Wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ml=new Map;class yl extends el{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new pl(this);const n=Zt(t),o=t[Gt]||null;o&&ia(o),this._bootstrapComponents=cr(n.bootstrap),this._r3Injector=Qi(t,e,[{provide:el,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],et(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ss.THROW_IF_NOT_FOUND,n=Ct.Default){return t===ss||t===el||t===zi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _l extends nl{constructor(t){super(),this.moduleType=t,null!==Zt(t)&&function(t){const e=new Set;!function t(n){const o=Zt(n,!0),r=o.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${et(e)} vs ${et(e.name)}`)}(r,ml.get(r),n),ml.set(r,n));const i=cr(o.imports);for(const s of i)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new yl(this.moduleType,t)}}function vl(t,e,n,o){return Cl(Me(),Ve(),t,e,n,o)}function Cl(t,e,n,o,r,i){const s=e+n;return _s(t,s,r)?function(t,e,n){return t[e]=n}(t,s+1,i?o.call(i,r):o(r)):function(t,e){const n=t[e];return n===Xr?void 0:n}(t,s+1)}function El(t){return e=>{setTimeout(t,void 0,e)}}const wl=class extends O{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var o,r,i;let s=t,a=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;s=null===(o=e.next)||void 0===o?void 0:o.bind(e),a=null===(r=e.error)||void 0===r?void 0:r.bind(e),l=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}this.__isAsync&&(a=El(a),s&&(s=El(s)),l&&(l=El(l)));const c=super.subscribe({next:s,error:a,complete:l});return t instanceof p&&t.add(c),c}};function Ol(){return this._results[fs()]()}class bl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=fs(),n=bl.prototype;n[e]||(n[e]=Ol)}get changes(){return this._changes||(this._changes=new wl)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const o=Yn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++){let r=t[o],i=e[o];if(n&&(r=n(r),i=n(i)),i!==r)return!1}return!0}(n._results,o,e))&&(n._results=o,n.length=o.length,n.last=o[this.length-1],n.first=o[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Sl{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,o=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);o.push(this.queries[n.indexInDeclarationView].clone())}return new Pl(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Wl(t,e).matches&&this.queries[e].setDirty()}}class Dl{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Tl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const o=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,o);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Tl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Rl{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Rl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const r=n[o];this.matchTNodeWithReadOption(t,e,Al(e,r)),this.matchTNodeWithReadOption(t,e,Nn(e,t,r,!1,!1))}else n===Za?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Nn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===Ca||o===rl||o===Za&&4&e.type)this.addMatch(e.index,-2);else{const n=Nn(e,t,o,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Al(t,e){const n=t.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===e)return n[o+1];return null}function Ml(t,e,n,o){return-1===n?function(t,e){return 11&t.type?_a(t,e):4&t.type?tl(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ca?_a(e,t):n===Za?tl(e,t):n===rl?cl(e,t):void 0}(t,e,o):kn(t,t[1],n,e)}function xl(t,e,n,o){const r=e[19].queries[o];if(null===r.matches){const o=t.data,i=n.matches,s=[];for(let t=0;t<i.length;t+=2){const r=i[t];s.push(r<0?null:Ml(e,o[r],i[t+1],n.metadata.read))}r.matches=s}return r.matches}function Il(t,e,n,o){const r=t.queries.getByIndex(n),i=r.matches;if(null!==i){const s=xl(t,e,r,n);for(let t=0;t<i.length;t+=2){const n=i[t];if(n>0)o.push(s[t/2]);else{const r=i[t+1],s=e[-n];for(let t=Jt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Il(e[1],e,r,o)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Il(n[1],n,r,o)}}}}}return o}function Ll(t){const e=Me(),n=xe(),o=ze();je(o+1);const r=Wl(n,o);if(t.dirty&&be(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const i=r.crossesNgTemplate?Il(n,e,o,[]):xl(n,e,r,o);t.reset(i,Ea),t.notifyOnChanges()}return!0}return!1}function Fl(t,e,n){const o=xe();o.firstCreatePass&&(Bl(o,new Dl(t,e,n),-1),2==(2&e)&&(o.staticViewQueries=!0)),Gl(o,Me(),e)}function Nl(t,e,n,o){const r=xe();if(r.firstCreatePass){const i=Le();Bl(r,new Dl(e,n,o),i.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}Gl(r,Me(),n)}function kl(){return t=Me(),e=ze(),t[19].queries[e].queryList;var t,e}function Gl(t,e,n){const o=new bl(4==(4&n));_i(t,e,o,o.destroy),null===e[19]&&(e[19]=new Pl),e[19].queries.push(new Sl(o))}function Bl(t,e,n){null===t.queries&&(t.queries=new Tl),t.queries.track(new Rl(e,n))}function Wl(t,e){return t.queries.getByIndex(e)}function Vl(t,e){return tl(t,e)}const Hl=new zn("Application Initializer");let Ul=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ya,this.reject=ya,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Ms(e))t.push(e);else if(xs(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(co(Hl,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const $l=new zn("AppId"),zl={provide:$l,useFactory:function(){return`${jl()}${jl()}${jl()}`},deps:[]};function jl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kl=new zn("Platform Initializer"),Yl=new zn("Platform ID"),ql=new zn("appBootstrapListener");let Xl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Zl=new zn("LocaleId"),Ql=new zn("DefaultCurrencyCode");class Jl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const tc=function(t){return new _l(t)},ec=tc,nc=function(t){return Promise.resolve(tc(t))},oc=function(t){const e=tc(t),n=cr(Zt(t).declarations).reduce((t,e)=>{const n=Xt(e);return n&&t.push(new fl(n)),t},[]);return new Jl(e,n)},rc=oc,ic=function(t){return Promise.resolve(oc(t))};let sc=(()=>{class t{constructor(){this.compileModuleSync=ec,this.compileModuleAsync=nc,this.compileModuleAndAllComponentsSync=rc,this.compileModuleAndAllComponentsAsync=ic}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const ac=(()=>Promise.resolve(0))();function lc(t){"undefined"==typeof Zone?ac.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class cc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wl(!1),this.onMicrotaskEmpty=new wl(!1),this.onStable=new wl(!1),this.onError=new wl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&e,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function(){let t=Mt.requestAnimationFrame,e=Mt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dc(t),t.isCheckStableRunning=!0,pc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,r,i,s,a)=>{try{return hc(t),n.invokeTask(r,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&e(),fc(t)}},onInvoke:(n,o,r,i,s,a,l)=>{try{return hc(t),n.invoke(r,i,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),fc(t)}},onHasTask:(e,n,o,r)=>{e.hasTask(o,r),n===o&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,dc(t),pc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,o,r)=>(e.handleError(o,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(o)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,o){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+o,t,uc,ya,ya);try{return r.runTask(i,e,n)}finally{r.cancelTask(i)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const uc={};function pc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fc(t){t._nesting--,pc(t)}class gc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wl,this.onMicrotaskEmpty=new wl,this.onStable=new wl,this.onError=new wl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,o){return t.apply(e,n)}}let mc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cc.assertNotInAngularZone(),lc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let o=-1;e&&e>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==o),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(co(cc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),yc=(()=>{class t{constructor(){this._applications=new Map,Cc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Cc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class _c{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let vc,Cc=new _c,Ec=!0,wc=!1;function Oc(){return wc=!0,Ec}const bc=new zn("AllowMultipleToken");class Sc{constructor(t,e){this.name=t,this.token=e}}function Pc(t,e,n=[]){const o=`Platform: ${e}`,r=new zn(o);return(e=[])=>{let i=Dc();if(!i||i.injector.get(bc,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Ki,useValue:"platform"});!function(t){if(vc&&!vc.destroyed&&!vc.injector.get(bc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vc=t.get(Tc);const e=t.get(Kl,null);e&&e.forEach(t=>t())}(ss.create({providers:t,name:o}))}return function(t){const e=Dc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Dc(){return vc&&!vc.destroyed?vc:null}let Tc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new gc:("zone.js"===t?void 0:t)||new cc({enableLongStackTrace:Oc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),o=[{provide:cc,useValue:n}];return n.run(()=>{const e=ss.create({providers:o,parent:this.injector,name:t.moduleType.name}),r=t.create(e),i=r.injector.get(ar,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{i.handleError(t)}});r.onDestroy(()=>{Mc(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const o=n();return Ms(o)?o.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):o}catch(o){throw e.runOutsideAngular(()=>t.handleError(o)),o}}(i,n,()=>{const t=r.injector.get(Ul);return t.runInitializers(),t.donePromise.then(()=>(ia(r.injector.get(Zl,oa)||oa),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Rc({},e);return function(t,e,n){const o=new _l(n);return Promise.resolve(o)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ac);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${et(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(co(ss))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Rc(t,e){return Array.isArray(e)?e.reduce(Rc,t):Object.assign(Object.assign({},t),e)}let Ac=(()=>{class t{constructor(t,e,n,o,r){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=o,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{cc.assertNotInAngularZone(),lc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{cc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=$(i,s.pipe(Q()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof fa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const o=n.isBoundToModule?void 0:this._injector.get(el),r=n.create(ss.NULL,[],e||n.selector,o),i=r.location.nativeElement,s=r.injector.get(mc,null),a=s&&r.injector.get(yc);return s&&a&&a.registerApplication(i,s),r.onDestroy(()=>{this.detachView(r.hostView),Mc(this.components,r),a&&a.unregisterApplication(i)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Mc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ql,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(co(cc),co(ss),co(ar),co(ma),co(Ul))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Mc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xc{}class Ic{}const Lc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Fc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Lc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,o]=t.split("#");return void 0===o&&(o="default"),n(255)(e).then(t=>t[o]).then(t=>Nc(t,e,o)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,o]=t.split("#"),r="NgFactory";return void 0===o&&(o="default",r=""),n(255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[o+r]).then(t=>Nc(t,e,o))}}return t.\u0275fac=function(e){return new(e||t)(co(sc),co(Ic,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Nc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const kc=Pc(null,"core",[{provide:Yl,useValue:"unknown"},{provide:Tc,deps:[ss]},{provide:yc,deps:[]},{provide:Xl,deps:[]}]),Gc=[{provide:Ac,useClass:Ac,deps:[cc,ss,ar,ma,Ul]},{provide:hl,deps:[cc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ul,useClass:Ul,deps:[[new go,Hl]]},{provide:sc,useClass:sc,deps:[]},zl,{provide:Ba,useFactory:function(){return Ya},deps:[]},{provide:Va,useFactory:function(){return qa},deps:[]},{provide:Zl,useFactory:function(t){return ia(t=t||"undefined"!=typeof $localize&&$localize.locale||oa),t},deps:[[new fo(Zl),new go,new mo]]},{provide:Ql,useValue:"USD"}];let Bc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(co(Ac))},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({providers:Gc}),t})(),Wc=null;function Vc(){return Wc}const Hc=new zn("DocumentToken");let Uc=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:$c,token:t,providedIn:"platform"}),t})();function $c(){return co(jc)}const zc=new zn("Location Initialized");let jc=(()=>{class t extends Uc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vc().getBaseHref(this._doc)}onPopState(t){const e=Vc().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=Vc().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Kc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Kc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(co(Hc))},t.\u0275prov=pt({factory:Yc,token:t,providedIn:"platform"}),t})();function Kc(){return!!window.history.pushState}function Yc(){return new jc(co(Hc))}function qc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Xc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Zc(t){return t&&"?"!==t[0]?"?"+t:t}let Qc=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:Jc,token:t,providedIn:"root"}),t})();function Jc(t){const e=co(Hc).location;return new eu(co(Uc),e&&e.origin||"")}const tu=new zn("appBaseHref");let eu=(()=>{class t extends Qc{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Zc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,o){const r=this.prepareExternalUrl(n+Zc(o));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,o){const r=this.prepareExternalUrl(n+Zc(o));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(co(Uc),co(tu,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),nu=(()=>{class t extends Qc{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=qc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,o){let r=this.prepareExternalUrl(n+Zc(o));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,o){let r=this.prepareExternalUrl(n+Zc(o));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(co(Uc),co(tu,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),ou=(()=>{class t{constructor(t,e){this._subject=new wl,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Xc(iu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Zc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,iu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(co(Qc),co(Uc))},t.normalizeQueryParams=Zc,t.joinWithSlash=qc,t.stripTrailingSlash=Xc,t.\u0275prov=pt({factory:ru,token:t,providedIn:"root"}),t})();function ru(){return new ou(co(Qc),co(Uc))}function iu(t){return t.replace(/\/index.html$/,"")}var su=(()=>((su=su||{})[su.Zero=0]="Zero",su[su.One=1]="One",su[su.Two=2]="Two",su[su.Few=3]="Few",su[su.Many=4]="Many",su[su.Other=5]="Other",su))();class au{}let lu=(()=>{class t extends au{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ea(e);if(n)return n;const o=e.split("-")[0];if(n=ea(o),n)return n;if("en"===o)return Js;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[na.PluralCase]}(e||this.locale)(t)){case su.Zero:return"zero";case su.One:return"one";case su.Two:return"two";case su.Few:return"few";case su.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(co(Zl))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function cu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[o,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(o.trim()===e)return decodeURIComponent(r)}return null}let uu=(()=>{class t{constructor(t,e,n,o){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ms(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${et(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(ws(Ba),ws(Va),ws(Ca),ws(Oa))},t.\u0275dir=Yt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class pu{constructor(t,e,n,o){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let du=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,o)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new pu(null,this._ngForOf,-1,-1),null===o?void 0:o),r=new hu(t,n);e.push(r)}else if(null==o)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,o);const i=new hu(t,r);e.push(i)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,o=this._viewContainer.length;n<o;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=o,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ws(rl),ws(Za),ws(Ba))},t.\u0275dir=Yt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class hu{constructor(t,e){this.record=t,this.view=e}}let fu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new gu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ws(rl),ws(Za))},t.\u0275dir=Yt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class gu{constructor(){this.$implicit=null,this.ngIf=null}}function mu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${et(e)}'.`)}class yu{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let _u=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),vu=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new yu(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(ws(rl),ws(Za),ws(_u,9))},t.\u0275dir=Yt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Cu=(()=>{class t{constructor(t,e,n){n._addDefault(new yu(t,e))}}return t.\u0275fac=function(e){return new(e||t)(ws(rl),ws(Za),ws(_u,9))},t.\u0275dir=Yt({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Eu=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,o]=t.split(".");null!=(e=null!=e&&o?`${e}${o}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca),ws(Va),ws(Oa))},t.\u0275dir=Yt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),wu=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(ws(rl))},t.\u0275dir=Yt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[le]}),t})(),Ou=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=qt({name:"json",type:t,pure:!1}),t})(),bu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({providers:[{provide:au,useClass:lu}]}),t})(),Su=(()=>{class t{}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new Pu(co(Hc),window)}),t})();class Pu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const t=o.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}o=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],o-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Du(this.window.history)||Du(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Du(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Tu{}class Ru extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Ru,Wc||(Wc=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Mu=Mu||document.querySelector("base"),Mu?Mu.getAttribute("href"):null);return null==e?null:function(t){Au=Au||document.createElement("a"),Au.setAttribute("href",t);const e=Au.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){Mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return cu(document.cookie,t)}}let Au,Mu=null;const xu=new zn("TRANSITION_ID"),Iu=[{provide:Hl,useFactory:function(t,e,n){return()=>{n.get(Ul).donePromise.then(()=>{const n=Vc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[xu,Hc,ss],multi:!0}];class Lu{static init(){var t;t=new Lu,Cc=t}addToWindow(t){Mt.getAngularTestability=(e,n=!0)=>{const o=t.findTestabilityInTree(e,n);if(null==o)throw new Error("Could not find testability for element.");return o},Mt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Mt.getAllAngularRootElements=()=>t.getAllRootElements(),Mt.frameworkStabilizers||(Mt.frameworkStabilizers=[]),Mt.frameworkStabilizers.push(t=>{const e=Mt.getAllAngularTestabilities();let n=e.length,o=!1;const r=function(e){o=o||e,n--,0==n&&t(o)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:n?Vc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Fu=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Nu=new zn("EventManagerPlugins");let ku=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let o=0;o<n.length;o++){const e=n[o];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(co(Nu),co(cc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class Gu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const o=Vc().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,n)}}let Bu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Wu=(()=>{class t extends Bu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const o=this._doc.createElement("style");o.textContent=t,n.push(e.appendChild(o))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Vu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Vu))}}return t.\u0275fac=function(e){return new(e||t)(co(Hc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Vu(t){Vc().remove(t)}const Hu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Uu=/%COMP%/g;function $u(t,e,n){for(let o=0;o<e.length;o++){let r=e[o];Array.isArray(r)?$u(t,r,n):(r=r.replace(Uu,t),n.push(r))}return n}function zu(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ju=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ku(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Pt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Yu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case Pt.ShadowDom:return new qu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=$u(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(co(ku),co(Wu),co($l))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class Ku{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Hu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,o){if(o){e=o+":"+e;const r=Hu[o];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const o=Hu[n];o?t.removeAttributeNS(o,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,o){o&(ur.DashCase|ur.Important)?t.style.setProperty(e,n,o&ur.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ur.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,zu(n)):this.eventManager.addEventListener(t,e,zu(n))}}class Yu extends Ku{constructor(t,e,n,o){super(t),this.component=n;const r=$u(o+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Uu,o+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Uu,o+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class qu extends Ku{constructor(t,e,n,o){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=$u(o.id,o.styles,[]);for(let i=0;i<r.length;i++){const t=document.createElement("style");t.textContent=r[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Xu=(()=>{class t extends Gu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(co(Hc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Zu=["alt","control","meta","shift"],Qu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ju={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tp={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ep=(()=>{class t extends Gu{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,o){const r=t.parseEventName(n),i=t.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vc().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const n=e.toLowerCase().split("."),o=n.shift();if(0===n.length||"keydown"!==o&&"keyup"!==o)return null;const r=t._normalizeKey(n.pop());let i="";if(Zu.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),i+=t+".")}),i+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=o,s.fullKey=i,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ju.hasOwnProperty(e)&&(e=Ju[e]))}return Qu[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Zu.forEach(o=>{o!=n&&(0,tp[o])(t)&&(e+=o+".")}),e+=n,e}static eventCallback(e,n,o){return r=>{t.getEventFullKey(r)===e&&o.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(co(Hc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),np=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:function(){return co(rp)},token:t,providedIn:"root"}),t})();function op(t){return new rp(t.get(Hc))}let rp=(()=>{class t extends np{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Jo.NONE:return e;case Jo.HTML:return To(e,"HTML")?Do(e):Zo(this._doc,String(e)).toString();case Jo.STYLE:return To(e,"Style")?Do(e):e;case Jo.SCRIPT:if(To(e,"Script"))return Do(e);throw new Error("unsafe value used in a script context");case Jo.URL:return Ro(e),To(e,"URL")?Do(e):Lo(String(e));case Jo.RESOURCE_URL:if(To(e,"ResourceURL"))return Do(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new wo(t)}bypassSecurityTrustStyle(t){return new Oo(t)}bypassSecurityTrustScript(t){return new bo(t)}bypassSecurityTrustUrl(t){return new So(t)}bypassSecurityTrustResourceUrl(t){return new Po(t)}}return t.\u0275fac=function(e){return new(e||t)(co(Hc))},t.\u0275prov=pt({factory:function(){return op(co(zi))},token:t,providedIn:"root"}),t})();const ip=Pc(kc,"browser",[{provide:Yl,useValue:"browser"},{provide:Kl,useValue:function(){Ru.makeCurrent(),Lu.init()},multi:!0},{provide:Hc,useFactory:function(){return function(t){fe=t}(document),document},deps:[]}]),sp=[[],{provide:Ki,useValue:"root"},{provide:ar,useFactory:function(){return new ar},deps:[]},{provide:Nu,useClass:Xu,multi:!0,deps:[Hc,cc,Yl]},{provide:Nu,useClass:ep,multi:!0,deps:[Hc]},[],{provide:ju,useClass:ju,deps:[ku,Wu,$l]},{provide:wa,useExisting:ju},{provide:Bu,useExisting:Wu},{provide:Wu,useClass:Wu,deps:[Hc]},{provide:mc,useClass:mc,deps:[cc]},{provide:ku,useClass:ku,deps:[Nu,cc]},{provide:Tu,useClass:Fu,deps:[]},[]];let ap=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:$l,useValue:e.appId},{provide:xu,useExisting:$l},Iu]}}}return t.\u0275fac=function(e){return new(e||t)(co(t,12))},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({providers:sp,imports:[bu,Bc]}),t})();function lp(...t){let e=t[t.length-1];return S(e)?(t.pop(),L(t,e)):U(t)}"undefined"!=typeof window&&window;class cp extends O{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(t){super.next(this._value=t)}}class up extends f{notifyNext(t,e,n,o,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class pp extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function dp(t,e,n,o,r=new pp(t,n,o)){if(!r.closed)return e instanceof _?e.subscribe(r):I(e)(r)}const hp={};function fp(...t){let e,n;return S(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),U(t,n).lift(new gp(e))}class gp{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new mp(t,this.resultSelector))}}class mp extends up{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(hp),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(dp(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const o=this.values,r=this.toRespond?o[n]===hp?--this.toRespond:this.toRespond:0;o[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const yp=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function _p(...t){return H(1)(lp(...t))}const vp=new _(t=>t.complete());function Cp(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):vp}function Ep(t){return new _(e=>{let n;try{n=t()}catch(o){return void e.error(o)}return(n?F(n):Cp()).subscribe(e)})}function wp(t,e){return"function"==typeof e?n=>n.pipe(wp((n,o)=>F(t(n,o)).pipe(P((t,r)=>e(n,t,o,r))))):e=>e.lift(new Op(t))}class Op{constructor(t){this.project=t}call(t,e){return e.subscribe(new bp(t,this.project))}}class bp extends k{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(o){return void this.destination.error(o)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new N(this),o=this.destination;o.add(n),this.innerSubscription=G(t,n),this.innerSubscription!==n&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Sp=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Pp(t){return e=>0===t?Cp():e.lift(new Dp(t))}class Dp{constructor(t){if(this.total=t,this.total<0)throw new Sp}call(t,e){return e.subscribe(new Tp(t,this.total))}}class Tp extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Rp(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>_p(t,n,e)):e=>_p(t,e)}function Ap(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new Mp(t,e,n))}}class Mp{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new xp(t,this.accumulator,this.seed,this.hasSeed))}}class xp extends f{constructor(t,e,n,o){super(t),this.accumulator=e,this._seed=n,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(o){this.destination.error(o)}this.seed=n,this.destination.next(n)}}function Ip(t,e){return function(n){return n.lift(new Lp(t,e))}}class Lp{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Fp(t,this.predicate,this.thisArg))}}class Fp extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Np(t){return function(e){const n=new kp(t),o=e.lift(n);return n.caught=o}}class kp{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Gp(t,this.selector,this.caught))}}class Gp extends k{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const o=new N(this);this.add(o);const r=G(n,o);r!==o&&this.add(r)}}}function Bp(t,e){return B(t,e,1)}function Wp(t){return function(e){return 0===t?Cp():e.lift(new Vp(t))}}class Vp{constructor(t){if(this.total=t,this.total<0)throw new Sp}call(t,e){return e.subscribe(new Hp(t,this.total))}}class Hp extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,o=this.count++;e.length<n?e.push(t):e[o%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,o=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(o[r])}}t.complete()}}function Up(t=jp){return e=>e.lift(new $p(t))}class $p{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new zp(t,this.errorFactory))}}class zp extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function jp(){return new yp}function Kp(t=null){return e=>e.lift(new Yp(t))}class Yp{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new qp(t,this.defaultValue))}}class qp extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Xp(t,e){const n=arguments.length>=2;return o=>o.pipe(t?Ip((e,n)=>t(e,n,o)):y,Pp(1),n?Kp(e):Up(()=>new yp))}function Zp(){}function Qp(t,e,n){return function(o){return o.lift(new Jp(t,e,n))}}class Jp{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new td(t,this.nextOrObserver,this.error,this.complete))}}class td extends f{constructor(t,e,n,r){super(t),this._tapNext=Zp,this._tapError=Zp,this._tapComplete=Zp,this._tapError=n||Zp,this._tapComplete=r||Zp,o(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Zp,this._tapError=e.error||Zp,this._tapComplete=e.complete||Zp)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function ed(t){return e=>e.lift(new nd(t))}class nd{constructor(t){this.callback=t}call(t,e){return e.subscribe(new od(t,this.callback))}}class od extends f{constructor(t,e){super(t),this.add(new p(e))}}class rd{constructor(t,e){this.id=t,this.url=e}}class id extends rd{constructor(t,e,n="imperative",o=null){super(t,e),this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sd extends rd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ad extends rd{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ld extends rd{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cd extends rd{constructor(t,e,n,o){super(t,e),this.urlAfterRedirects=n,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ud extends rd{constructor(t,e,n,o){super(t,e),this.urlAfterRedirects=n,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pd extends rd{constructor(t,e,n,o,r){super(t,e),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dd extends rd{constructor(t,e,n,o){super(t,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hd extends rd{constructor(t,e,n,o){super(t,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fd{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gd{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class md{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _d{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vd{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cd{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ed="primary";class wd{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Od(t){return new wd(t)}function bd(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Sd(t,e,n){const o=n.path.split("/");if(o.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||o.length<t.length))return null;const r={};for(let i=0;i<o.length;i++){const e=o[i],n=t[i];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,o.length),posParams:r}}function Pd(t,e){const n=t?Object.keys(t):void 0,o=e?Object.keys(e):void 0;if(!n||!o||n.length!=o.length)return!1;let r;for(let i=0;i<n.length;i++)if(r=n[i],!Dd(t[r],e[r]))return!1;return!0}function Dd(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),o=[...e].sort();return n.every((t,e)=>o[e]===t)}return t===e}function Td(t){return Array.prototype.concat.apply([],t)}function Rd(t){return t.length>0?t[t.length-1]:null}function Ad(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Md(t){return xs(t)?t:Ms(t)?F(Promise.resolve(t)):lp(t)}const xd={exact:function t(e,n,o){if(!Vd(e.segments,n.segments))return!1;if(!kd(e.segments,n.segments,o))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r],o))return!1}return!0},subset:Fd},Id={exact:function(t,e){return Pd(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Dd(t[n],e[n]))},ignored:()=>!0};function Ld(t,e,n){return xd[n.paths](t.root,e.root,n.matrixParams)&&Id[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Fd(t,e,n){return Nd(t,e,e.segments,n)}function Nd(t,e,n,o){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!!Vd(r,n)&&!e.hasChildren()&&!!kd(r,n,o)}if(t.segments.length===n.length){if(!Vd(t.segments,n))return!1;if(!kd(t.segments,n,o))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Fd(t.children[n],e.children[n],o))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Vd(t.segments,r)&&!!kd(t.segments,r,o)&&!!t.children.primary&&Nd(t.children.primary,e,i,o)}}function kd(t,e,n){return e.every((e,o)=>Id[n](t[o].parameters,e.parameters))}class Gd{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Od(this.queryParams)),this._queryParamMap}toString(){return $d.serialize(this)}}class Bd{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ad(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zd(this)}}class Wd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Od(this.parameters)),this._parameterMap}toString(){return Qd(this)}}function Vd(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Hd{}class Ud{parse(t){const e=new oh(t);return new Gd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${jd(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Yd(e)}=${Yd(t)}`).join("&"):`${Yd(e)}=${Yd(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const $d=new Ud;function zd(t){return t.segments.map(t=>Qd(t)).join("/")}function jd(t,e){if(!t.hasChildren())return zd(t);if(e){const e=t.children.primary?jd(t.children.primary,!1):"",n=[];return Ad(t.children,(t,e)=>{e!==Ed&&n.push(`${e}:${jd(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ad(t.children,(t,o)=>{o===Ed&&(n=n.concat(e(t,o)))}),Ad(t.children,(t,o)=>{o!==Ed&&(n=n.concat(e(t,o)))}),n}(t,(e,n)=>n===Ed?[jd(t.children.primary,!1)]:[`${n}:${jd(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${zd(t)}/${e[0]}`:`${zd(t)}/(${e.join("//")})`}}function Kd(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yd(t){return Kd(t).replace(/%3B/gi,";")}function qd(t){return Kd(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xd(t){return decodeURIComponent(t)}function Zd(t){return Xd(t.replace(/\+/g,"%20"))}function Qd(t){return`${qd(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${qd(t)}=${qd(e[t])}`).join("")}`;var e}const Jd=/^[^\/()?;=#]+/;function th(t){const e=t.match(Jd);return e?e[0]:""}const eh=/^[^=?&#]+/,nh=/^[^?&#]+/;class oh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bd([],{}):new Bd([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Bd(t,e)),n}parseSegment(){const t=th(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Wd(Xd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=th(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=th(this.remaining);t&&(n=t,this.capture(n))}t[Xd(e)]=Xd(n)}parseQueryParam(t){const e=function(t){const e=t.match(eh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(nh);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const o=Zd(e),r=Zd(n);if(t.hasOwnProperty(o)){let e=t[o];Array.isArray(e)||(e=[e],t[o]=e),e.push(r)}else t[o]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=th(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Ed);const i=this.parseChildren();e[r]=1===Object.keys(i).length?i.primary:new Bd([],i),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class rh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ih(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ih(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=sh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return sh(t,this._root).map(t=>t.value)}}function ih(t,e){if(t===e.value)return e;for(const n of e.children){const e=ih(t,n);if(e)return e}return null}function sh(t,e){if(t===e.value)return[e];for(const n of e.children){const o=sh(t,n);if(o.length)return o.unshift(e),o}return[]}class ah{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function lh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ch extends rh{constructor(t,e){super(t),this.snapshot=e,gh(this,t)}toString(){return this.snapshot.toString()}}function uh(t,e){const n=function(t,e){const n=new hh([],{},{},"",{},Ed,e,null,t.root,-1,{});return new fh("",new ah(n,[]))}(t,e),o=new cp([new Wd("",{})]),r=new cp({}),i=new cp({}),s=new cp({}),a=new cp(""),l=new ph(o,r,s,a,i,Ed,e,n.root);return l.snapshot=n.root,new ch(new ah(l,[]),n)}class ph{constructor(t,e,n,o,r,i,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=o,this.data=r,this.outlet=i,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(P(t=>Od(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(P(t=>Od(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dh(t,e="emptyOnly"){const n=t.pathFromRoot;let o=0;if("always"!==e)for(o=n.length-1;o>=1;){const t=n[o],e=n[o-1];if(t.routeConfig&&""===t.routeConfig.path)o--;else{if(e.component)break;o--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(o))}class hh{constructor(t,e,n,o,r,i,s,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=o,this.data=r,this.outlet=i,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Od(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Od(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fh extends rh{constructor(t,e){super(e),this.url=t,gh(this,e)}toString(){return mh(this._root)}}function gh(t,e){e.value._routerState=t,e.children.forEach(e=>gh(t,e))}function mh(t){const e=t.children.length>0?` { ${t.children.map(mh).join(", ")} } `:"";return`${t.value}${e}`}function yh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pd(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pd(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pd(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pd(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function _h(t,e){var n,o;return Pd(t.params,e.params)&&Vd(n=t.url,o=e.url)&&n.every((t,e)=>Pd(t.parameters,o[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||_h(t.parent,e.parent))}function vh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const o=n.value;o._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const o of n.children)if(t.shouldReuseRoute(e.value,o.value.snapshot))return vh(t,e,o);return vh(t,e)})}(t,e,n);return new ah(o,r)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Ch(e,t),t}}const n=new ph(new cp((o=e.value).url),new cp(o.params),new cp(o.queryParams),new cp(o.fragment),new cp(o.data),o.outlet,o.component,o),r=e.children.map(e=>vh(t,e));return new ah(n,r)}var o}function Ch(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Ch(t.children[n],e.children[n])}function Eh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function wh(t){return"object"==typeof t&&null!=t&&t.outlets}function Oh(t,e,n,o,r){let i={};return o&&Ad(o,(t,e)=>{i[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Gd(n.root===t?e:bh(n.root,t,e),i,r)}function bh(t,e,n){const o={};return Ad(t.children,(t,r)=>{o[r]=t===e?n:bh(t,e,n)}),new Bd(t.segments,o)}class Sh{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Eh(n[0]))throw new Error("Root segment cannot have matrix parameters");const o=n.find(wh);if(o&&o!==Rd(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ph{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Dh(t,e,n){if(t||(t=new Bd([],{})),0===t.segments.length&&t.hasChildren())return Th(t,e,n);const o=function(t,e,n){let o=0,r=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(o>=n.length)return i;const e=t.segments[r],s=n[o];if(wh(s))break;const a=`${s}`,l=o<n.length-1?n[o+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!xh(a,l,e))return i;o+=2}else{if(!xh(a,{},e))return i;o++}r++}return{match:!0,pathIndex:r,commandIndex:o}}(t,e,n),r=n.slice(o.commandIndex);if(o.match&&o.pathIndex<t.segments.length){const e=new Bd(t.segments.slice(0,o.pathIndex),{});return e.children.primary=new Bd(t.segments.slice(o.pathIndex),t.children),Th(e,0,r)}return o.match&&0===r.length?new Bd(t.segments,{}):o.match&&!t.hasChildren()?Rh(t,e,n):o.match?Th(t,0,r):Rh(t,e,n)}function Th(t,e,n){if(0===n.length)return new Bd(t.segments,{});{const o=function(t){return wh(t[0])?t[0].outlets:{[Ed]:t}}(n),r={};return Ad(o,(n,o)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[o]=Dh(t.children[o],e,n))}),Ad(t.children,(t,e)=>{void 0===o[e]&&(r[e]=t)}),new Bd(t.segments,r)}}function Rh(t,e,n){const o=t.segments.slice(0,e);let r=0;for(;r<n.length;){const i=n[r];if(wh(i)){const t=Ah(i.outlets);return new Bd(o,t)}if(0===r&&Eh(n[0])){o.push(new Wd(t.segments[e].path,Mh(n[0]))),r++;continue}const s=wh(i)?i.outlets.primary:`${i}`,a=r<n.length-1?n[r+1]:null;s&&a&&Eh(a)?(o.push(new Wd(s,Mh(a))),r+=2):(o.push(new Wd(s,{})),r++)}return new Bd(o,{})}function Ah(t){const e={};return Ad(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Rh(new Bd([],{}),0,t))}),e}function Mh(t){const e={};return Ad(t,(t,n)=>e[n]=`${t}`),e}function xh(t,e,n){return t==n.path&&Pd(e,n.parameters)}class Ih{constructor(t,e,n,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=o}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),yh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const o=lh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,o[e],n),delete o[e]}),Ad(o,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const o=t.value,r=e?e.value:null;if(o===r)if(o.component){const r=n.getContext(o.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:o})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),o=n&&t.value.component?n.children:e,r=lh(t);for(const i of Object.keys(r))this.deactivateRouteAndItsChildren(r[i],o);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const o=lh(e);t.children.forEach(t=>{this.activateRoutes(t,o[t.value.outlet],n),this.forwardEvent(new vd(t.value.snapshot))}),t.children.length&&this.forwardEvent(new yd(t.value.snapshot))}activateRoutes(t,e,n){const o=t.value,r=e?e.value:null;if(yh(o),o===r)if(o.component){const r=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(o.component){const e=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const t=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Lh(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=o,e.resolver=r,e.outlet&&e.outlet.activateWith(o,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Lh(t){yh(t.value),t.children.forEach(Lh)}class Fh{constructor(t,e){this.routes=t,this.module=e}}function Nh(t){return"function"==typeof t}function kh(t){return t instanceof Gd}const Gh=Symbol("INITIAL_VALUE");function Bh(){return wp(t=>fp(t.map(t=>t.pipe(Pp(1),Rp(Gh)))).pipe(Ap((t,e)=>{let n=!1;return e.reduce((t,o,r)=>{if(t!==Gh)return t;if(o===Gh&&(n=!0),!n){if(!1===o)return o;if(r===e.length-1||kh(o))return o}return t},t)},Gh),Ip(t=>t!==Gh),P(t=>kh(t)?t:!0===t),Pp(1)))}let Wh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ds(0,"router-outlet")},directives:function(){return[Ff]},encapsulation:2}),t})();function Vh(t,e=""){for(let n=0;n<t.length;n++){const o=t[n];Hh(o,Uh(e,o))}}function Hh(t,e){t.children&&Vh(t.children,e)}function Uh(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function $h(t){const e=t.children&&t.children.map($h),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ed&&(n.component=Wh),n}function zh(t){return t.outlet||Ed}function jh(t,e){const n=t.filter(t=>zh(t)===e);return n.push(...t.filter(t=>zh(t)!==e)),n}const Kh={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Yh(t,e,n){var o;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Kh):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Sd)(n,t,e);if(!r)return Object.assign({},Kh);const i={};Ad(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s,positionalParamSegments:null!==(o=r.posParams)&&void 0!==o?o:{}}}function qh(t,e,n,o,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Xh(t,e,n)&&zh(n)!==Ed)}(t,n,o)){const r=new Bd(e,function(t,e,n,o){const r={};r.primary=o,o._sourceSegment=t,o._segmentIndexShift=e.length;for(const i of n)if(""===i.path&&zh(i)!==Ed){const n=new Bd([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[zh(i)]=n}return r}(t,e,o,new Bd(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Xh(t,e,n))}(t,n,o)){const i=new Bd(t.segments,function(t,e,n,o,r,i){const s={};for(const a of o)if(Xh(t,n,a)&&!r[zh(a)]){const n=new Bd([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===i?t.segments.length:e.length,s[zh(a)]=n}return Object.assign(Object.assign({},r),s)}(t,e,n,o,t.children,r));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}const i=new Bd(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Xh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Zh(t,e,n,o){return!!(zh(t)===o||o!==Ed&&Xh(e,n,t))&&("**"===t.path||Yh(e,t,n).matched)}function Qh(t,e,n){return 0===e.length&&!t.children[n]}class Jh{constructor(t){this.segmentGroup=t||null}}class tf{constructor(t){this.urlTree=t}}function ef(t){return new _(e=>e.error(new Jh(t)))}function nf(t){return new _(e=>e.error(new tf(t)))}function of(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class rf{constructor(t,e,n,o,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=o,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(el)}apply(){const t=qh(this.urlTree.root,[],[],this.config).segmentGroup,e=new Bd(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ed).pipe(P(t=>this.createUrlTree(sf(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Np(t=>{if(t instanceof tf)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Jh)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ed).pipe(P(e=>this.createUrlTree(sf(e),t.queryParams,t.fragment))).pipe(Np(t=>{if(t instanceof Jh)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const o=t.segments.length>0?new Bd([],{[Ed]:t}):t;return new Gd(o,e,n)}expandSegmentGroup(t,e,n,o){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(P(t=>new Bd([],t))):this.expandSegment(t,n,e,n.segments,o,!0)}expandChildren(t,e,n){const o=[];for(const r of Object.keys(n.children))"primary"===r?o.unshift(r):o.push(r);return F(o).pipe(Bp(o=>{const r=n.children[o],i=jh(e,o);return this.expandSegmentGroup(t,i,r,o).pipe(P(t=>({segment:t,outlet:o})))}),Ap((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return o=>o.pipe(t?Ip((e,n)=>t(e,n,o)):y,Wp(1),n?Kp(e):Up(()=>new yp))}())}expandSegment(t,e,n,o,r,i){return F(n).pipe(Bp(s=>this.expandSegmentAgainstRoute(t,e,n,s,o,r,i).pipe(Np(t=>{if(t instanceof Jh)return lp(null);throw t}))),Xp(t=>!!t),Np((t,n)=>{if(t instanceof yp||"EmptyError"===t.name){if(Qh(e,o,r))return lp(new Bd([],{}));throw new Jh(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,o,r,i,s){return Zh(o,e,r,i)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,o,r,i):ef(e):ef(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,o,r,i){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,o,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,o,r,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,o){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?nf(r):this.lineralizeSegments(n,r).pipe(B(n=>{const r=new Bd(n,{});return this.expandSegment(t,r,e,n,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,o,r,i){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Yh(e,o,r);if(!s)return ef(e);const u=this.applyRedirectCommands(a,o.redirectTo,c);return o.redirectTo.startsWith("/")?nf(u):this.lineralizeSegments(o,u).pipe(B(o=>this.expandSegment(t,e,n,o.concat(r.slice(l)),i,!1)))}matchSegmentAgainstRoute(t,e,n,o,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?lp(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(P(t=>(n._loadedConfig=t,new Bd(o,{})))):lp(new Bd(o,{}));const{matched:i,consumedSegments:s,lastChild:a}=Yh(e,n,o);if(!i)return ef(e);const l=o.slice(a);return this.getChildConfig(t,n,o).pipe(B(t=>{const o=t.module,i=t.routes,{segmentGroup:a,slicedSegments:c}=qh(e,s,l,i),u=new Bd(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(o,i,u).pipe(P(t=>new Bd(s,t)));if(0===i.length&&0===c.length)return lp(new Bd(s,{}));const p=zh(n)===r;return this.expandSegment(o,u,i,c,p?Ed:r,!0).pipe(P(t=>new Bd(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?lp(new Fh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?lp(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(B(n=>n?this.configLoader.load(t.injector,e).pipe(P(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(bd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):lp(new Fh([],t))}runCanLoadGuards(t,e,n){const o=e.canLoad;return o&&0!==o.length?lp(o.map(o=>{const r=t.get(o);let i;if(function(t){return t&&Nh(t.canLoad)}(r))i=r.canLoad(e,n);else{if(!Nh(r))throw new Error("Invalid CanLoad guard");i=r(e,n)}return Md(i)})).pipe(Bh(),Qp(t=>{if(!kh(t))return;const e=bd(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),P(t=>!0===t)):lp(!0)}lineralizeSegments(t,e){let n=[],o=e.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return lp(n);if(o.numberOfChildren>1||!o.children.primary)return of(t.redirectTo);o=o.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,o){const r=this.createSegmentGroup(t,e.root,n,o);return new Gd(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ad(t,(t,o)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[o]=e[r]}else n[o]=t}),n}createSegmentGroup(t,e,n,o){const r=this.createSegments(t,e.segments,n,o);let i={};return Ad(e.children,(e,r)=>{i[r]=this.createSegmentGroup(t,e,n,o)}),new Bd(r,i)}createSegments(t,e,n,o){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,o):this.findOrReturn(e,n))}findPosParam(t,e,n){const o=n[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let n=0;for(const o of e){if(o.path===t.path)return e.splice(n),o;n++}return t}}function sf(t){const e={};for(const n of Object.keys(t.children)){const o=sf(t.children[n]);(o.segments.length>0||o.hasChildren())&&(e[n]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Bd(t.segments.concat(e.segments),e.children)}return t}(new Bd(t.segments,e))}class af{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lf{constructor(t,e){this.component=t,this.route=e}}function cf(t,e,n){const o=t._root;return pf(o,e?e._root:null,n,[o.value])}function uf(t,e,n){const o=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(o?o.module.injector:n).get(t)}function pf(t,e,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){const i=lh(e);return t.children.forEach(t=>{!function(t,e,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Vd(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vd(t.url,e.url)||!Pd(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_h(t,e)||!Pd(t.queryParams,e.queryParams);case"paramsChange":default:return!_h(t,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new af(o)):(i.data=s.data,i._resolvedData=s._resolvedData),pf(t,e,i.component?a?a.children:null:n,o,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new lf(a.outlet.component,s))}else s&&df(e,a,r),r.canActivateChecks.push(new af(o)),pf(t,null,i.component?a?a.children:null:n,o,r)}(t,i[t.value.outlet],n,o.concat([t.value]),r),delete i[t.value.outlet]}),Ad(i,(t,e)=>df(t,n.getContext(e),r)),r}function df(t,e,n){const o=lh(t),r=t.value;Ad(o,(t,o)=>{df(t,r.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new lf(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class hf{}function ff(t){return new _(e=>e.error(t))}class gf{constructor(t,e,n,o,r,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=o,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=i}recognize(){const t=qh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ed);if(null===e)return null;const n=new hh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ed,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ah(n,e),r=new fh(this.url,o);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=dh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const o=e.children[r],i=jh(t,r),s=this.processSegmentGroup(i,o,r);if(null===s)return null;n.push(...s)}const o=yf(n);return o.sort((t,e)=>t.value.outlet===Ed?-1:e.value.outlet===Ed?1:t.value.outlet.localeCompare(e.value.outlet)),o}processSegment(t,e,n,o){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,o);if(null!==t)return t}return Qh(e,n,o)?[]:null}processSegmentAgainstRoute(t,e,n,o){if(t.redirectTo||!Zh(t,e,n,o))return null;let r,i=[],s=[];if("**"===t.path){const o=n.length>0?Rd(n).parameters:{};r=new hh(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cf(t),zh(t),t.component,t,_f(e),vf(e)+n.length,Ef(t))}else{const o=Yh(e,t,n);if(!o.matched)return null;i=o.consumedSegments,s=n.slice(o.lastChild),r=new hh(i,o.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cf(t),zh(t),t.component,t,_f(e),vf(e)+i.length,Ef(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=qh(e,i,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new ah(r,t)]}if(0===a.length&&0===c.length)return[new ah(r,[])];const u=zh(t)===o,p=this.processSegment(a,l,c,u?Ed:o);return null===p?null:[new ah(r,p)]}}function mf(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function yf(t){const e=[],n=new Set;for(const o of t){if(!mf(o)){e.push(o);continue}const t=e.find(t=>o.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...o.children),n.add(t)):e.push(o)}for(const o of n){const t=yf(o.children);e.push(new ah(o.value,t))}return e.filter(t=>!n.has(t))}function _f(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function vf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Cf(t){return t.data||{}}function Ef(t){return t.resolve||{}}function wf(t){return wp(e=>{const n=t(e);return n?F(n).pipe(P(()=>e)):lp(e)})}class Of extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const bf=new zn("ROUTES");class Sf{constructor(t,e,n,o){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(P(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=n.create(t);return new Fh(Td(o.injector.get(bf,void 0,Ct.Self|Ct.Optional)).map($h),o)}),Np(t=>{throw e._loader$=void 0,t}));return e._loader$=new Y(n,()=>new O).pipe(z()),e._loader$}loadModuleFactory(t){return"string"==typeof t?F(this.loader.load(t)):Md(t()).pipe(B(t=>t instanceof nl?lp(t):F(this.compiler.compileModuleAsync(t))))}}class Pf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Df,this.attachRef=null}}class Df{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Pf,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Tf{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Rf(t){throw t}function Af(t,e,n){return e.parse("/")}function Mf(t,e){return lp(null)}const xf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},If={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lf=(()=>{class t{constructor(t,e,n,o,r,i,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=o,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=Rf,this.malformedUriErrorHandler=Af,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mf,afterPreactivation:Mf},this.urlHandlingStrategy=new Tf,this.routeReuseStrategy=new Of,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=r.get(el),this.console=r.get(Xl);const l=r.get(cc);this.isNgZoneEnabled=l instanceof cc&&cc.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Gd(new Bd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sf(i,s,t=>this.triggerEvent(new fd(t)),t=>this.triggerEvent(new gd(t))),this.routerState=uh(this.currentUrlTree,this.rootComponentType),this.transitions=new cp({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(Ip(t=>0!==t.id),P(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),wp(t=>{let n=!1,o=!1;return lp(t).pipe(Qp(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wp(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return lp(t).pipe(wp(t=>{const n=this.transitions.getValue();return e.next(new id(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?vp:Promise.resolve(t)}),function(t,e,n,o){return wp(r=>function(t,e,n,o,r){return new rf(t,e,n,o,r).apply()}(t,e,n,r.extractedUrl,o).pipe(P(t=>Object.assign(Object.assign({},r),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Qp(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,o,r){return B(i=>function(t,e,n,o,r="emptyOnly",i="legacy"){try{const s=new gf(t,e,n,o,r,i).recognize();return null===s?ff(new hf):lp(s)}catch(s){return ff(s)}}(t,e,i.urlAfterRedirects,n(i.urlAfterRedirects),o,r).pipe(P(t=>Object.assign(Object.assign({},i),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Qp(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new cd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:o,source:r,restoredState:i,extras:s}=t,a=new id(n,this.serializeUrl(o),r,i);e.next(a);const l=uh(o,this.rootComponentType).snapshot;return lp(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:o,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),vp}),wf(t=>{const{targetSnapshot:e,id:n,extractedUrl:o,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:o,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!s})}),Qp(t=>{const e=new ud(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),P(t=>Object.assign(Object.assign({},t),{guards:cf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return B(n=>{const{targetSnapshot:o,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?lp(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,o){return F(t).pipe(B(t=>function(t,e,n,o,r){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?lp(i.map(i=>{const s=uf(i,e,r);let a;if(function(t){return t&&Nh(t.canDeactivate)}(s))a=Md(s.canDeactivate(t,e,n,o));else{if(!Nh(s))throw new Error("Invalid CanDeactivate guard");a=Md(s(t,e,n,o))}return a.pipe(Xp())})).pipe(Bh()):lp(!0)}(t.component,t.route,n,e,o)),Xp(t=>!0!==t,!0))}(s,o,r,t).pipe(B(n=>n&&"boolean"==typeof n?function(t,e,n,o){return F(e).pipe(Bp(e=>_p(function(t,e){return null!==t&&e&&e(new md(t)),lp(!0)}(e.route.parent,o),function(t,e){return null!==t&&e&&e(new _d(t)),lp(!0)}(e.route,o),function(t,e,n){const o=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ep(()=>lp(e.guards.map(r=>{const i=uf(r,e.node,n);let s;if(function(t){return t&&Nh(t.canActivateChild)}(i))s=Md(i.canActivateChild(o,t));else{if(!Nh(i))throw new Error("Invalid CanActivateChild guard");s=Md(i(o,t))}return s.pipe(Xp())})).pipe(Bh())));return lp(r).pipe(Bh())}(t,e.path,n),function(t,e,n){const o=e.routeConfig?e.routeConfig.canActivate:null;return o&&0!==o.length?lp(o.map(o=>Ep(()=>{const r=uf(o,e,n);let i;if(function(t){return t&&Nh(t.canActivate)}(r))i=Md(r.canActivate(e,t));else{if(!Nh(r))throw new Error("Invalid CanActivate guard");i=Md(r(e,t))}return i.pipe(Xp())}))).pipe(Bh()):lp(!0)}(t,e.route,n))),Xp(t=>!0!==t,!0))}(o,i,t,e):lp(n)),P(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Qp(t=>{if(kh(t.guardsResult)){const e=bd(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new pd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ip(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,""),!1)),wf(t=>{if(t.guards.canActivateChecks.length)return lp(t).pipe(Qp(t=>{const e=new dd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),wp(t=>{let e=!1;return lp(t).pipe((n=this.paramsInheritanceStrategy,o=this.ngModule.injector,B(t=>{const{targetSnapshot:e,guards:{canActivateChecks:r}}=t;if(!r.length)return lp(t);let i=0;return F(r).pipe(Bp(t=>function(t,e,n,o){return function(t,e,n,o){const r=Object.keys(t);if(0===r.length)return lp({});const i={};return F(r).pipe(B(r=>function(t,e,n,o){const r=uf(t,e,o);return Md(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,o).pipe(Qp(t=>{i[r]=t}))),Wp(1),B(()=>Object.keys(i).length===r.length?lp(i):vp))}(t._resolve,t,e,o).pipe(P(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),dh(t,n).resolve),null)))}(t.route,e,n,o)),Qp(()=>i++),Wp(1),B(e=>i===r.length?lp(t):vp))})),Qp({next:()=>e=!0,complete:()=>{e||(this.restoreHistory(t),this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}));var n,o}),Qp(t=>{const e=new hd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),wf(t=>{const{targetSnapshot:e,id:n,extractedUrl:o,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:o,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!s})}),P(t=>{const e=function(t,e,n){const o=vh(t,e._root,n?n._root:void 0);return new ch(o,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Qp(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,i=this.routeReuseStrategy,s=t=>this.triggerEvent(t),P(t=>(new Ih(i,t.targetRouterState,t.currentRouterState,s).activate(r),t))),Qp({next(){n=!0},complete(){n=!0}}),ed(()=>{if(!n&&!o){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(t),this.cancelNavigationTransition(t,e)):this.cancelNavigationTransition(t,e)}this.currentNavigation=null}),Np(n=>{if(o=!0,(r=n)&&r.ngNavigationCancelingError){const o=kh(n.url);o||(this.navigated=!0,this.restoreHistory(t,!0));const r=new ad(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),o?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.restoreHistory(t,!0);const o=new ld(t.id,this.serializeUrl(t.extractedUrl),n);e.next(o);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}var r;return vp}));var r,i,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:o}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(o,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Vh(t),this.config=t.map($h),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:o,fragment:r,queryParamsHandling:i,preserveFragment:s}=e,a=n||this.routerState.root,l=s?this.currentUrlTree.fragment:r;let c=null;switch(i){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,o,r){if(0===n.length)return Oh(e.root,e.root,e,o,r);const i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Sh(!0,0,t);let e=0,n=!1;const o=t.reduce((t,o,r)=>{if("object"==typeof o&&null!=o){if(o.outlets){const e={};return Ad(o.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(o.segmentPath)return[...t,o.segmentPath]}return"string"!=typeof o?[...t,o]:0===r?(o.split("/").forEach((o,r)=>{0==r&&"."===o||(0==r&&""===o?n=!0:".."===o?e++:""!=o&&t.push(o))}),t):[...t,o]},[]);return new Sh(n,e,o)}(n);if(i.toRoot())return Oh(e.root,new Bd([],{}),e,o,r);const s=function(t,e,n){if(t.isAbsolute)return new Ph(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Ph(t,t===e.root,0)}const o=Eh(t.commands[0])?0:1;return function(t,e,n){let o=t,r=e,i=n;for(;i>r;){if(i-=r,o=o.parent,!o)throw new Error("Invalid number of '../'");r=o.segments.length}return new Ph(o,!1,r-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+o,t.numberOfDoubleDots)}(i,e,t),a=s.processChildren?Th(s.segmentGroup,s.index,i.commands):Dh(s.segmentGroup,s.index,i.commands);return Oh(s.segmentGroup,a,e,o,r)}(a,this.currentUrlTree,t,c,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=kh(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},xf):!1===e?Object.assign({},If):e,kh(t))return Ld(this.currentUrlTree,t,n);const o=this.parseUrl(t);return Ld(this.currentUrlTree,o,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const o=t[n];return null!=o&&(e[n]=o),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new sd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,o,r){var i,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==e&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(l&&c)return Promise.resolve(!0);let u,p,d;r?(u=r.resolve,p=r.reject,d=r.promise):d=new Promise((t,e)=>{u=t,p=e});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(i=this.browserPageId)&&void 0!==i?i:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:u,reject:p,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",o):this.location.go(n,"",o)}restoreHistory(t,e=!1){var n,o;if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===e?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===e&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(e)}else"replace"===this.canceledNavigationResolution&&(e&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){const n=new ad(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(co(Kn),co(Hd),co(Df),co(ou),co(ss),co(xc),co(sc),co(void 0))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Ff=(()=>{class t{constructor(t,e,n,o,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new wl,this.deactivateEvents=new wl,this.name=o||Ed,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),o=this.parentContexts.getOrCreateContext(this.name).children,r=new Nf(t,o,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(ws(Df),ws(rl),ws(ma),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let o=0;for(;o<t;){const r=n[o];if(gn(r))break;if(0===r)o+=2;else if("number"==typeof r)for(o++;o<t&&"string"==typeof n[o];)o++;else{if(r===e)return n[o+1];o+=2}}}return null}(Le(),"name")),ws(ja))},t.\u0275dir=Yt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Nf{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ph?this.route:t===Df?this.childContexts:this.parent.get(t,e)}}class kf{}class Gf{preload(t,e){return lp(null)}}let Bf=(()=>{class t{constructor(t,e,n,o,r){this.router=t,this.injector=o,this.preloadingStrategy=r,this.loader=new Sf(e,n,e=>t.triggerEvent(new fd(e)),e=>t.triggerEvent(new gd(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ip(t=>t instanceof sd),Bp(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(el);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const o of e)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const t=o._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children));return F(n).pipe(H(),P(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?lp(e._loadedConfig):this.loader.load(t.injector,e)).pipe(B(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(co(Lf),co(xc),co(sc),co(ss),co(kf))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Wf=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof id?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Cd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(co(Lf),co(Su),co(void 0))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Vf=new zn("ROUTER_CONFIGURATION"),Hf=new zn("ROUTER_FORROOT_GUARD"),Uf=[ou,{provide:Hd,useClass:Ud},{provide:Lf,useFactory:function(t,e,n,o,r,i,s,a={},l,c){const u=new Lf(null,t,e,n,o,r,i,Td(s));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Hd,Df,ou,ss,xc,sc,bf,Vf,[class{},new go],[class{},new go]]},Df,{provide:ph,useFactory:function(t){return t.routerState.root},deps:[Lf]},{provide:xc,useClass:Fc},Bf,Gf,class{preload(t,e){return e().pipe(Np(()=>lp(null)))}},{provide:Vf,useValue:{enableTracing:!1}}];function $f(){return new Sc("Router",Lf)}let zf=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Uf,qf(e),{provide:Hf,useFactory:Yf,deps:[[Lf,new go,new mo]]},{provide:Vf,useValue:n||{}},{provide:Qc,useFactory:Kf,deps:[Uc,[new fo(tu),new go],Vf]},{provide:Wf,useFactory:jf,deps:[Lf,Su,Vf]},{provide:kf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Gf},{provide:Sc,multi:!0,useFactory:$f},[Xf,{provide:Hl,multi:!0,useFactory:Zf,deps:[Xf]},{provide:Jf,useFactory:Qf,deps:[Xf]},{provide:ql,multi:!0,useExisting:Jf}]]}}static forChild(e){return{ngModule:t,providers:[qf(e)]}}}return t.\u0275fac=function(e){return new(e||t)(co(Hf,8),co(Lf,8))},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({}),t})();function jf(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Wf(t,e,n)}function Kf(t,e,n={}){return n.useHash?new nu(t,e):new eu(t,e)}function Yf(t){return"guarded"}function qf(t){return[{provide:jn,multi:!0,useValue:t},{provide:bf,multi:!0,useValue:t}]}let Xf=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new O}appInitializer(){return this.injector.get(zc,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Lf),o=this.injector.get(Vf);return"disabled"===o.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?lp(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Vf),n=this.injector.get(Bf),o=this.injector.get(Wf),r=this.injector.get(Lf),i=this.injector.get(Ac);t===i.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),n.setUpPreloading(),o.init(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(co(ss))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Zf(t){return t.appInitializer.bind(t)}function Qf(t){return t.bootstrapListener.bind(t)}const Jf=new zn("Router Initializer"),tg=[];let eg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[zf.forRoot(tg)],zf]}),t})();class ng{}class og{}class rg{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),o=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(r):this.headers.set(o,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const o=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(o,n),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof rg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new rg;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof rg?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...n),this.headers.set(e,o);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ig{encodeKey(t){return sg(t)}encodeValue(t){return sg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function sg(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function ag(t){return`${t}`}class lg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ig,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const o=t.indexOf("="),[r,i]=-1==o?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,o)),e.decodeValue(t.slice(o+1))],s=n.get(r)||[];s.push(i),n.set(r,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new lg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ag(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(ag(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class cg{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function ug(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function pg(t){return"undefined"!=typeof Blob&&t instanceof Blob}function dg(t){return"undefined"!=typeof FormData&&t instanceof FormData}class hg{constructor(t,e,n,o){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,r=o):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new rg),this.context||(this.context=new cg),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new lg,this.urlWithParams=e}serializeBody(){return null===this.body?null:ug(this.body)||pg(this.body)||dg(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof lg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dg(this.body)?null:pg(this.body)?this.body.type||null:ug(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,o=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new hg(n,o,i,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var fg=(()=>((fg=fg||{})[fg.Sent=0]="Sent",fg[fg.UploadProgress=1]="UploadProgress",fg[fg.ResponseHeader=2]="ResponseHeader",fg[fg.DownloadProgress=3]="DownloadProgress",fg[fg.Response=4]="Response",fg[fg.User=5]="User",fg))();class gg{constructor(t,e=200,n="OK"){this.headers=t.headers||new rg,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class mg extends gg{constructor(t={}){super(t),this.type=fg.ResponseHeader}clone(t={}){return new mg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yg extends gg{constructor(t={}){super(t),this.type=fg.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new yg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class _g extends gg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function vg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Cg=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let o;if(t instanceof hg)o=t;else{let r,i;r=n.headers instanceof rg?n.headers:new rg(n.headers),n.params&&(i=n.params instanceof lg?n.params:new lg({fromObject:n.params})),o=new hg(t,e,void 0!==n.body?n.body:null,{headers:r,context:n.context,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=lp(o).pipe(Bp(t=>this.handler.handle(t)));if(t instanceof hg||"events"===n.observe)return r;const i=r.pipe(Ip(t=>t instanceof yg));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return i.pipe(P(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return i.pipe(P(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return i.pipe(P(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return i.pipe(P(t=>t.body))}case"response":return i;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new lg).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,vg(n,e))}post(t,e,n={}){return this.request("POST",t,vg(n,e))}put(t,e,n={}){return this.request("PUT",t,vg(n,e))}}return t.\u0275fac=function(e){return new(e||t)(co(ng))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class Eg{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const wg=new zn("HTTP_INTERCEPTORS");let Og=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const bg=/^\)\]\}',?\n/;let Sg=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const o=t.serializeBody();let r=null;const i=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,o=n.statusText||"OK",i=new rg(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new mg({headers:i,status:e,statusText:o,url:s}),r},s=()=>{let{headers:o,status:r,statusText:s,url:a}=i(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(bg,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new yg({body:l,headers:o,status:r,statusText:s,url:a||void 0})),e.complete()):e.error(new _g({error:l,headers:o,status:r,statusText:s,url:a||void 0}))},a=t=>{const{url:o}=i(),r=new _g({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:o||void 0});e.error(r)};let l=!1;const c=o=>{l||(e.next(i()),l=!0);let r={type:fg.DownloadProgress,loaded:o.loaded};o.lengthComputable&&(r.total=o.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:fg.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==o&&n.upload&&n.upload.addEventListener("progress",u)),n.send(o),e.next({type:fg.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==o&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(co(Tu))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Pg=new zn("XSRF_COOKIE_NAME"),Dg=new zn("XSRF_HEADER_NAME");class Tg{}let Rg=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(co(Hc),co(Yl),co(Pg))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Ag=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const o=this.tokenService.getToken();return null===o||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,o)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(co(Tg),co(Dg))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Mg=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(wg,[]);this.chain=t.reduceRight((t,e)=>new Eg(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(co(og),co(ss))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),xg=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Ag,useClass:Og}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Pg,useValue:e.cookieName}:[],e.headerName?{provide:Dg,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({providers:[Ag,{provide:wg,useExisting:Ag,multi:!0},{provide:Tg,useClass:Rg},{provide:Pg,useValue:"XSRF-TOKEN"},{provide:Dg,useValue:"X-XSRF-TOKEN"}]}),t})(),Ig=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({providers:[Cg,{provide:ng,useClass:Mg},Sg,{provide:og,useExisting:Sg}],imports:[[xg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function Lg(t,e,n,r){return o(n)&&(r=n,n=void 0),r?Lg(t,e,n).pipe(P(t=>l(t)?r(...t):r(t))):new _(o=>{Fg(t,e,function(t){o.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},o,n)})}function Fg(t,e,n,o,r){let i;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const o=t;t.addEventListener(e,n,r),i=()=>o.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const o=t;t.on(e,n),i=()=>o.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const o=t;t.addListener(e,n),i=()=>o.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let i=0,s=t.length;i<s;i++)Fg(t[i],e,n,o,r)}o.add(i)}function Ng(t){return null!=t&&"false"!=`${t}`}function kg(t,e=0){return Gg(t)?Number(t):e}function Gg(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Bg(t){return Array.isArray(t)?t:[t]}function Wg(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Vg(t){return t instanceof Ca?t.nativeElement:t}class Hg extends p{constructor(t,e){super()}schedule(t,e=0){return this}}class Ug extends Hg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,o=!1;try{this.work(t)}catch(r){o=!0,n=!!r&&r||new Error(r)}if(o)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,o=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&n.splice(o,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let $g=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class zg extends $g{constructor(t,e=$g.now){super(t,()=>zg.delegate&&zg.delegate!==this?zg.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return zg.delegate&&zg.delegate!==this?zg.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const jg=new class extends zg{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,o=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++o<r&&(t=e.shift()));if(this.active=!1,n){for(;++o<r&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends Ug{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let Kg=1;const Yg=Promise.resolve(),qg={};function Xg(t){return t in qg&&(delete qg[t],!0)}const Zg={setImmediate(t){const e=Kg++;return qg[e]=!0,Yg.then(()=>Xg(e)&&t()),e},clearImmediate(t){Xg(t)}},Qg=new class extends zg{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,o=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++o<r&&(t=e.shift()));if(this.active=!1,n){for(;++o<r&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends Ug{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Zg.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Zg.clearImmediate(e),t.scheduled=void 0)}});function Jg(t){return!!t&&(t instanceof _||"function"==typeof t.lift&&"function"==typeof t.subscribe)}function tm(t,e){return n=>n.lift(new em(t,e))}class em{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new nm(t,this.compare,this.keySelector))}}class nm extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(o){return this.destination.error(o)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const om=new zg(Ug);class rm{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new im(t,this.durationSelector))}}class im extends k{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const o=G(n,new N(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function sm(t){return!l(t)&&t-parseFloat(t)+1>=0}function am(t=0,e,n){let o=-1;return sm(e)?o=Number(e)<1?1:Number(e):S(e)&&(n=e),S(n)||(n=om),new _(e=>{const r=sm(t)?t:+t-n.now();return n.schedule(lm,r,{index:0,period:o,subscriber:e})})}function lm(t){const{index:e,period:n,subscriber:o}=t;if(o.next(e),!o.closed){if(-1===n)return o.complete();t.index=e+1,this.schedule(t,n)}}function cm(t,e=om){return n=()=>am(t,e),function(t){return t.lift(new rm(n))};var n}function um(t){return e=>e.lift(new pm(t))}class pm{constructor(t){this.notifier=t}call(t,e){const n=new dm(t),o=G(this.notifier,new N(n));return o&&!n.seenValue?(n.add(o),e.subscribe(n)):n}}class dm extends k{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class hm{call(t,e){return e.subscribe(new fm(t))}}class fm extends f{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}const gm=new class extends zg{}(class extends Ug{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}});class mm{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return lp(this.value);case"E":return t=this.error,new _(e=>e.error(t));case"C":return Cp()}var t;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new mm("N",t):mm.undefinedValueNotification}static createError(t){return new mm("E",void 0,t)}static createComplete(){return mm.completeNotification}}mm.completeNotification=new mm("C"),mm.undefinedValueNotification=new mm("N",void 0);class ym extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(ym.dispatch,this.delay,new _m(t,this.destination)))}_next(t){this.scheduleMessage(mm.createNext(t))}_error(t){this.scheduleMessage(mm.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(mm.createComplete()),this.unsubscribe()}}class _m{constructor(t,e){this.notification=t,this.destination=e}}class vm extends O{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Cm(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,r=n.length;let i;if(this.closed)throw new C;if(this.isStopped||this.hasError?i=p.EMPTY:(this.observers.push(t),i=new E(this,t)),o&&t.add(t=new ym(t,o)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),i}_getNow(){return(this.scheduler||gm).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,o=this._events,r=o.length;let i=0;for(;i<r&&!(t-o[i].time<n);)i++;return r>e&&(i=Math.max(i,r-e)),i>0&&o.splice(0,i),o}}class Cm{constructor(t,e){this.time=t,this.value=e}}let Em;try{Em="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(tD){Em=!1}let wm,Om,bm,Sm,Pm=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Em)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(co(Yl))},t.\u0275prov=pt({factory:function(){return new t(co(Yl))},token:t,providedIn:"root"}),t})(),Dm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({}),t})();function Tm(t){return function(){if(null==wm&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wm=!0}))}finally{wm=wm||!1}return wm}()?t:!!t.capture}function Rm(){if(null==bm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bm=!1,bm;if("scrollBehavior"in document.documentElement.style)bm=!0;else{const t=Element.prototype.scrollTo;bm=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return bm}function Am(){if("object"!=typeof document||!document)return 0;if(null==Om){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),o=n.style;o.width="2px",o.height="1px",t.appendChild(n),document.body.appendChild(t),Om=0,0===t.scrollLeft&&(t.scrollLeft=1,Om=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return Om}function Mm(t){return t.composedPath?t.composedPath()[0]:t.target}function xm(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const Im=new zn("cdk-dir-doc",{providedIn:"root",factory:function(){return uo(Hc)}});let Lm=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new wl,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(co(Im,8))},t.\u0275prov=pt({factory:function(){return new t(co(Im,8))},token:t,providedIn:"root"}),t})(),Fm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({}),t})();class Nm extends class{}{constructor(t){super(),this._data=t}connect(){return Jg(this._data)?this._data:lp(this._data)}disconnect(){}}class km{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,n,o,r){t.forEachOperation((t,i,s)=>{let a,l;null==t.previousIndex?(a=this._insertView(()=>n(t,i,s),s,e,o(t)),l=a?1:0):null==s?(this._detachAndCacheView(i,e),l=3):(a=this._moveView(i,s,e,o(t)),l=2),r&&r({context:null==a?void 0:a.context,operation:l,record:t})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,n,o){const r=this._insertViewFromCache(e,n);if(r)return void(r.context.$implicit=o);const i=t();return n.createEmbeddedView(i.templateRef,i.context,i.index)}_detachAndCacheView(t,e){const n=e.detach(t);this._maybeCacheView(n,e)}_moveView(t,e,n,o){const r=n.get(t);return n.move(r,e),r.context.$implicit=o,r}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const n=e.indexOf(t);-1===n?t.destroy():e.remove(n)}}_insertViewFromCache(t,e){const n=this._viewCache.pop();return n&&e.insert(n,t),n||null}}const Gm=new zn("_ViewRepeater"),Bm=["contentWrapper"],Wm=["*"],Vm=new zn("VIRTUAL_SCROLL_STRATEGY");class Hm{constructor(t,e,n){this._scrolledIndexChange=new O,this.scrolledIndexChange=this._scrolledIndexChange.pipe(tm()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,n){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},n=this._viewport.getViewportSize(),o=this._viewport.getDataLength();let r=this._viewport.measureScrollOffset(),i=this._itemSize>0?r/this._itemSize:0;if(e.end>o){const t=Math.ceil(n/this._itemSize),s=Math.max(0,Math.min(i,o-t));i!=s&&(i=s,r=s*this._itemSize,e.start=Math.floor(i)),e.end=Math.max(0,Math.min(o,e.start+t))}const s=r-e.start*this._itemSize;if(s<this._minBufferPx&&0!=e.start){const t=Math.ceil((this._maxBufferPx-s)/this._itemSize);e.start=Math.max(0,e.start-t),e.end=Math.min(o,Math.ceil(i+(n+this._minBufferPx)/this._itemSize))}else{const t=e.end*this._itemSize-(r+n);if(t<this._minBufferPx&&e.end!=o){const n=Math.ceil((this._maxBufferPx-t)/this._itemSize);n>0&&(e.end=Math.min(o,e.end+n),e.start=Math.max(0,Math.floor(i-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(i))}}function Um(t){return t._scrollStrategy}let $m=(()=>{class t{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Hm(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=kg(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=kg(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=kg(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[ha([{provide:Vm,useFactory:Um,deps:[rt(()=>t)]}]),le]}),t})(),zm=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new O,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(cm(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):lp()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Ip(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,t)&&e.push(o)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Vg(e),o=t.getElementRef().nativeElement;do{if(n==o)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Lg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(co(cc),co(Pm),co(Hc,8))},t.\u0275prov=pt({factory:function(){return new t(co(cc),co(Pm),co(Hc,8))},token:t,providedIn:"root"}),t})(),jm=(()=>{class t{constructor(t,e,n,o){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=o,this._destroyed=new O,this._elementScrolled=new _(t=>this.ngZone.runOutsideAngular(()=>Lg(this.elementRef.nativeElement,"scroll").pipe(um(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=Am()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==Am()?t.left=t.right:1==Am()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;Rm()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e="left",n="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const r=this.dir&&"rtl"==this.dir.value;return"start"==t?t=r?n:e:"end"==t&&(t=r?e:n),r&&2==Am()?t==e?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:r&&1==Am()?t==e?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==e?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca),ws(zm),ws(cc),ws(Lm,8))},t.\u0275dir=Yt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),Km=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new O,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,o=n.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-o.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(cm(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(co(Pm),co(cc),co(Hc,8))},t.\u0275prov=pt({factory:function(){return new t(co(Pm),co(cc),co(Hc,8))},token:t,providedIn:"root"}),t})();const Ym="undefined"!=typeof requestAnimationFrame?jg:Qg;let qm=(()=>{class t extends jm{constructor(t,e,n,o,r,i,s){super(t,i,n,r),this.elementRef=t,this._changeDetectorRef=e,this._scrollStrategy=o,this._detachedSubject=new O,this._renderedRangeSubject=new O,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new _(t=>this._scrollStrategy.scrolledIndexChange.subscribe(e=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(e))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=p.EMPTY,this._viewportChanges=s.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Ng(t)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Rp(null),cm(0,Ym)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(um(this._detachedSubject)).subscribe(t=>{const e=t.length;e!==this._dataLength&&(this._dataLength=e,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){var e,n;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,e="to-start"){const n="horizontal"==this.orientation,o=n?"X":"Y";let r=`translate${o}(${Number((n&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===e&&(r+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=r&&(this._renderedContentTransform=r,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,e="auto"){const n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}scrollToIndex(t,e="auto"){this._scrollStrategy.scrollToIndex(t,e)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const e of t)e()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca),ws(ja),ws(cc),ws(Vm,8),ws(Lm,8),ws(zm),ws(Km))},t.\u0275cmp=Ht({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){if(1&t&&Fl(Bm,7),2&t){let t;Ll(t=kl())&&(e._contentWrapper=t.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&Us("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[ha([{provide:jm,useExisting:t}]),ls],ngContentSelectors:Wm,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(Gs(),Ss(0,"div",0,1),Bs(2),Ps(),Ds(3,"div",2)),2&t&&(Zr(3),Hs("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})();function Xm(t,e,n){if(!n.getBoundingClientRect)return 0;const o=n.getBoundingClientRect();return"horizontal"===t?"start"===e?o.left:o.right:"start"===e?o.top:o.bottom}let Zm=(()=>{class t{constructor(t,e,n,o,r,i){this._viewContainerRef=t,this._template=e,this._differs=n,this._viewRepeater=o,this._viewport=r,this.viewChange=new O,this._dataSourceChanges=new O,this.dataStream=this._dataSourceChanges.pipe(Rp(null),t=>t.lift(new hm),wp(([t,e])=>this._changeDataSource(t,e)),function(t,e,n){let o;return o={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:o}){let r,i,s=0,a=!1,l=!1;return function(c){let u;s++,!r||a?(a=!1,r=new vm(t,e,o),u=r.subscribe(this),i=c.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){l=!0,i=void 0,r.complete()}}),l&&(i=void 0)):u=r.subscribe(this),this.add(()=>{s--,u.unsubscribe(),u=void 0,i&&!l&&n&&0===s&&(i.unsubscribe(),i=void 0,r=void 0)})}}(o))}()),this._differ=null,this._needsUpdate=!1,this._destroyed=new O,this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(um(this._destroyed)).subscribe(t=>{this._renderedRange=t,i.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,function(t){return t&&"function"==typeof t.connect}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new Nm(Jg(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(e,n)=>t(e+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=kg(t)}measureRangeSize(t,e){if(t.start>=t.end)return 0;const n=t.start-this._renderedRange.start,o=t.end-t.start;let r,i;for(let s=0;s<o;s++){const t=this._viewContainerRef.get(s+n);if(t&&t.rootNodes.length){r=i=t.rootNodes[0];break}}for(let s=o-1;s>-1;s--){const t=this._viewContainerRef.get(s+n);if(t&&t.rootNodes.length){i=t.rootNodes[t.rootNodes.length-1];break}}return r&&i?Xm(e,"end",i)-Xm(e,"start",r):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,e)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,e):e)),this._needsUpdate=!0)}_changeDataSource(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):lp()}_updateContext(){const t=this._data.length;let e=this._viewContainerRef.length;for(;e--;){const n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(t,e,n)=>this._getEmbeddedViewArgs(t,n),t=>t.item),t.forEachIdentityChange(t=>{this._viewContainerRef.get(t.currentIndex).context.$implicit=t.item});const e=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const t=this._viewContainerRef.get(n);t.context.index=this._renderedRange.start+n,t.context.count=e,this._updateComputedContextProperties(t.context)}}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_getEmbeddedViewArgs(t,e){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:e}}}return t.\u0275fac=function(e){return new(e||t)(ws(rl),ws(Za),ws(Ba),ws(Gm),ws(qm,4),ws(cc))},t.\u0275dir=Yt({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[ha([{provide:Gm,useClass:km}])]}),t})(),Qm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({}),t})(),Jm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,Dm,Qm],Fm,Qm]}),t})();function ty(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}let ey=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({}),t})();new Map;let ny=(()=>{class t{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return this._singletonRegistry}registerSingletonWithKey(t,e){const n=this.singletonRegistry.has(t),o=n?this.singletonRegistry.get(t):this.withNewTarget(e);n||this.singletonRegistry.set(t,o)}getSingletonWithKey(t){return this.singletonRegistry.has(t)?this.singletonRegistry.get(t).target:null}withNewTarget(t){return{target:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),oy=(()=>{class t extends O{ngOnDestroy(){this.next(),this.complete()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Vn(t)))(n||t)}}(),t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const ry={},iy=(...t)=>function(t,...e){Oc()&&function(...t){const e=t.reduce((t,e)=>t+e.toString(),"");return!ry[e]&&(ry[e]=!0,!0)}(...e)&&t(...e)}((...t)=>console.warn("[NG-ZORRO]:",...t),...t);function sy(t){return null!=t}function ay(t){return Ng(t)}function ly(t,e){return function(n,o,r){const i=`$$__zorroPropDecorator__${o}`;return Object.prototype.hasOwnProperty.call(n,i)&&iy(`The prop "${i}" is already exist, it will be overrided by ${t} decorator.`),Object.defineProperty(n,i,{configurable:!0,writable:!0}),{get(){return r&&r.get?r.get.bind(this)():this[i]},set(t){r&&r.set&&r.set.bind(this)(e(t)),this[i]=e(t)}}}}function cy(){return ly("InputBoolean",ay)}"undefined"!=typeof window&&window;class uy{constructor(t){this.total=t}call(t,e){return e.subscribe(new py(t,this.total))}}class py extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}let dy=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),hy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({providers:[dy]}),t})();"undefined"!=typeof Element&&Element;const fy=new zn("cdk-input-modality-detector-options"),gy={ignoreKeys:[18,17,224,91,16]},my=Tm({passive:!0,capture:!0});let yy=(()=>{class t{constructor(t,e,n,o){this._platform=t,this._mostRecentTarget=null,this._modality=new cp(null),this._lastTouchMs=0,this._onKeydown=t=>{var e,n;(null===(n=null===(e=this._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(e=>e===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Mm(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(t){return 0===t.offsetX&&0===t.offsetY}(t)?"keyboard":"mouse"),this._mostRecentTarget=Mm(t))},this._onTouchstart=t=>{!function(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mm(t)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},gy),o),this.modalityDetected=this._modality.pipe(t=>t.lift(new uy(1))),this.modalityChanged=this.modalityDetected.pipe(tm()),t.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,my),n.addEventListener("mousedown",this._onMousedown,my),n.addEventListener("touchstart",this._onTouchstart,my)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,my),document.removeEventListener("mousedown",this._onMousedown,my),document.removeEventListener("touchstart",this._onTouchstart,my))}}return t.\u0275fac=function(e){return new(e||t)(co(Pm),co(cc),co(Hc),co(fy,8))},t.\u0275prov=pt({factory:function(){return new t(co(Pm),co(cc),co(Hc),co(fy,8))},token:t,providedIn:"root"}),t})();const _y=new zn("cdk-focus-monitor-default-options"),vy=Tm({passive:!0,capture:!0});let Cy=(()=>{class t{constructor(t,e,n,o,r){this._ngZone=t,this._platform=e,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new O,this._rootNodeFocusAndBlurListener=t=>{const e=Mm(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let o=e;o;o=o.parentElement)n.call(this,t,o)},this._document=o,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Vg(t);if(!this._platform.isBrowser||1!==n.nodeType)return lp(null);const o=function(t){if(function(){if(null==Sm){const t="undefined"!=typeof document?document.head:null;Sm=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Sm}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const i={checkChildren:e,subject:new O,rootNode:o};return this._elementInfo.set(n,i),this._registerGlobalListeners(i),i.subject}stopMonitoring(t){const e=Vg(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const o=Vg(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOrigin(e),"function"==typeof o.focus&&o.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,e){const n=this._elementInfo.get(e),o=Mm(t);n&&(n.checkChildren||e===o)&&this._originChanged(e,this._getFocusOrigin(o),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,vy),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,vy)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(um(this._stopInputModalityDetector)).subscribe(t=>{this._setOrigin(t,!0)}))}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vy),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vy),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,o)=>{(o===t||n.checkChildren&&o.contains(t))&&e.push([o,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(co(cc),co(Pm),co(yy),co(Hc,8),co(_y,8))},t.\u0275prov=pt({factory:function(){return new t(co(cc),co(Pm),co(yy),co(Hc,8),co(_y,8))},token:t,providedIn:"root"}),t})();const Ey="cdk-high-contrast-black-on-white",wy="cdk-high-contrast-white-on-black",Oy="cdk-high-contrast-active";let by=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,o=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Oy),t.remove(Ey),t.remove(wy),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(Oy),t.add(Ey)):2===e&&(t.add(Oy),t.add(wy))}}}return t.\u0275fac=function(e){return new(e||t)(co(Pm),co(Hc))},t.\u0275prov=pt({factory:function(){return new t(co(Pm),co(Hc))},token:t,providedIn:"root"}),t})(),Sy=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(co(by))},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Dm,hy]]}),t})();class Py{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Dy extends Py{constructor(t,e,n,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=o}}class Ty extends Py{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ry extends Py{constructor(t){super(),this.element=t instanceof Ca?t.nativeElement:t}}class Ay{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Dy?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Ty?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ry?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class My extends Ay{constructor(t,e,n,o,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=o,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let xy=(()=>{class t extends Ay{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new wl,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(ws(ma),ws(rl),ws(Hc))},t.\u0275dir=Yt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ls]}),t})(),Iy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({}),t})();class Ly{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new Fy(t,this.predicate,this.inclusive))}}class Fy extends f{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(o){return void e.error(o)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}const Ny=Rm();class ky{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Wg(-this._previousScrollPosition.left),t.style.top=Wg(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,o=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Ny&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ny&&(e.scrollBehavior=o,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Gy{constructor(t,e,n,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class By{enable(){}disable(){}attach(){}}function Wy(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Vy(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Hy{constructor(t,e,n,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Wy(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Uy=(()=>{class t{constructor(t,e,n,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new By,this.close=t=>new Gy(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new ky(this._viewportRuler,this._document),this.reposition=t=>new Hy(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=o}}return t.\u0275fac=function(e){return new(e||t)(co(zm),co(Km),co(cc),co(Hc))},t.\u0275prov=pt({factory:function(){return new t(co(zm),co(Km),co(cc),co(Hc))},token:t,providedIn:"root"}),t})();class $y{constructor(t){if(this.scrollStrategy=new By,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class zy{constructor(t,e,n,o,r){this.offsetX=n,this.offsetY=o,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class jy{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Ky=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(co(Hc))},t.\u0275prov=pt({factory:function(){return new t(co(Hc))},token:t,providedIn:"root"}),t})(),Yy=(()=>{class t extends Ky{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(co(Hc))},t.\u0275prov=pt({factory:function(){return new t(co(Hc))},token:t,providedIn:"root"}),t})(),qy=(()=>{class t extends Ky{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._pointerDownListener=t=>{this._pointerDownEventTarget=Mm(t)},this._clickListener=t=>{const e=Mm(t),n="click"===t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:e;this._pointerDownEventTarget=null;const o=this._attachedOverlays.slice();for(let r=o.length-1;r>-1;r--){const i=o[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e)||i.overlayElement.contains(n))break;i._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(co(Hc),co(Pm))},t.\u0275prov=pt({factory:function(){return new t(co(Hc),co(Pm))},token:t,providedIn:"root"}),t})(),Xy=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||xm()){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),xm()?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(co(Hc),co(Pm))},t.\u0275prov=pt({factory:function(){return new t(co(Hc),co(Pm))},token:t,providedIn:"root"}),t})();class Zy{constructor(t,e,n,o,r,i,s,a,l){this._portalOutlet=t,this._host=e,this._pane=n,this._config=o,this._ngZone=r,this._keyboardDispatcher=i,this._document=s,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new O,this._attachments=new O,this._detachments=new O,this._locationChanges=p.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new O,this._outsidePointerEvents=new O,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Pp(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Wg(this._config.width),t.height=Wg(this._config.height),t.minWidth=Wg(this._config.minWidth),t.minHeight=Wg(this._config.minHeight),t.maxWidth=Wg(this._config.maxWidth),t.maxHeight=Wg(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const o=t.classList;Bg(e).forEach(t=>{t&&(n?o.add(t):o.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(um($(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const Qy="cdk-overlay-connected-position-bounding-box",Jy=/([A-Za-z%]+)$/;class t_{constructor(t,e,n,o,r){this._viewportRuler=e,this._document=n,this._platform=o,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new O,this._resizeSubscription=p.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Qy),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,o=[];let r;for(let i of this._preferredPositions){let s=this._getOriginPoint(t,i),a=this._getOverlayPoint(s,e,i),l=this._getOverlayFit(a,e,n,i);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(i,s);this._canFitWithFlexibleDimensions(l,a,n)?o.push({position:i,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,i)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:s,position:i,overlayRect:e})}if(o.length){let t=null,e=-1;for(const n of o){const o=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);o>e&&(e=o,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&e_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Qy),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,o;if("center"==e.originX)n=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?o:r}return o="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:o}}_getOverlayPoint(t,e,n){let o,r;return o="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+o,y:t.y+r}}_getOverlayFit(t,e,n,o){const r=o_(e);let{x:i,y:s}=t,a=this._getOffset(o,"x"),l=this._getOffset(o,"y");a&&(i+=a),l&&(s+=l);let c=0-s,u=s+r.height-n.height,p=this._subtractOverflows(r.width,0-i,i+r.width-n.width),d=this._subtractOverflows(r.height,c,u),h=p*d;return{visibleArea:h,isCompletelyWithinViewport:r.width*r.height===h,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:p==r.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const o=n.bottom-e.y,r=n.right-e.x,i=n_(this._overlayRef.getConfig().minHeight),s=n_(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=i&&i<=o)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=o_(e),r=this._viewportRect,i=Math.max(t.x+o.width-r.width,0),s=Math.max(t.y+o.height-r.height,0),a=Math.max(r.top-n.top-t.y,0),l=Math.max(r.left-n.left-t.x,0);let c=0,u=0;return c=o.width<=r.width?l||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=o.height<=r.height?a||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new jy(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,o=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${o}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,o=this._isRtl();let r,i,s,a,l,c;if("top"===e.overlayY)i=t.y,r=n.height-i+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,r=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),o=this._lastBoundingBoxSize.height;r=2*e,i=t.y-e,r>o&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-o/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),o=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>o&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-o/2)}return{top:i,left:l,bottom:s,right:c,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;o.height=Wg(n.height),o.top=Wg(n.top),o.bottom=Wg(n.bottom),o.width=Wg(n.width),o.left=Wg(n.left),o.right=Wg(n.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(o.maxHeight=Wg(t)),r&&(o.maxWidth=Wg(r))}this._lastBoundingBoxSize=n,e_(this._boundingBox.style,o)}_resetBoundingBoxStyles(){e_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){e_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,i=this._overlayRef.getConfig();if(o){const o=this._viewportRuler.getViewportScrollPosition();e_(n,this._getExactOverlayY(e,t,o)),e_(n,this._getExactOverlayX(e,t,o))}else n.position="static";let s="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),l&&(s+=`translateY(${l}px)`),n.transform=s.trim(),i.maxHeight&&(o?n.maxHeight=Wg(i.maxHeight):r&&(n.maxHeight="")),i.maxWidth&&(o?n.maxWidth=Wg(i.maxWidth):r&&(n.maxWidth="")),e_(this._pane.style,n)}_getExactOverlayY(t,e,n){let o={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let i=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=i,"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":o.top=Wg(r.y),o}_getExactOverlayX(t,e,n){let o,r={left:"",right:""},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=Wg(i.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Vy(t,n),isOriginOutsideView:Wy(t,n),isOverlayClipped:Vy(e,n),isOverlayOutsideView:Wy(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Bg(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ca)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function e_(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n_(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Jy);return n&&"px"!==n?null:parseFloat(e)}return t||null}function o_(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class r_{constructor(t,e,n,o,r,i,s){this._preferredPositions=[],this._positionStrategy=new t_(n,o,r,i,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,o){const r=new zy(t,e,n,o);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const i_="cdk-global-overlay-wrapper";class s_{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(i_),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:i,maxHeight:s}=n,a=!("100%"!==o&&"100vw"!==o||i&&"100%"!==i&&"100vw"!==i),l=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(i_),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let a_=(()=>{class t{constructor(t,e,n,o){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=o}global(){return new s_}connectedTo(t,e,n){return new r_(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new t_(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(co(Km),co(Hc),co(Pm),co(Xy))},t.\u0275prov=pt({factory:function(){return new t(co(Km),co(Hc),co(Pm),co(Xy))},token:t,providedIn:"root"}),t})(),l_=0,c_=(()=>{class t{constructor(t,e,n,o,r,i,s,a,l,c,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=o,this._keyboardDispatcher=r,this._injector=i,this._ngZone=s,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),o=this._createPortalOutlet(n),r=new $y(t);return r.direction=r.direction||this._directionality.value,new Zy(o,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+l_++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ac)),new My(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(co(Uy),co(Xy),co(ma),co(a_),co(Yy),co(ss),co(cc),co(Hc),co(Lm),co(ou),co(qy))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const u_=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],p_=new zn("cdk-connected-overlay-scroll-strategy");let d_=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca))},t.\u0275dir=Yt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),h_=(()=>{class t{constructor(t,e,n,o,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=p.EMPTY,this._attachSubscription=p.EMPTY,this._detachSubscription=p.EMPTY,this._positionSubscription=p.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new wl,this.positionChange=new wl,this.attach=new wl,this.detach=new wl,this.overlayKeydown=new wl,this.overlayOutsideClick=new wl,this._templatePortal=new Ty(e,n),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Ng(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Ng(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Ng(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Ng(t)}get push(){return this._push}set push(t){this._push=Ng(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=u_);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new $y({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new Ly(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ws(c_),ws(Za),ws(rl),ws(p_),ws(Lm,8))},t.\u0275dir=Yt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[le]}),t})();const f_={provide:p_,deps:[c_],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let g_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({providers:[c_,f_],imports:[[Fm,Iy,Jm],Jm]}),t})();function m_(t,e){return new _(n=>{const o=t.length;if(0===o)return void n.complete();const r=new Array(o);let i=0,s=0;for(let a=0;a<o;a++){const l=F(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,s++),r[a]=t},error:t=>n.error(t),complete:()=>{i++,i!==o&&c||(s===o&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}let y_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ws(Oa),ws(Ca))},t.\u0275dir=Yt({type:t}),t})(),__=(()=>{class t extends y_{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Vn(t)))(n||t)}}(),t.\u0275dir=Yt({type:t,features:[ls]}),t})();const v_=new zn("NgValueAccessor"),C_={provide:v_,useExisting:rt(()=>w_),multi:!0},E_=new zn("CompositionEventMode");let w_=(()=>{class t extends y_{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Vc()?Vc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(ws(Oa),ws(Ca),ws(E_,8))},t.\u0275dir=Yt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Is("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[ha([C_]),ls]}),t})();const O_=new zn("NgValidators"),b_=new zn("NgAsyncValidators");function S_(t){return null!=t}function P_(t){const e=Ms(t)?F(t):t;return xs(e),e}function D_(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function T_(t,e){return e.map(e=>e(t))}function R_(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function A_(t){return null!=t?function(t){if(!t)return null;const e=t.filter(S_);return 0==e.length?null:function(t){return D_(T_(t,e))}}(R_(t)):null}function M_(t){return null!=t?function(t){if(!t)return null;const e=t.filter(S_);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return m_(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return m_(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return m_(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(P(t=>e(...t)))}return m_(t,null)}(T_(t,e).map(P_)).pipe(P(D_))}}(R_(t)):null}function x_(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let I_=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=A_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=M_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t}),t})(),L_=(()=>{class t extends I_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Vn(t)))(n||t)}}(),t.\u0275dir=Yt({type:t,features:[ls]}),t})();class F_ extends I_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let N_=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n,o;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===o?void 0:o[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(ws(F_,2))},t.\u0275dir=Yt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Us("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[ls]}),t})();function k_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function G_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function B_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const W_="VALID",V_="INVALID",H_="PENDING",U_="DISABLED";function $_(t){return(Y_(t)?t.validators:t)||null}function z_(t){return Array.isArray(t)?A_(t):t||null}function j_(t,e){return(Y_(e)?e.asyncValidators:t)||null}function K_(t){return Array.isArray(t)?M_(t):t||null}function Y_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class q_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=z_(this._rawValidators),this._composedAsyncValidatorFn=K_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===W_}get invalid(){return this.status===V_}get pending(){return this.status==H_}get disabled(){return this.status===U_}get enabled(){return this.status!==U_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=z_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=K_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=H_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=U_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=W_,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==W_&&this.status!==H_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?U_:W_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=H_,this._hasOwnPendingAsyncValidator=!0;const e=P_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let o=t;return e.forEach(t=>{o=o instanceof Z_?o.controls.hasOwnProperty(t)?o.controls[t]:null:o instanceof Q_&&o.at(t)||null}),o}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new wl,this.statusChanges=new wl}_calculateStatus(){return this._allControlsDisabled()?U_:this.errors?V_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(H_)?H_:this._anyControlsHaveStatus(V_)?V_:W_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Y_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class X_ extends q_{constructor(t=null,e,n){super($_(e),j_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){B_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){B_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Z_ extends q_{constructor(t,e,n){super($_(e),j_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,o)=>{n.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof X_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,o)=>{n=e(n,t,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Q_ extends q_{constructor(t,e,n){super($_(e),j_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,o)=>{n.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof X_?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const J_={provide:F_,useExisting:rt(()=>ev)},tv=(()=>Promise.resolve(null))();let ev=(()=>{class t extends F_{constructor(t,e,n,o){super(),this.control=new X_,this._registered=!1,this.update=new wl,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,o,r;return Array.isArray(e),e.forEach(t=>{t.constructor===w_?n=t:Object.getPrototypeOf(t.constructor)===__?o=t:r=t}),r||o||n||null}(0,o)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(x_(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const o=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(x_(o,e.asyncValidator)):"function"==typeof o&&t.setAsyncValidators([o]);const r=()=>t.updateValueAndValidity();k_(e._rawValidators,r),k_(e._rawAsyncValidators,r)})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&G_(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&G_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){tv.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;tv.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(ws(L_,9),ws(O_,10),ws(b_,10),ws(v_,10))},t.\u0275dir=Yt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ha([J_]),ls,le]}),t})(),nv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({}),t})(),ov=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[nv]]}),t})(),rv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[ov]}),t})();class iv{}const sv="*";function av(t,e){return{type:7,name:t,definitions:e,options:{}}}function lv(t,e=null){return{type:4,styles:e,timings:t}}function cv(t,e=null){return{type:2,steps:t,options:e}}function uv(t){return{type:6,styles:t,offset:null}}function pv(t,e,n){return{type:0,name:t,styles:e,options:n}}function dv(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function hv(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function fv(t,e){return{type:12,timings:t,animation:e}}function gv(t){Promise.resolve(null).then(t)}class mv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class yv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,o=0;const r=this.players.length;0==r?gv(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}let _v=(()=>{class t{}return t.SLOW="0.3s",t.BASE="0.2s",t.FAST="0.1s",t})(),vv=(()=>{class t{}return t.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",t.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",t.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",t.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",t.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",t.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",t.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",t.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",t.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",t.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",t.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",t.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",t.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",t.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",t})();const Cv=av("collapseMotion",[pv("expanded",uv({height:"*"})),pv("collapsed",uv({height:0,overflow:"hidden"})),pv("hidden",uv({height:0,overflow:"hidden",borderTopWidth:"0"})),dv("expanded => collapsed",lv(`150ms ${vv.EASE_IN_OUT}`)),dv("expanded => hidden",lv(`150ms ${vv.EASE_IN_OUT}`)),dv("collapsed => expanded",lv(`150ms ${vv.EASE_IN_OUT}`)),dv("hidden => expanded",lv(`150ms ${vv.EASE_IN_OUT}`))]),Ev=(av("treeCollapseMotion",[dv("* => *",[hv("nz-tree-node:leave,nz-tree-builtin-node:leave",[uv({overflow:"hidden"}),fv(0,[lv(`150ms ${vv.EASE_IN_OUT}`,uv({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),hv("nz-tree-node:enter,nz-tree-builtin-node:enter",[uv({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),fv(0,[lv(`150ms ${vv.EASE_IN_OUT}`,uv({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),av("fadeMotion",[dv(":enter",[uv({opacity:0}),lv(`${_v.BASE}`,uv({opacity:1}))]),dv(":leave",[uv({opacity:1}),lv(`${_v.BASE}`,uv({opacity:0}))])]),av("helpMotion",[dv(":enter",[uv({opacity:0,transform:"translateY(-5px)"}),lv(`${_v.SLOW} ${vv.EASE_IN_OUT}`,uv({opacity:1,transform:"translateY(0)"}))]),dv(":leave",[uv({opacity:1,transform:"translateY(0)"}),lv(`${_v.SLOW} ${vv.EASE_IN_OUT}`,uv({opacity:0,transform:"translateY(-5px)"}))])]),av("moveUpMotion",[dv("* => enter",[uv({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),lv(`${_v.BASE}`,uv({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),dv("* => leave",[uv({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),lv(`${_v.BASE}`,uv({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])])),wv=(av("notificationMotion",[pv("enterRight",uv({opacity:1,transform:"translateX(0)"})),dv("* => enterRight",[uv({opacity:0,transform:"translateX(5%)"}),lv("100ms linear")]),pv("enterLeft",uv({opacity:1,transform:"translateX(0)"})),dv("* => enterLeft",[uv({opacity:0,transform:"translateX(-5%)"}),lv("100ms linear")]),pv("leave",uv({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),dv("* => leave",[uv({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),lv("100ms linear")])]),`${_v.BASE} ${vv.EASE_OUT_QUINT}`),Ov=`${_v.BASE} ${vv.EASE_IN_QUINT}`,bv=av("slideMotion",[pv("void",uv({opacity:0,transform:"scaleY(0.8)"})),pv("enter",uv({opacity:1,transform:"scaleY(1)"})),dv("void => *",[lv(wv)]),dv("* => void",[lv(Ov)])]),Sv=(av("slideAlertMotion",[dv(":leave",[uv({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),lv(`${_v.SLOW} ${vv.EASE_IN_OUT_CIRC}`,uv({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),av("zoomBigMotion",[dv("void => active",[uv({opacity:0,transform:"scale(0.8)"}),lv(`${_v.BASE} ${vv.EASE_OUT_CIRC}`,uv({opacity:1,transform:"scale(1)"}))]),dv("active => void",[uv({opacity:1,transform:"scale(1)"}),lv(`${_v.BASE} ${vv.EASE_IN_OUT_CIRC}`,uv({opacity:0,transform:"scale(0.8)"}))])]));av("zoomBadgeMotion",[dv(":enter",[uv({opacity:0,transform:"scale(0) translate(50%, -50%)"}),lv(`${_v.SLOW} ${vv.EASE_OUT_BACK}`,uv({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),dv(":leave",[uv({opacity:1,transform:"scale(1) translate(50%, -50%)"}),lv(`${_v.SLOW} ${vv.EASE_IN_BACK}`,uv({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]);class Pv{constructor(t){this.value=t}call(t,e){return e.subscribe(new Dv(t,this.value))}}class Dv extends f{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const Tv=new zn("nz-config"),Rv=function(t){return void 0!==t};let Av=(()=>{class t{constructor(t){this.configUpdated$=new O,this.config=t||{}}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(Ip(e=>e===t),t=>t.lift(new Pv(void 0)))}set(t,e){this.config[t]=Object.assign(Object.assign({},this.config[t]),e),this.configUpdated$.next(t)}}return t.\u0275fac=function(e){return new(e||t)(co(Tv,8))},t.\u0275prov=pt({factory:function(){return new t(co(Tv,8))},token:t,providedIn:"root"}),t})();function Mv(){return function(t,e,n){const o=`$$__zorroConfigDecorator__${e}`;return Object.defineProperty(t,o,{configurable:!0,writable:!0,enumerable:!1}),{get(){var t,r;const i=(null==n?void 0:n.get)?n.get.bind(this)():this[o],s=((null===(t=this.propertyAssignCounter)||void 0===t?void 0:t[e])||0)>1,a=null===(r=this.nzConfigService.getConfigForComponent(this._nzModuleName))||void 0===r?void 0:r[e];return s&&Rv(i)?i:Rv(a)?a:i},set(t){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[e]=(this.propertyAssignCounter[e]||0)+1,(null==n?void 0:n.set)?n.set.bind(this)(t):this[o]=t},configurable:!0,enumerable:!0}}}function xv(){return"undefined"!=typeof window&&void 0!==window.document}function Iv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Lv(t){switch(t.length){case 0:return new mv;case 1:return t[0];default:return new yv(t)}}function Fv(t,e,n,o,r={},i={}){const s=[],a=[];let l=-1,c=null;if(o.forEach(t=>{const n=t.offset,o=n==l,u=o&&c||{};Object.keys(t).forEach(n=>{let o=n,a=t[n];if("offset"!==n)switch(o=e.normalizePropertyName(o,s),a){case"!":a=r[n];break;case sv:a=i[n];break;default:a=e.normalizeStyleValue(n,o,a,s)}u[o]=a}),o||a.push(u),c=u,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Nv(t,e,n,o){switch(e){case"start":t.onStart(()=>o(n&&kv(n,"start",t)));break;case"done":t.onDone(()=>o(n&&kv(n,"done",t)));break;case"destroy":t.onDestroy(()=>o(n&&kv(n,"destroy",t)))}}function kv(t,e,n){const o=n.totalTime,r=Gv(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==o?t.totalTime:o,!!n.disabled),i=t._data;return null!=i&&(r._data=i),r}function Gv(t,e,n,o,r="",i=0,s){return{element:t,triggerName:e,fromState:n,toState:o,phaseName:r,totalTime:i,disabled:!!s}}function Bv(t,e,n){let o;return t instanceof Map?(o=t.get(e),o||t.set(e,o=n)):(o=t[e],o||(o=t[e]=n)),o}function Wv(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Vv=(t,e)=>!1,Hv=(t,e)=>!1,Uv=(t,e,n)=>[];const $v=Iv();($v||"undefined"!=typeof Element)&&(Vv=xv()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),Hv=(()=>{if($v||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Hv}})(),Uv=(t,e,n)=>{let o=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)o.push(n[t])}else{const n=t.querySelector(e);n&&o.push(n)}return o});let zv=null,jv=!1;function Kv(t){zv||(zv=("undefined"!=typeof document?document.body:null)||{},jv=!!zv.style&&"WebkitAppearance"in zv.style);let e=!0;return zv.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in zv.style,!e&&jv)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in zv.style),e}const Yv=Hv,qv=Vv,Xv=Uv;function Zv(t){const e={};return Object.keys(t).forEach(n=>{const o=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[o]=t[n]}),e}let Qv=(()=>{class t{validateStyleProperty(t){return Kv(t)}matchesElement(t,e){return Yv(t,e)}containsElement(t,e){return qv(t,e)}query(t,e,n){return Xv(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,o,r,i=[],s){return new mv(n,o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class Jv{}Jv.NOOP=new Qv;const tC="ng-enter",eC="ng-leave",nC="ng-trigger",oC=".ng-trigger",rC="ng-animating",iC=".ng-animating";function sC(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aC(parseFloat(e[1]),e[2])}function aC(t,e){switch(e){case"s":return 1e3*t;default:return t}}function lC(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let o,r=0,i="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};o=aC(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=aC(parseFloat(s),n[4]));const a=n[5];a&&(i=a)}else o=t;if(!n){let n=!1,i=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(i,0,`The provided timing value "${t}" is invalid.`)}return{duration:o,delay:r,easing:i}}(t,e,n)}function cC(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function uC(t,e,n={}){if(e)for(let o in t)n[o]=t[o];else cC(t,n);return n}function pC(t,e,n){return n?e+":"+n+";":""}function dC(t){let e="";for(let n=0;n<t.style.length;n++){const o=t.style.item(n);e+=pC(0,o,t.style.getPropertyValue(o))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=pC(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function hC(t,e,n){t.style&&(Object.keys(e).forEach(o=>{const r=EC(o);n&&!n.hasOwnProperty(o)&&(n[o]=t.style[r]),t.style[r]=e[o]}),Iv()&&dC(t))}function fC(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=EC(e);t.style[n]=""}),Iv()&&dC(t))}function gC(t){return Array.isArray(t)?1==t.length?t[0]:cv(t):t}const mC=new RegExp("{{\\s*(.+?)\\s*}}","g");function yC(t){let e=[];if("string"==typeof t){let n;for(;n=mC.exec(t);)e.push(n[1]);mC.lastIndex=0}return e}function _C(t,e,n){const o=t.toString(),r=o.replace(mC,(t,o)=>{let r=e[o];return e.hasOwnProperty(o)||(n.push(`Please provide a value for the animation param ${o}`),r=""),r.toString()});return r==o?t:r}function vC(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const CC=/-+([a-z0-9])/g;function EC(t){return t.replace(CC,(...t)=>t[1].toUpperCase())}function wC(t,e){return 0===t||0===e}function OC(t,e,n){const o=Object.keys(n);if(o.length&&e.length){let i=e[0],s=[];if(o.forEach(t=>{i.hasOwnProperty(t)||s.push(t),i[t]=n[t]}),s.length)for(var r=1;r<e.length;r++){let n=e[r];s.forEach(function(e){n[e]=SC(t,e)})}}return e}function bC(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function SC(t,e){return window.getComputedStyle(t)[e]}const PC="*";function DC(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const o=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof o)return void e.push(o);t=o}const o=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=o[1],i=o[2],s=o[3];e.push(AC(r,s)),"<"!=i[0]||r==PC&&s==PC||e.push(AC(s,r))}(t,n,e)):n.push(t),n}const TC=new Set(["true","1"]),RC=new Set(["false","0"]);function AC(t,e){const n=TC.has(t)||RC.has(t),o=TC.has(e)||RC.has(e);return(r,i)=>{let s=t==PC||t==r,a=e==PC||e==i;return!s&&n&&"boolean"==typeof r&&(s=r?TC.has(t):RC.has(t)),!a&&o&&"boolean"==typeof i&&(a=i?TC.has(e):RC.has(e)),s&&a}}const MC=new RegExp("s*:selfs*,?","g");function xC(t,e,n){return new IC(t).build(e,n)}class IC{constructor(t){this._driver=t}build(t,e){const n=new LC(e);return this._resetContextStyleTimingState(n),bC(this,gC(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,o=e.depCount=0;const r=[],i=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,o=n.name;o.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=o}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,o+=r.depCount,i.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:i,queryCount:n,depCount:o,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,i=o||{};if(n.styles.forEach(t=>{if(FC(t)){const e=t;Object.keys(e).forEach(t=>{yC(e[t]).forEach(t=>{i.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=vC(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=bC(this,gC(t.animation),e);return{type:1,matchers:DC(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:NC(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>bC(this,t,e)),options:NC(t.options)}}visitGroup(t,e){const n=e.currentTime;let o=0;const r=t.steps.map(t=>{e.currentTime=n;const r=bC(this,t,e);return o=Math.max(o,e.currentTime),r});return e.currentTime=o,{type:3,steps:r,options:NC(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return kC(lC(t,e).duration,0,"");const o=t;if(o.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=kC(0,0,"");return t.dynamic=!0,t.strValue=o,t}return n=n||lC(o,e),kC(n.duration,n.delay,n.easing)}(t.timings,e.errors);let o;e.currentAnimateTimings=n;let r=t.styles?t.styles:uv({});if(5==r.type)o=this.visitKeyframes(r,e);else{let r=t.styles,i=!1;if(!r){i=!0;const t={};n.easing&&(t.easing=n.easing),r=uv(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,e);s.isEmptyStep=i,o=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:o,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==sv?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let o=!1,r=null;return n.forEach(t=>{if(FC(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!o)for(let t in e)if(e[t].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let o=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const i=e.collectedStyles[e.currentQuerySelector],s=i[n];let a=!0;s&&(r!=o&&r>=s.startTime&&o<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${o}ms"`),a=!1),r=s.startTime),a&&(i[n]={startTime:r,endTime:o}),e.options&&function(t,e,n){const o=e.params||{},r=yC(t);r.length&&r.forEach(t=>{o.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let o=0;const r=[];let i=!1,s=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(FC(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(FC(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(o++,c=n.offset=l),s=s||c<0||c>1,i=i||c<a,a=c,r.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),i&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;o>0&&o<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(u=1/(c-1));const p=c-1,d=e.currentTime,h=e.currentAnimateTimings,f=h.duration;return l.forEach((t,o)=>{const i=u>0?o==p?1:u*o:r[o],s=i*f;e.currentTime=d+h.delay+s,h.duration=s,this._validateStyleAst(t,e),t.offset=i,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:bC(this,gC(t.animation),e),options:NC(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:NC(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:NC(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[r,i]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(MC,"")),[t=t.replace(/@\*/g,oC).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,iC),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Bv(e.collectedStyles,e.currentQuerySelector,{});const s=bC(this,gC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:i,animation:s,originalSelector:t.selector,options:NC(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:lC(t.timings,e.errors,!0);return{type:12,animation:bC(this,gC(t.animation),e),timings:n,options:null}}}class LC{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function FC(t){return!Array.isArray(t)&&"object"==typeof t}function NC(t){var e;return t?(t=cC(t)).params&&(t.params=(e=t.params)?cC(e):null):t={},t}function kC(t,e,n){return{duration:t,delay:e,easing:n}}function GC(t,e,n,o,r,i,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:o,duration:r,delay:i,totalTime:r+i,easing:s,subTimeline:a}}class BC{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const WC=new RegExp(":enter","g"),VC=new RegExp(":leave","g");function HC(t,e,n,o,r,i={},s={},a,l,c=[]){return(new UC).buildKeyframes(t,e,n,o,r,i,s,a,l,c)}class UC{buildKeyframes(t,e,n,o,r,i,s,a,l,c=[]){l=l||new BC;const u=new zC(t,e,l,o,r,c,[]);u.options=a,u.currentTimeline.setStyles([i],null,u.errors,a),bC(this,n,u);const p=u.timelines.filter(t=>t.containsAnimation());if(p.length&&Object.keys(s).length){const t=p[p.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,u.errors,a)}return p.length?p.map(t=>t.buildKeyframes()):[GC(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const o=e.createSubContext(t.options),r=e.currentTimeline.currentTime,i=this._visitSubInstructions(n,o,o.options);r!=i&&e.transformIntoNewTimeline(i)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime;const r=null!=n.duration?sC(n.duration):null,i=null!=n.delay?sC(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,i);o=Math.max(o,n.duration+n.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),bC(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let o=e;const r=t.options;if(r&&(r.params||r.delay)&&(o=e.createSubContext(r),o.transformIntoNewTimeline(),null!=r.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=$C);const t=sC(r.delay);o.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>bC(this,t,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>n&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let o=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?sC(t.options.delay):0;t.steps.forEach(i=>{const s=e.createSubContext(t.options);r&&s.delayNextStep(r),bC(this,i,s),o=Math.max(o,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return lC(e.params?_C(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),o.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,o=e.currentAnimateTimings;!o&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=o&&o.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,o=e.currentTimeline.duration,r=n.duration,i=e.createSubContext().currentTimeline;i.easing=n.easing,t.styles.forEach(t=>{i.forwardTime((t.offset||0)*r),i.setStyles(t.styles,t.easing,e.errors,e.options),i.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(i),e.transformIntoNewTimeline(o+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,o=t.options||{},r=o.delay?sC(o.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=$C);let i=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,o)=>{e.currentQueryIndex=o;const s=e.createSubContext(t.options,n);r&&s.delayNextStep(r),n===e.element&&(a=s.currentTimeline),bC(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),i=Math.max(i,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(i),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,o=e.currentTimeline,r=t.timings,i=Math.abs(r.duration),s=i*(e.currentQueryTotal-1);let a=i*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;bC(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=o.currentTime-c+(o.startTime-n.currentTimeline.startTime)}}const $C={};class zC{constructor(t,e,n,o,r,i,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=o,this._leaveClassName=r,this.errors=i,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$C,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new jC(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let o=this.options;null!=n.duration&&(o.duration=sC(n.duration)),null!=n.delay&&(o.delay=sC(n.delay));const r=n.params;if(r){let t=o.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=_C(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const o=e||this.element,r=new zC(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=$C,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new KC(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,o,r,i){let s=[];if(o&&s.push(this.element),t.length>0){t=(t=t.replace(WC,"."+this._enterClassName)).replace(VC,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return r||0!=s.length||i.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class jC{constructor(t,e,n,o){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new jC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||sv,this._currentKeyframe[t]=sv}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,o){e&&(this._previousKeyframe.easing=e);const r=o&&o.params||{},i=function(t,e){const n={};let o;return t.forEach(t=>{"*"===t?(o=o||Object.keys(e),o.forEach(t=>{n[t]=sv})):uC(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(i).forEach(t=>{const e=_C(i[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:sv),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],o=t._styleSummary[e];(!n||o.time>n.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((r,i)=>{const s=uC(r,!0);Object.keys(s).forEach(n=>{const o=s[n];"!"==o?t.add(n):o==sv&&e.add(n)}),n||(s.offset=i/this.duration),o.push(s)});const r=t.size?vC(t.values()):[],i=e.size?vC(e.values()):[];if(n){const t=o[0],e=cC(t);t.offset=0,e.offset=1,o=[t,e]}return GC(this.element,o,r,i,this.duration,this.startTime,this.easing,!1)}}class KC extends jC{constructor(t,e,n,o,r,i,s=!1){super(t,e,i.delay),this.keyframes=n,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:i.duration,delay:i.delay,easing:i.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],i=n+e,s=e/i,a=uC(t[0],!1);a.offset=0,r.push(a);const l=uC(t[0],!1);l.offset=YC(s),r.push(l);const c=t.length-1;for(let o=1;o<=c;o++){let s=uC(t[o],!1);s.offset=YC((e+s.offset*n)/i),r.push(s)}n=i,e=0,o="",t=r}return GC(this.element,t,this.preStyleProps,this.postStyleProps,n,e,o,!0)}}function YC(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class qC{}class XC extends qC{normalizePropertyName(t,e){return EC(t)}normalizeStyleValue(t,e,n,o){let r="";const i=n.toString().trim();if(ZC[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&o.push(`Please provide a CSS unit value for ${t}:${n}`)}return i+r}}const ZC=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function QC(t,e,n,o,r,i,s,a,l,c,u,p,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:i,toState:o,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:p,errors:d}}const JC={};class tE{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,o){return function(t,e,n,o,r){return t.some(t=>t(e,n,o,r))}(this.ast.matchers,t,e,n,o)}buildStyles(t,e,n){const o=this._stateStyles["*"],r=this._stateStyles[t],i=o?o.buildStyles(e,n):{};return r?r.buildStyles(e,n):i}build(t,e,n,o,r,i,s,a,l,c){const u=[],p=this.ast.options&&this.ast.options.params||JC,d=this.buildStyles(n,s&&s.params||JC,u),h=a&&a.params||JC,f=this.buildStyles(o,h,u),g=new Set,m=new Map,y=new Map,_="void"===o,v={params:Object.assign(Object.assign({},p),h)},C=c?[]:HC(t,e,this.ast.animation,r,i,d,f,v,l,u);let E=0;if(C.forEach(t=>{E=Math.max(t.duration+t.delay,E)}),u.length)return QC(e,this._triggerName,n,o,_,d,f,[],[],m,y,E,u);C.forEach(t=>{const n=t.element,o=Bv(m,n,{});t.preStyleProps.forEach(t=>o[t]=!0);const r=Bv(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&g.add(n)});const w=vC(g.values());return QC(e,this._triggerName,n,o,_,d,f,C,w,m,y,E)}}class eE{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},o=cC(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(o[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let i=r[t];i.length>1&&(i=_C(i,o,e));const s=this.normalizer.normalizePropertyName(t,e);i=this.normalizer.normalizeStyleValue(t,s,i,e),n[s]=i})}}),n}}class nE{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new eE(t.style,t.options&&t.options.params||{},n)}),oE(this.states,"true","1"),oE(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new tE(t,e,this.states))}),this.fallbackTransition=new tE(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,o){return this.transitionFactories.find(r=>r.match(t,e,n,o))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function oE(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const rE=new BC;class iE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],o=xC(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=o}_buildPlayer(t,e,n){const o=t.element,r=Fv(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(o,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const o=[],r=this._animations[t];let i;const s=new Map;if(r?(i=HC(this._driver,e,r,tC,eC,{},{},n,rE,o),i.forEach(t=>{const e=Bv(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),i=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,sv)})});const a=Lv(i.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,o){const r=Gv(e,"","","");return Nv(this._getPlayer(t),n,r,o),()=>{}}command(t,e,n,o){if("register"==n)return void this.register(t,o[0]);if("create"==n)return void this.create(t,e,o[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const sE="ng-animate-queued",aE="ng-animate-disabled",lE=".ng-animate-disabled",cE=[],uE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class dE{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(o=n?t.value:t)?o:null,n){const e=cC(t);delete e.value,this.options=e}else this.options={};var o;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const hE="void",fE=new dE(hE);class gE{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wE(e,this._hostClassName)}listen(t,e,n,o){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const i=Bv(this._elementListeners,t,[]),s={name:e,phase:n,callback:o};i.push(s);const a=Bv(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(wE(t,nC),wE(t,"ng-trigger-"+e),a[e]=fE),()=>{this._engine.afterFlush(()=>{const t=i.indexOf(s);t>=0&&i.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,o=!0){const r=this._getTrigger(e),i=new yE(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(wE(t,nC),wE(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const l=new dE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[e]=l,a||(a=fE),l.value!==hE&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),o=Object.keys(e);if(n.length!=o.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),o=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{fC(t,n),hC(t,o)})}return}const c=Bv(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,l.value,t,l.params),p=!1;if(!u){if(!o)return;u=r.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:i,isFallbackTransition:p}),p||(wE(t,sE),i.onStart(()=>{OE(t,sE)})),i.onDone(()=>{let e=this.players.indexOf(i);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(i);t>=0&&n.splice(t,1)}}),this.players.push(i),c.push(i),i}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,oC,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,o){const r=this._engine.statesByElement.get(t);if(r){const i=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,hE,o);n&&i.push(n)}}),i.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Lv(i).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const o=new Set;e.forEach(e=>{const r=e.name;if(o.has(r))return;o.add(r);const i=this._triggers[r].fallbackTransition,s=n[r]||fE,a=new dE(hE),l=new yE(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)o=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)n.markElementAsRemoved(this.id,t,!1,e);else{const o=t.__ng_removed;o&&o!==uE||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){wE(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const o=n.player;if(o.destroyed)return;const r=n.element,i=this._elementListeners.get(r);i&&i.forEach(e=>{if(e.name==n.triggerName){const o=Gv(r,n.triggerName,n.fromState.value,n.toState.value);o._data=t,Nv(n.player,e.phase,o,e.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,o=e.transition.ast.depCount;return 0==n||0==o?n-o:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class mE{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new gE(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let o=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),o=!0;break}o||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let o=this._namespaceLookup[t];o&&o.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let o=0;o<t.length;o++){const r=n[t[o]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,o){if(_E(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,o),!0}return!1}insertNode(t,e,n,o){if(!_E(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,n)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),wE(t,aE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),OE(t,aE))}removeNode(t,e,n,o){if(_E(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,n,o){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:o,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,o,r){return _E(e)?this._fetchNamespace(t).listen(e,n,o,r):()=>{}}_buildInstruction(t,e,n,o,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,o,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,oC,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,iC,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Lv(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=uE,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,lE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,lE,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)wE(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Lv(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new BC,o=[],r=new Map,i=[],s=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,p=Array.from(this.statesByElement.keys()),d=EE(p,this.collectedEnterElements),h=new Map;let f=0;d.forEach((t,e)=>{const n=tC+f++;h.set(e,n),t.forEach(t=>wE(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const _=new Map,v=EE(p,Array.from(m));v.forEach((t,e)=>{const n=eC+f++;_.set(e,n),t.forEach(t=>wE(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=h.get(e);t.forEach(t=>OE(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>OE(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const C=[],E=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(C.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,r),p=_.get(r),d=h.get(r),f=this._buildInstruction(t,n,d,p,c);if(f.errors&&f.errors.length)E.push(f);else{if(c)return e.onStart(()=>fC(r,f.fromStyles)),e.onDestroy(()=>hC(r,f.toStyles)),void o.push(e);if(t.isFallbackTransition)return e.onStart(()=>fC(r,f.fromStyles)),e.onDestroy(()=>hC(r,f.toStyles)),void o.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),i.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>Bv(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let o=l.get(e);o||l.set(e,o=new Set),n.forEach(t=>o.add(t))})}});if(E.length){const t=[];E.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),C.forEach(t=>t.destroy()),this.reportError(t)}const w=new Map,O=new Map;i.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,w))}),o.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Bv(w,e,[]).push(t),t.destroy()})});const b=g.filter(t=>PE(t,a,l)),S=new Map;CE(S,this.driver,y,l,sv).forEach(t=>{PE(t,a,l)&&b.push(t)});const P=new Map;d.forEach((t,e)=>{CE(P,this.driver,new Set(t),a,"!")}),b.forEach(t=>{const e=S.get(t),n=P.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const D=[],T=[],R={};i.forEach(t=>{const{element:e,player:i,instruction:s}=t;if(n.has(e)){if(c.has(e))return i.onDestroy(()=>hC(e,s.toStyles)),i.disabled=!0,i.overrideTotalTime(s.totalTime),void o.push(i);let t=R;if(O.size>1){let n=e;const o=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}o.push(n)}o.forEach(e=>O.set(e,t))}const n=this._buildAnimation(i.namespaceId,s,w,r,P,S);if(i.setRealPlayer(n),t===R)D.push(i);else{const e=this.playersByElement.get(t);e&&e.length&&(i.parentPlayer=Lv(e)),o.push(i)}}else fC(e,s.fromStyles),i.onDestroy(()=>hC(e,s.toStyles)),T.push(i),c.has(e)&&o.push(i)}),T.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Lv(e);t.setRealPlayer(n)}}),o.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(OE(t,eC),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let o=this.driver.query(t,iC,!0);for(let t=0;t<o.length;t++){let e=s.get(o[t]);e&&e.length&&n.push(...e)}}const o=n.filter(t=>!t.destroyed);o.length?bE(this,t,o):this.processLeaveNode(t)}return g.length=0,D.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),D}elementContainsData(t,e){let n=!1;const o=e.__ng_removed;return o&&o.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,o,r){let i=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(i=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==hE;e.forEach(e=>{e.queued||(t||e.triggerName==o)&&i.push(e)})}}return(n||o)&&(i=i.filter(t=>!(n&&n!=t.namespaceId||o&&o!=t.triggerName))),i}_beforeAnimationBuild(t,e,n){const o=e.element,r=e.isRemovalTransition?void 0:t,i=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==o,l=Bv(n,t,[]);this._getPreviousPlayers(t,a,r,i,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}fC(o,e.fromStyles)}_buildAnimation(t,e,n,o,r,i){const s=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,p=e.timelines.map(e=>{const p=e.element;c.add(p);const d=p.__ng_removed;if(d&&d.removedBeforeQueried)return new mv(e.duration,e.delay);const h=p!==a,f=function(t){const e=[];return SE(t,e),e}((n.get(p)||cE).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===p),g=r.get(p),m=i.get(p),y=Fv(0,this._normalizer,0,e.keyframes,g,m),_=this._buildPlayer(e,y,f);if(e.subTimeline&&o&&u.add(p),h){const e=new yE(t,s,p);e.setRealPlayer(_),l.push(e)}return _});l.forEach(t=>{Bv(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let o;if(t instanceof Map){if(o=t.get(e),o){if(o.length){const t=o.indexOf(n);o.splice(t,1)}0==o.length&&t.delete(e)}}else if(o=t[e],o){if(o.length){const t=o.indexOf(n);o.splice(t,1)}0==o.length&&delete t[e]}return o}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>wE(t,rC));const d=Lv(p);return d.onDestroy(()=>{c.forEach(t=>OE(t,rC)),hC(a,e.toStyles)}),u.forEach(t=>{Bv(o,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new mv(t.duration,t.delay)}}class yE{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new mv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Nv(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bv(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function _E(t){return t&&1===t.nodeType}function vE(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function CE(t,e,n,o,r){const i=[];n.forEach(t=>i.push(vE(t)));const s=[];o.forEach((n,o)=>{const i={};n.forEach(t=>{const n=i[t]=e.computeStyle(o,t,r);n&&0!=n.length||(o.__ng_removed=pE,s.push(o))}),t.set(o,i)});let a=0;return n.forEach(t=>vE(t,i[a++])),s}function EE(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const o=new Set(e),r=new Map;function i(t){if(!t)return 1;let e=r.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:o.has(s)?1:i(s),r.set(t,e),e}return e.forEach(t=>{const e=i(t);1!==e&&n.get(e).push(t)}),n}function wE(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function OE(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function bE(t,e,n){Lv(n).onDone(()=>t.processLeaveNode(e))}function SE(t,e){for(let n=0;n<t.length;n++){const o=t[n];o instanceof yv?SE(o.players,e):e.push(o)}}function PE(t,e,n){const o=n.get(t);if(!o)return!1;let r=e.get(t);return r?o.forEach(t=>r.add(t)):e.set(t,o),n.delete(t),!0}class DE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new mE(t,e,n),this._timelineEngine=new iE(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,o,r){const i=t+"-"+o;let s=this._triggerCache[i];if(!s){const t=[],e=xC(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e,n){return new nE(t,e,n)}(o,e,this._normalizer),this._triggerCache[i]=s}this._transitionEngine.registerTrigger(e,o,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,o){this._transitionEngine.insertNode(t,e,n,o)}onRemove(t,e,n,o){this._transitionEngine.removeNode(t,e,o||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,o){if("@"==n.charAt(0)){const[t,r]=Wv(n);this._timelineEngine.command(t,e,r,o)}else this._transitionEngine.trigger(t,e,n,o)}listen(t,e,n,o,r){if("@"==n.charAt(0)){const[t,o]=Wv(n);return this._timelineEngine.listen(t,e,o,r)}return this._transitionEngine.listen(t,e,n,o,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function TE(t,e){let n=null,o=null;return Array.isArray(e)&&e.length?(n=AE(e[0]),e.length>1&&(o=AE(e[e.length-1]))):e&&(n=AE(e)),n||o?new RE(t,n,o):null}class RE{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let o=RE.initialStylesByElement.get(t);o||RE.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&hC(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hC(this._element,this._initialStyles),this._endStyles&&(hC(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(RE.initialStylesByElement.delete(this._element),this._startStyles&&(fC(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fC(this._element,this._endStyles),this._endStyles=null),hC(this._element,this._initialStyles),this._state=3)}}function AE(t){let e=null;const n=Object.keys(t);for(let o=0;o<n.length;o++){const r=n[o];ME(r)&&(e=e||{},e[r]=t[r])}return e}function ME(t){return"display"===t||"position"===t}RE.initialStylesByElement=new WeakMap;const xE="animation",IE="animationend";class LE{constructor(t,e,n,o,r,i,s){this._element=t,this._name=e,this._duration=n,this._delay=o,this._easing=r,this._fillMode=i,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=WE(t,"").trim();n.length&&(function(t,e){let n=0;for(let o=0;o<t.length;o++)","===t.charAt(o)&&n++}(n),e=`${n}, ${e}`),BE(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),GE(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){FE(this._element,this._name,"paused")}resume(){FE(this._element,this._name,"running")}setPosition(t){const e=NE(this._element,this._name);this._position=t*this._duration,BE(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),GE(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=WE(t,"").split(","),o=kE(n,e);o>=0&&(n.splice(o,1),BE(t,"",n.join(",")))}(this._element,this._name))}}function FE(t,e,n){BE(t,"PlayState",n,NE(t,e))}function NE(t,e){const n=WE(t,"");return n.indexOf(",")>0?kE(n.split(","),e):kE([n],e)}function kE(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function GE(t,e,n){n?t.removeEventListener(IE,e):t.addEventListener(IE,e)}function BE(t,e,n,o){const r=xE+e;if(null!=o){const e=t.style[r];if(e.length){const t=e.split(",");t[o]=n,n=t.join(",")}}t.style[r]=n}function WE(t,e){return t.style[xE+e]||""}class VE{constructor(t,e,n,o,r,i,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=o,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=i||"linear",this.totalTime=o+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new LE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:SC(this.element,n))})}this.currentSnapshot=t}}class HE extends mv{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Zv(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class UE{constructor(){this._count=0}validateStyleProperty(t){return Kv(t)}matchesElement(t,e){return Yv(t,e)}containsElement(t,e){return qv(t,e)}query(t,e,n){return Xv(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Zv(t));let o=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);o+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(o+=`${r}animation-timing-function: ${n};\n`));default:return void(o+=`${r}${e}: ${n};\n`)}}),o+=`${r}}\n`}),o+="}\n";const i=document.createElement("style");return i.textContent=o,i}animate(t,e,n,o,r,i=[],s){const a=i.filter(t=>t instanceof VE),l={};wC(n,o)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=OC(t,e,l));if(0==n)return new HE(t,c);const u="gen_css_kf_"+this._count++,p=this.buildKeyframeElement(t,u,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(p);const d=TE(t,e),h=new VE(t,e,u,n,o,r,c,d);return h.onDestroy(()=>{var t;(t=p).parentNode.removeChild(t)}),h}}class $E{constructor(t,e,n,o){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:SC(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class zE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(jE().toString()),this._cssKeyframesDriver=new UE}validateStyleProperty(t){return Kv(t)}matchesElement(t,e){return Yv(t,e)}containsElement(t,e){return qv(t,e)}query(t,e,n){return Xv(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,o,r,i=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,o,r,i);const a={duration:n,delay:o,fill:0==o?"both":"forwards"};r&&(a.easing=r);const l={},c=i.filter(t=>t instanceof $E);wC(n,o)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=TE(t,e=OC(t,e=e.map(t=>uC(t,!1)),l));return new $E(t,e,a,u)}}function jE(){return xv()&&Element.prototype.animate||{}}let KE=(()=>{class t extends iv{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Pt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?cv(t):t;return XE(this._renderer,null,e,"register",[n]),new YE(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(co(wa),co(Hc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class YE extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new qE(this._id,t,e||{},this._renderer)}}class qE{constructor(t,e,n,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return XE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function XE(t,e,n,o,r){return t.setProperty(e,`@@${n}:${o}`,r)}const ZE="@",QE="@.disabled";let JE=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new tw("",n,this.engine),this._rendererCache.set(n,t)),t}const o=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const i=e=>{Array.isArray(e)?e.forEach(i):this.engine.registerTrigger(o,r,t,e.name,e)};return e.data.animation.forEach(i),new ew(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(co(wa),co(DE),co(cc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class tw{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,o=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,o){this.delegate.setAttribute(t,e,n,o)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,o){this.delegate.setStyle(t,e,n,o)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==ZE&&e==QE?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ew extends tw{constructor(t,e,n,o){super(e,n,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==ZE?"."==e.charAt(1)&&e==QE?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==ZE){const o=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),i="";return r.charAt(0)!=ZE&&([r,i]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,o,r,i,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let nw=(()=>{class t extends DE{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(co(Hc),co(Jv),co(qC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const ow=new zn("AnimationModuleType"),rw=[{provide:iv,useClass:KE},{provide:qC,useFactory:function(){return new XC}},{provide:DE,useClass:nw},{provide:wa,useFactory:function(t,e,n){return new JE(t,e,n)},deps:[ju,DE,cc]}],iw=[{provide:Jv,useFactory:function(){return"function"==typeof jE()?new zE:new UE}},{provide:ow,useValue:"BrowserAnimations"},...rw],sw=[{provide:Jv,useClass:Qv},{provide:ow,useValue:"NoopAnimations"},...rw];let aw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?sw:iw}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({providers:iw,imports:[ap]}),t})();const lw="nz-animate-disabled";let cw=(()=>{class t{constructor(t,e,n){this.element=t,this.renderer=e,this.animationType=n,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const t=Vg(this.element);t&&(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(t,lw):this.renderer.removeClass(t,lw))}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca),ws(Oa),ws(ow,8))},t.\u0275dir=Yt({type:t,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[le]}),ty([cy()],t.prototype,"nzNoAnimation",void 0),t})(),uw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[bu]]}),t})();const pw=["moz","ms","webkit"];function dw(t){if("undefined"==typeof window)return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(t);const e=pw.filter(t=>`${t}CancelAnimationFrame`in window||`${t}CancelRequestAnimationFrame`in window)[0];return e?(window[`${e}CancelAnimationFrame`]||window[`${e}CancelRequestAnimationFrame`]).call(this,t):clearTimeout(t)}const hw=function(){if("undefined"==typeof window)return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const t=pw.filter(t=>`${t}RequestAnimationFrame`in window)[0];return t?window[`${t}RequestAnimationFrame`]:function(){let t=0;return function(e){const n=(new Date).getTime(),o=Math.max(0,16-(n-t)),r=setTimeout(()=>{e(n+o)},o);return t=n+o,r}}()}();let fw=(()=>{class t{constructor(t,e){this.viewContainer=t,this.templateRef=e,this.embeddedViewRef=null,this.context=new gw,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(t,e){return!0}recreateView(){this.viewContainer.clear();const t=this.nzStringTemplateOutlet instanceof Za;this.embeddedViewRef=this.viewContainer.createEmbeddedView(t?this.nzStringTemplateOutlet:this.templateRef,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){const t=this.nzStringTemplateOutlet instanceof Za?this.nzStringTemplateOutletContext:this.context,e=this.embeddedViewRef.context;if(t)for(const n of Object.keys(t))e[n]=t[n]}ngOnChanges(t){const{nzStringTemplateOutletContext:e,nzStringTemplateOutlet:n}=t;n&&(this.context.$implicit=n.currentValue),(()=>{let t=!1;if(n)if(n.firstChange)t=!0;else{const e=n.currentValue instanceof Za;t=n.previousValue instanceof Za||e}return e&&(t=>{const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(const t of n)if(-1===e.indexOf(t))return!0;return!1}return!0})(e)||t})()?this.recreateView():this.updateContext()}}return t.\u0275fac=function(e){return new(e||t)(ws(rl),ws(Za))},t.\u0275dir=Yt({type:t,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[le]}),t})();class gw{}let mw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[bu]]}),t})();const yw={top:new zy({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new zy({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new zy({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new zy({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new zy({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new zy({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new zy({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new zy({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new zy({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new zy({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new zy({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new zy({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new zy({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new zy({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},_w=[yw.top,yw.right,yw.bottom,yw.left];function vw(t){for(const e in yw)if(t.connectionPair.originX===yw[e].originX&&t.connectionPair.originY===yw[e].originY&&t.connectionPair.overlayX===yw[e].overlayX&&t.connectionPair.overlayY===yw[e].overlayY)return e}new zy({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new zy({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new zy({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"});let Cw=(()=>{class t{constructor(t,e){this.cdkConnectedOverlay=t,this.nzDestroyService=e,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe(um(this.nzDestroyService)).subscribe(t=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(t)})}updateArrowPosition(t){const e=this.cdkConnectedOverlay.origin.elementRef.nativeElement.getBoundingClientRect(),n=vw(t);let o=0,r=0;"topLeft"===n||"bottomLeft"===n?o=e.width/2-14:"topRight"===n||"bottomRight"===n?o=-(e.width/2-14):"leftTop"===n||"rightTop"===n?r=e.height/2-10:"leftBottom"!==n&&"rightBottom"!==n||(r=-(e.height/2-10)),this.cdkConnectedOverlay.offsetX===o&&this.cdkConnectedOverlay.offsetY===r||(this.cdkConnectedOverlay.offsetY=r,this.cdkConnectedOverlay.offsetX=o,this.cdkConnectedOverlay.overlayRef.updatePosition())}}return t.\u0275fac=function(e){return new(e||t)(ws(h_),ws(oy))},t.\u0275dir=Yt({type:t,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:"nzArrowPointAtCenter"},exportAs:["nzConnectedOverlay"],features:[ha([oy])]}),ty([cy()],t.prototype,"nzArrowPointAtCenter",void 0),t})(),Ew=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({}),t})(),ww=(()=>{class t{constructor(t,e){this.elementRef=t,this.renderer=e,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca),ws(Oa))},t.\u0275dir=Yt({type:t,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[le]}),t})(),Ow=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Dm]]}),t})();var bw={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click sort by descend",triggerAsc:"Click sort by ascend",cancelSort:"Click to cancel sort"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"}},Sw={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"}};const Pw=new zn("nz-i18n"),Dw=new zn("nz-date-locale");let Tw=(()=>{class t{constructor(t,e){this._change=new cp(this._locale),this.setLocale(t||Sw),this.setDateLocale(e||null)}get localeChange(){return this._change.asObservable()}translate(t,e){let n=this._getObjectPath(this._locale,t);return"string"==typeof n?(e&&Object.keys(e).forEach(t=>n=n.replace(new RegExp(`%${t}%`,"g"),e[t])),n):t}setLocale(t){this._locale&&this._locale.locale===t.locale||(this._locale=t,this._change.next(t))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(t){this.dateLocale=t}getDateLocale(){return this.dateLocale}getLocaleData(t,e){const n=t?this._getObjectPath(this._locale,t):this._locale;return n||e||iy(`Missing translations for "${t}" in language "${this._locale.locale}".\nYou can use "NzI18nService.setLocale" as a temporary fix.\nWelcome to submit a pull request to help us optimize the translations!\nhttps://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md`),n||e||this._getObjectPath(bw,t)||{}}_getObjectPath(t,e){let n=t;const o=e.split("."),r=o.length;let i=0;for(;n&&i<r;)n=n[o[i++]];return i===r?n:null}}return t.\u0275fac=function(e){return new(e||t)(co(Pw,8),co(Dw,8))},t.\u0275prov=pt({factory:function(){return new t(co(Pw,8),co(Dw,8))},token:t,providedIn:"root"}),t})(),Rw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({}),t})();function Aw(t,e){1&t&&Ds(0,"nz-empty",6),2&t&&Os("nzNotFoundImage","simple")}function Mw(t,e){1&t&&Ds(0,"nz-empty",7),2&t&&Os("nzNotFoundImage","simple")}function xw(t,e){1&t&&Ds(0,"nz-empty")}function Iw(t,e){1&t&&(Ts(0,2),Cs(1,Aw,1,1,"nz-empty",3),Cs(2,Mw,1,1,"nz-empty",4),Cs(3,xw,1,0,"nz-empty",5),Rs()),2&t&&(Os("ngSwitch",Ns().size),Zr(1),Os("ngSwitchCase","normal"),Zr(1),Os("ngSwitchCase","small"))}function Lw(t,e){}function Fw(t,e){1&t&&Cs(0,Lw,0,0,"ng-template",8),2&t&&Os("cdkPortalOutlet",Ns(2).contentPortal)}function Nw(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns(2);Zr(1),Zs(" ",t.content," ")}}function kw(t,e){if(1&t&&(Ts(0),Cs(1,Fw,1,1,void 0,1),Cs(2,Nw,2,1,"ng-container",1),Rs()),2&t){const t=Ns();Zr(1),Os("ngIf","string"!==t.contentType),Zr(1),Os("ngIf","string"===t.contentType)}}function Gw(t,e){if(1&t&&(Ts(0),Ds(1,"img",5),Rs()),2&t){const t=Ns(2);Zr(1),Os("src",t.nzNotFoundImage,er)("alt",t.isContentString?t.nzNotFoundContent:"empty")}}function Bw(t,e){if(1&t&&(Ts(0),Cs(1,Gw,2,2,"ng-container",4),Rs()),2&t){const t=Ns();Zr(1),Os("nzStringTemplateOutlet",t.nzNotFoundImage)}}function Ww(t,e){1&t&&Ds(0,"nz-empty-default")}function Vw(t,e){1&t&&Ds(0,"nz-empty-simple")}function Hw(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns(2);Zr(1),Zs(" ",t.isContentString?t.nzNotFoundContent:t.locale.description," ")}}function Uw(t,e){if(1&t&&(Ss(0,"p",6),Cs(1,Hw,2,1,"ng-container",4),Ps()),2&t){const t=Ns();Zr(1),Os("nzStringTemplateOutlet",t.nzNotFoundContent)}}function $w(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns(2);Zr(1),Zs(" ",t.nzNotFoundFooter," ")}}function zw(t,e){if(1&t&&(Ss(0,"div",7),Cs(1,$w,2,1,"ng-container",4),Ps()),2&t){const t=Ns();Zr(1),Os("nzStringTemplateOutlet",t.nzNotFoundFooter)}}new zn("date-config");const jw=new zn("nz-empty-component-name");let Kw=(()=>{class t{constructor(t,e,n,o){this.configService=t,this.viewContainerRef=e,this.cdr=n,this.injector=o,this.contentType="string",this.size="",this.destroy$=new O}ngOnChanges(t){t.nzComponentName&&(this.size=function(t){switch(t){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(t.nzComponentName.currentValue)),t.specificContent&&!t.specificContent.isFirstChange()&&(this.content=t.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const t=this.content;if("string"==typeof t)this.contentType="string";else if(t instanceof Za){const e={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new Ty(t,this.viewContainerRef,e)}else if(t instanceof Kn){const e=ss.create({parent:this.injector,providers:[{provide:jw,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new Dy(t,this.viewContainerRef,e)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe(Rp(!0),um(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}}return t.\u0275fac=function(e){return new(e||t)(ws(Av),ws(rl),ws(ja),ws(ss))},t.\u0275cmp=Ht({type:t,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],features:[le],decls:2,vars:2,consts:[[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],["class","ant-empty-normal",3,"nzNotFoundImage",4,"ngSwitchCase"],["class","ant-empty-small",3,"nzNotFoundImage",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ant-empty-normal",3,"nzNotFoundImage"],[1,"ant-empty-small",3,"nzNotFoundImage"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(Cs(0,Iw,4,3,"ng-container",0),Cs(1,kw,3,2,"ng-container",1)),2&t&&(Os("ngIf",!e.content&&null!==e.specificContent),Zr(1),Os("ngIf",e.content))},directives:function(){return[fu,_u,vu,Cu,qw,xy]},encapsulation:2,changeDetection:0}),t})();const Yw=["default","simple"];let qw=(()=>{class t{constructor(t,e){this.i18n=t,this.cdr=e,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new O}ngOnChanges(t){const{nzNotFoundContent:e,nzNotFoundImage:n}=t;if(e&&(this.isContentString="string"==typeof e.currentValue),n){const t=n.currentValue||"default";this.isImageBuildIn=Yw.findIndex(e=>e===t)>-1}}ngOnInit(){this.i18n.localeChange.pipe(um(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(ws(Tw),ws(ja))},t.\u0275cmp=Ht({type:t,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],features:[le],decls:6,vars:5,consts:[[1,"ant-empty-image"],[4,"ngIf"],["class","ant-empty-description",4,"ngIf"],["class","ant-empty-footer",4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"src","alt"],[1,"ant-empty-description"],[1,"ant-empty-footer"]],template:function(t,e){1&t&&(Ss(0,"div",0),Cs(1,Bw,2,1,"ng-container",1),Cs(2,Ww,1,0,"nz-empty-default",1),Cs(3,Vw,1,0,"nz-empty-simple",1),Ps(),Cs(4,Uw,2,1,"p",2),Cs(5,zw,2,1,"div",3)),2&t&&(Zr(1),Os("ngIf",!e.isImageBuildIn),Zr(1),Os("ngIf",e.isImageBuildIn&&"simple"!==e.nzNotFoundImage),Zr(1),Os("ngIf",e.isImageBuildIn&&"simple"===e.nzNotFoundImage),Zr(1),Os("ngIf",null!==e.nzNotFoundContent),Zr(1),Os("ngIf",e.nzNotFoundFooter))},directives:function(){return[fu,fw,Xw,Zw]},encapsulation:2,changeDetection:0}),t})(),Xw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(t,e){1&t&&(rn(),Ss(0,"svg",0),Ss(1,"g",1),Ss(2,"g",2),Ds(3,"ellipse",3),Ds(4,"path",4),Ds(5,"path",5),Ds(6,"path",6),Ds(7,"path",7),Ps(),Ds(8,"path",8),Ss(9,"g",9),Ds(10,"ellipse",10),Ds(11,"path",11),Ps(),Ps(),Ps())},encapsulation:2,changeDetection:0}),t})(),Zw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(t,e){1&t&&(rn(),Ss(0,"svg",0),Ss(1,"g",1),Ds(2,"ellipse",2),Ss(3,"g",3),Ds(4,"path",4),Ds(5,"path",5),Ps(),Ps(),Ps())},encapsulation:2,changeDetection:0}),t})(),Qw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,bu,Iy,mw,Rw]]}),t})();function Jw(t,e){(function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function tO(t){return Math.min(1,Math.max(0,t))}function eO(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function nO(t){return t<=1?"".concat(100*Number(t),"%"):t}function oO(t){return 1===t.length?"0"+t:String(t)}function rO(t,e,n){t=Jw(t,255),e=Jw(e,255),n=Jw(n,255);var o=Math.max(t,e,n),r=Math.min(t,e,n),i=0,s=0,a=(o+r)/2;if(o===r)s=0,i=0;else{var l=o-r;switch(s=a>.5?l/(2-o-r):l/(o+r),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:s,l:a}}function iO(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function sO(t,e,n){t=Jw(t,255),e=Jw(e,255),n=Jw(n,255);var o=Math.max(t,e,n),r=Math.min(t,e,n),i=0,s=o,a=o-r,l=0===o?0:a/o;if(o===r)i=0;else{switch(o){case t:i=(e-n)/a+(e<n?6:0);break;case e:i=(n-t)/a+2;break;case n:i=(t-e)/a+4}i/=6}return{h:i,s:l,v:s}}function aO(t,e,n,o){var r=[oO(Math.round(t).toString(16)),oO(Math.round(e).toString(16)),oO(Math.round(n).toString(16))];return o&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function lO(t){return cO(t)/255}function cO(t){return parseInt(t,16)}var uO={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},pO="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),dO="[\\s|\\(]+(".concat(pO,")[,|\\s]+(").concat(pO,")[,|\\s]+(").concat(pO,")\\s*\\)?"),hO="[\\s|\\(]+(".concat(pO,")[,|\\s]+(").concat(pO,")[,|\\s]+(").concat(pO,")[,|\\s]+(").concat(pO,")\\s*\\)?"),fO={CSS_UNIT:new RegExp(pO),rgb:new RegExp("rgb"+dO),rgba:new RegExp("rgba"+hO),hsl:new RegExp("hsl"+dO),hsla:new RegExp("hsla"+hO),hsv:new RegExp("hsv"+dO),hsva:new RegExp("hsva"+hO),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function gO(t){return Boolean(fO.CSS_UNIT.exec(String(t)))}var mO=function(){function t(e,n){var o;if(void 0===e&&(e=""),void 0===n&&(n={}),e instanceof t)return e;"number"==typeof e&&(e=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(e)),this.originalInput=e;var r=function(t){var e,n,o={r:0,g:0,b:0},r=1,i=null,s=null,a=null,l=!1,c=!1;return"string"==typeof t&&(t=function(t){if(0===(t=t.trim().toLowerCase()).length)return!1;var e=!1;if(uO[t])t=uO[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var n=fO.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=fO.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=fO.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=fO.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=fO.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=fO.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=fO.hex8.exec(t))?{r:cO(n[1]),g:cO(n[2]),b:cO(n[3]),a:lO(n[4]),format:e?"name":"hex8"}:(n=fO.hex6.exec(t))?{r:cO(n[1]),g:cO(n[2]),b:cO(n[3]),format:e?"name":"hex"}:(n=fO.hex4.exec(t))?{r:cO(n[1]+n[1]),g:cO(n[2]+n[2]),b:cO(n[3]+n[3]),a:lO(n[4]+n[4]),format:e?"name":"hex8"}:!!(n=fO.hex3.exec(t))&&{r:cO(n[1]+n[1]),g:cO(n[2]+n[2]),b:cO(n[3]+n[3]),format:e?"name":"hex"}}(t)),"object"==typeof t&&(gO(t.r)&&gO(t.g)&&gO(t.b)?(e=t.g,n=t.b,o={r:255*Jw(t.r,255),g:255*Jw(e,255),b:255*Jw(n,255)},l=!0,c="%"===String(t.r).substr(-1)?"prgb":"rgb"):gO(t.h)&&gO(t.s)&&gO(t.v)?(i=nO(t.s),s=nO(t.v),o=function(t,e,n){t=6*Jw(t,360),e=Jw(e,100),n=Jw(n,100);var o=Math.floor(t),r=t-o,i=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=o%6;return{r:255*[n,s,i,i,a,n][l],g:255*[a,n,n,s,i,i][l],b:255*[i,i,a,n,n,s][l]}}(t.h,i,s),l=!0,c="hsv"):gO(t.h)&&gO(t.s)&&gO(t.l)&&(i=nO(t.s),a=nO(t.l),o=function(t,e,n){var o,r,i;if(t=Jw(t,360),e=Jw(e,100),n=Jw(n,100),0===e)r=n,i=n,o=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;o=iO(a,s,t+1/3),r=iO(a,s,t),i=iO(a,s,t-1/3)}return{r:255*o,g:255*r,b:255*i}}(t.h,i,a),l=!0,c="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=eO(r),{ok:l,format:t.format||c,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:r}}(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(o=n.format)&&void 0!==o?o:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},t.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,o=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(t){return this.a=eO(t),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var t=sO(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},t.prototype.toHsvString=function(){var t=sO(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),o=Math.round(100*t.v);return 1===this.a?"hsv(".concat(e,", ").concat(n,"%, ").concat(o,"%)"):"hsva(".concat(e,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var t=rO(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},t.prototype.toHslString=function(){var t=rO(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),o=Math.round(100*t.l);return 1===this.a?"hsl(".concat(e,", ").concat(n,"%, ").concat(o,"%)"):"hsla(".concat(e,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(t){return void 0===t&&(t=!1),aO(this.r,this.g,this.b,t)},t.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},t.prototype.toHex8=function(t){return void 0===t&&(t=!1),function(t,e,n,o,r){var i,s=[oO(Math.round(t).toString(16)),oO(Math.round(e).toString(16)),oO(Math.round(n).toString(16)),oO((i=o,Math.round(255*parseFloat(i)).toString(16)))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,t)},t.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(t,", ").concat(e,", ").concat(n,")"):"rgba(".concat(t,", ").concat(e,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var t=function(t){return"".concat(Math.round(100*Jw(t,255)),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var t=function(t){return Math.round(100*Jw(t,255))};return 1===this.a?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+aO(this.r,this.g,this.b,!1),e=0,n=Object.entries(uO);e<n.length;e++){var o=n[e];if(t===o[1])return o[0]}return!1},t.prototype.toString=function(t){var e=Boolean(t);t=null!=t?t:this.format;var n=!1;return e||!(this.a<1&&this.a>=0)||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=tO(n.l),new t(n)},t.prototype.brighten=function(e){void 0===e&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),new t(n)},t.prototype.darken=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=tO(n.l),new t(n)},t.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},t.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},t.prototype.desaturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=tO(n.s),new t(n)},t.prototype.saturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=tO(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),o=(n.h+e)%360;return n.h=o<0?360+o:o,new t(n)},t.prototype.mix=function(e,n){void 0===n&&(n=50);var o=this.toRgb(),r=new t(e).toRgb(),i=n/100;return new t({r:(r.r-o.r)*i+o.r,g:(r.g-o.g)*i+o.g,b:(r.b-o.b)*i+o.b,a:(r.a-o.a)*i+o.a})},t.prototype.analogous=function(e,n){void 0===e&&(e=6),void 0===n&&(n=30);var o=this.toHsl(),r=360/n,i=[this];for(o.h=(o.h-(r*e>>1)+720)%360;--e;)o.h=(o.h+r)%360,i.push(new t(o));return i},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var n=this.toHsv(),o=n.h,r=n.s,i=n.v,s=[],a=1/e;e--;)s.push(new t({h:o,s:r,v:i})),i=(i+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),o=new t(e).toRgb();return new t({r:o.r+(n.r-o.r)*n.a,g:o.g+(n.g-o.g)*n.a,b:o.b+(n.b-o.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),o=n.h,r=[this],i=360/e,s=1;s<e;s++)r.push(new t({h:(o+s*i)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),yO=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function _O(t,e,n){var o;return(o=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-2*e:Math.round(t.h)+2*e:n?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?o+=360:o>=360&&(o-=360),o}function vO(t,e,n){return 0===t.h&&0===t.s?t.s:((o=n?t.s-.16*e:4===e?t.s+.16:t.s+.05*e)>1&&(o=1),n&&5===e&&o>.1&&(o=.1),o<.06&&(o=.06),Number(o.toFixed(2)));var o}function CO(t,e,n){var o;return(o=n?t.v+.05*e:t.v-.15*e)>1&&(o=1),Number(o.toFixed(2))}function EO(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],o=new mO(t),r=5;r>0;r-=1){var i=o.toHsv(),s=new mO({h:_O(i,r,!0),s:vO(i,r,!0),v:CO(i,r,!0)}).toHexString();n.push(s)}n.push(o.toHexString());for(var a=1;a<=4;a+=1){var l=o.toHsv(),c=new mO({h:_O(l,a),s:vO(l,a),v:CO(l,a)}).toHexString();n.push(c)}return"dark"===e.theme?yO.map(function(t){var o=t.index,r=t.opacity;return new mO(e.backgroundColor||"#141414").mix(n[o],100*r).toHexString()}):n}var wO={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},OO={},bO={};function SO(t){Oc()&&console.warn(`[@ant-design/icons-angular]: ${t}.`)}function PO(t){return EO(t)[0]}function DO(t,e){switch(e){case"fill":return`${t}-fill`;case"outline":return`${t}-o`;case"twotone":return`${t}-twotone`;case void 0:return t;default:throw new Error(`[@ant-design/icons-angular]:Theme "${e}" is not a recognized theme!`)}}function TO(t){return"object"==typeof t&&"string"==typeof t.name&&("string"==typeof t.theme||void 0===t.theme)&&"string"==typeof t.icon}function RO(t){const e=t.split(":");switch(e.length){case 1:return[t,""];case 2:return[e[1],e[0]];default:throw new Error(`[@ant-design/icons-angular]:The icon type ${t} is not valid!`)}}function AO(){return new Error("[@ant-design/icons-angular]:<svg> tag not found.")}Object.keys(wO).forEach(function(t){OO[t]=EO(wO[t]),OO[t].primary=OO[t][5],bO[t]=EO(wO[t],{theme:"dark",backgroundColor:"#141414"}),bO[t].primary=bO[t][5]});let MO=(()=>{class t{constructor(t,e,n,o){this._rendererFactory=t,this._handler=e,this._document=n,this.sanitizer=o,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new O,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Cg(this._handler))}set twoToneColor({primaryColor:t,secondaryColor:e}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=e||PO(t)}get twoToneColor(){return Object.assign({},this._twoToneColorPalette)}useJsonpLoading(){this._enableJsonpLoading?SO("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(t=>{this._svgDefinitions.set(DO(t.name,t.theme),t)})}addIconLiteral(t,e){const[n,o]=RO(t);if(!o)throw new Error(`[@ant-design/icons-angular]:Type should have a namespace. Try "namespace:${name}".`);this.addIcon({name:t,icon:e})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,e){const n=TO(t)?t:this._svgDefinitions.get(t)||null;return(n?lp(n):this._loadIconDynamically(t)).pipe(P(n=>{if(!n)throw function(t){return new Error(`[@ant-design/icons-angular]:the icon ${t} does not exist or is not registered.`)}(t);return this._loadSVGFromCacheOrCreateNew(n,e)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return lp((console.error('[@ant-design/icons-angular]: you need to import "HttpClientModule" to use dynamic importing..'),null));let e=this._inProgressFetches.get(t);if(!e){const[n,o]=RO(t),r=o?{name:t,icon:""}:function(t){const e=t.split("-"),n="o"===(o=e.splice(e.length-1,1)[0])?"outline":o;var o;return{name:e.join("-"),theme:n,icon:""}}(n),i=(o?`${this._assetsUrlRoot}assets/${o}/${n}`:`${this._assetsUrlRoot}assets/${r.theme}/${r.name}`)+(this._enableJsonpLoading?".js":".svg"),s=this.sanitizer.sanitize(Jo.URL,i);if(!s)throw function(t){return new Error(`[@ant-design/icons-angular]:The url "${t}" is unsafe.`)}(i);e=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(r,s):this._http.get(s,{responseType:"text"}).pipe(P(t=>Object.assign(Object.assign({},r),{icon:t})))).pipe(Qp(t=>this.addIcon(t)),ed(()=>this._inProgressFetches.delete(t)),Np(()=>lp(null)),Q()),this._inProgressFetches.set(t,e)}return e}_loadIconDynamicallyWithJsonp(t,e){return new _(n=>{const o=this._document.createElement("script"),r=setTimeout(()=>{i(),n.error(new Error("[@ant-design/icons-angular]:Importing timeout error."))},6e3);function i(){o.parentNode.removeChild(o),clearTimeout(r)}o.src=e,this._document.body.appendChild(o),this._jsonpIconLoad$.pipe(Ip(e=>e.name===t.name&&e.theme===t.theme),Pp(1)).subscribe(t=>{n.next(t),i()})})}_loadSVGFromCacheOrCreateNew(t,e){let n;const o=e||this._twoToneColorPalette.primaryColor,r=PO(o)||this._twoToneColorPalette.secondaryColor,i="twotone"===t.theme?function(t,e,n,o){return`${DO(t,e)}-${n}-${o}`}(t.name,t.theme,o,r):void 0===t.theme?t.name:DO(t.name,t.theme),s=this._svgRenderedDefinitions.get(i);return s?n=s.icon:(n=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(""!==RO(t.name)[1]?t.icon:t.icon.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')),"twotone"===t.theme,o,r)),this._svgRenderedDefinitions.set(i,Object.assign(Object.assign({},t),{icon:n}))),function(t){return t.cloneNode(!0)}(n)}_createSVGElementFromString(t){const e=this._document.createElement("div");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw AO;return n}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,e,n,o){if(e){const e=t.childNodes,r=e.length;for(let t=0;t<r;t++){const r=e[t];"secondaryColor"===r.getAttribute("fill")?this._renderer.setAttribute(r,"fill",o):this._renderer.setAttribute(r,"fill",n)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}}return t.\u0275fac=function(e){return new(e||t)(co(wa),co(og,8),co(Hc,8),co(np))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),xO=(()=>{class t{constructor(t,e,n){this._iconService=t,this._elementRef=e,this._renderer=n}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{if(this.type){const e=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(n=>{var o,r;o=e,r=this._getSelfRenderMeta(),o.type===r.type&&o.theme===r.theme&&o.twoToneColor===r.twoToneColor?(this._setSVGElement(n),t(n)):t(null)})}else this._clearSVGElement(),t(null)})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(t,e){if(TO(t))return t;{const[n,o]=RO(t);return o?t:function(t){return t.endsWith("-fill")||t.endsWith("-o")||t.endsWith("-twotone")}(n)?(e&&SO(`'type' ${n} already gets a theme inside so 'theme' ${e} would be ignored`),n):DO(n,e||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){var t;const e=this._elementRef.nativeElement,n=e.childNodes;for(let o=n.length-1;o>=0;o--){const r=n[o];"svg"===(null===(t=r.tagName)||void 0===t?void 0:t.toLowerCase())&&this._renderer.removeChild(e,r)}}}return t.\u0275fac=function(e){return new(e||t)(ws(MO),ws(Ca),ws(Oa))},t.\u0275dir=Yt({type:t,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[le]}),t})();const IO={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},LO=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},IO,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},IO,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],FO=new zn("nz_icons"),NO=(new zn("nz_icon_default_twotone_color"),"#1890ff");let kO=(()=>{class t extends MO{constructor(t,e,n,o,r,i){super(t,o,r,e),this.nzConfigService=n,this.configUpdated$=new O,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.addIcon(...LO,...i||[]),this.configDefaultTwotoneColor(),this.configDefaultTheme()}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),t.getAttribute("width")&&t.getAttribute("height")||(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:e}=t;if(this._document&&!this.iconfontCache.has(e)){const t=this._renderer.createElement("script");this._renderer.setAttribute(t,"src",e),this._renderer.setAttribute(t,"data-namespace",e.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,t),this.iconfontCache.add(e)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const t=this.getConfig().nzTwotoneColor||NO;let e=NO;t&&(t.startsWith("#")?e=t:iy("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:e}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return t.\u0275fac=function(e){return new(e||t)(co(wa),co(np),co(Av),co(og,8),co(Hc,8),co(FO,8))},t.\u0275prov=pt({factory:function(){return new t(co(wa),co(np),co(Av),co(og,8),co(Hc,8),co(FO,8))},token:t,providedIn:"root"}),t})();const GO=new zn("nz_icons_patch");let BO=(()=>{class t{constructor(t,e){this.extraIcons=t,this.rootIconService=e,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}}return t.\u0275fac=function(e){return new(e||t)(co(GO,2),co(kO))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),WO=(()=>{class t extends xO{constructor(t,e,n,o,r){super(n,e,o),this.ngZone=t,this.iconService=n,this.renderer=o,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new O,r&&r.doPatch(),this.el=e.nativeElement}set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}ngOnChanges(t){const{nzType:e,nzTwotoneColor:n,nzSpin:o,nzTheme:r,nzRotate:i}=t;e||n||o||r?this.changeIcon2():i?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const t=this.el.children;let e=t.length;if(!this.type&&t.length)for(;e--;){const n=t[e];"svg"===n.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(n)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{F(this._changeIcon()).pipe(um(this.destroy$)).subscribe(t=>{t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})})}handleSpin(t){this.spin||"loading"===this.type?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}}return t.\u0275fac=function(e){return new(e||t)(ws(cc),ws(Ca),ws(kO),ws(Oa),ws(BO,8))},t.\u0275dir=Yt({type:t,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(t,e){2&t&&Us("anticon",!0)},inputs:{nzRotate:"nzRotate",nzSpin:"nzSpin",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[ls,le]}),ty([cy()],t.prototype,"nzSpin",null),t})(),VO=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:FO,useValue:e}]}}static forChild(e){return{ngModule:t,providers:[BO,{provide:GO,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Dm]]}),t})();const HO=["*"];function UO(t,e){if(1&t&&(Ss(0,"div",4),Ds(1,"nz-embed-empty",5),Ps()),2&t){const t=Ns();Zr(1),Os("specificContent",t.notFoundContent)}}function $O(t,e){1&t&&Ds(0,"nz-option-item-group",9),2&t&&Os("nzLabel",Ns().$implicit.groupLabel)}function zO(t,e){if(1&t){const t=As();Ss(0,"nz-option-item",10),Is("itemHover",function(e){return Ie(t),Ns(2).onItemHover(e)})("itemClick",function(e){return Ie(t),Ns(2).onItemClick(e)}),Ps()}if(2&t){const t=Ns().$implicit,e=Ns();Os("icon",e.menuItemSelectedIcon)("customContent",t.nzCustomContent)("template",t.template)("grouped",!!t.groupLabel)("disabled",t.nzDisabled)("showState","tags"===e.mode||"multiple"===e.mode)("label",t.nzLabel)("compareWith",e.compareWith)("activatedValue",e.activatedValue)("listOfSelectedValue",e.listOfSelectedValue)("value",t.nzValue)}}function jO(t,e){1&t&&(Ts(0,6),Cs(1,$O,1,1,"nz-option-item-group",7),Cs(2,zO,1,11,"nz-option-item",8),Rs()),2&t&&(Os("ngSwitch",e.$implicit.type),Zr(1),Os("ngSwitchCase","group"),Zr(1),Os("ngSwitchCase","item"))}function KO(t,e){}function YO(t,e){1&t&&Bs(0)}const qO=["inputElement"],XO=["mirrorElement"];function ZO(t,e){1&t&&Ds(0,"span",3,4)}function QO(t,e){if(1&t&&Ds(0,"nz-select-item",6),2&t){const t=Ns(2);Os("deletable",!1)("disabled",!1)("removeIcon",t.removeIcon)("label",t.listOfTopItem[0].nzLabel)("contentTemplateOutlet",t.customTemplate)("contentTemplateOutletContext",t.listOfTopItem[0])}}function JO(t,e){if(1&t){const t=As();Ts(0),Ss(1,"nz-select-search",4),Is("isComposingChange",function(e){return Ie(t),Ns().isComposingChange(e)})("valueChange",function(e){return Ie(t),Ns().onInputValueChange(e)}),Ps(),Cs(2,QO,1,6,"nz-select-item",5),Rs()}if(2&t){const t=Ns();Zr(1),Os("nzId",t.nzId)("disabled",t.disabled)("value",t.inputValue)("showInput",t.showSearch)("mirrorSync",!1)("autofocus",t.autofocus)("focusTrigger",t.open),Zr(1),Os("ngIf",t.isShowSingleLabel)}}function tb(t,e){if(1&t){const t=As();Ss(0,"nz-select-item",9),Is("delete",function(){const e=Ie(t).$implicit;return Ns(2).onDeleteItem(e.contentTemplateOutletContext)}),Ps()}if(2&t){const t=e.$implicit,n=Ns(2);Os("removeIcon",n.removeIcon)("label",t.nzLabel)("disabled",t.nzDisabled||n.disabled)("contentTemplateOutlet",t.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",t.contentTemplateOutletContext)}}function eb(t,e){if(1&t){const t=As();Ts(0),Cs(1,tb,1,6,"nz-select-item",7),Ss(2,"nz-select-search",8),Is("isComposingChange",function(e){return Ie(t),Ns().isComposingChange(e)})("valueChange",function(e){return Ie(t),Ns().onInputValueChange(e)}),Ps(),Rs()}if(2&t){const t=Ns();Zr(1),Os("ngForOf",t.listOfSlicedItem)("ngForTrackBy",t.trackValue),Zr(1),Os("nzId",t.nzId)("disabled",t.disabled)("value",t.inputValue)("autofocus",t.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",t.open)}}function nb(t,e){1&t&&Ds(0,"nz-select-placeholder",10),2&t&&Os("placeholder",Ns().placeHolder)}function ob(t,e){if(1&t&&Ds(0,"nz-select-arrow",5),2&t){const t=Ns();Os("loading",t.nzLoading)("search",t.nzOpen&&t.nzShowSearch)("suffixIcon",t.nzSuffixIcon)}}function rb(t,e){if(1&t){const t=As();Ss(0,"nz-select-clear",6),Is("clear",function(){return Ie(t),Ns().onClearSelection()}),Ps()}2&t&&Os("clearIcon",Ns().nzClearIcon)}function ib(t,e){if(1&t){const t=As();Ss(0,"nz-option-container",7),Is("keydown",function(e){return Ie(t),Ns().onKeyDown(e)})("itemClick",function(e){return Ie(t),Ns().onItemClick(e)})("scrollToBottom",function(){return Ie(t),Ns().nzScrollToBottom.emit()}),Ps()}if(2&t){const t=Ns();Us("ant-select-dropdown-placement-bottomLeft","bottom"===t.dropDownPosition)("ant-select-dropdown-placement-topLeft","top"===t.dropDownPosition),Os("ngStyle",t.nzDropdownStyle)("itemSize",t.nzOptionHeightPx)("maxItemLength",t.nzOptionOverflowSize)("matchWidth",t.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("listOfContainerItem",t.listOfContainerItem)("menuItemSelectedIcon",t.nzMenuItemSelectedIcon)("notFoundContent",t.nzNotFoundContent)("activatedValue",t.activatedValue)("listOfSelectedValue",t.listOfValue)("dropdownRender",t.nzDropdownRender)("compareWith",t.compareWith)("mode",t.nzMode)}}function sb(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns();Zr(1),Xs(t.nzLabel)}}function ab(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns();Zr(1),Xs(t.label)}}function lb(t,e){}function cb(t,e){if(1&t&&(Ts(0),Cs(1,lb,0,0,"ng-template",3),Rs()),2&t){const t=Ns();Zr(1),Os("ngTemplateOutlet",t.template)}}function ub(t,e){1&t&&Ds(0,"i",6)}function pb(t,e){if(1&t&&(Ss(0,"div",4),Cs(1,ub,1,0,"i",5),Ps()),2&t){const t=Ns();Zr(1),Os("ngIf",!t.icon)("ngIfElse",t.icon)}}function db(t,e){1&t&&Ds(0,"i",2)}function hb(t,e){1&t&&Ds(0,"i",7)}function fb(t,e){1&t&&Ds(0,"i",8)}function gb(t,e){if(1&t&&(Ts(0),Cs(1,hb,1,0,"i",5),Cs(2,fb,1,0,"i",6),Rs()),2&t){const t=Ns(2);Zr(1),Os("ngIf",!t.search),Zr(1),Os("ngIf",t.search)}}function mb(t,e){if(1&t&&(Ts(0),Ds(1,"i",10),Rs()),2&t){const t=e.$implicit;Zr(1),Os("nzType",t)}}function yb(t,e){1&t&&Cs(0,mb,2,1,"ng-container",9),2&t&&Os("nzStringTemplateOutlet",Ns(2).suffixIcon)}function _b(t,e){if(1&t&&(Cs(0,gb,3,2,"ng-container",3),Cs(1,yb,1,1,"ng-template",null,4,Vl)),2&t){const t=Es(2);Os("ngIf",!Ns().suffixIcon)("ngIfElse",t)}}function vb(t,e){1&t&&Ds(0,"i",1)}function Cb(t,e){if(1&t&&(Ss(0,"div",4),qs(1),Ps()),2&t){const t=Ns(2);Zr(1),Xs(t.label)}}function Eb(t,e){1&t&&qs(0),2&t&&Xs(Ns(2).label)}function wb(t,e){if(1&t&&(Ts(0),Cs(1,Cb,2,1,"div",2),Cs(2,Eb,1,1,"ng-template",null,3,Vl),Rs()),2&t){const t=Es(3),e=Ns();Zr(1),Os("ngIf",e.deletable)("ngIfElse",t)}}function Ob(t,e){1&t&&Ds(0,"i",7)}function bb(t,e){if(1&t){const t=As();Ss(0,"span",5),Is("click",function(e){return Ie(t),Ns().onDelete(e)}),Cs(1,Ob,1,0,"i",6),Ps()}if(2&t){const t=Ns();Zr(1),Os("ngIf",!t.removeIcon)("ngIfElse",t.removeIcon)}}const Sb=function(t){return{$implicit:t}};function Pb(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns();Zr(1),Zs(" ",t.placeholder," ")}}let Db=(()=>{class t{constructor(){this.nzLabel=null,this.changes=new O}ngOnChanges(){this.changes.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],features:[le],ngContentSelectors:HO,decls:1,vars:0,template:function(t,e){1&t&&(Gs(),Bs(0))},encapsulation:2,changeDetection:0}),t})(),Tb=(()=>{class t{constructor(t){this.elementRef=t,this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.listOfContainerItem=[],this.itemClick=new wl,this.scrollToBottom=new wl,this.scrolledIndex=0,this.elementRef.nativeElement.classList.add("ant-select-dropdown")}onItemClick(t){this.itemClick.emit(t)}onItemHover(t){this.activatedValue=t}trackValue(t,e){return e.key}onScrolledIndexChange(t){this.scrolledIndex=t,t===this.listOfContainerItem.length-this.maxItemLength&&this.scrollToBottom.emit()}scrollToActivatedValue(){const t=this.listOfContainerItem.findIndex(t=>this.compareWith(t.key,this.activatedValue));(t<this.scrolledIndex||t>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(t||0)}ngOnChanges(t){const{listOfContainerItem:e,activatedValue:n}=t;(e||n)&&this.scrollToActivatedValue()}ngAfterViewInit(){setTimeout(()=>this.scrollToActivatedValue())}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca))},t.\u0275cmp=Ht({type:t,selectors:[["nz-option-container"]],viewQuery:function(t,e){if(1&t&&Fl(qm,7),2&t){let t;Ll(t=kl())&&(e.cdkVirtualScrollViewport=t.first)}},inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",listOfContainerItem:"listOfContainerItem",compareWith:"compareWith"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],features:[le],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","scrolledIndexChange"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick"]],template:function(t,e){1&t&&(Ss(0,"div"),Cs(1,UO,2,1,"div",0),Ss(2,"cdk-virtual-scroll-viewport",1),Is("scrolledIndexChange",function(t){return e.onScrolledIndexChange(t)}),Cs(3,jO,3,3,"ng-template",2),Ps(),Cs(4,KO,0,0,"ng-template",3),Ps()),2&t&&(Zr(1),Os("ngIf",0===e.listOfContainerItem.length),Zr(1),Hs("height",e.listOfContainerItem.length*e.itemSize,"px")("max-height",e.itemSize*e.maxItemLength,"px"),Us("full-width",!e.matchWidth),Os("itemSize",e.itemSize)("maxBufferPx",e.itemSize*e.maxItemLength)("minBufferPx",e.itemSize*e.maxItemLength),Zr(1),Os("cdkVirtualForOf",e.listOfContainerItem)("cdkVirtualForTrackBy",e.trackValue)("cdkVirtualForTemplateCacheSize",0),Zr(1),Os("ngTemplateOutlet",e.dropdownRender))},directives:function(){return[fu,qm,$m,Zm,wu,Kw,_u,vu,Lb,Fb]},encapsulation:2,changeDetection:0}),t})(),Rb=(()=>{class t{constructor(t,e){this.nzOptionGroupComponent=t,this.destroy$=e,this.changes=new O,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe(Rp(!0),um(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent.nzLabel})}ngOnChanges(){this.changes.next()}}return t.\u0275fac=function(e){return new(e||t)(ws(Db,8),ws(oy))},t.\u0275cmp=Ht({type:t,selectors:[["nz-option"]],viewQuery:function(t,e){if(1&t&&Fl(Za,7),2&t){let t;Ll(t=kl())&&(e.template=t.first)}},inputs:{nzLabel:"nzLabel",nzValue:"nzValue",nzDisabled:"nzDisabled",nzHide:"nzHide",nzCustomContent:"nzCustomContent"},exportAs:["nzOption"],features:[ha([oy]),le],ngContentSelectors:HO,decls:1,vars:0,template:function(t,e){1&t&&(Gs(),Cs(0,YO,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),ty([cy()],t.prototype,"nzDisabled",void 0),ty([cy()],t.prototype,"nzHide",void 0),ty([cy()],t.prototype,"nzCustomContent",void 0),t})(),Ab=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.renderer=e,this.focusMonitor=n,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new wl,this.isComposingChange=new wl,this.elementRef.nativeElement.classList.add("ant-select-selection-search")}setCompositionState(t){this.isComposingChange.next(t)}onValueChange(t){this.value=t,this.valueChange.next(t),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){this.inputElement.nativeElement.value="",this.onValueChange("")}syncMirrorWidth(){const t=this.mirrorElement.nativeElement,e=this.elementRef.nativeElement,n=this.inputElement.nativeElement;this.renderer.removeStyle(e,"width"),t.innerHTML=this.renderer.createText(`${n.value}&nbsp;`),this.renderer.setStyle(e,"width",`${t.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnChanges(t){const e=this.inputElement.nativeElement,{focusTrigger:n,showInput:o}=t;o&&(this.showInput?this.renderer.removeAttribute(e,"readonly"):this.renderer.setAttribute(e,"readonly","readonly")),n&&!0===n.currentValue&&!1===n.previousValue&&e.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca),ws(Oa),ws(Cy))},t.\u0275cmp=Ht({type:t,selectors:[["nz-select-search"]],viewQuery:function(t,e){if(1&t&&(Fl(qO,7),Fl(XO,5)),2&t){let t;Ll(t=kl())&&(e.inputElement=t.first),Ll(t=kl())&&(e.mirrorElement=t.first)}},inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},features:[ha([{provide:E_,useValue:!1}]),le],decls:3,vars:7,consts:[["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModel","disabled","ngModelChange","compositionstart","compositionend"],["inputElement",""],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"],["mirrorElement",""]],template:function(t,e){1&t&&(Ss(0,"input",0,1),Is("ngModelChange",function(t){return e.onValueChange(t)})("compositionstart",function(){return e.setCompositionState(!0)})("compositionend",function(){return e.setCompositionState(!1)}),Ps(),Cs(2,ZO,2,0,"span",2)),2&t&&(Hs("opacity",e.showInput?null:0),Os("ngModel",e.value)("disabled",e.disabled),vs("id",e.nzId)("autofocus",e.autofocus?"autofocus":null),Zr(2),Os("ngIf",e.mirrorSync))},directives:[w_,N_,ev,fu],encapsulation:2,changeDetection:0}),t})(),Mb=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.ngZone=e,this.noAnimation=n,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new wl,this.inputValueChange=new wl,this.deleteItem=new wl,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new O,this.elementRef.nativeElement.classList.add("ant-select-selector")}updateTemplateVariable(){const t=0===this.listOfTopItem.length;this.isShowPlaceholder=t&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!t&&!this.isComposing&&!this.inputValue}isComposingChange(t){this.isComposing=t,this.updateTemplateVariable()}onInputValueChange(t){t!==this.inputValue&&(this.inputValue=t,this.updateTemplateVariable(),this.inputValueChange.emit(t),this.tokenSeparate(t,this.tokenSeparators))}tokenSeparate(t,e){if(t&&t.length&&e.length&&"default"!==this.mode&&((t,e)=>{for(let n=0;n<e.length;++n)if(t.lastIndexOf(e[n])>0)return!0;return!1})(t,e)){const n=((t,e)=>{const n=new RegExp(`[${e.join()}]`),o=t.split(n).filter(t=>t);return[...new Set(o)]})(t,e);this.tokenize.next(n)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(t,e){return e.nzValue}onDeleteItem(t){this.disabled||t.nzDisabled||this.deleteItem.next(t)}ngOnChanges(t){const{listOfTopItem:e,maxTagCount:n,customTemplate:o,maxTagPlaceholder:r}=t;if(e&&this.updateTemplateVariable(),e||n||o||r){const t=this.listOfTopItem.slice(0,this.maxTagCount).map(t=>({nzLabel:t.nzLabel,nzValue:t.nzValue,nzDisabled:t.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:t}));if(this.listOfTopItem.length>this.maxTagCount){const e=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,n=this.listOfTopItem.map(t=>t.nzValue),o={nzLabel:e,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:n.slice(this.maxTagCount)};t.push(o)}this.listOfSlicedItem=t}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{Lg(this.elementRef.nativeElement,"click").pipe(um(this.destroy$)).subscribe(t=>{t.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),Lg(this.elementRef.nativeElement,"keydown").pipe(um(this.destroy$)).subscribe(t=>{if(t.target instanceof HTMLInputElement){const e=t.target.value;8===t.keyCode&&"default"!==this.mode&&!e&&this.listOfTopItem.length>0&&(t.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))}})})}ngOnDestroy(){this.destroy$.next()}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca),ws(cc),ws(cw,9))},t.\u0275cmp=Ht({type:t,selectors:[["nz-select-top-control"]],viewQuery:function(t,e){if(1&t&&Fl(Ab,5),2&t){let t;Ll(t=kl())&&(e.nzSelectSearchComponent=t.first)}},inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:"maxTagCount",autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],features:[le],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger","isComposingChange","valueChange"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger","isComposingChange","valueChange"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete"],[3,"placeholder"]],template:function(t,e){1&t&&(Ts(0,0),Cs(1,JO,3,8,"ng-container",1),Cs(2,eb,3,9,"ng-container",2),Rs(),Cs(3,nb,1,1,"nz-select-placeholder",3)),2&t&&(Os("ngSwitch",e.mode),Zr(1),Os("ngSwitchCase","default"),Zr(2),Os("ngIf",e.isShowPlaceholder))},directives:function(){return[_u,vu,Cu,fu,Ab,Gb,du,ww,Bb]},encapsulation:2,changeDetection:0}),t})();const xb=(t,e)=>!(!e||!e.nzLabel)&&e.nzLabel.toString().toLowerCase().indexOf(t.toLowerCase())>-1;let Ib=(()=>{class t{constructor(t,e,n,o,r,i,s,a){this.destroy$=t,this.nzConfigService=e,this.cdr=n,this.elementRef=o,this.platform=r,this.focusMonitor=i,this.directionality=s,this.noAnimation=a,this._nzModuleName="select",this.nzId=null,this.nzSize="default",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=xb,this.compareWith=(t,e)=>t===e,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzBackdrop=!1,this.nzOptions=[],this.nzOnSearch=new wl,this.nzScrollToBottom=new wl,this.nzOpenChange=new wl,this.nzBlur=new wl,this.nzFocus=new wl,this.listOfValue$=new cp([]),this.listOfTemplateItem$=new cp([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottom",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.elementRef.nativeElement.classList.add("ant-select")}set nzShowArrow(t){this._nzShowArrow=t}get nzShowArrow(){return void 0===this._nzShowArrow?"default"===this.nzMode:this._nzShowArrow}generateTagItem(t){return{nzValue:t,nzLabel:t,type:"item"}}onItemClick(t){if(this.activatedValue=t,"default"===this.nzMode)0!==this.listOfValue.length&&this.compareWith(this.listOfValue[0],t)||this.updateListOfValue([t]),this.setOpenState(!1);else{const e=this.listOfValue.findIndex(e=>this.compareWith(e,t));if(-1!==e){const t=this.listOfValue.filter((t,n)=>n!==e);this.updateListOfValue(t)}else if(this.listOfValue.length<this.nzMaxMultipleCount){const e=[...this.listOfValue,t];this.updateListOfValue(e)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(t){const e=this.listOfValue.filter(e=>!this.compareWith(e,t.nzValue));this.updateListOfValue(e),this.clearInput()}onHostClick(){this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.setOpenState(!this.nzOpen)}updateListOfContainerItem(){let t=this.listOfTagAndTemplateItem.filter(t=>!t.nzHide).filter(t=>!(!this.nzServerSearch&&this.searchValue)||this.nzFilterOption(this.searchValue,t));if("tags"===this.nzMode&&this.searchValue){const e=this.listOfTagAndTemplateItem.find(t=>t.nzLabel===this.searchValue);if(e)this.activatedValue=e.nzValue;else{const e=this.generateTagItem(this.searchValue);t=[e,...t],this.activatedValue=e.nzValue}}const e=t.find(t=>this.compareWith(t.nzValue,this.listOfValue[0]))||t[0];this.activatedValue=e&&e.nzValue||null;let n=[];this.isReactiveDriven?n=[...new Set(this.nzOptions.filter(t=>t.groupLabel).map(t=>t.groupLabel))]:this.listOfNzOptionGroupComponent&&(n=this.listOfNzOptionGroupComponent.map(t=>t.nzLabel)),n.forEach(e=>{const n=t.findIndex(t=>e===t.groupLabel);n>-1&&t.splice(n,0,{groupLabel:e,type:"group",key:e})}),this.listOfContainerItem=[...t],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(t){const e=(n=t,"default"===this.nzMode?n.length>0?n[0]:null:n);var n;this.value!==e&&(this.listOfValue=t,this.listOfValue$.next(t),this.value=e,this.onChange(this.value))}onTokenSeparate(t){const e=this.listOfTagAndTemplateItem.filter(e=>-1!==t.findIndex(t=>t===e.nzLabel)).map(t=>t.nzValue).filter(t=>-1===this.listOfValue.findIndex(e=>this.compareWith(e,t)));if("multiple"===this.nzMode)this.updateListOfValue([...this.listOfValue,...e]);else if("tags"===this.nzMode){const n=t.filter(t=>-1===this.listOfTagAndTemplateItem.findIndex(e=>e.nzLabel===t));this.updateListOfValue([...this.listOfValue,...e,...n])}this.clearInput()}onOverlayKeyDown(t){27===t.keyCode&&this.setOpenState(!1)}onKeyDown(t){if(this.nzDisabled)return;const e=this.listOfContainerItem.filter(t=>"item"===t.type).filter(t=>!t.nzDisabled),n=e.findIndex(t=>this.compareWith(t.nzValue,this.activatedValue));switch(t.keyCode){case 38:t.preventDefault(),this.nzOpen&&(this.activatedValue=e[n>0?n-1:e.length-1].nzValue);break;case 40:t.preventDefault(),this.nzOpen?this.activatedValue=e[n<e.length-1?n+1:0].nzValue:this.setOpenState(!0);break;case 13:t.preventDefault(),this.nzOpen?sy(this.activatedValue)&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case 32:this.nzOpen||(this.setOpenState(!0),t.preventDefault());break;case 9:this.setOpenState(!1);break;case 27:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(t){this.nzOpen!==t&&(this.nzOpen=t,this.nzOpenChange.emit(t),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.clearInput()}onInputValueChange(t){this.searchValue=t,this.updateListOfContainerItem(),this.nzOnSearch.emit(t),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(t){this.elementRef.nativeElement.contains(t.target)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(t){this.dropDownPosition=t.connectionPair.originY}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){const t=this.triggerWidth;dw(this.requestId),this.requestId=hw(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,t!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){hw(()=>{var t,e;null===(e=null===(t=this.cdkConnectedOverlay)||void 0===t?void 0:t.overlayRef)||void 0===e||e.updatePosition()})}writeValue(t){if(this.value!==t){this.value=t;const e=((t,e)=>null==t?[]:"default"===this.nzMode?[t]:t)(t);this.listOfValue=e,this.listOfValue$.next(e),this.cdr.markForCheck()}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,t&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(t){const{nzOpen:e,nzDisabled:n,nzOptions:o}=t;if(e&&this.onOpenChange(),n&&this.nzDisabled&&this.setOpenState(!1),o){this.isReactiveDriven=!0;const t=(this.nzOptions||[]).map(t=>({template:t.label instanceof Za?t.label:null,nzLabel:"string"==typeof t.label||"number"==typeof t.label?t.label:null,nzValue:t.value,nzDisabled:t.disabled||!1,nzHide:t.hide||!1,nzCustomContent:t.label instanceof Za,groupLabel:t.groupLabel||null,type:"item",key:t.value}));this.listOfTemplateItem$.next(t)}}ngOnInit(){var t;this.focusMonitor.monitor(this.elementRef,!0).pipe(um(this.destroy$)).subscribe(t=>{t?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),fp([this.listOfValue$,this.listOfTemplateItem$]).pipe(um(this.destroy$)).subscribe(([t,e])=>{const n=t.filter(()=>"tags"===this.nzMode).filter(t=>-1===e.findIndex(e=>this.compareWith(e.nzValue,t))).map(t=>this.listOfTopItem.find(e=>this.compareWith(e.nzValue,t))||this.generateTagItem(t));this.listOfTagAndTemplateItem=[...e,...n],this.listOfTopItem=this.listOfValue.map(t=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(e=>this.compareWith(t,e.nzValue))).filter(t=>!!t),this.updateListOfContainerItem()}),null===(t=this.directionality.change)||void 0===t||t.pipe(um(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe(um(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value}ngAfterContentInit(){this.isReactiveDriven||$(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe(Rp(!0),wp(()=>$(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(t=>t.changes),...this.listOfNzOptionGroupComponent.map(t=>t.changes)).pipe(Rp(!0))),um(this.destroy$)).subscribe(()=>{const t=this.listOfNzOptionComponent.toArray().map(t=>{const{template:e,nzLabel:n,nzValue:o,nzDisabled:r,nzHide:i,nzCustomContent:s,groupLabel:a}=t;return{template:e,nzLabel:n,nzValue:o,nzDisabled:r,nzHide:i,nzCustomContent:s,groupLabel:a,type:"item",key:o}});this.listOfTemplateItem$.next(t),this.cdr.markForCheck()})}ngOnDestroy(){dw(this.requestId),this.focusMonitor.stopMonitoring(this.elementRef)}}return t.\u0275fac=function(e){return new(e||t)(ws(oy),ws(Av),ws(ja),ws(Ca),ws(Pm),ws(Cy),ws(Lm,8),ws(cw,9))},t.\u0275cmp=Ht({type:t,selectors:[["nz-select"]],contentQueries:function(t,e,n){if(1&t&&(Nl(n,Rb,5),Nl(n,Db,5)),2&t){let t;Ll(t=kl())&&(e.listOfNzOptionComponent=t),Ll(t=kl())&&(e.listOfNzOptionGroupComponent=t)}},viewQuery:function(t,e){if(1&t&&(Fl(d_,7,Ca),Fl(h_,7),Fl(Mb,7),Fl(Db,7,Ca),Fl(Mb,7,Ca)),2&t){let t;Ll(t=kl())&&(e.originElement=t.first),Ll(t=kl())&&(e.cdkConnectedOverlay=t.first),Ll(t=kl())&&(e.nzSelectTopControlComponent=t.first),Ll(t=kl())&&(e.nzOptionGroupComponentElement=t.first),Ll(t=kl())&&(e.nzSelectTopControlComponentElement=t.first)}},hostVars:24,hostBindings:function(t,e){1&t&&Is("click",function(){return e.onHostClick()}),2&t&&Us("ant-select-lg","large"===e.nzSize)("ant-select-sm","small"===e.nzSize)("ant-select-show-arrow",e.nzShowArrow)("ant-select-disabled",e.nzDisabled)("ant-select-show-search",(e.nzShowSearch||"default"!==e.nzMode)&&!e.nzDisabled)("ant-select-allow-clear",e.nzAllowClear)("ant-select-borderless",e.nzBorderless)("ant-select-open",e.nzOpen)("ant-select-focused",e.nzOpen||e.focused)("ant-select-single","default"===e.nzMode)("ant-select-multiple","default"!==e.nzMode)("ant-select-rtl","rtl"===e.dir)},inputs:{nzId:"nzId",nzSize:"nzSize",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:"nzAllowClear",nzBorderless:"nzBorderless",nzShowSearch:"nzShowSearch",nzLoading:"nzLoading",nzAutoFocus:"nzAutoFocus",nzAutoClearSearchValue:"nzAutoClearSearchValue",nzServerSearch:"nzServerSearch",nzDisabled:"nzDisabled",nzOpen:"nzOpen",nzBackdrop:"nzBackdrop",nzOptions:"nzOptions",nzShowArrow:"nzShowArrow"},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],features:[ha([oy,{provide:v_,useExisting:rt(()=>t),multi:!0}]),le],decls:5,vars:24,consts:[["cdkOverlayOrigin","",3,"nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem","inputValueChange","tokenize","deleteItem","keydown"],["origin","cdkOverlayOrigin"],[3,"loading","search","suffixIcon",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","overlayKeydown","overlayOutsideClick","detach","positionChange"],[3,"loading","search","suffixIcon"],[3,"clearIcon","clear"],[3,"ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","keydown","itemClick","scrollToBottom"]],template:function(t,e){if(1&t&&(Ss(0,"nz-select-top-control",0,1),Is("inputValueChange",function(t){return e.onInputValueChange(t)})("tokenize",function(t){return e.onTokenSeparate(t)})("deleteItem",function(t){return e.onItemDelete(t)})("keydown",function(t){return e.onKeyDown(t)}),Ps(),Cs(2,ob,1,3,"nz-select-arrow",2),Cs(3,rb,1,1,"nz-select-clear",3),Cs(4,ib,1,19,"ng-template",4),Is("overlayKeydown",function(t){return e.onOverlayKeyDown(t)})("overlayOutsideClick",function(t){return e.onClickOutside(t)})("detach",function(){return e.setOpenState(!1)})("positionChange",function(t){return e.onPositionChange(t)})),2&t){const t=Es(1);Os("nzId",e.nzId)("open",e.nzOpen)("disabled",e.nzDisabled)("mode",e.nzMode)("@.disabled",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("maxTagPlaceholder",e.nzMaxTagPlaceholder)("removeIcon",e.nzRemoveIcon)("placeHolder",e.nzPlaceHolder)("maxTagCount",e.nzMaxTagCount)("customTemplate",e.nzCustomTemplate)("tokenSeparators",e.nzTokenSeparators)("showSearch",e.nzShowSearch)("autofocus",e.nzAutoFocus)("listOfTopItem",e.listOfTopItem),Zr(2),Os("ngIf",e.nzShowArrow),Zr(1),Os("ngIf",e.nzAllowClear&&!e.nzDisabled&&e.listOfValue.length),Zr(1),Os("cdkConnectedOverlayHasBackdrop",e.nzBackdrop)("cdkConnectedOverlayMinWidth",e.nzDropdownMatchSelectWidth?null:e.triggerWidth)("cdkConnectedOverlayWidth",e.nzDropdownMatchSelectWidth?e.triggerWidth:null)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",e.nzDropdownClassName)("cdkConnectedOverlayOpen",e.nzOpen)}},directives:function(){return[ww,Mb,d_,cw,fu,h_,Cw,Nb,kb,Tb,Eu]},encapsulation:2,data:{animation:[bv]},changeDetection:0}),ty([Mv()],t.prototype,"nzSuffixIcon",void 0),ty([cy()],t.prototype,"nzAllowClear",void 0),ty([Mv(),cy()],t.prototype,"nzBorderless",void 0),ty([cy()],t.prototype,"nzShowSearch",void 0),ty([cy()],t.prototype,"nzLoading",void 0),ty([cy()],t.prototype,"nzAutoFocus",void 0),ty([cy()],t.prototype,"nzAutoClearSearchValue",void 0),ty([cy()],t.prototype,"nzServerSearch",void 0),ty([cy()],t.prototype,"nzDisabled",void 0),ty([cy()],t.prototype,"nzOpen",void 0),ty([Mv(),cy()],t.prototype,"nzBackdrop",void 0),t})(),Lb=(()=>{class t{constructor(t){this.elementRef=t,this.nzLabel=null,this.elementRef.nativeElement.classList.add("ant-select-item","ant-select-item-group")}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca))},t.\u0275cmp=Ht({type:t,selectors:[["nz-option-item-group"]],inputs:{nzLabel:"nzLabel"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(t,e){1&t&&Cs(0,sb,2,1,"ng-container",0),2&t&&Os("nzStringTemplateOutlet",e.nzLabel)},directives:[fw],encapsulation:2,changeDetection:0}),t})(),Fb=(()=>{class t{constructor(t){this.elementRef=t,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new wl,this.itemHover=new wl,this.elementRef.nativeElement.classList.add("ant-select-item","ant-select-item-option")}onHostMouseEnter(){this.disabled||this.itemHover.next(this.value)}onHostClick(){this.disabled||this.itemClick.next(this.value)}ngOnChanges(t){const{value:e,activatedValue:n,listOfSelectedValue:o}=t;(e||o)&&(this.selected=this.listOfSelectedValue.some(t=>this.compareWith(t,this.value))),(e||n)&&(this.activated=this.compareWith(this.activatedValue,this.value))}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca))},t.\u0275cmp=Ht({type:t,selectors:[["nz-option-item"]],hostVars:9,hostBindings:function(t,e){1&t&&Is("mouseenter",function(){return e.onHostMouseEnter()})("click",function(){return e.onHostClick()}),2&t&&(vs("title",e.label),Us("ant-select-item-option-grouped",e.grouped)("ant-select-item-option-selected",e.selected&&!e.disabled)("ant-select-item-option-disabled",e.disabled)("ant-select-item-option-active",e.activated&&!e.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},features:[le],decls:4,vars:3,consts:[[1,"ant-select-item-option-content"],[4,"ngIf"],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(t,e){1&t&&(Ss(0,"div",0),Cs(1,ab,2,1,"ng-container",1),Cs(2,cb,2,1,"ng-container",1),Ps(),Cs(3,pb,2,2,"div",2)),2&t&&(Zr(1),Os("ngIf",!e.customContent),Zr(1),Os("ngIf",e.customContent),Zr(1),Os("ngIf",e.showState&&e.selected))},directives:[fu,wu,WO,ww],encapsulation:2,changeDetection:0}),t})(),Nb=(()=>{class t{constructor(t){this.elementRef=t,this.loading=!1,this.search=!1,this.suffixIcon=null,this.elementRef.nativeElement.classList.add("ant-select-arrow")}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca))},t.\u0275cmp=Ht({type:t,selectors:[["nz-select-arrow"]],hostVars:2,hostBindings:function(t,e){2&t&&Us("ant-select-arrow-loading",e.loading)},inputs:{loading:"loading",search:"search",suffixIcon:"suffixIcon"},decls:3,vars:2,consts:[["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["defaultArrow",""],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["suffixTemplate",""],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(t,e){if(1&t&&(Cs(0,db,1,0,"i",0),Cs(1,_b,3,2,"ng-template",null,1,Vl)),2&t){const t=Es(2);Os("ngIf",e.loading)("ngIfElse",t)}},directives:[fu,WO,ww,fw],encapsulation:2,changeDetection:0}),t})(),kb=(()=>{class t{constructor(t){this.elementRef=t,this.clearIcon=null,this.clear=new wl,this.elementRef.nativeElement.classList.add("ant-select-clear")}onClick(t){t.preventDefault(),t.stopPropagation(),this.clear.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca))},t.\u0275cmp=Ht({type:t,selectors:[["nz-select-clear"]],hostBindings:function(t,e){1&t&&Is("click",function(t){return e.onClick(t)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(t,e){1&t&&Cs(0,vb,1,0,"i",0),2&t&&Os("ngIf",!e.clearIcon)("ngIfElse",e.clearIcon)},directives:[fu,WO,ww],encapsulation:2,changeDetection:0}),t})(),Gb=(()=>{class t{constructor(t){this.elementRef=t,this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new wl,this.elementRef.nativeElement.classList.add("ant-select-selection-item")}onDelete(t){t.preventDefault(),t.stopPropagation(),this.disabled||this.delete.next(t)}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca))},t.\u0275cmp=Ht({type:t,selectors:[["nz-select-item"]],hostVars:3,hostBindings:function(t,e){2&t&&(vs("title",e.label),Us("ant-select-selection-item-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},decls:2,vars:5,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],["labelTemplate",""],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(t,e){1&t&&(Cs(0,wb,4,2,"ng-container",0),Cs(1,bb,2,2,"span",1)),2&t&&(Os("nzStringTemplateOutlet",e.contentTemplateOutlet)("nzStringTemplateOutletContext",vl(3,Sb,e.contentTemplateOutletContext)),Zr(1),Os("ngIf",e.deletable&&!e.disabled))},directives:[fw,fu,WO,ww],encapsulation:2,changeDetection:0}),t})(),Bb=(()=>{class t{constructor(t){this.elementRef=t,this.placeholder=null,this.elementRef.nativeElement.classList.add("ant-select-selection-placeholder")}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca))},t.\u0275cmp=Ht({type:t,selectors:[["nz-select-placeholder"]],inputs:{placeholder:"placeholder"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(t,e){1&t&&Cs(0,Pb,2,1,"ng-container",0),2&t&&Os("nzStringTemplateOutlet",e.placeholder)},directives:[fw],encapsulation:2,changeDetection:0}),t})(),Wb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,bu,Rw,rv,Dm,g_,VO,mw,Qw,Ew,uw,Ow,Jm,Sy]]}),t})();class Vb{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Hb(t,this.durationSelector))}}class Hb extends k{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=G(e,new N(this)),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}function Ub(t,e){1&t&&(Ss(0,"span",3),Ds(1,"i",4),Ds(2,"i",4),Ds(3,"i",4),Ds(4,"i",4),Ps())}function $b(t,e){}function zb(t,e){if(1&t&&(Ss(0,"div",8),qs(1),Ps()),2&t){const t=Ns(2);Zr(1),Xs(t.nzTip)}}function jb(t,e){if(1&t&&(Ss(0,"div"),Ss(1,"div",5),Cs(2,$b,0,0,"ng-template",6),Cs(3,zb,2,1,"div",7),Ps(),Ps()),2&t){const t=Ns(),e=Es(1);Zr(1),Us("ant-spin-rtl","rtl"===t.dir)("ant-spin-spinning",t.isLoading)("ant-spin-lg","large"===t.nzSize)("ant-spin-sm","small"===t.nzSize)("ant-spin-show-text",t.nzTip),Zr(1),Os("ngTemplateOutlet",t.nzIndicator||e),Zr(1),Os("ngIf",t.nzTip)}}function Kb(t,e){1&t&&(Ss(0,"div",9),Bs(1),Ps()),2&t&&Us("ant-spin-blur",Ns().isLoading)}const Yb=["*"],qb="spin";let Xb=(()=>{class t{constructor(t,e,n){this.nzConfigService=t,this.cdr=e,this.directionality=n,this._nzModuleName=qb,this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new O,this.spinning$=new cp(this.nzSpinning),this.delay$=new vm(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){var t;this.delay$.pipe(Rp(this.nzDelay),tm(),wp(t=>{return 0===t?this.spinning$:this.spinning$.pipe((e=e=>am(e?t:0),t=>t.lift(new Vb(e))));var e}),um(this.destroy$)).subscribe(t=>{this.isLoading=t,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent(qb).pipe(um(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),null===(t=this.directionality.change)||void 0===t||t.pipe(um(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzSpinning:e,nzDelay:n}=t;e&&this.spinning$.next(this.nzSpinning),n&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(ws(Av),ws(ja),ws(Lm,8))},t.\u0275cmp=Ht({type:t,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(t,e){2&t&&Us("ant-spin-nested-loading",!e.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],features:[le],ngContentSelectors:Yb,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(t,e){1&t&&(Gs(),Cs(0,Ub,5,0,"ng-template",null,0,Vl),Cs(2,jb,4,12,"div",1),Cs(3,Kb,2,2,"div",2)),2&t&&(Zr(2),Os("ngIf",e.isLoading),Zr(1),Os("ngIf",!e.nzSimple))},directives:[fu,wu],encapsulation:2}),ty([Mv()],t.prototype,"nzIndicator",void 0),ty([ly("InputNumber",t=>function(t,e=0){return Gg(t)?Number(t):e}(t,undefined))],t.prototype,"nzDelay",void 0),ty([cy()],t.prototype,"nzSimple",void 0),ty([cy()],t.prototype,"nzSpinning",void 0),t})(),Zb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,bu,hy]]}),t})();function Qb(t,e){if(1&t&&Ds(0,"nz-option",3),2&t){const t=e.$implicit;Os("nzValue",t)("nzLabel",t)}}function Jb(t,e){1&t&&Ds(0,"nz-spin")}function tS(t,e){1&t&&Cs(0,Jb,1,0,"nz-spin",4),2&t&&Os("ngIf",Ns().isLoading)}let eS=(()=>{class t{constructor(t){this.http=t,this.randomUserUrl="https://api.randomuser.me/?results=10",this.optionList=[],this.selectedUser="",this.isLoading=!1,this.open=!1,this.getRandomNameList=this.http.get(`${this.randomUserUrl}`).pipe(Np(()=>lp({results:[]})),P(t=>t.results)).pipe(P(t=>t.map(t=>`${t.name.first}`)))}loadMore(){this.isLoading=!0,this.getRandomNameList.subscribe(t=>{this.isLoading=!1,this.optionList=[...this.optionList,...t]})}ngOnInit(){this.loadMore()}agInit(t){this.params=t,this.setUser(t.value)}getValue(){return this.selectedUser}afterGuiAttached(){this.open=!0}setUser(t){this.selectedUser=t}onSelect(t){this.params.api.stopEditing()}}return t.\u0275fac=function(e){return new(e||t)(ws(Cg))},t.\u0275cmp=Ht({type:t,selectors:[["app-nz-demo-select-scroll-load"]],decls:4,vars:4,consts:[["nzPlaceHolder","Select users","nzAllowClear","",3,"ngModel","nzDropdownRender","nzOpen","ngModelChange","nzScrollToBottom","nzOpenChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["renderTemplate",""],[3,"nzValue","nzLabel"],[4,"ngIf"]],template:function(t,e){if(1&t&&(Ss(0,"nz-select",0),Is("ngModelChange",function(t){return e.selectedUser=t})("nzScrollToBottom",function(){return e.loadMore()})("ngModelChange",function(t){return e.onSelect(t)})("nzOpenChange",function(t){return e.open=t}),Cs(1,Qb,1,2,"nz-option",1),Ps(),Cs(2,tS,1,1,"ng-template",null,2,Vl)),2&t){const t=Es(3);Os("ngModel",e.selectedUser)("nzDropdownRender",t)("nzOpen",e.open),Zr(1),Os("ngForOf",e.optionList)}},directives:[Ib,N_,ev,du,Rb,fu,Xb],styles:["nz-select[_ngcontent-%COMP%]{width:100%}"]}),t})(),nS=(()=>{class t{constructor(){}getModels(){return lp(["Celica","Altis","Mondeo","Boxster"])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oS(t,e){if(1&t){const t=As();Ss(0,"nz-message",2),Is("destroyed",function(e){return Ie(t),Ns().remove(e.id,e.userAction)}),Ps()}2&t&&Os("instance",e.$implicit)}function rS(t,e){1&t&&Ds(0,"i",10)}function iS(t,e){1&t&&Ds(0,"i",11)}function sS(t,e){1&t&&Ds(0,"i",12)}function aS(t,e){1&t&&Ds(0,"i",13)}function lS(t,e){1&t&&Ds(0,"i",14)}function cS(t,e){if(1&t&&(Ts(0),Ds(1,"span",15),Rs()),2&t){const t=Ns();Zr(1),Os("innerHTML",t.instance.content,tr)}}let uS=0,pS=(()=>{class t{constructor(t,e){this.cdr=t,this.nzConfigService=e,this.instances=[],this.destroy$=new O,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(t){const e=this.onCreate(t);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,e],this.readyInstances(),e}remove(t,e=!1){this.instances.some((n,o)=>n.messageId===t&&(this.instances.splice(o,1),this.instances=[...this.instances],this.onRemove(n,e),this.readyInstances(),!0))}removeAll(){this.instances.forEach(t=>this.onRemove(t,!1)),this.instances=[],this.readyInstances()}onCreate(t){return t.options=this.mergeOptions(t.options),t.onClose=new O,t}onRemove(t,e){t.onClose.next(e),t.onClose.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(t){const{nzDuration:e,nzAnimate:n,nzPauseOnHover:o}=this.config;return Object.assign({nzDuration:e,nzAnimate:n,nzPauseOnHover:o},t)}}return t.\u0275fac=function(e){return new(e||t)(ws(ja),ws(Av))},t.\u0275dir=Yt({type:t}),t})(),dS=(()=>{class t{constructor(t){this.cdr=t,this.destroyed=new wl,this.animationStateChanged=new O,this.userAction=!1,this.eraseTimer=null}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe(Ip(t=>"done"===t.phaseName&&"leave"===t.toState),Pp(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(t=!1){this.userAction=t,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:t})},200)):this.destroyed.next({id:this.instance.messageId,userAction:t})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}}return t.\u0275fac=function(e){return new(e||t)(ws(ja))},t.\u0275dir=Yt({type:t}),t})();const hS="message",fS={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let gS=(()=>{class t extends pS{constructor(t,e){super(t,e),this.destroy$=new O,this.dir="ltr",this.instances=[];const n=this.nzConfigService.getConfigForComponent(hS);this.dir=(null==n?void 0:n.nzDirection)||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(hS).pipe(um(this.destroy$)).subscribe(()=>{this.updateConfig();const t=this.nzConfigService.getConfigForComponent(hS);if(t){const{nzDirection:e}=t;this.dir=e||this.dir}})}updateConfig(){this.config=Object.assign(Object.assign(Object.assign({},fS),this.config),this.nzConfigService.getConfigForComponent(hS)),this.top=Wg(this.config.nzTop),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(ws(ja),ws(Av))},t.\u0275cmp=Ht({type:t,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[ls],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(t,e){1&t&&(Ss(0,"div",0),Cs(1,oS,1,1,"nz-message",1),Ps()),2&t&&(Hs("top",e.top),Us("ant-message-rtl","rtl"===e.dir),Zr(1),Os("ngForOf",e.instances))},directives:function(){return[du,_S]},encapsulation:2,changeDetection:0}),t})(),mS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({}),t})(),yS=(()=>{class t extends class{constructor(t,e,n){this.nzSingletonService=t,this.overlay=e,this.injector=n}remove(t){this.container&&(t?this.container.remove(t):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${uS++}`}withContainer(t){let e=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(e)return e;const n=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),o=new Dy(t,null,this.injector),r=n.attach(o);return n.overlayElement.style.zIndex="1010",e||(this.container=e=r.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,e)),e}}{constructor(t,e,n){super(t,e,n),this.componentPrefix="message-"}success(t,e){return this.createInstance({type:"success",content:t},e)}error(t,e){return this.createInstance({type:"error",content:t},e)}info(t,e){return this.createInstance({type:"info",content:t},e)}warning(t,e){return this.createInstance({type:"warning",content:t},e)}loading(t,e){return this.createInstance({type:"loading",content:t},e)}create(t,e,n){return this.createInstance({type:t,content:e},n)}createInstance(t,e){return this.container=this.withContainer(gS),this.container.create(Object.assign(Object.assign({},t),{createdAt:new Date,messageId:this.getInstanceId(),options:e}))}}return t.\u0275fac=function(e){return new(e||t)(co(ny),co(c_),co(ss))},t.\u0275prov=pt({factory:function(){return new t(co(ny),co(c_),co(zi))},token:t,providedIn:mS}),t})(),_S=(()=>{class t extends dS{constructor(t){super(t),this.destroyed=new wl}}return t.\u0275fac=function(e){return new(e||t)(ws(ja))},t.\u0275cmp=Ht({type:t,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[ls],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(t,e){1&t&&(Ss(0,"div",0),Is("@moveUpMotion.done",function(t){return e.animationStateChanged.next(t)})("mouseenter",function(){return e.onEnter()})("mouseleave",function(){return e.onLeave()}),Ss(1,"div",1),Ss(2,"div",2),Ts(3,3),Cs(4,rS,1,0,"i",4),Cs(5,iS,1,0,"i",5),Cs(6,sS,1,0,"i",6),Cs(7,aS,1,0,"i",7),Cs(8,lS,1,0,"i",8),Rs(),Cs(9,cS,2,1,"ng-container",9),Ps(),Ps(),Ps()),2&t&&(Os("@moveUpMotion",e.instance.state),Zr(2),Os("ngClass","ant-message-"+e.instance.type),Zr(1),Os("ngSwitch",e.instance.type),Zr(1),Os("ngSwitchCase","success"),Zr(1),Os("ngSwitchCase","info"),Zr(1),Os("ngSwitchCase","warning"),Zr(1),Os("ngSwitchCase","error"),Zr(1),Os("ngSwitchCase","loading"),Zr(1),Os("nzStringTemplateOutlet",e.instance.content))},directives:[uu,_u,vu,fw,WO],encapsulation:2,data:{animation:[Ev]},changeDetection:0}),t})(),vS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,bu,g_,VO,mw,mS]]}),t})();function CS(t,e){}const ES=function(t){return{$implicit:t}};function wS(t,e){if(1&t&&(Ss(0,"span",4),Cs(1,CS,0,0,"ng-template",5),Ps()),2&t){const t=Ns(),e=t.last,n=t.index,o=Ns();Hs("margin-bottom","vertical"===o.nzDirection?e?null:o.spaceSize:null,"px")("margin-right","horizontal"===o.nzDirection?e?null:o.spaceSize:null,"px"),Zr(1),Os("ngTemplateOutlet",o.nzSplit)("ngTemplateOutletContext",vl(6,ES,n))}}function OS(t,e){if(1&t&&(Ss(0,"div",1),Ts(1,2,undefined),Rs(),Ps(),Cs(2,wS,2,8,"span",3)),2&t){const t=e.$implicit,n=e.last,o=Ns();Hs("margin-bottom","vertical"===o.nzDirection?n?null:o.spaceSize:null,"px")("margin-right","horizontal"===o.nzDirection?n?null:o.spaceSize:null,"px"),Zr(1),Os("ngTemplateOutlet",t),Zr(1),Os("ngIf",o.nzSplit&&!n)}}const bS=["*"];let SS=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["","nzSpaceItem",""]]}),t})();const PS={small:8,middle:16,large:24};let DS=(()=>{class t{constructor(t,e){this.nzConfigService=t,this.cdr=e,this._nzModuleName="space",this.nzDirection="horizontal",this.nzSplit=null,this.nzWrap=!1,this.nzSize="small",this.spaceSize=PS.small,this.destroy$=new O}updateSpaceItems(){this.spaceSize=("string"==typeof this.nzSize?PS[this.nzSize]:this.nzSize)/(this.nzSplit?2:1),this.cdr.markForCheck()}ngOnChanges(){this.updateSpaceItems(),this.mergedAlign=void 0===this.nzAlign&&"horizontal"===this.nzDirection?"center":this.nzAlign}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngAfterContentInit(){this.updateSpaceItems(),this.items.changes.pipe(um(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(ws(Av),ws(ja))},t.\u0275cmp=Ht({type:t,selectors:[["nz-space"],["","nz-space",""]],contentQueries:function(t,e,n){if(1&t&&Nl(n,SS,4,Za),2&t){let t;Ll(t=kl())&&(e.items=t)}},hostAttrs:[1,"ant-space"],hostVars:14,hostBindings:function(t,e){2&t&&(Hs("flex-wrap",e.nzWrap?"wrap":null),Us("ant-space-horizontal","horizontal"===e.nzDirection)("ant-space-vertical","vertical"===e.nzDirection)("ant-space-align-start","start"===e.mergedAlign)("ant-space-align-end","end"===e.mergedAlign)("ant-space-align-center","center"===e.mergedAlign)("ant-space-align-baseline","baseline"===e.mergedAlign))},inputs:{nzDirection:"nzDirection",nzSplit:"nzSplit",nzWrap:"nzWrap",nzSize:"nzSize",nzAlign:"nzAlign"},exportAs:["NzSpace"],features:[le],ngContentSelectors:bS,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],[1,"ant-space-item"],[3,"ngTemplateOutlet"],["class","ant-space-split",3,"margin-bottom","margin-right",4,"ngIf"],[1,"ant-space-split"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(Gs(),Bs(0),Cs(1,OS,3,6,"ng-template",0)),2&t&&(Zr(1),Os("ngForOf",e.items))},directives:[du,wu,fu],encapsulation:2,changeDetection:0}),ty([cy()],t.prototype,"nzWrap",void 0),ty([Mv()],t.prototype,"nzSize",void 0),t})(),TS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,bu]]}),t})();function RS(t,e){1&t&&Bs(0)}const AS=["*"];function MS(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns(3);Zr(1),Xs(t.nzTitle)}}function xS(t,e){if(1&t&&(Ss(0,"div",11),Cs(1,MS,2,1,"ng-container",12),Ps()),2&t){const t=Ns(2);Zr(1),Os("nzStringTemplateOutlet",t.nzTitle)}}function IS(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns(3);Zr(1),Xs(t.nzExtra)}}function LS(t,e){if(1&t&&(Ss(0,"div",13),Cs(1,IS,2,1,"ng-container",12),Ps()),2&t){const t=Ns(2);Zr(1),Os("nzStringTemplateOutlet",t.nzExtra)}}function FS(t,e){}function NS(t,e){if(1&t&&(Ts(0),Cs(1,FS,0,0,"ng-template",14),Rs()),2&t){const t=Ns(2);Zr(1),Os("ngTemplateOutlet",t.listOfNzCardTabComponent.template)}}function kS(t,e){if(1&t&&(Ss(0,"div",6),Ss(1,"div",7),Cs(2,xS,2,1,"div",8),Cs(3,LS,2,1,"div",9),Ps(),Cs(4,NS,2,1,"ng-container",10),Ps()),2&t){const t=Ns();Zr(2),Os("ngIf",t.nzTitle),Zr(1),Os("ngIf",t.nzExtra),Zr(1),Os("ngIf",t.listOfNzCardTabComponent)}}function GS(t,e){}function BS(t,e){if(1&t&&(Ss(0,"div",15),Cs(1,GS,0,0,"ng-template",14),Ps()),2&t){const t=Ns();Zr(1),Os("ngTemplateOutlet",t.nzCover)}}function WS(t,e){1&t&&(Ts(0),Bs(1),Rs())}function VS(t,e){1&t&&Ds(0,"nz-card-loading")}function HS(t,e){}function US(t,e){if(1&t&&(Ss(0,"li"),Ss(1,"span"),Cs(2,HS,0,0,"ng-template",14),Ps(),Ps()),2&t){const t=e.$implicit;Hs("width",100/Ns(2).nzActions.length,"%"),Zr(2),Os("ngTemplateOutlet",t)}}function $S(t,e){if(1&t&&(Ss(0,"ul",16),Cs(1,US,3,3,"li",17),Ps()),2&t){const t=Ns();Zr(1),Os("ngForOf",t.nzActions)}}function zS(t,e){1&t&&(Ss(0,"div",4),Ds(1,"div",5),Ps()),2&t&&Os("ngClass",e.$implicit)}function jS(t,e){if(1&t&&(Ss(0,"div",2),Cs(1,zS,2,1,"div",3),Ps()),2&t){const t=e.$implicit;Zr(1),Os("ngForOf",t)}}let KS=(()=>{class t{constructor(t){this.elementRef=t,this.nzHoverable=!0,this.elementRef.nativeElement.classList.add("ant-card-grid")}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca))},t.\u0275dir=Yt({type:t,selectors:[["","nz-card-grid",""]],hostVars:2,hostBindings:function(t,e){2&t&&Us("ant-card-hoverable",e.nzHoverable)},inputs:{nzHoverable:"nzHoverable"},exportAs:["nzCardGrid"]}),ty([cy()],t.prototype,"nzHoverable",void 0),t})(),YS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["nz-card-tab"]],viewQuery:function(t,e){if(1&t&&Fl(Za,7),2&t){let t;Ll(t=kl())&&(e.template=t.first)}},exportAs:["nzCardTab"],ngContentSelectors:AS,decls:1,vars:0,template:function(t,e){1&t&&(Gs(),Cs(0,RS,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})();const qS="card";let XS=(()=>{class t{constructor(t,e,n,o){this.nzConfigService=t,this.cdr=e,this.elementRef=n,this.directionality=o,this._nzModuleName=qS,this.nzBordered=!0,this.nzBorderless=!1,this.nzLoading=!1,this.nzHoverable=!1,this.nzBodyStyle=null,this.nzActions=[],this.nzType=null,this.nzSize="default",this.dir="ltr",this.destroy$=new O,this.elementRef.nativeElement.classList.add("ant-card"),this.nzConfigService.getConfigChangeEventForComponent(qS).pipe(um(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(um(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(ws(Av),ws(ja),ws(Ca),ws(Lm,8))},t.\u0275cmp=Ht({type:t,selectors:[["nz-card"]],contentQueries:function(t,e,n){if(1&t&&(Nl(n,YS,5),Nl(n,KS,4)),2&t){let t;Ll(t=kl())&&(e.listOfNzCardTabComponent=t.first),Ll(t=kl())&&(e.listOfNzCardGridDirective=t)}},hostVars:16,hostBindings:function(t,e){2&t&&Us("ant-card-loading",e.nzLoading)("ant-card-bordered",!1===e.nzBorderless&&e.nzBordered)("ant-card-hoverable",e.nzHoverable)("ant-card-small","small"===e.nzSize)("ant-card-contain-grid",e.listOfNzCardGridDirective&&e.listOfNzCardGridDirective.length)("ant-card-type-inner","inner"===e.nzType)("ant-card-contain-tabs",!!e.listOfNzCardTabComponent)("ant-card-rtl","rtl"===e.dir)},inputs:{nzBordered:"nzBordered",nzBorderless:"nzBorderless",nzLoading:"nzLoading",nzHoverable:"nzHoverable",nzBodyStyle:"nzBodyStyle",nzActions:"nzActions",nzType:"nzType",nzSize:"nzSize",nzCover:"nzCover",nzTitle:"nzTitle",nzExtra:"nzExtra"},exportAs:["nzCard"],ngContentSelectors:AS,decls:7,vars:6,consts:[["class","ant-card-head",4,"ngIf"],["class","ant-card-cover",4,"ngIf"],[1,"ant-card-body",3,"ngStyle"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["class","ant-card-actions",4,"ngIf"],[1,"ant-card-head"],[1,"ant-card-head-wrapper"],["class","ant-card-head-title",4,"ngIf"],["class","ant-card-extra",4,"ngIf"],[4,"ngIf"],[1,"ant-card-head-title"],[4,"nzStringTemplateOutlet"],[1,"ant-card-extra"],[3,"ngTemplateOutlet"],[1,"ant-card-cover"],[1,"ant-card-actions"],[3,"width",4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(Gs(),Cs(0,kS,5,3,"div",0),Cs(1,BS,2,1,"div",1),Ss(2,"div",2),Cs(3,WS,2,0,"ng-container",3),Cs(4,VS,1,0,"ng-template",null,4,Vl),Ps(),Cs(6,$S,2,1,"ul",5)),2&t){const t=Es(5);Os("ngIf",e.nzTitle||e.nzExtra||e.listOfNzCardTabComponent),Zr(1),Os("ngIf",e.nzCover),Zr(1),Os("ngStyle",e.nzBodyStyle),Zr(1),Os("ngIf",!e.nzLoading)("ngIfElse",t),Zr(3),Os("ngIf",e.nzActions.length)}},directives:function(){return[fu,Eu,fw,wu,ZS,du]},encapsulation:2,changeDetection:0}),ty([Mv(),cy()],t.prototype,"nzBordered",void 0),ty([Mv(),cy()],t.prototype,"nzBorderless",void 0),ty([cy()],t.prototype,"nzLoading",void 0),ty([Mv(),cy()],t.prototype,"nzHoverable",void 0),ty([Mv()],t.prototype,"nzSize",void 0),t})(),ZS=(()=>{class t{constructor(t){this.elementRef=t,this.listOfLoading=[["ant-col-22"],["ant-col-8","ant-col-15"],["ant-col-6","ant-col-18"],["ant-col-13","ant-col-9"],["ant-col-4","ant-col-3","ant-col-16"],["ant-col-8","ant-col-6","ant-col-8"]],this.elementRef.nativeElement.classList.add("ant-card-loading-content")}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca))},t.\u0275cmp=Ht({type:t,selectors:[["nz-card-loading"]],exportAs:["nzCardLoading"],decls:2,vars:1,consts:[[1,"ant-card-loading-content"],["class","ant-row","style","margin-left: -4px; margin-right: -4px;",4,"ngFor","ngForOf"],[1,"ant-row",2,"margin-left","-4px","margin-right","-4px"],["style","padding-left: 4px; padding-right: 4px;",3,"ngClass",4,"ngFor","ngForOf"],[2,"padding-left","4px","padding-right","4px",3,"ngClass"],[1,"ant-card-loading-block"]],template:function(t,e){1&t&&(Ss(0,"div",0),Cs(1,jS,2,1,"div",1),Ps()),2&t&&(Zr(1),Os("ngForOf",e.listOfLoading))},directives:[du,uu],encapsulation:2,changeDetection:0}),t})(),QS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[bu,mw],Fm]}),t})();class JS{constructor(t,e,n,o){this.triggerElement=t,this.ngZone=e,this.insertExtraNode=n,this.platformId=o,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=t=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===t.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new Pm(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const t=this.triggerElement,e=this.getWaveColor(t);t.setAttribute(this.waveAttributeName,"true"),Date.now()<this.lastTime+this.waveTransitionDuration||(this.isValidColor(e)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${e};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",t.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{t.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(t){return!!t&&"#ffffff"!==t&&"rgb(255, 255, 255)"!==t&&this.isNotGrey(t)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(t)&&"transparent"!==t}isNotGrey(t){const e=t.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(e&&e[1]&&e[2]&&e[3]&&e[1]===e[2]&&e[2]===e[3])}getWaveColor(t){const e=getComputedStyle(t);return e.getPropertyValue("border-top-color")||e.getPropertyValue("border-color")||e.getPropertyValue("background-color")}runTimeoutOutsideZone(t,e){this.ngZone.runOutsideAngular(()=>setTimeout(t,e))}}const tP={disabled:!1},eP=new zn("nz-wave-global-options",{providedIn:"root",factory:function(){return tP}});let nP=(()=>{class t{constructor(t,e,n,o,r){this.ngZone=t,this.elementRef=e,this.config=n,this.animationType=o,this.platformId=r,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let t=!1;return this.config&&"boolean"==typeof this.config.disabled&&(t=this.config.disabled),"NoopAnimations"===this.animationType&&(t=!0),t}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new JS(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return t.\u0275fac=function(e){return new(e||t)(ws(cc),ws(Ca),ws(eP,8),ws(ow,8),ws(Yl))},t.\u0275dir=Yt({type:t,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),t})(),oP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Dm]]}),t})();const rP=["nz-button",""];function iP(t,e){1&t&&Ds(0,"i",1)}const sP=["*"],aP="button";let lP=(()=>{class t{constructor(t,e,n,o,r,i){this.ngZone=t,this.elementRef=e,this.cdr=n,this.renderer=o,this.nzConfigService=r,this.directionality=i,this._nzModuleName=aP,this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new O,this.loading$=new O,this.elementRef.nativeElement.classList.add("ant-btn"),this.nzConfigService.getConfigChangeEventForComponent(aP).pipe(um(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(t,e){t.forEach(t=>{if("#text"===t.nodeName){const n=e.createElement("span"),o=e.parentNode(t);e.insertBefore(o,n,t),e.appendChild(n,t)}})}assertIconOnly(t,e){const n=Array.from(t.childNodes),o=n.filter(t=>"I"===t.nodeName).length,r=n.every(t=>"#text"!==t.nodeName);n.every(t=>"SPAN"!==t.nodeName)&&r&&o>=1&&e.addClass(t,"ant-btn-icon-only")}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(um(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{Lg(this.elementRef.nativeElement,"click").pipe(um(this.destroy$)).subscribe(t=>{var e;this.disabled&&"A"===(null===(e=t.target)||void 0===e?void 0:e.tagName)&&(t.preventDefault(),t.stopImmediatePropagation())})})}ngOnChanges(t){const{nzLoading:e}=t;e&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(Rp(this.nzLoading),Ip(()=>!!this.nzIconDirectiveElement),um(this.destroy$)).subscribe(t=>{const e=this.nzIconDirectiveElement.nativeElement;t?this.renderer.setStyle(e,"display","none"):this.renderer.removeStyle(e,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(ws(cc),ws(Ca),ws(ja),ws(Oa),ws(Av),ws(Lm,8))},t.\u0275cmp=Ht({type:t,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(t,e,n){if(1&t&&Nl(n,WO,5,Ca),2&t){let t;Ll(t=kl())&&(e.nzIconDirectiveElement=t.first)}},hostVars:30,hostBindings:function(t,e){2&t&&(vs("tabindex",e.disabled?-1:null===e.tabIndex?null:e.tabIndex)("disabled",e.disabled||null),Us("ant-btn-primary","primary"===e.nzType)("ant-btn-dashed","dashed"===e.nzType)("ant-btn-link","link"===e.nzType)("ant-btn-text","text"===e.nzType)("ant-btn-circle","circle"===e.nzShape)("ant-btn-round","round"===e.nzShape)("ant-btn-lg","large"===e.nzSize)("ant-btn-sm","small"===e.nzSize)("ant-btn-dangerous",e.nzDanger)("ant-btn-loading",e.nzLoading)("ant-btn-background-ghost",e.nzGhost)("ant-btn-block",e.nzBlock)("ant-input-search-button",e.nzSearch)("ant-btn-rtl","rtl"===e.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[le],attrs:rP,ngContentSelectors:sP,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(t,e){1&t&&(Gs(),Cs(0,iP,1,0,"i",0),Bs(1)),2&t&&Os("ngIf",e.nzLoading)},directives:[fu,WO,ww],encapsulation:2,changeDetection:0}),ty([cy()],t.prototype,"nzBlock",void 0),ty([cy()],t.prototype,"nzGhost",void 0),ty([cy()],t.prototype,"nzSearch",void 0),ty([cy()],t.prototype,"nzLoading",void 0),ty([cy()],t.prototype,"nzDanger",void 0),ty([cy()],t.prototype,"disabled",void 0),ty([Mv()],t.prototype,"nzSize",void 0),t})(),cP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,bu,oP,VO,Ow],Ow,oP]}),t})();const uP=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"],pP=["overlay"];function dP(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns(2);Zr(1),Xs(t.nzTitle)}}function hP(t,e){if(1&t&&(Ss(0,"div",2),Ss(1,"div",3),Ss(2,"div",4),Ds(3,"span",5),Ps(),Ss(4,"div",6),Cs(5,dP,2,1,"ng-container",7),Ps(),Ps(),Ps()),2&t){const t=Ns();Us("ant-tooltip-rtl","rtl"===t.dir),Os("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),Zr(3),Os("ngStyle",t._contentStyleMap),Zr(1),Os("ngStyle",t._contentStyleMap),Zr(1),Os("nzStringTemplateOutlet",t.nzTitle)("nzStringTemplateOutletContext",t.nzTitleContext)}}let fP=(()=>{class t{constructor(t,e,n,o,r,i){this.elementRef=t,this.hostView=e,this.resolver=n,this.renderer=o,this.noAnimation=r,this.nzConfigService=i,this.visibleChange=new wl,this.internalVisible=!1,this.destroy$=new O,this.triggerDisposables=[]}get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return void 0!==this.trigger?this.trigger:"hover"}get _placement(){const t=this.placement;return Array.isArray(t)&&t.length>0?t:"string"==typeof t&&t?[t]:["top"]}get _visible(){return(void 0!==this.visible?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}ngOnChanges(t){const{trigger:e}=t;e&&!e.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(t)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){var t;null===(t=this.component)||void 0===t||t.show()}hide(){var t;null===(t=this.component)||void 0===t||t.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const t=this.hostView.createComponent(this.componentFactory);this.component=t.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.component.setOverlayOrigin({elementRef:this.origin||this.elementRef}),this.initProperties(),this.component.nzVisibleChange.pipe(tm(),um(this.destroy$)).subscribe(t=>{this.internalVisible=t,this.visibleChange.emit(t)})}registerTriggers(){const t=this.elementRef.nativeElement,e=this.trigger;if(this.removeTriggerListeners(),"hover"===e){let e;this.triggerDisposables.push(this.renderer.listen(t,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(t,"mouseleave",()=>{var t;this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),(null===(t=this.component)||void 0===t?void 0:t.overlay.overlayRef)&&!e&&(e=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(e,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(e,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===e?(this.triggerDisposables.push(this.renderer.listen(t,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(t,"focusout",()=>this.hide()))):"click"===e&&this.triggerDisposables.push(this.renderer.listen(t,"click",t=>{t.preventDefault(),this.show()}))}updatePropertiesByChanges(t){this.updatePropertiesByKeys(Object.keys(t))}updatePropertiesByKeys(t){var e;const n=Object.assign({title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter]},this.getProxyPropertyMap());(t||Object.keys(n).filter(t=>!t.startsWith("directive"))).forEach(t=>{if(n[t]){const[e,o]=n[t];this.updateComponentValue(e,o())}}),null===(e=this.component)||void 0===e||e.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(t,e){void 0!==e&&(this.component[t]=e)}delayEnterLeave(t,e,n=-1){this.delayTimer?this.clearTogglingTimer():n>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,e?this.show():this.hide()},1e3*n):e&&t?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(t=>t()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca),ws(rl),ws(ma),ws(Oa),ws(cw),ws(Av))},t.\u0275dir=Yt({type:t,features:[le]}),t})(),gP=(()=>{class t{constructor(t,e,n){this.cdr=t,this.directionality=e,this.noAnimation=n,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.nzVisibleChange=new O,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[..._w],this.destroy$=new O}set nzVisible(t){const e=ay(t);this._visible!==e&&(this._visible=e,this.nzVisibleChange.next(e))}get nzVisible(){return this._visible}set nzTrigger(t){this._trigger=t}get nzTrigger(){return this._trigger}set nzPlacement(t){const e=t.map(t=>yw[t]);this._positions=[...e,..._w]}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(um(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(t){this.preferredPlacement=vw(t),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(t){this.origin=t,this.cdr.markForCheck()}onClickOutside(t){this.origin.elementRef.nativeElement.contains(t.target)||null===this.nzTrigger||this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}}return t.\u0275fac=function(e){return new(e||t)(ws(ja),ws(Lm,8),ws(cw))},t.\u0275dir=Yt({type:t,viewQuery:function(t,e){if(1&t&&Fl(pP,5),2&t){let t;Ll(t=kl())&&(e.overlay=t.first)}}}),t})();function mP(t){return!(t instanceof Za||""!==t&&sy(t))}let yP=(()=>{class t extends gP{constructor(t,e,n){super(t,e,n),this.noAnimation=n,this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return mP(this.nzTitle)}updateStyles(){const t=this.nzColor&&-1!==uP.indexOf(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:t},this._contentStyleMap={backgroundColor:this.nzColor&&!t?this.nzColor:null}}}return t.\u0275fac=function(e){return new(e||t)(ws(ja),ws(Lm,8),ws(cw,9))},t.\u0275cmp=Ht({type:t,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[ls],decls:2,vars:5,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(t,e){1&t&&(Cs(0,hP,6,11,"ng-template",0,1,Vl),Is("overlayOutsideClick",function(t){return e.onClickOutside(t)})("detach",function(){return e.hide()})("positionChange",function(t){return e.onPositionChange(t)})),2&t&&Os("cdkConnectedOverlayOrigin",e.origin)("cdkConnectedOverlayOpen",e._visible)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",e.nzArrowPointAtCenter)},directives:[h_,Cw,uu,Eu,cw,fw],encapsulation:2,data:{animation:[Sv]},changeDetection:0}),t})(),_P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,bu,g_,mw,Ew,uw]]}),t})();function vP(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns(3);Zr(1),Xs(t.nzTitle)}}function CP(t,e){if(1&t&&(Ss(0,"div",10),Cs(1,vP,2,1,"ng-container",9),Ps()),2&t){const t=Ns(2);Zr(1),Os("nzStringTemplateOutlet",t.nzTitle)}}function EP(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns(2);Zr(1),Xs(t.nzContent)}}function wP(t,e){if(1&t&&(Ss(0,"div",2),Ss(1,"div",3),Ss(2,"div",4),Ds(3,"span",5),Ps(),Ss(4,"div",6),Ss(5,"div"),Cs(6,CP,2,1,"div",7),Ss(7,"div",8),Cs(8,EP,2,1,"ng-container",9),Ps(),Ps(),Ps(),Ps(),Ps()),2&t){const t=Ns();Us("ant-popover-rtl","rtl"===t.dir),Os("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),Zr(6),Os("ngIf",t.nzTitle),Zr(2),Os("nzStringTemplateOutlet",t.nzContent)}}let OP=(()=>{class t extends fP{constructor(t,e,n,o,r,i){super(t,e,n,o,r,i),this.noAnimation=r,this._nzModuleName="popover",this.trigger="hover",this.placement="top",this.nzPopoverBackdrop=!1,this.visibleChange=new wl,this.componentFactory=this.resolver.resolveComponentFactory(bP)}getProxyPropertyMap(){return Object.assign({nzPopoverBackdrop:["nzBackdrop",()=>this.nzPopoverBackdrop]},super.getProxyPropertyMap())}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca),ws(rl),ws(ma),ws(Oa),ws(cw,9),ws(Av))},t.\u0275dir=Yt({type:t,selectors:[["","nz-popover",""]],hostVars:2,hostBindings:function(t,e){2&t&&Us("ant-popover-open",e.visible)},inputs:{trigger:["nzPopoverTrigger","trigger"],placement:["nzPopoverPlacement","placement"],nzPopoverBackdrop:"nzPopoverBackdrop",arrowPointAtCenter:["nzPopoverArrowPointAtCenter","arrowPointAtCenter"],title:["nzPopoverTitle","title"],content:["nzPopoverContent","content"],directiveTitle:["nz-popover","directiveTitle"],origin:["nzPopoverOrigin","origin"],visible:["nzPopoverVisible","visible"],mouseEnterDelay:["nzPopoverMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzPopoverMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzPopoverOverlayClassName","overlayClassName"],overlayStyle:["nzPopoverOverlayStyle","overlayStyle"]},outputs:{visibleChange:"nzPopoverVisibleChange"},exportAs:["nzPopover"],features:[ls]}),ty([cy()],t.prototype,"arrowPointAtCenter",void 0),ty([Mv()],t.prototype,"nzPopoverBackdrop",void 0),t})(),bP=(()=>{class t extends yP{constructor(t,e,n){super(t,e,n),this.noAnimation=n,this._prefix="ant-popover"}get hasBackdrop(){return"click"===this.nzTrigger&&this.nzBackdrop}isEmpty(){return mP(this.nzTitle)&&mP(this.nzContent)}}return t.\u0275fac=function(e){return new(e||t)(ws(ja),ws(Lm,8),ws(cw,9))},t.\u0275cmp=Ht({type:t,selectors:[["nz-popover"]],exportAs:["nzPopoverComponent"],features:[ls],decls:2,vars:6,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-popover",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-arrow-content"],["role","tooltip",1,"ant-popover-inner"],["class","ant-popover-title",4,"ngIf"],[1,"ant-popover-inner-content"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-title"]],template:function(t,e){1&t&&(Cs(0,wP,9,9,"ng-template",0,1,Vl),Is("overlayOutsideClick",function(t){return e.onClickOutside(t)})("detach",function(){return e.hide()})("positionChange",function(t){return e.onPositionChange(t)})),2&t&&Os("cdkConnectedOverlayHasBackdrop",e.hasBackdrop)("cdkConnectedOverlayOrigin",e.origin)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayOpen",e._visible)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",e.nzArrowPointAtCenter)},directives:[h_,Cw,uu,Eu,cw,fu,fw],encapsulation:2,data:{animation:[Sv]},changeDetection:0}),t})(),SP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,bu,g_,mw,Ew,uw,_P]]}),t})();var PP=n(839);let DP=(()=>{class t{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let t=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(t.children=this.getChildColDefs(this.childColumns)),t}getChildColDefs(t){return t.filter(t=>!t.hasChildColumns()).map(t=>t.toColDef())}createColDefFromGridColumn(t){return function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(t,["childColumns"])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["ag-grid-column"]],contentQueries:function(e,n,o){if(1&e&&Nl(o,t,4),2&e){let t;Ll(t=kl())&&(n.childColumns=t)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",wrapHeaderText:"wrapHeaderText",autoHeaderHeight:"autoHeaderHeight",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",defaultAggFunc:"defaultAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),TP=(()=>{class t extends PP.vA3{constructor(t){super(),this._ngZone=t}setEmitterUsedCallback(t){this.isEmitterUsed=t}setTimeout(t,e){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{t()},e)}):window.setTimeout(()=>{t()},e)}setInterval(t,e){return new PP.j_S(n=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{n(window.setInterval(()=>{t()},e))}):n(window.setInterval(()=>{t()},e))})}addEventListener(t,e,n,o){this.isOutsideAngular(e)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{t.addEventListener(e,n,o)}):t.addEventListener(e,n,o)}dispatchEvent(t,e,n=!1){this.isOutsideAngular(t)?this._ngZone?this._ngZone.runOutsideAngular(e):e():(this.isEmitterUsed(t)||n)&&(!cc.isInAngularZone()&&this._ngZone?this._ngZone.run(e):e())}isFrameworkComponent(t){if(!t)return!1;const e=t.prototype;return e&&"agInit"in e}}return t.\u0275fac=function(e){return new(e||t)(co(cc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),RP=(()=>{class t extends PP.Nk3{setViewContainerRef(t){this.viewContainerRef=t}setComponentFactoryResolver(t){this.componentFactoryResolver=t}createWrapper(t){let e=this,n=new class extends class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(t){super.init(t),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return e.createComponent(t)}hasMethod(t){return null!=n.getFrameworkComponentInstance()[t]}callMethod(t,e){const o=this.getFrameworkComponentInstance();return n.getFrameworkComponentInstance()[t].apply(o,e)}addMethod(t,e){n[t]=e}};return n}createComponent(t){let e=this.componentFactoryResolver.resolveComponentFactory(t);return this.viewContainerRef.createComponent(e)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Vn(t)))(n||t)}}(),t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),AP=(()=>{class t{constructor(t,e,n,o,r){this.viewContainerRef=e,this.angularFrameworkOverrides=n,this.frameworkComponentWrapper=o,this.componentFactoryResolver=r,this._initialised=!1,this._destroyed=!1,this._fullyReady=PP.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.groupRowsSticky=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.serverSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new wl,this.pasteStart=new wl,this.pasteEnd=new wl,this.columnVisible=new wl,this.columnPinned=new wl,this.columnResized=new wl,this.columnMoved=new wl,this.columnValueChanged=new wl,this.columnPivotModeChanged=new wl,this.columnPivotChanged=new wl,this.columnGroupOpened=new wl,this.newColumnsLoaded=new wl,this.gridColumnsChanged=new wl,this.displayedColumnsChanged=new wl,this.virtualColumnsChanged=new wl,this.columnEverythingChanged=new wl,this.componentStateChanged=new wl,this.cellValueChanged=new wl,this.cellEditRequest=new wl,this.rowValueChanged=new wl,this.cellEditingStarted=new wl,this.cellEditingStopped=new wl,this.rowEditingStarted=new wl,this.rowEditingStopped=new wl,this.filterOpened=new wl,this.filterChanged=new wl,this.filterModified=new wl,this.chartCreated=new wl,this.chartRangeSelectionChanged=new wl,this.chartOptionsChanged=new wl,this.chartDestroyed=new wl,this.cellKeyDown=new wl,this.cellKeyPress=new wl,this.gridReady=new wl,this.firstDataRendered=new wl,this.gridSizeChanged=new wl,this.modelUpdated=new wl,this.virtualRowRemoved=new wl,this.viewportChanged=new wl,this.bodyScroll=new wl,this.bodyScrollEnd=new wl,this.dragStarted=new wl,this.dragStopped=new wl,this.paginationChanged=new wl,this.rowDragEnter=new wl,this.rowDragMove=new wl,this.rowDragLeave=new wl,this.rowDragEnd=new wl,this.columnRowGroupChanged=new wl,this.rowGroupOpened=new wl,this.expandOrCollapseAll=new wl,this.pinnedRowDataChanged=new wl,this.rowDataChanged=new wl,this.rowDataUpdated=new wl,this.asyncTransactionsFlushed=new wl,this.cellClicked=new wl,this.cellDoubleClicked=new wl,this.cellFocused=new wl,this.cellMouseOver=new wl,this.cellMouseOut=new wl,this.cellMouseDown=new wl,this.rowClicked=new wl,this.rowDoubleClicked=new wl,this.rowSelected=new wl,this.selectionChanged=new wl,this.cellContextMenu=new wl,this.rangeSelectionChanged=new wl,this.sortChanged=new wl,this.columnRowGroupChangeRequest=new wl,this.columnPivotChangeRequest=new wl,this.columnValueChangeRequest=new wl,this.columnAggFuncChangeRequest=new wl,this._nativeElement=t.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=PP.plv.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(t=>t.toColDef())),new PP.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,t=>t)}ngOnChanges(t){this._initialised&&PP.plv.processOnChange(t,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(t){const e=this[t],n=!!e&&e.observers&&e.observers.length>0,o=`on${t.charAt(0).toUpperCase()}${t.substring(1)}`;return n||!!this.gridOptions&&!!this.gridOptions[o]}globalEventListener(t,e){if(this._destroyed)return;const n=this[t];n&&this.isEmitterUsed(t)&&("gridReady"===t?this._fullyReady.then(t=>{n.emit(e)}):n.emit(e))}}return t.\u0275fac=function(e){return new(e||t)(ws(Ca),ws(rl),ws(TP),ws(RP),ws(ma))},t.\u0275cmp=Ht({type:t,selectors:[["ag-grid-angular"]],contentQueries:function(t,e,n){if(1&t&&Nl(n,DP,4),2&t){let t;Ll(t=kl())&&(e.columns=t)}},inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",groupRowsSticky:"groupRowsSticky",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",serverSideInfiniteScroll:"serverSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[ha([TP,RP]),le],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),MP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[]]}),t})();const xP=["*"];function IP(t,e){if(1&t&&(Ts(0),Ds(1,"i",6),Rs()),2&t){const t=e.$implicit,n=Ns(2);Zr(1),Os("nzType",t||"right")("nzRotate",n.nzActive?90:0)}}function LP(t,e){if(1&t&&(Ts(0),Cs(1,IP,2,2,"ng-container",2),Rs()),2&t){const t=Ns();Zr(1),Os("nzStringTemplateOutlet",t.nzExpandedIcon)}}function FP(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns();Zr(1),Xs(t.nzHeader)}}function NP(t,e){if(1&t&&(Ts(0),qs(1),Rs()),2&t){const t=Ns(2);Zr(1),Xs(t.nzExtra)}}function kP(t,e){if(1&t&&(Ss(0,"div",7),Cs(1,NP,2,1,"ng-container",2),Ps()),2&t){const t=Ns();Zr(1),Os("nzStringTemplateOutlet",t.nzExtra)}}const GP="collapse";let BP=(()=>{class t{constructor(t,e,n,o){this.nzConfigService=t,this.cdr=e,this.elementRef=n,this.directionality=o,this._nzModuleName=GP,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.destroy$=new O,this.elementRef.nativeElement.classList.add("ant-collapse"),this.nzConfigService.getConfigChangeEventForComponent(GP).pipe(um(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(um(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(t){this.listOfNzCollapsePanelComponent.push(t)}removePanel(t){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(t),1)}click(t){this.nzAccordion&&!t.nzActive&&this.listOfNzCollapsePanelComponent.filter(e=>e!==t).forEach(t=>{t.nzActive&&(t.nzActive=!1,t.nzActiveChange.emit(t.nzActive),t.markForCheck())}),t.nzActive=!t.nzActive,t.nzActiveChange.emit(t.nzActive)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(ws(Av),ws(ja),ws(Ca),ws(Lm,8))},t.\u0275cmp=Ht({type:t,selectors:[["nz-collapse"]],hostVars:10,hostBindings:function(t,e){2&t&&Us("ant-collapse-icon-position-left","left"===e.nzExpandIconPosition)("ant-collapse-icon-position-right","right"===e.nzExpandIconPosition)("ant-collapse-ghost",e.nzGhost)("ant-collapse-borderless",!e.nzBordered)("ant-collapse-rtl","rtl"===e.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],ngContentSelectors:xP,decls:1,vars:0,template:function(t,e){1&t&&(Gs(),Bs(0))},encapsulation:2,changeDetection:0}),ty([Mv(),cy()],t.prototype,"nzAccordion",void 0),ty([Mv(),cy()],t.prototype,"nzBordered",void 0),ty([Mv(),cy()],t.prototype,"nzGhost",void 0),t})();const WP="collapsePanel";let VP=(()=>{class t{constructor(t,e,n,o,r){this.nzConfigService=t,this.cdr=e,this.nzCollapseComponent=n,this.elementRef=o,this.noAnimation=r,this._nzModuleName=WP,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new wl,this.destroy$=new O,this.elementRef.nativeElement.classList.add("ant-collapse-item"),this.nzConfigService.getConfigChangeEventForComponent(WP).pipe(um(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}clickHeader(){this.nzDisabled||this.nzCollapseComponent.click(this)}markForCheck(){this.cdr.markForCheck()}ngOnInit(){this.nzCollapseComponent.addPanel(this)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.nzCollapseComponent.removePanel(this)}}return t.\u0275fac=function(e){return new(e||t)(ws(Av),ws(ja),ws(BP,1),ws(Ca),ws(cw,8))},t.\u0275cmp=Ht({type:t,selectors:[["nz-collapse-panel"]],hostVars:6,hostBindings:function(t,e){2&t&&Us("ant-collapse-no-arrow",!e.nzShowArrow)("ant-collapse-item-active",e.nzActive)("ant-collapse-item-disabled",e.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],ngContentSelectors:xP,decls:7,vars:8,consts:[["role","tab",1,"ant-collapse-header",3,"click"],[4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-collapse-extra",4,"ngIf"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"],[1,"ant-collapse-extra"]],template:function(t,e){1&t&&(Gs(),Ss(0,"div",0),Is("click",function(){return e.clickHeader()}),Cs(1,LP,2,1,"ng-container",1),Cs(2,FP,2,1,"ng-container",2),Cs(3,kP,2,1,"div",3),Ps(),Ss(4,"div",4),Ss(5,"div",5),Bs(6),Ps(),Ps()),2&t&&(vs("aria-expanded",e.nzActive),Zr(1),Os("ngIf",e.nzShowArrow),Zr(1),Os("nzStringTemplateOutlet",e.nzHeader),Zr(1),Os("ngIf",e.nzExtra),Zr(1),Us("ant-collapse-content-active",e.nzActive),Os("@.disabled",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("@collapseMotion",e.nzActive?"expanded":"hidden"))},directives:[fu,fw,WO],encapsulation:2,data:{animation:[Cv]},changeDetection:0}),ty([cy()],t.prototype,"nzActive",void 0),ty([cy()],t.prototype,"nzDisabled",void 0),ty([Mv(),cy()],t.prototype,"nzShowArrow",void 0),t})(),HP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,bu,VO,mw,uw]]}),t})();function UP(t,e){1&t&&(Ss(0,"nz-card"),Ss(1,"button",3),qs(2,"Primary Button"),Ps(),Ss(3,"button",4),qs(4,"Default Button"),Ps(),Ss(5,"button",5),qs(6,"Dashed Button"),Ps(),Ss(7,"button",6),qs(8,"Text Button"),Ps(),Ss(9,"a",7),qs(10,"Link Button"),Ps(),Ps())}function $P(t,e){1&t&&(Ss(0,"nz-card"),Ds(1,"app-nz-demo-select-scroll-load"),Ps())}function zP(t,e){if(1&t&&(Ss(0,"nz-card"),Ds(1,"ag-grid-angular",8),Ss(2,"nz-collapse"),Ss(3,"nz-collapse-panel",9),Ss(4,"pre"),qs(5),function(t,e){const n=xe();let o;n.firstCreatePass?(o=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const o=e[n];if(t===o.name)return o}throw new at("302","The pipe 'json' could not be found!")}("json",n.pipeRegistry),n.data[26]=o,o.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(26,o.onDestroy)):o=n.data[26];const r=o.factory||(o.factory=se(o.type)),i=wt(ws);try{const t=On(!1),e=r();On(t),function(t,e,n,o){26>=t.data.length&&(t.data[26]=null,t.blueprint[26]=null),e[26]=o}(n,Me(),0,e)}finally{wt(i)}}(),Ps(),Ps(),Ps(),Ps()),2&t){const t=Ns();Zr(1),Os("gridOptions",t.options),Zr(2),Os("nzActive",!0),Zr(2),Xs(function(t,e,n){const o=t+Qt,r=Me(),i=we(r,o);return function(t,e){return gs.isWrapped(e)&&(e=gs.unwrap(e),t[Re.lFrame.bindingIndex]=Xr),e}(r,function(t,e){return t[1].data[e].pure}(r,o)?Cl(r,Ve(),e,i.transform,n,i):i.transform(n))}(6,3,t.options.rowData))}}let jP=(()=>{class t{constructor(t,e){this.data=t,this.message=e,this.title="ng-zorro",this.options={columnDefs:[{field:"make"},{field:"model",editable:!0,cellEditor:"agRichSelectCellEditor",cellEditorParams:{values:[]},onCellValueChanged:t=>{this.message.info(`model is updated from "${t.oldValue}" to "${t.newValue}"`)}},{field:"driver",editable:!0,cellEditor:eS,onCellValueChanged:t=>{this.message.info(`driver is updated from "${t.oldValue}" to "${t.newValue}"`)}},{field:"price"}],rowData:[{make:"Toyota",model:"Celica",driver:"",price:35e3},{make:"Toyota",model:"Altis",driver:"",price:3e4},{make:"Ford",model:"Mondeo",driver:"",price:32e3},{make:"Porsche",model:"Boxster",driver:"",price:72e3}],defaultColDef:{sortable:!0,filter:!0},onGridReady:t=>{var e;const n=null===(e=this.options.api)||void 0===e?void 0:e.getColumnDefs();this.data.getModels().subscribe(t=>{var e;(null==n?void 0:n.length)&&(n[1].cellEditorParams.values=t,null===(e=this.options.api)||void 0===e||e.setColumnDefs(n))})}}}}return t.\u0275fac=function(e){return new(e||t)(ws(nS),ws(yS))},t.\u0275cmp=Ht({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],["nzDirection","vertical"],[4,"nzSpaceItem"],["nz-button","","nzType","primary"],["nz-button","","nzType","default","nz-popover","","nzPopoverContent","Default..."],["nz-button","","nzType","dashed"],["nz-button","","nzType","text"],["nz-button","","nzType","link"],[1,"ag-theme-alpine",2,"width","800px","height","500px",3,"gridOptions"],["nzHeader","Grid rowData",3,"nzActive"]],template:function(t,e){1&t&&(Ss(0,"div",0),Ss(1,"nz-space",1),Cs(2,UP,11,0,"nz-card",2),Cs(3,$P,2,0,"nz-card",2),Cs(4,zP,7,5,"nz-card",2),Ps(),Ps())},directives:[DS,SS,XS,lP,nP,ww,OP,eS,AP,BP,VP],pipes:[Ou],styles:[".container[_ngcontent-%COMP%]{margin:20px}"]}),t})();var KP=n(929),YP=n.n(KP);n(824);let qP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=dt({imports:[[Fm,bu,ey,Dm]]}),t})();var XP,ZP,QP;XP=YP(),QP=void 0,"string"!=typeof(ZP=void 0)&&(QP=ZP,ZP=XP[na.LocaleId]),ZP=ZP.toLowerCase().replace(/_/g,"-"),ta[ZP]=XP,QP&&(ta[ZP][na.ExtraData]=QP);let JP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t,bootstrap:[jP]}),t.\u0275inj=dt({providers:[{provide:Pw,useValue:bw}],imports:[[ap,eg,rv,Ig,aw,MP,cP,SP,qP,TS,QS,Wb,Zb,HP,vS]]}),t})();(function(){if(wc)throw new Error("Cannot enable prod mode after platform setup.");Ec=!1})(),ip().bootstrapModule(JP).catch(t=>console.error(t))}},t=>{"use strict";t(t.s=366)}]);